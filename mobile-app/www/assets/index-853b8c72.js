(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();/**
* @vue/shared v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qp(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Te={},la=[],Ni=()=>{},C0=()=>!1,yd=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Wp=e=>e.startsWith("onUpdate:"),bn=Object.assign,Gp=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},MT=Object.prototype.hasOwnProperty,be=(e,t)=>MT.call(e,t),qt=Array.isArray,ca=e=>wd(e)==="[object Map]",P0=e=>wd(e)==="[object Set]",Qt=e=>typeof e=="function",tn=e=>typeof e=="string",Nr=e=>typeof e=="symbol",Me=e=>e!==null&&typeof e=="object",R0=e=>(Me(e)||Qt(e))&&Qt(e.then)&&Qt(e.catch),L0=Object.prototype.toString,wd=e=>L0.call(e),DT=e=>wd(e).slice(8,-1),O0=e=>wd(e)==="[object Object]",Kp=e=>tn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Sl=qp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xd=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},NT=/-\w/g,Pr=xd(e=>e.replace(NT,t=>t.slice(1).toUpperCase())),VT=/\B([A-Z])/g,Ts=xd(e=>e.replace(VT,"-$1").toLowerCase()),$0=xd(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ah=xd(e=>e?`on${$0(e)}`:""),Ir=(e,t)=>!Object.is(e,t),bu=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},M0=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},Zp=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let tv;const Ed=()=>tv||(tv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ya(e){if(qt(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=tn(i)?UT(i):ya(i);if(o)for(const s in o)t[s]=o[s]}return t}else if(tn(e)||Me(e))return e}const BT=/;(?![^(]*\))/g,zT=/:([^]+)/,FT=/\/\*[^]*?\*\//g;function UT(e){const t={};return e.replace(FT,"").split(BT).forEach(n=>{if(n){const i=n.split(zT);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function ui(e){let t="";if(tn(e))t=e;else if(qt(e))for(let n=0;n<e.length;n++){const i=ui(e[n]);i&&(t+=i+" ")}else if(Me(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const jT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",HT=qp(jT);function D0(e){return!!e||e===""}const N0=e=>!!(e&&e.__v_isRef===!0),Le=e=>tn(e)?e:e==null?"":qt(e)||Me(e)&&(e.toString===L0||!Qt(e.toString))?N0(e)?Le(e.value):JSON.stringify(e,V0,2):String(e),V0=(e,t)=>N0(t)?V0(e,t.value):ca(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,o],s)=>(n[Ch(i,s)+" =>"]=o,n),{})}:P0(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ch(n))}:Nr(t)?Ch(t):Me(t)&&!qt(t)&&!O0(t)?String(t):t,Ch=(e,t="")=>{var n;return Nr(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ei;class qT{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ei,!t&&ei&&(this.index=(ei.scopes||(ei.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ei;try{return ei=this,t()}finally{ei=n}}}on(){++this._on===1&&(this.prevScope=ei,ei=this)}off(){this._on>0&&--this._on===0&&(ei=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function WT(){return ei}let Ae;const Ph=new WeakSet;class B0{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ei&&ei.active&&ei.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ph.has(this)&&(Ph.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||F0(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ev(this),U0(this);const t=Ae,n=Vi;Ae=this,Vi=!0;try{return this.fn()}finally{j0(this),Ae=t,Vi=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Qp(t);this.deps=this.depsTail=void 0,ev(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ph.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){kf(this)&&this.run()}get dirty(){return kf(this)}}let z0=0,Al,Cl;function F0(e,t=!1){if(e.flags|=8,t){e.next=Cl,Cl=e;return}e.next=Al,Al=e}function Yp(){z0++}function Xp(){if(--z0>0)return;if(Cl){let t=Cl;for(Cl=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Al;){let t=Al;for(Al=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function U0(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function j0(e){let t,n=e.depsTail,i=n;for(;i;){const o=i.prevDep;i.version===-1?(i===n&&(n=o),Qp(i),GT(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=o}e.deps=t,e.depsTail=n}function kf(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(H0(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function H0(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Hl)||(e.globalVersion=Hl,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!kf(e))))return;e.flags|=2;const t=e.dep,n=Ae,i=Vi;Ae=e,Vi=!0;try{U0(e);const o=e.fn(e._value);(t.version===0||Ir(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{Ae=n,Vi=i,j0(e),e.flags&=-3}}function Qp(e,t=!1){const{dep:n,prevSub:i,nextSub:o}=e;if(i&&(i.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Qp(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function GT(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Vi=!0;const q0=[];function qo(){q0.push(Vi),Vi=!1}function Wo(){const e=q0.pop();Vi=e===void 0?!0:e}function ev(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ae;Ae=void 0;try{t()}finally{Ae=n}}}let Hl=0;class KT{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Jp{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ae||!Vi||Ae===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ae)n=this.activeLink=new KT(Ae,this),Ae.deps?(n.prevDep=Ae.depsTail,Ae.depsTail.nextDep=n,Ae.depsTail=n):Ae.deps=Ae.depsTail=n,W0(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Ae.depsTail,n.nextDep=void 0,Ae.depsTail.nextDep=n,Ae.depsTail=n,Ae.deps===n&&(Ae.deps=i)}return n}trigger(t){this.version++,Hl++,this.notify(t)}notify(t){Yp();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Xp()}}}function W0(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)W0(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const If=new WeakMap,hs=Symbol(""),Sf=Symbol(""),ql=Symbol("");function Nn(e,t,n){if(Vi&&Ae){let i=If.get(e);i||If.set(e,i=new Map);let o=i.get(n);o||(i.set(n,o=new Jp),o.map=i,o.key=n),o.track()}}function $o(e,t,n,i,o,s){const a=If.get(e);if(!a){Hl++;return}const c=u=>{u&&u.trigger()};if(Yp(),t==="clear")a.forEach(c);else{const u=qt(e),f=u&&Kp(n);if(u&&n==="length"){const p=Number(i);a.forEach((m,b)=>{(b==="length"||b===ql||!Nr(b)&&b>=p)&&c(m)})}else switch((n!==void 0||a.has(void 0))&&c(a.get(n)),f&&c(a.get(ql)),t){case"add":u?f&&c(a.get("length")):(c(a.get(hs)),ca(e)&&c(a.get(Sf)));break;case"delete":u||(c(a.get(hs)),ca(e)&&c(a.get(Sf)));break;case"set":ca(e)&&c(a.get(hs));break}}Xp()}function Xs(e){const t=ve(e);return t===e?t:(Nn(t,"iterate",ql),Ei(e)?t:t.map(Fi))}function Td(e){return Nn(e=ve(e),"iterate",ql),e}function mr(e,t){return Go(e)?wa(fs(e)?Fi(t):t):Fi(t)}const ZT={__proto__:null,[Symbol.iterator](){return Rh(this,Symbol.iterator,e=>mr(this,e))},concat(...e){return Xs(this).concat(...e.map(t=>qt(t)?Xs(t):t))},entries(){return Rh(this,"entries",e=>(e[1]=mr(this,e[1]),e))},every(e,t){return So(this,"every",e,t,void 0,arguments)},filter(e,t){return So(this,"filter",e,t,n=>n.map(i=>mr(this,i)),arguments)},find(e,t){return So(this,"find",e,t,n=>mr(this,n),arguments)},findIndex(e,t){return So(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return So(this,"findLast",e,t,n=>mr(this,n),arguments)},findLastIndex(e,t){return So(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return So(this,"forEach",e,t,void 0,arguments)},includes(...e){return Lh(this,"includes",e)},indexOf(...e){return Lh(this,"indexOf",e)},join(e){return Xs(this).join(e)},lastIndexOf(...e){return Lh(this,"lastIndexOf",e)},map(e,t){return So(this,"map",e,t,void 0,arguments)},pop(){return fl(this,"pop")},push(...e){return fl(this,"push",e)},reduce(e,...t){return nv(this,"reduce",e,t)},reduceRight(e,...t){return nv(this,"reduceRight",e,t)},shift(){return fl(this,"shift")},some(e,t){return So(this,"some",e,t,void 0,arguments)},splice(...e){return fl(this,"splice",e)},toReversed(){return Xs(this).toReversed()},toSorted(e){return Xs(this).toSorted(e)},toSpliced(...e){return Xs(this).toSpliced(...e)},unshift(...e){return fl(this,"unshift",e)},values(){return Rh(this,"values",e=>mr(this,e))}};function Rh(e,t,n){const i=Td(e),o=i[t]();return i!==e&&!Ei(e)&&(o._next=o.next,o.next=()=>{const s=o._next();return s.done||(s.value=n(s.value)),s}),o}const YT=Array.prototype;function So(e,t,n,i,o,s){const a=Td(e),c=a!==e&&!Ei(e),u=a[t];if(u!==YT[t]){const m=u.apply(e,s);return c?Fi(m):m}let f=n;a!==e&&(c?f=function(m,b){return n.call(this,mr(e,m),b,e)}:n.length>2&&(f=function(m,b){return n.call(this,m,b,e)}));const p=u.call(a,f,i);return c&&o?o(p):p}function nv(e,t,n,i){const o=Td(e);let s=n;return o!==e&&(Ei(e)?n.length>3&&(s=function(a,c,u){return n.call(this,a,c,u,e)}):s=function(a,c,u){return n.call(this,a,mr(e,c),u,e)}),o[t](s,...i)}function Lh(e,t,n){const i=ve(e);Nn(i,"iterate",ql);const o=i[t](...n);return(o===-1||o===!1)&&nm(n[0])?(n[0]=ve(n[0]),i[t](...n)):o}function fl(e,t,n=[]){qo(),Yp();const i=ve(e)[t].apply(e,n);return Xp(),Wo(),i}const XT=qp("__proto__,__v_isRef,__isVue"),G0=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Nr));function QT(e){Nr(e)||(e=String(e));const t=ve(this);return Nn(t,"has",e),t.hasOwnProperty(e)}class K0{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(o?s?lk:Q0:s?X0:Y0).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const a=qt(t);if(!o){let u;if(a&&(u=ZT[n]))return u;if(n==="hasOwnProperty")return QT}const c=Reflect.get(t,n,Fn(t)?t:i);if((Nr(n)?G0.has(n):XT(n))||(o||Nn(t,"get",n),s))return c;if(Fn(c)){const u=a&&Kp(n)?c:c.value;return o&&Me(u)?Cf(u):u}return Me(c)?o?Cf(c):gc(c):c}}class Z0 extends K0{constructor(t=!1){super(!1,t)}set(t,n,i,o){let s=t[n];const a=qt(t)&&Kp(n);if(!this._isShallow){const f=Go(s);if(!Ei(i)&&!Go(i)&&(s=ve(s),i=ve(i)),!a&&Fn(s)&&!Fn(i))return f||(s.value=i),!0}const c=a?Number(n)<t.length:be(t,n),u=Reflect.set(t,n,i,Fn(t)?t:o);return t===ve(o)&&(c?Ir(i,s)&&$o(t,"set",n,i):$o(t,"add",n,i)),u}deleteProperty(t,n){const i=be(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&i&&$o(t,"delete",n,void 0),o}has(t,n){const i=Reflect.has(t,n);return(!Nr(n)||!G0.has(n))&&Nn(t,"has",n),i}ownKeys(t){return Nn(t,"iterate",qt(t)?"length":hs),Reflect.ownKeys(t)}}class JT extends K0{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const tk=new Z0,ek=new JT,nk=new Z0(!0);const Af=e=>e,eu=e=>Reflect.getPrototypeOf(e);function ik(e,t,n){return function(...i){const o=this.__v_raw,s=ve(o),a=ca(s),c=e==="entries"||e===Symbol.iterator&&a,u=e==="keys"&&a,f=o[e](...i),p=n?Af:t?wa:Fi;return!t&&Nn(s,"iterate",u?Sf:hs),bn(Object.create(f),{next(){const{value:m,done:b}=f.next();return b?{value:m,done:b}:{value:c?[p(m[0]),p(m[1])]:p(m),done:b}}})}}function nu(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ok(e,t){const n={get(o){const s=this.__v_raw,a=ve(s),c=ve(o);e||(Ir(o,c)&&Nn(a,"get",o),Nn(a,"get",c));const{has:u}=eu(a),f=t?Af:e?wa:Fi;if(u.call(a,o))return f(s.get(o));if(u.call(a,c))return f(s.get(c));s!==a&&s.get(o)},get size(){const o=this.__v_raw;return!e&&Nn(ve(o),"iterate",hs),o.size},has(o){const s=this.__v_raw,a=ve(s),c=ve(o);return e||(Ir(o,c)&&Nn(a,"has",o),Nn(a,"has",c)),o===c?s.has(o):s.has(o)||s.has(c)},forEach(o,s){const a=this,c=a.__v_raw,u=ve(c),f=t?Af:e?wa:Fi;return!e&&Nn(u,"iterate",hs),c.forEach((p,m)=>o.call(s,f(p),f(m),a))}};return bn(n,e?{add:nu("add"),set:nu("set"),delete:nu("delete"),clear:nu("clear")}:{add(o){!t&&!Ei(o)&&!Go(o)&&(o=ve(o));const s=ve(this);return eu(s).has.call(s,o)||(s.add(o),$o(s,"add",o,o)),this},set(o,s){!t&&!Ei(s)&&!Go(s)&&(s=ve(s));const a=ve(this),{has:c,get:u}=eu(a);let f=c.call(a,o);f||(o=ve(o),f=c.call(a,o));const p=u.call(a,o);return a.set(o,s),f?Ir(s,p)&&$o(a,"set",o,s):$o(a,"add",o,s),this},delete(o){const s=ve(this),{has:a,get:c}=eu(s);let u=a.call(s,o);u||(o=ve(o),u=a.call(s,o)),c&&c.call(s,o);const f=s.delete(o);return u&&$o(s,"delete",o,void 0),f},clear(){const o=ve(this),s=o.size!==0,a=o.clear();return s&&$o(o,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=ik(o,e,t)}),n}function tm(e,t){const n=ok(e,t);return(i,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?i:Reflect.get(be(n,o)&&o in i?n:i,o,s)}const rk={get:tm(!1,!1)},sk={get:tm(!1,!0)},ak={get:tm(!0,!1)};const Y0=new WeakMap,X0=new WeakMap,Q0=new WeakMap,lk=new WeakMap;function ck(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function uk(e){return e.__v_skip||!Object.isExtensible(e)?0:ck(DT(e))}function gc(e){return Go(e)?e:em(e,!1,tk,rk,Y0)}function J0(e){return em(e,!1,nk,sk,X0)}function Cf(e){return em(e,!0,ek,ak,Q0)}function em(e,t,n,i,o){if(!Me(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=uk(e);if(s===0)return e;const a=o.get(e);if(a)return a;const c=new Proxy(e,s===2?i:n);return o.set(e,c),c}function fs(e){return Go(e)?fs(e.__v_raw):!!(e&&e.__v_isReactive)}function Go(e){return!!(e&&e.__v_isReadonly)}function Ei(e){return!!(e&&e.__v_isShallow)}function nm(e){return e?!!e.__v_raw:!1}function ve(e){const t=e&&e.__v_raw;return t?ve(t):e}function dk(e){return!be(e,"__v_skip")&&Object.isExtensible(e)&&M0(e,"__v_skip",!0),e}const Fi=e=>Me(e)?gc(e):e,wa=e=>Me(e)?Cf(e):e;function Fn(e){return e?e.__v_isRef===!0:!1}function fe(e){return ty(e,!1)}function vc(e){return ty(e,!0)}function ty(e,t){return Fn(e)?e:new hk(e,t)}class hk{constructor(t,n){this.dep=new Jp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:ve(t),this._value=n?t:Fi(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||Ei(t)||Go(t);t=i?t:ve(t),Ir(t,n)&&(this._rawValue=t,this._value=i?t:Fi(t),this.dep.trigger())}}function ut(e){return Fn(e)?e.value:e}const fk={get:(e,t,n)=>t==="__v_raw"?e:ut(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const o=e[t];return Fn(o)&&!Fn(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function ey(e){return fs(e)?e:new Proxy(e,fk)}class pk{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Jp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Hl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Ae!==this)return F0(this,!0),!0}get value(){const t=this.dep.track();return H0(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function mk(e,t,n=!1){let i,o;return Qt(e)?i=e:(i=e.get,o=e.set),new pk(i,o,n)}const iu={},$u=new WeakMap;let is;function gk(e,t=!1,n=is){if(n){let i=$u.get(n);i||$u.set(n,i=[]),i.push(e)}}function vk(e,t,n=Te){const{immediate:i,deep:o,once:s,scheduler:a,augmentJob:c,call:u}=n,f=z=>o?z:Ei(z)||o===!1||o===0?Mo(z,1):Mo(z);let p,m,b,w,T=!1,k=!1;if(Fn(e)?(m=()=>e.value,T=Ei(e)):fs(e)?(m=()=>f(e),T=!0):qt(e)?(k=!0,T=e.some(z=>fs(z)||Ei(z)),m=()=>e.map(z=>{if(Fn(z))return z.value;if(fs(z))return f(z);if(Qt(z))return u?u(z,2):z()})):Qt(e)?t?m=u?()=>u(e,2):e:m=()=>{if(b){qo();try{b()}finally{Wo()}}const z=is;is=p;try{return u?u(e,3,[w]):e(w)}finally{is=z}}:m=Ni,t&&o){const z=m,U=o===!0?1/0:o;m=()=>Mo(z(),U)}const $=WT(),M=()=>{p.stop(),$&&$.active&&Gp($.effects,p)};if(s&&t){const z=t;t=(...U)=>{z(...U),M()}}let F=k?new Array(e.length).fill(iu):iu;const B=z=>{if(!(!(p.flags&1)||!p.dirty&&!z))if(t){const U=p.run();if(o||T||(k?U.some((W,S)=>Ir(W,F[S])):Ir(U,F))){b&&b();const W=is;is=p;try{const S=[U,F===iu?void 0:k&&F[0]===iu?[]:F,w];F=U,u?u(t,3,S):t(...S)}finally{is=W}}}else p.run()};return c&&c(B),p=new B0(m),p.scheduler=a?()=>a(B,!1):B,w=z=>gk(z,!1,p),b=p.onStop=()=>{const z=$u.get(p);if(z){if(u)u(z,4);else for(const U of z)U();$u.delete(p)}},t?i?B(!0):F=p.run():a?a(B.bind(null,!0),!0):p.run(),M.pause=p.pause.bind(p),M.resume=p.resume.bind(p),M.stop=M,M}function Mo(e,t=1/0,n){if(t<=0||!Me(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Fn(e))Mo(e.value,t,n);else if(qt(e))for(let i=0;i<e.length;i++)Mo(e[i],t,n);else if(P0(e)||ca(e))e.forEach(i=>{Mo(i,t,n)});else if(O0(e)){for(const i in e)Mo(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Mo(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function bc(e,t,n,i){try{return i?e(...i):e()}catch(o){kd(o,t,n)}}function co(e,t,n,i){if(Qt(e)){const o=bc(e,t,n,i);return o&&R0(o)&&o.catch(s=>{kd(s,t,n)}),o}if(qt(e)){const o=[];for(let s=0;s<e.length;s++)o.push(co(e[s],t,n,i));return o}}function kd(e,t,n,i=!0){const o=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Te;if(t){let c=t.parent;const u=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const p=c.ec;if(p){for(let m=0;m<p.length;m++)if(p[m](e,u,f)===!1)return}c=c.parent}if(s){qo(),bc(s,null,10,[e,u,f]),Wo();return}}bk(e,n,o,i,a)}function bk(e,t,n,i=!0,o=!1){if(o)throw e;console.error(e)}const Zn=[];let eo=-1;const ua=[];let gr=null,Qs=0;const ny=Promise.resolve();let Mu=null;function iy(e){const t=Mu||ny;return e?t.then(this?e.bind(this):e):t}function _k(e){let t=eo+1,n=Zn.length;for(;t<n;){const i=t+n>>>1,o=Zn[i],s=Wl(o);s<e||s===e&&o.flags&2?t=i+1:n=i}return t}function im(e){if(!(e.flags&1)){const t=Wl(e),n=Zn[Zn.length-1];!n||!(e.flags&2)&&t>=Wl(n)?Zn.push(e):Zn.splice(_k(t),0,e),e.flags|=1,oy()}}function oy(){Mu||(Mu=ny.then(sy))}function yk(e){qt(e)?ua.push(...e):gr&&e.id===-1?gr.splice(Qs+1,0,e):e.flags&1||(ua.push(e),e.flags|=1),oy()}function iv(e,t,n=eo+1){for(;n<Zn.length;n++){const i=Zn[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;Zn.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function ry(e){if(ua.length){const t=[...new Set(ua)].sort((n,i)=>Wl(n)-Wl(i));if(ua.length=0,gr){gr.push(...t);return}for(gr=t,Qs=0;Qs<gr.length;Qs++){const n=gr[Qs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}gr=null,Qs=0}}const Wl=e=>e.id==null?e.flags&2?-1:1/0:e.id;function sy(e){const t=Ni;try{for(eo=0;eo<Zn.length;eo++){const n=Zn[eo];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),bc(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;eo<Zn.length;eo++){const n=Zn[eo];n&&(n.flags&=-2)}eo=-1,Zn.length=0,ry(),Mu=null,(Zn.length||ua.length)&&sy()}}let xi=null,ay=null;function Du(e){const t=xi;return xi=e,ay=e&&e.type.__scopeId||null,t}function le(e,t=xi,n){if(!t||e._n)return e;const i=(...o)=>{i._d&&Bu(-1);const s=Du(t);let a;try{a=e(...o)}finally{Du(s),i._d&&Bu(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function _u(e,t){if(xi===null)return e;const n=Rd(xi),i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[s,a,c,u=Te]=t[o];s&&(Qt(s)&&(s={mounted:s,updated:s}),s.deep&&Mo(a),i.push({dir:s,instance:n,value:a,oldValue:void 0,arg:c,modifiers:u}))}return e}function ts(e,t,n,i){const o=e.dirs,s=t&&t.dirs;for(let a=0;a<o.length;a++){const c=o[a];s&&(c.oldValue=s[a].value);let u=c.dir[i];u&&(qo(),co(u,n,8,[e.el,c,e,t]),Wo())}}function da(e,t){if(Xn){let n=Xn.provides;const i=Xn.parent&&Xn.parent.provides;i===n&&(n=Xn.provides=Object.create(i)),n[e]=t}}function cn(e,t,n=!1){const i=Pd();if(i||ha){let o=ha?ha._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Qt(t)?t.call(i&&i.proxy):t}}const wk=Symbol.for("v-scx"),xk=()=>cn(wk);function Fo(e,t,n){return ly(e,t,n)}function ly(e,t,n=Te){const{immediate:i,deep:o,flush:s,once:a}=n,c=bn({},n),u=t&&i||!t&&s!=="post";let f;if(Zl){if(s==="sync"){const w=xk();f=w.__watcherHandles||(w.__watcherHandles=[])}else if(!u){const w=()=>{};return w.stop=Ni,w.resume=Ni,w.pause=Ni,w}}const p=Xn;c.call=(w,T,k)=>co(w,p,T,k);let m=!1;s==="post"?c.scheduler=w=>{Gn(w,p&&p.suspense)}:s!=="sync"&&(m=!0,c.scheduler=(w,T)=>{T?w():im(w)}),c.augmentJob=w=>{t&&(w.flags|=4),m&&(w.flags|=2,p&&(w.id=p.uid,w.i=p))};const b=vk(e,t,c);return Zl&&(f?f.push(b):u&&b()),b}function Ek(e,t,n){const i=this.proxy,o=tn(e)?e.includes(".")?cy(i,e):()=>i[e]:e.bind(i,i);let s;Qt(t)?s=t:(s=t.handler,n=t);const a=yc(this),c=ly(o,s.bind(i),n);return a(),c}function cy(e,t){const n=t.split(".");return()=>{let i=e;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}const uy=Symbol("_vte"),Tk=e=>e.__isTeleport,Pl=e=>e&&(e.disabled||e.disabled===""),ov=e=>e&&(e.defer||e.defer===""),rv=e=>typeof SVGElement<"u"&&e instanceof SVGElement,sv=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Pf=(e,t)=>{const n=e&&e.to;return tn(n)?t?t(n):null:n},dy={name:"Teleport",__isTeleport:!0,process(e,t,n,i,o,s,a,c,u,f){const{mc:p,pc:m,pbc:b,o:{insert:w,querySelector:T,createText:k,createComment:$}}=f,M=Pl(t.props);let{shapeFlag:F,children:B,dynamicChildren:z}=t;if(e==null){const U=t.el=k(""),W=t.anchor=k("");w(U,n,i),w(W,n,i);const S=(A,O)=>{F&16&&p(B,A,O,o,s,a,c,u)},E=()=>{const A=t.target=Pf(t.props,T),O=hy(A,t,k,w);A&&(a!=="svg"&&rv(A)?a="svg":a!=="mathml"&&sv(A)&&(a="mathml"),o&&o.isCE&&(o.ce._teleportTargets||(o.ce._teleportTargets=new Set)).add(A),M||(S(A,O),yu(t,!1)))};M&&(S(n,W),yu(t,!0)),ov(t.props)?(t.el.__isMounted=!1,Gn(()=>{E(),delete t.el.__isMounted},s)):E()}else{if(ov(t.props)&&e.el.__isMounted===!1){Gn(()=>{dy.process(e,t,n,i,o,s,a,c,u,f)},s);return}t.el=e.el,t.targetStart=e.targetStart;const U=t.anchor=e.anchor,W=t.target=e.target,S=t.targetAnchor=e.targetAnchor,E=Pl(e.props),A=E?n:W,O=E?U:S;if(a==="svg"||rv(W)?a="svg":(a==="mathml"||sv(W))&&(a="mathml"),z?(b(e.dynamicChildren,z,A,o,s,a,c),lm(e,t,!0)):u||m(e,t,A,O,o,s,a,c,!1),M)E?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ou(t,n,U,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const C=t.target=Pf(t.props,T);C&&ou(t,C,null,f,0)}else E&&ou(t,W,S,f,1);yu(t,M)}},remove(e,t,n,{um:i,o:{remove:o}},s){const{shapeFlag:a,children:c,anchor:u,targetStart:f,targetAnchor:p,target:m,props:b}=e;if(m&&(o(f),o(p)),s&&o(u),a&16){const w=s||!Pl(b);for(let T=0;T<c.length;T++){const k=c[T];i(k,t,n,w,!!k.dynamicChildren)}}},move:ou,hydrate:kk};function ou(e,t,n,{o:{insert:i},m:o},s=2){s===0&&i(e.targetAnchor,t,n);const{el:a,anchor:c,shapeFlag:u,children:f,props:p}=e,m=s===2;if(m&&i(a,t,n),(!m||Pl(p))&&u&16)for(let b=0;b<f.length;b++)o(f[b],t,n,2);m&&i(c,t,n)}function kk(e,t,n,i,o,s,{o:{nextSibling:a,parentNode:c,querySelector:u,insert:f,createText:p}},m){function b(k,$,M,F){$.anchor=m(a(k),$,c(k),n,i,o,s),$.targetStart=M,$.targetAnchor=F}const w=t.target=Pf(t.props,u),T=Pl(t.props);if(w){const k=w._lpa||w.firstChild;if(t.shapeFlag&16)if(T)b(e,t,k,k&&a(k));else{t.anchor=a(e);let $=k;for(;$;){if($&&$.nodeType===8){if($.data==="teleport start anchor")t.targetStart=$;else if($.data==="teleport anchor"){t.targetAnchor=$,w._lpa=t.targetAnchor&&a(t.targetAnchor);break}}$=a($)}t.targetAnchor||hy(w,t,p,f),m(k&&a(k),t,w,n,i,o,s)}yu(t,T)}else T&&t.shapeFlag&16&&b(e,t,e,a(e));return t.anchor&&a(t.anchor)}const Ik=dy;function yu(e,t){const n=e.ctx;if(n&&n.ut){let i,o;for(t?(i=e.el,o=e.anchor):(i=e.targetStart,o=e.targetAnchor);i&&i!==o;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function hy(e,t,n,i){const o=t.targetStart=n(""),s=t.targetAnchor=n("");return o[uy]=s,e&&(i(o,e),i(s,e)),s}const Sk=Symbol("_leaveCb");function om(e,t){e.shapeFlag&6&&e.component?(e.transition=t,om(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function _n(e,t){return Qt(e)?(()=>bn({name:e.name},t,{setup:e}))():e}function fy(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Nu=new WeakMap;function Rl(e,t,n,i,o=!1){if(qt(e)){e.forEach((T,k)=>Rl(T,t&&(qt(t)?t[k]:t),n,i,o));return}if(Ll(i)&&!o){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Rl(e,t,n,i.component.subTree);return}const s=i.shapeFlag&4?Rd(i.component):i.el,a=o?null:s,{i:c,r:u}=e,f=t&&t.r,p=c.refs===Te?c.refs={}:c.refs,m=c.setupState,b=ve(m),w=m===Te?C0:T=>be(b,T);if(f!=null&&f!==u){if(av(t),tn(f))p[f]=null,w(f)&&(m[f]=null);else if(Fn(f)){f.value=null;const T=t;T.k&&(p[T.k]=null)}}if(Qt(u))bc(u,c,12,[a,p]);else{const T=tn(u),k=Fn(u);if(T||k){const $=()=>{if(e.f){const M=T?w(u)?m[u]:p[u]:u.value;if(o)qt(M)&&Gp(M,s);else if(qt(M))M.includes(s)||M.push(s);else if(T)p[u]=[s],w(u)&&(m[u]=p[u]);else{const F=[s];u.value=F,e.k&&(p[e.k]=F)}}else T?(p[u]=a,w(u)&&(m[u]=a)):k&&(u.value=a,e.k&&(p[e.k]=a))};if(a){const M=()=>{$(),Nu.delete(e)};M.id=-1,Nu.set(e,M),Gn(M,n)}else av(e),$()}}}function av(e){const t=Nu.get(e);t&&(t.flags|=8,Nu.delete(e))}Ed().requestIdleCallback;Ed().cancelIdleCallback;const Ll=e=>!!e.type.__asyncLoader,py=e=>e.type.__isKeepAlive;function Ak(e,t){my(e,"a",t)}function Ck(e,t){my(e,"da",t)}function my(e,t,n=Xn){const i=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Id(t,i,n),n){let o=n.parent;for(;o&&o.parent;)py(o.parent.vnode)&&Pk(i,t,n,o),o=o.parent}}function Pk(e,t,n,i){const o=Id(t,e,i,!0);Sd(()=>{Gp(i[t],o)},n)}function Id(e,t,n=Xn,i=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{qo();const c=yc(n),u=co(t,n,e,a);return c(),Wo(),u});return i?o.unshift(s):o.push(s),s}}const er=e=>(t,n=Xn)=>{(!Zl||e==="sp")&&Id(e,(...i)=>t(...i),n)},Rk=er("bm"),_c=er("m"),Lk=er("bu"),Ok=er("u"),$k=er("bum"),Sd=er("um"),Mk=er("sp"),Dk=er("rtg"),Nk=er("rtc");function Vk(e,t=Xn){Id("ec",e,t)}const Bk=Symbol.for("v-ndc");function Gl(e,t,n,i){let o;const s=n&&n[i],a=qt(e);if(a||tn(e)){const c=a&&fs(e);let u=!1,f=!1;c&&(u=!Ei(e),f=Go(e),e=Td(e)),o=new Array(e.length);for(let p=0,m=e.length;p<m;p++)o[p]=t(u?f?wa(Fi(e[p])):Fi(e[p]):e[p],p,void 0,s&&s[p])}else if(typeof e=="number"){o=new Array(e);for(let c=0;c<e;c++)o[c]=t(c+1,c,void 0,s&&s[c])}else if(Me(e))if(e[Symbol.iterator])o=Array.from(e,(c,u)=>t(c,u,void 0,s&&s[u]));else{const c=Object.keys(e);o=new Array(c.length);for(let u=0,f=c.length;u<f;u++){const p=c[u];o[u]=t(e[p],p,u,s&&s[u])}}else o=[];return n&&(n[i]=o),o}const Rf=e=>e?Ly(e)?Rd(e):Rf(e.parent):null,Ol=bn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Rf(e.parent),$root:e=>Rf(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>rm(e),$forceUpdate:e=>e.f||(e.f=()=>{im(e.update)}),$nextTick:e=>e.n||(e.n=iy.bind(e.proxy)),$watch:e=>Ek.bind(e)}),Oh=(e,t)=>e!==Te&&!e.__isScriptSetup&&be(e,t),zk={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:o,props:s,accessCache:a,type:c,appContext:u}=e;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(Oh(i,t))return a[t]=1,i[t];if(o!==Te&&be(o,t))return a[t]=2,o[t];if(be(s,t))return a[t]=3,s[t];if(n!==Te&&be(n,t))return a[t]=4,n[t];Lf&&(a[t]=0)}}const f=Ol[t];let p,m;if(f)return t==="$attrs"&&Nn(e.attrs,"get",""),f(e);if((p=c.__cssModules)&&(p=p[t]))return p;if(n!==Te&&be(n,t))return a[t]=4,n[t];if(m=u.config.globalProperties,be(m,t))return m[t]},set({_:e},t,n){const{data:i,setupState:o,ctx:s}=e;return Oh(o,t)?(o[t]=n,!0):i!==Te&&be(i,t)?(i[t]=n,!0):be(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,props:s,type:a}},c){let u;return!!(n[c]||e!==Te&&c[0]!=="$"&&be(e,c)||Oh(t,c)||be(s,c)||be(i,c)||be(Ol,c)||be(o.config.globalProperties,c)||(u=a.__cssModules)&&u[c])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:be(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function lv(e){return qt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Lf=!0;function Fk(e){const t=rm(e),n=e.proxy,i=e.ctx;Lf=!1,t.beforeCreate&&cv(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:a,watch:c,provide:u,inject:f,created:p,beforeMount:m,mounted:b,beforeUpdate:w,updated:T,activated:k,deactivated:$,beforeDestroy:M,beforeUnmount:F,destroyed:B,unmounted:z,render:U,renderTracked:W,renderTriggered:S,errorCaptured:E,serverPrefetch:A,expose:O,inheritAttrs:C,components:V,directives:P,filters:$t}=t;if(f&&Uk(f,i,null),a)for(const xt in a){const tt=a[xt];Qt(tt)&&(i[xt]=tt.bind(n))}if(o){const xt=o.call(n,n);Me(xt)&&(e.data=gc(xt))}if(Lf=!0,s)for(const xt in s){const tt=s[xt],Ie=Qt(tt)?tt.bind(n,n):Qt(tt.get)?tt.get.bind(n,n):Ni,St=!Qt(tt)&&Qt(tt.set)?tt.set.bind(n):Ni,Ft=Qn({get:Ie,set:St});Object.defineProperty(i,xt,{enumerable:!0,configurable:!0,get:()=>Ft.value,set:Gt=>Ft.value=Gt})}if(c)for(const xt in c)gy(c[xt],i,n,xt);if(u){const xt=Qt(u)?u.call(n):u;Reflect.ownKeys(xt).forEach(tt=>{da(tt,xt[tt])})}p&&cv(p,e,"c");function Nt(xt,tt){qt(tt)?tt.forEach(Ie=>xt(Ie.bind(n))):tt&&xt(tt.bind(n))}if(Nt(Rk,m),Nt(_c,b),Nt(Lk,w),Nt(Ok,T),Nt(Ak,k),Nt(Ck,$),Nt(Vk,E),Nt(Nk,W),Nt(Dk,S),Nt($k,F),Nt(Sd,z),Nt(Mk,A),qt(O))if(O.length){const xt=e.exposed||(e.exposed={});O.forEach(tt=>{Object.defineProperty(xt,tt,{get:()=>n[tt],set:Ie=>n[tt]=Ie,enumerable:!0})})}else e.exposed||(e.exposed={});U&&e.render===Ni&&(e.render=U),C!=null&&(e.inheritAttrs=C),V&&(e.components=V),P&&(e.directives=P),A&&fy(e)}function Uk(e,t,n=Ni){qt(e)&&(e=Of(e));for(const i in e){const o=e[i];let s;Me(o)?"default"in o?s=cn(o.from||i,o.default,!0):s=cn(o.from||i):s=cn(o),Fn(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[i]=s}}function cv(e,t,n){co(qt(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function gy(e,t,n,i){let o=i.includes(".")?cy(n,i):()=>n[i];if(tn(e)){const s=t[e];Qt(s)&&Fo(o,s)}else if(Qt(e))Fo(o,e.bind(n));else if(Me(e))if(qt(e))e.forEach(s=>gy(s,t,n,i));else{const s=Qt(e.handler)?e.handler.bind(n):t[e.handler];Qt(s)&&Fo(o,s,e)}}function rm(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,c=s.get(t);let u;return c?u=c:!o.length&&!n&&!i?u=t:(u={},o.length&&o.forEach(f=>Vu(u,f,a,!0)),Vu(u,t,a)),Me(t)&&s.set(t,u),u}function Vu(e,t,n,i=!1){const{mixins:o,extends:s}=t;s&&Vu(e,s,n,!0),o&&o.forEach(a=>Vu(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const c=jk[a]||n&&n[a];e[a]=c?c(e[a],t[a]):t[a]}return e}const jk={data:uv,props:dv,emits:dv,methods:bl,computed:bl,beforeCreate:Wn,created:Wn,beforeMount:Wn,mounted:Wn,beforeUpdate:Wn,updated:Wn,beforeDestroy:Wn,beforeUnmount:Wn,destroyed:Wn,unmounted:Wn,activated:Wn,deactivated:Wn,errorCaptured:Wn,serverPrefetch:Wn,components:bl,directives:bl,watch:qk,provide:uv,inject:Hk};function uv(e,t){return t?e?function(){return bn(Qt(e)?e.call(this,this):e,Qt(t)?t.call(this,this):t)}:t:e}function Hk(e,t){return bl(Of(e),Of(t))}function Of(e){if(qt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Wn(e,t){return e?[...new Set([].concat(e,t))]:t}function bl(e,t){return e?bn(Object.create(null),e,t):t}function dv(e,t){return e?qt(e)&&qt(t)?[...new Set([...e,...t])]:bn(Object.create(null),lv(e),lv(t??{})):t}function qk(e,t){if(!e)return t;if(!t)return e;const n=bn(Object.create(null),e);for(const i in t)n[i]=Wn(e[i],t[i]);return n}function vy(){return{app:null,config:{isNativeTag:C0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Wk=0;function Gk(e,t){return function(i,o=null){Qt(i)||(i=bn({},i)),o!=null&&!Me(o)&&(o=null);const s=vy(),a=new WeakSet,c=[];let u=!1;const f=s.app={_uid:Wk++,_component:i,_props:o,_container:null,_context:s,_instance:null,version:TI,get config(){return s.config},set config(p){},use(p,...m){return a.has(p)||(p&&Qt(p.install)?(a.add(p),p.install(f,...m)):Qt(p)&&(a.add(p),p(f,...m))),f},mixin(p){return s.mixins.includes(p)||s.mixins.push(p),f},component(p,m){return m?(s.components[p]=m,f):s.components[p]},directive(p,m){return m?(s.directives[p]=m,f):s.directives[p]},mount(p,m,b){if(!u){const w=f._ceVNode||Pt(i,o);return w.appContext=s,b===!0?b="svg":b===!1&&(b=void 0),m&&t?t(w,p):e(w,p,b),u=!0,f._container=p,p.__vue_app__=f,Rd(w.component)}},onUnmount(p){c.push(p)},unmount(){u&&(co(c,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(p,m){return s.provides[p]=m,f},runWithContext(p){const m=ha;ha=f;try{return p()}finally{ha=m}}};return f}}let ha=null;const Kk=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Pr(t)}Modifiers`]||e[`${Ts(t)}Modifiers`];function Zk(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Te;let o=n;const s=t.startsWith("update:"),a=s&&Kk(i,t.slice(7));a&&(a.trim&&(o=n.map(p=>tn(p)?p.trim():p)),a.number&&(o=n.map(Zp)));let c,u=i[c=Ah(t)]||i[c=Ah(Pr(t))];!u&&s&&(u=i[c=Ah(Ts(t))]),u&&co(u,e,6,o);const f=i[c+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,co(f,e,6,o)}}const Yk=new WeakMap;function by(e,t,n=!1){const i=n?Yk:t.emitsCache,o=i.get(e);if(o!==void 0)return o;const s=e.emits;let a={},c=!1;if(!Qt(e)){const u=f=>{const p=by(f,t,!0);p&&(c=!0,bn(a,p))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!s&&!c?(Me(e)&&i.set(e,null),null):(qt(s)?s.forEach(u=>a[u]=null):bn(a,s),Me(e)&&i.set(e,a),a)}function Ad(e,t){return!e||!yd(t)?!1:(t=t.slice(2).replace(/Once$/,""),be(e,t[0].toLowerCase()+t.slice(1))||be(e,Ts(t))||be(e,t))}function $h(e){const{type:t,vnode:n,proxy:i,withProxy:o,propsOptions:[s],slots:a,attrs:c,emit:u,render:f,renderCache:p,props:m,data:b,setupState:w,ctx:T,inheritAttrs:k}=e,$=Du(e);let M,F;try{if(n.shapeFlag&4){const z=o||i,U=z;M=no(f.call(U,z,p,m,w,b,T)),F=c}else{const z=t;M=no(z.length>1?z(m,{attrs:c,slots:a,emit:u}):z(m,null)),F=t.props?c:Xk(c)}}catch(z){$l.length=0,kd(z,e,1),M=Pt(Rr)}let B=M;if(F&&k!==!1){const z=Object.keys(F),{shapeFlag:U}=B;z.length&&U&7&&(s&&z.some(Wp)&&(F=Qk(F,s)),B=xa(B,F,!1,!0))}return n.dirs&&(B=xa(B,null,!1,!0),B.dirs=B.dirs?B.dirs.concat(n.dirs):n.dirs),n.transition&&om(B,n.transition),M=B,Du($),M}const Xk=e=>{let t;for(const n in e)(n==="class"||n==="style"||yd(n))&&((t||(t={}))[n]=e[n]);return t},Qk=(e,t)=>{const n={};for(const i in e)(!Wp(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function Jk(e,t,n){const{props:i,children:o,component:s}=e,{props:a,children:c,patchFlag:u}=t,f=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return i?hv(i,a,f):!!a;if(u&8){const p=t.dynamicProps;for(let m=0;m<p.length;m++){const b=p[m];if(a[b]!==i[b]&&!Ad(f,b))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:i===a?!1:i?a?hv(i,a,f):!0:!!a;return!1}function hv(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let o=0;o<i.length;o++){const s=i[o];if(t[s]!==e[s]&&!Ad(n,s))return!0}return!1}function tI({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const _y={},yy=()=>Object.create(_y),wy=e=>Object.getPrototypeOf(e)===_y;function eI(e,t,n,i=!1){const o={},s=yy();e.propsDefaults=Object.create(null),xy(e,t,o,s);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=i?o:J0(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function nI(e,t,n,i){const{props:o,attrs:s,vnode:{patchFlag:a}}=e,c=ve(o),[u]=e.propsOptions;let f=!1;if((i||a>0)&&!(a&16)){if(a&8){const p=e.vnode.dynamicProps;for(let m=0;m<p.length;m++){let b=p[m];if(Ad(e.emitsOptions,b))continue;const w=t[b];if(u)if(be(s,b))w!==s[b]&&(s[b]=w,f=!0);else{const T=Pr(b);o[T]=$f(u,c,T,w,e,!1)}else w!==s[b]&&(s[b]=w,f=!0)}}}else{xy(e,t,o,s)&&(f=!0);let p;for(const m in c)(!t||!be(t,m)&&((p=Ts(m))===m||!be(t,p)))&&(u?n&&(n[m]!==void 0||n[p]!==void 0)&&(o[m]=$f(u,c,m,void 0,e,!0)):delete o[m]);if(s!==c)for(const m in s)(!t||!be(t,m))&&(delete s[m],f=!0)}f&&$o(e.attrs,"set","")}function xy(e,t,n,i){const[o,s]=e.propsOptions;let a=!1,c;if(t)for(let u in t){if(Sl(u))continue;const f=t[u];let p;o&&be(o,p=Pr(u))?!s||!s.includes(p)?n[p]=f:(c||(c={}))[p]=f:Ad(e.emitsOptions,u)||(!(u in i)||f!==i[u])&&(i[u]=f,a=!0)}if(s){const u=ve(n),f=c||Te;for(let p=0;p<s.length;p++){const m=s[p];n[m]=$f(o,u,m,f[m],e,!be(f,m))}}return a}function $f(e,t,n,i,o,s){const a=e[n];if(a!=null){const c=be(a,"default");if(c&&i===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&Qt(u)){const{propsDefaults:f}=o;if(n in f)i=f[n];else{const p=yc(o);i=f[n]=u.call(null,t),p()}}else i=u;o.ce&&o.ce._setProp(n,i)}a[0]&&(s&&!c?i=!1:a[1]&&(i===""||i===Ts(n))&&(i=!0))}return i}const iI=new WeakMap;function Ey(e,t,n=!1){const i=n?iI:t.propsCache,o=i.get(e);if(o)return o;const s=e.props,a={},c=[];let u=!1;if(!Qt(e)){const p=m=>{u=!0;const[b,w]=Ey(m,t,!0);bn(a,b),w&&c.push(...w)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!s&&!u)return Me(e)&&i.set(e,la),la;if(qt(s))for(let p=0;p<s.length;p++){const m=Pr(s[p]);fv(m)&&(a[m]=Te)}else if(s)for(const p in s){const m=Pr(p);if(fv(m)){const b=s[p],w=a[m]=qt(b)||Qt(b)?{type:b}:bn({},b),T=w.type;let k=!1,$=!0;if(qt(T))for(let M=0;M<T.length;++M){const F=T[M],B=Qt(F)&&F.name;if(B==="Boolean"){k=!0;break}else B==="String"&&($=!1)}else k=Qt(T)&&T.name==="Boolean";w[0]=k,w[1]=$,(k||be(w,"default"))&&c.push(m)}}const f=[a,c];return Me(e)&&i.set(e,f),f}function fv(e){return e[0]!=="$"&&!Sl(e)}const sm=e=>e==="_"||e==="_ctx"||e==="$stable",am=e=>qt(e)?e.map(no):[no(e)],oI=(e,t,n)=>{if(t._n)return t;const i=le((...o)=>am(t(...o)),n);return i._c=!1,i},Ty=(e,t,n)=>{const i=e._ctx;for(const o in e){if(sm(o))continue;const s=e[o];if(Qt(s))t[o]=oI(o,s,i);else if(s!=null){const a=am(s);t[o]=()=>a}}},ky=(e,t)=>{const n=am(t);e.slots.default=()=>n},Iy=(e,t,n)=>{for(const i in t)(n||!sm(i))&&(e[i]=t[i])},rI=(e,t,n)=>{const i=e.slots=yy();if(e.vnode.shapeFlag&32){const o=t._;o?(Iy(i,t,n),n&&M0(i,"_",o,!0)):Ty(t,i)}else t&&ky(e,t)},sI=(e,t,n)=>{const{vnode:i,slots:o}=e;let s=!0,a=Te;if(i.shapeFlag&32){const c=t._;c?n&&c===1?s=!1:Iy(o,t,n):(s=!t.$stable,Ty(t,o)),a=t}else t&&(ky(e,t),a={default:1});if(s)for(const c in o)!sm(c)&&a[c]==null&&delete o[c]},Gn=dI;function aI(e){return lI(e)}function lI(e,t){const n=Ed();n.__VUE__=!0;const{insert:i,remove:o,patchProp:s,createElement:a,createText:c,createComment:u,setText:f,setElementText:p,parentNode:m,nextSibling:b,setScopeId:w=Ni,insertStaticContent:T}=e,k=(R,D,q,ot=null,Q=null,nt=null,bt=void 0,mt=null,pt=!!D.dynamicChildren)=>{if(R===D)return;R&&!pl(R,D)&&(ot=K(R),Gt(R,Q,nt,!0),R=null),D.patchFlag===-2&&(pt=!1,D.dynamicChildren=null);const{type:st,ref:Ct,shapeFlag:_t}=D;switch(st){case Cd:$(R,D,q,ot);break;case Rr:M(R,D,q,ot);break;case Dh:R==null&&F(D,q,ot,bt);break;case Yn:V(R,D,q,ot,Q,nt,bt,mt,pt);break;default:_t&1?U(R,D,q,ot,Q,nt,bt,mt,pt):_t&6?P(R,D,q,ot,Q,nt,bt,mt,pt):(_t&64||_t&128)&&st.process(R,D,q,ot,Q,nt,bt,mt,pt,gt)}Ct!=null&&Q?Rl(Ct,R&&R.ref,nt,D||R,!D):Ct==null&&R&&R.ref!=null&&Rl(R.ref,null,nt,R,!0)},$=(R,D,q,ot)=>{if(R==null)i(D.el=c(D.children),q,ot);else{const Q=D.el=R.el;D.children!==R.children&&f(Q,D.children)}},M=(R,D,q,ot)=>{R==null?i(D.el=u(D.children||""),q,ot):D.el=R.el},F=(R,D,q,ot)=>{[R.el,R.anchor]=T(R.children,D,q,ot,R.el,R.anchor)},B=({el:R,anchor:D},q,ot)=>{let Q;for(;R&&R!==D;)Q=b(R),i(R,q,ot),R=Q;i(D,q,ot)},z=({el:R,anchor:D})=>{let q;for(;R&&R!==D;)q=b(R),o(R),R=q;o(D)},U=(R,D,q,ot,Q,nt,bt,mt,pt)=>{if(D.type==="svg"?bt="svg":D.type==="math"&&(bt="mathml"),R==null)W(D,q,ot,Q,nt,bt,mt,pt);else{const st=R.el&&R.el._isVueCE?R.el:null;try{st&&st._beginPatch(),A(R,D,Q,nt,bt,mt,pt)}finally{st&&st._endPatch()}}},W=(R,D,q,ot,Q,nt,bt,mt)=>{let pt,st;const{props:Ct,shapeFlag:_t,transition:kt,dirs:Lt}=R;if(pt=R.el=a(R.type,nt,Ct&&Ct.is,Ct),_t&8?p(pt,R.children):_t&16&&E(R.children,pt,null,ot,Q,Mh(R,nt),bt,mt),Lt&&ts(R,null,ot,"created"),S(pt,R,R.scopeId,bt,ot),Ct){for(const Vt in Ct)Vt!=="value"&&!Sl(Vt)&&s(pt,Vt,null,Ct[Vt],nt,ot);"value"in Ct&&s(pt,"value",null,Ct.value,nt),(st=Ct.onVnodeBeforeMount)&&to(st,ot,R)}Lt&&ts(R,null,ot,"beforeMount");const Rt=cI(Q,kt);Rt&&kt.beforeEnter(pt),i(pt,D,q),((st=Ct&&Ct.onVnodeMounted)||Rt||Lt)&&Gn(()=>{st&&to(st,ot,R),Rt&&kt.enter(pt),Lt&&ts(R,null,ot,"mounted")},Q)},S=(R,D,q,ot,Q)=>{if(q&&w(R,q),ot)for(let nt=0;nt<ot.length;nt++)w(R,ot[nt]);if(Q){let nt=Q.subTree;if(D===nt||Cy(nt.type)&&(nt.ssContent===D||nt.ssFallback===D)){const bt=Q.vnode;S(R,bt,bt.scopeId,bt.slotScopeIds,Q.parent)}}},E=(R,D,q,ot,Q,nt,bt,mt,pt=0)=>{for(let st=pt;st<R.length;st++){const Ct=R[st]=mt?vr(R[st]):no(R[st]);k(null,Ct,D,q,ot,Q,nt,bt,mt)}},A=(R,D,q,ot,Q,nt,bt)=>{const mt=D.el=R.el;let{patchFlag:pt,dynamicChildren:st,dirs:Ct}=D;pt|=R.patchFlag&16;const _t=R.props||Te,kt=D.props||Te;let Lt;if(q&&es(q,!1),(Lt=kt.onVnodeBeforeUpdate)&&to(Lt,q,D,R),Ct&&ts(D,R,q,"beforeUpdate"),q&&es(q,!0),(_t.innerHTML&&kt.innerHTML==null||_t.textContent&&kt.textContent==null)&&p(mt,""),st?O(R.dynamicChildren,st,mt,q,ot,Mh(D,Q),nt):bt||tt(R,D,mt,null,q,ot,Mh(D,Q),nt,!1),pt>0){if(pt&16)C(mt,_t,kt,q,Q);else if(pt&2&&_t.class!==kt.class&&s(mt,"class",null,kt.class,Q),pt&4&&s(mt,"style",_t.style,kt.style,Q),pt&8){const Rt=D.dynamicProps;for(let Vt=0;Vt<Rt.length;Vt++){const Jt=Rt[Vt],qe=_t[Jt],ye=kt[Jt];(ye!==qe||Jt==="value")&&s(mt,Jt,qe,ye,Q,q)}}pt&1&&R.children!==D.children&&p(mt,D.children)}else!bt&&st==null&&C(mt,_t,kt,q,Q);((Lt=kt.onVnodeUpdated)||Ct)&&Gn(()=>{Lt&&to(Lt,q,D,R),Ct&&ts(D,R,q,"updated")},ot)},O=(R,D,q,ot,Q,nt,bt)=>{for(let mt=0;mt<D.length;mt++){const pt=R[mt],st=D[mt],Ct=pt.el&&(pt.type===Yn||!pl(pt,st)||pt.shapeFlag&198)?m(pt.el):q;k(pt,st,Ct,null,ot,Q,nt,bt,!0)}},C=(R,D,q,ot,Q)=>{if(D!==q){if(D!==Te)for(const nt in D)!Sl(nt)&&!(nt in q)&&s(R,nt,D[nt],null,Q,ot);for(const nt in q){if(Sl(nt))continue;const bt=q[nt],mt=D[nt];bt!==mt&&nt!=="value"&&s(R,nt,mt,bt,Q,ot)}"value"in q&&s(R,"value",D.value,q.value,Q)}},V=(R,D,q,ot,Q,nt,bt,mt,pt)=>{const st=D.el=R?R.el:c(""),Ct=D.anchor=R?R.anchor:c("");let{patchFlag:_t,dynamicChildren:kt,slotScopeIds:Lt}=D;Lt&&(mt=mt?mt.concat(Lt):Lt),R==null?(i(st,q,ot),i(Ct,q,ot),E(D.children||[],q,Ct,Q,nt,bt,mt,pt)):_t>0&&_t&64&&kt&&R.dynamicChildren&&R.dynamicChildren.length===kt.length?(O(R.dynamicChildren,kt,q,Q,nt,bt,mt),(D.key!=null||Q&&D===Q.subTree)&&lm(R,D,!0)):tt(R,D,q,Ct,Q,nt,bt,mt,pt)},P=(R,D,q,ot,Q,nt,bt,mt,pt)=>{D.slotScopeIds=mt,R==null?D.shapeFlag&512?Q.ctx.activate(D,q,ot,bt,pt):$t(D,q,ot,Q,nt,bt,pt):ne(R,D,pt)},$t=(R,D,q,ot,Q,nt,bt)=>{const mt=R.component=bI(R,ot,Q);if(py(R)&&(mt.ctx.renderer=gt),_I(mt,!1,bt),mt.asyncDep){if(Q&&Q.registerDep(mt,Nt,bt),!R.el){const pt=mt.subTree=Pt(Rr);M(null,pt,D,q),R.placeholder=pt.el}}else Nt(mt,R,D,q,Q,nt,bt)},ne=(R,D,q)=>{const ot=D.component=R.component;if(Jk(R,D,q))if(ot.asyncDep&&!ot.asyncResolved){xt(ot,D,q);return}else ot.next=D,ot.update();else D.el=R.el,ot.vnode=D},Nt=(R,D,q,ot,Q,nt,bt)=>{const mt=()=>{if(R.isMounted){let{next:_t,bu:kt,u:Lt,parent:Rt,vnode:Vt}=R;{const we=Sy(R);if(we){_t&&(_t.el=Vt.el,xt(R,_t,bt)),we.asyncDep.then(()=>{R.isUnmounted||mt()});return}}let Jt=_t,qe;es(R,!1),_t?(_t.el=Vt.el,xt(R,_t,bt)):_t=Vt,kt&&bu(kt),(qe=_t.props&&_t.props.onVnodeBeforeUpdate)&&to(qe,Rt,_t,Vt),es(R,!0);const ye=$h(R),We=R.subTree;R.subTree=ye,k(We,ye,m(We.el),K(We),R,Q,nt),_t.el=ye.el,Jt===null&&tI(R,ye.el),Lt&&Gn(Lt,Q),(qe=_t.props&&_t.props.onVnodeUpdated)&&Gn(()=>to(qe,Rt,_t,Vt),Q)}else{let _t;const{el:kt,props:Lt}=D,{bm:Rt,m:Vt,parent:Jt,root:qe,type:ye}=R,We=Ll(D);if(es(R,!1),Rt&&bu(Rt),!We&&(_t=Lt&&Lt.onVnodeBeforeMount)&&to(_t,Jt,D),es(R,!0),kt&&Ut){const we=()=>{R.subTree=$h(R),Ut(kt,R.subTree,R,Q,null)};We&&ye.__asyncHydrate?ye.__asyncHydrate(kt,R,we):we()}else{qe.ce&&qe.ce._def.shadowRoot!==!1&&qe.ce._injectChildStyle(ye);const we=R.subTree=$h(R);k(null,we,q,ot,R,Q,nt),D.el=we.el}if(Vt&&Gn(Vt,Q),!We&&(_t=Lt&&Lt.onVnodeMounted)){const we=D;Gn(()=>to(_t,Jt,we),Q)}(D.shapeFlag&256||Jt&&Ll(Jt.vnode)&&Jt.vnode.shapeFlag&256)&&R.a&&Gn(R.a,Q),R.isMounted=!0,D=q=ot=null}};R.scope.on();const pt=R.effect=new B0(mt);R.scope.off();const st=R.update=pt.run.bind(pt),Ct=R.job=pt.runIfDirty.bind(pt);Ct.i=R,Ct.id=R.uid,pt.scheduler=()=>im(Ct),es(R,!0),st()},xt=(R,D,q)=>{D.component=R;const ot=R.vnode.props;R.vnode=D,R.next=null,nI(R,D.props,ot,q),sI(R,D.children,q),qo(),iv(R),Wo()},tt=(R,D,q,ot,Q,nt,bt,mt,pt=!1)=>{const st=R&&R.children,Ct=R?R.shapeFlag:0,_t=D.children,{patchFlag:kt,shapeFlag:Lt}=D;if(kt>0){if(kt&128){St(st,_t,q,ot,Q,nt,bt,mt,pt);return}else if(kt&256){Ie(st,_t,q,ot,Q,nt,bt,mt,pt);return}}Lt&8?(Ct&16&&et(st,Q,nt),_t!==st&&p(q,_t)):Ct&16?Lt&16?St(st,_t,q,ot,Q,nt,bt,mt,pt):et(st,Q,nt,!0):(Ct&8&&p(q,""),Lt&16&&E(_t,q,ot,Q,nt,bt,mt,pt))},Ie=(R,D,q,ot,Q,nt,bt,mt,pt)=>{R=R||la,D=D||la;const st=R.length,Ct=D.length,_t=Math.min(st,Ct);let kt;for(kt=0;kt<_t;kt++){const Lt=D[kt]=pt?vr(D[kt]):no(D[kt]);k(R[kt],Lt,q,null,Q,nt,bt,mt,pt)}st>Ct?et(R,Q,nt,!0,!1,_t):E(D,q,ot,Q,nt,bt,mt,pt,_t)},St=(R,D,q,ot,Q,nt,bt,mt,pt)=>{let st=0;const Ct=D.length;let _t=R.length-1,kt=Ct-1;for(;st<=_t&&st<=kt;){const Lt=R[st],Rt=D[st]=pt?vr(D[st]):no(D[st]);if(pl(Lt,Rt))k(Lt,Rt,q,null,Q,nt,bt,mt,pt);else break;st++}for(;st<=_t&&st<=kt;){const Lt=R[_t],Rt=D[kt]=pt?vr(D[kt]):no(D[kt]);if(pl(Lt,Rt))k(Lt,Rt,q,null,Q,nt,bt,mt,pt);else break;_t--,kt--}if(st>_t){if(st<=kt){const Lt=kt+1,Rt=Lt<Ct?D[Lt].el:ot;for(;st<=kt;)k(null,D[st]=pt?vr(D[st]):no(D[st]),q,Rt,Q,nt,bt,mt,pt),st++}}else if(st>kt)for(;st<=_t;)Gt(R[st],Q,nt,!0),st++;else{const Lt=st,Rt=st,Vt=new Map;for(st=Rt;st<=kt;st++){const Se=D[st]=pt?vr(D[st]):no(D[st]);Se.key!=null&&Vt.set(Se.key,st)}let Jt,qe=0;const ye=kt-Rt+1;let We=!1,we=0;const Ne=new Array(ye);for(st=0;st<ye;st++)Ne[st]=0;for(st=Lt;st<=_t;st++){const Se=R[st];if(qe>=ye){Gt(Se,Q,nt,!0);continue}let nn;if(Se.key!=null)nn=Vt.get(Se.key);else for(Jt=Rt;Jt<=kt;Jt++)if(Ne[Jt-Rt]===0&&pl(Se,D[Jt])){nn=Jt;break}nn===void 0?Gt(Se,Q,nt,!0):(Ne[nn-Rt]=st+1,nn>=we?we=nn:We=!0,k(Se,D[nn],q,null,Q,nt,bt,mt,pt),qe++)}const Tn=We?uI(Ne):la;for(Jt=Tn.length-1,st=ye-1;st>=0;st--){const Se=Rt+st,nn=D[Se],nr=D[Se+1],Wi=Se+1<Ct?nr.el||Ay(nr):ot;Ne[st]===0?k(null,nn,q,Wi,Q,nt,bt,mt,pt):We&&(Jt<0||st!==Tn[Jt]?Ft(nn,q,Wi,2):Jt--)}}},Ft=(R,D,q,ot,Q=null)=>{const{el:nt,type:bt,transition:mt,children:pt,shapeFlag:st}=R;if(st&6){Ft(R.component.subTree,D,q,ot);return}if(st&128){R.suspense.move(D,q,ot);return}if(st&64){bt.move(R,D,q,gt);return}if(bt===Yn){i(nt,D,q);for(let _t=0;_t<pt.length;_t++)Ft(pt[_t],D,q,ot);i(R.anchor,D,q);return}if(bt===Dh){B(R,D,q);return}if(ot!==2&&st&1&&mt)if(ot===0)mt.beforeEnter(nt),i(nt,D,q),Gn(()=>mt.enter(nt),Q);else{const{leave:_t,delayLeave:kt,afterLeave:Lt}=mt,Rt=()=>{R.ctx.isUnmounted?o(nt):i(nt,D,q)},Vt=()=>{nt._isLeaving&&nt[Sk](!0),_t(nt,()=>{Rt(),Lt&&Lt()})};kt?kt(nt,Rt,Vt):Vt()}else i(nt,D,q)},Gt=(R,D,q,ot=!1,Q=!1)=>{const{type:nt,props:bt,ref:mt,children:pt,dynamicChildren:st,shapeFlag:Ct,patchFlag:_t,dirs:kt,cacheIndex:Lt}=R;if(_t===-2&&(Q=!1),mt!=null&&(qo(),Rl(mt,null,q,R,!0),Wo()),Lt!=null&&(D.renderCache[Lt]=void 0),Ct&256){D.ctx.deactivate(R);return}const Rt=Ct&1&&kt,Vt=!Ll(R);let Jt;if(Vt&&(Jt=bt&&bt.onVnodeBeforeUnmount)&&to(Jt,D,R),Ct&6)X(R.component,q,ot);else{if(Ct&128){R.suspense.unmount(q,ot);return}Rt&&ts(R,null,D,"beforeUnmount"),Ct&64?R.type.remove(R,D,q,gt,ot):st&&!st.hasOnce&&(nt!==Yn||_t>0&&_t&64)?et(st,D,q,!1,!0):(nt===Yn&&_t&384||!Q&&Ct&16)&&et(pt,D,q),ot&&Kt(R)}(Vt&&(Jt=bt&&bt.onVnodeUnmounted)||Rt)&&Gn(()=>{Jt&&to(Jt,D,R),Rt&&ts(R,null,D,"unmounted")},q)},Kt=R=>{const{type:D,el:q,anchor:ot,transition:Q}=R;if(D===Yn){J(q,ot);return}if(D===Dh){z(R);return}const nt=()=>{o(q),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(R.shapeFlag&1&&Q&&!Q.persisted){const{leave:bt,delayLeave:mt}=Q,pt=()=>bt(q,nt);mt?mt(R.el,nt,pt):pt()}else nt()},J=(R,D)=>{let q;for(;R!==D;)q=b(R),o(R),R=q;o(D)},X=(R,D,q)=>{const{bum:ot,scope:Q,job:nt,subTree:bt,um:mt,m:pt,a:st}=R;pv(pt),pv(st),ot&&bu(ot),Q.stop(),nt&&(nt.flags|=8,Gt(bt,R,D,q)),mt&&Gn(mt,D),Gn(()=>{R.isUnmounted=!0},D)},et=(R,D,q,ot=!1,Q=!1,nt=0)=>{for(let bt=nt;bt<R.length;bt++)Gt(R[bt],D,q,ot,Q)},K=R=>{if(R.shapeFlag&6)return K(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const D=b(R.anchor||R.el),q=D&&D[uy];return q?b(q):D};let ft=!1;const dt=(R,D,q)=>{let ot;R==null?D._vnode&&(Gt(D._vnode,null,null,!0),ot=D._vnode.component):k(D._vnode||null,R,D,null,null,null,q),D._vnode=R,ft||(ft=!0,iv(ot),ry(),ft=!1)},gt={p:k,um:Gt,m:Ft,r:Kt,mt:$t,mc:E,pc:tt,pbc:O,n:K,o:e};let Tt,Ut;return t&&([Tt,Ut]=t(gt)),{render:dt,hydrate:Tt,createApp:Gk(dt,Tt)}}function Mh({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function es({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function cI(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function lm(e,t,n=!1){const i=e.children,o=t.children;if(qt(i)&&qt(o))for(let s=0;s<i.length;s++){const a=i[s];let c=o[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[s]=vr(o[s]),c.el=a.el),!n&&c.patchFlag!==-2&&lm(a,c)),c.type===Cd&&(c.patchFlag!==-1?c.el=a.el:c.__elIndex=s+(e.type===Yn?1:0)),c.type===Rr&&!c.el&&(c.el=a.el)}}function uI(e){const t=e.slice(),n=[0];let i,o,s,a,c;const u=e.length;for(i=0;i<u;i++){const f=e[i];if(f!==0){if(o=n[n.length-1],e[o]<f){t[i]=o,n.push(i);continue}for(s=0,a=n.length-1;s<a;)c=s+a>>1,e[n[c]]<f?s=c+1:a=c;f<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}function Sy(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Sy(t)}function pv(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function Ay(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?Ay(t.subTree):null}const Cy=e=>e.__isSuspense;function dI(e,t){t&&t.pendingBranch?qt(e)?t.effects.push(...e):t.effects.push(e):yk(e)}const Yn=Symbol.for("v-fgt"),Cd=Symbol.for("v-txt"),Rr=Symbol.for("v-cmt"),Dh=Symbol.for("v-stc"),$l=[];let di=null;function Yt(e=!1){$l.push(di=e?null:[])}function hI(){$l.pop(),di=$l[$l.length-1]||null}let Kl=1;function Bu(e,t=!1){Kl+=e,e<0&&di&&t&&(di.hasOnce=!0)}function Py(e){return e.dynamicChildren=Kl>0?di||la:null,hI(),Kl>0&&di&&di.push(e),e}function ge(e,t,n,i,o,s){return Py(lt(e,t,n,i,o,s,!0))}function ci(e,t,n,i,o){return Py(Pt(e,t,n,i,o,!0))}function zu(e){return e?e.__v_isVNode===!0:!1}function pl(e,t){return e.type===t.type&&e.key===t.key}const Ry=({key:e})=>e??null,wu=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?tn(e)||Fn(e)||Qt(e)?{i:xi,r:e,k:t,f:!!n}:e:null);function lt(e,t=null,n=null,i=0,o=null,s=e===Yn?0:1,a=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ry(t),ref:t&&wu(t),scopeId:ay,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:xi};return c?(cm(u,n),s&128&&e.normalize(u)):n&&(u.shapeFlag|=tn(n)?8:16),Kl>0&&!a&&di&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&di.push(u),u}const Pt=fI;function fI(e,t=null,n=null,i=0,o=null,s=!1){if((!e||e===Bk)&&(e=Rr),zu(e)){const c=xa(e,t,!0);return n&&cm(c,n),Kl>0&&!s&&di&&(c.shapeFlag&6?di[di.indexOf(e)]=c:di.push(c)),c.patchFlag=-2,c}if(EI(e)&&(e=e.__vccOpts),t){t=pI(t);let{class:c,style:u}=t;c&&!tn(c)&&(t.class=ui(c)),Me(u)&&(nm(u)&&!qt(u)&&(u=bn({},u)),t.style=ya(u))}const a=tn(e)?1:Cy(e)?128:Tk(e)?64:Me(e)?4:Qt(e)?2:0;return lt(e,t,n,i,o,a,s,!0)}function pI(e){return e?nm(e)||wy(e)?bn({},e):e:null}function xa(e,t,n=!1,i=!1){const{props:o,ref:s,patchFlag:a,children:c,transition:u}=e,f=t?mI(o||{},t):o,p={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Ry(f),ref:t&&t.ref?n&&s?qt(s)?s.concat(wu(t)):[s,wu(t)]:wu(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Yn?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&xa(e.ssContent),ssFallback:e.ssFallback&&xa(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&i&&om(p,u.clone(p)),p}function zn(e=" ",t=0){return Pt(Cd,null,e,t)}function mn(e="",t=!1){return t?(Yt(),ci(Rr,null,e)):Pt(Rr,null,e)}function no(e){return e==null||typeof e=="boolean"?Pt(Rr):qt(e)?Pt(Yn,null,e.slice()):zu(e)?vr(e):Pt(Cd,null,String(e))}function vr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:xa(e)}function cm(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(qt(t))n=16;else if(typeof t=="object")if(i&65){const o=t.default;o&&(o._c&&(o._d=!1),cm(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!wy(t)?t._ctx=xi:o===3&&xi&&(xi.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Qt(t)?(t={default:t,_ctx:xi},n=32):(t=String(t),i&64?(n=16,t=[zn(t)]):n=8);e.children=t,e.shapeFlag|=n}function mI(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const o in i)if(o==="class")t.class!==i.class&&(t.class=ui([t.class,i.class]));else if(o==="style")t.style=ya([t.style,i.style]);else if(yd(o)){const s=t[o],a=i[o];a&&s!==a&&!(qt(s)&&s.includes(a))&&(t[o]=s?[].concat(s,a):a)}else o!==""&&(t[o]=i[o])}return t}function to(e,t,n,i=null){co(e,t,7,[n,i])}const gI=vy();let vI=0;function bI(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||gI,s={uid:vI++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new qT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ey(i,o),emitsOptions:by(i,o),emit:null,emitted:null,propsDefaults:Te,inheritAttrs:i.inheritAttrs,ctx:Te,data:Te,props:Te,attrs:Te,slots:Te,refs:Te,setupState:Te,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Zk.bind(null,s),e.ce&&e.ce(s),s}let Xn=null;const Pd=()=>Xn||xi;let Fu,Mf;{const e=Ed(),t=(n,i)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(i),s=>{o.length>1?o.forEach(a=>a(s)):o[0](s)}};Fu=t("__VUE_INSTANCE_SETTERS__",n=>Xn=n),Mf=t("__VUE_SSR_SETTERS__",n=>Zl=n)}const yc=e=>{const t=Xn;return Fu(e),e.scope.on(),()=>{e.scope.off(),Fu(t)}},mv=()=>{Xn&&Xn.scope.off(),Fu(null)};function Ly(e){return e.vnode.shapeFlag&4}let Zl=!1;function _I(e,t=!1,n=!1){t&&Mf(t);const{props:i,children:o}=e.vnode,s=Ly(e);eI(e,i,s,t),rI(e,o,n||t);const a=s?yI(e,t):void 0;return t&&Mf(!1),a}function yI(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,zk);const{setup:i}=n;if(i){qo();const o=e.setupContext=i.length>1?xI(e):null,s=yc(e),a=bc(i,e,0,[e.props,o]),c=R0(a);if(Wo(),s(),(c||e.sp)&&!Ll(e)&&fy(e),c){if(a.then(mv,mv),t)return a.then(u=>{gv(e,u,t)}).catch(u=>{kd(u,e,0)});e.asyncDep=a}else gv(e,a,t)}else Oy(e,t)}function gv(e,t,n){Qt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Me(t)&&(e.setupState=ey(t)),Oy(e,n)}let vv;function Oy(e,t,n){const i=e.type;if(!e.render){if(!t&&vv&&!i.render){const o=i.template||rm(e).template;if(o){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:c,compilerOptions:u}=i,f=bn(bn({isCustomElement:s,delimiters:c},a),u);i.render=vv(o,f)}}e.render=i.render||Ni}{const o=yc(e);qo();try{Fk(e)}finally{Wo(),o()}}}const wI={get(e,t){return Nn(e,"get",""),e[t]}};function xI(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,wI),slots:e.slots,emit:e.emit,expose:t}}function Rd(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ey(dk(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ol)return Ol[n](e)},has(t,n){return n in t||n in Ol}})):e.proxy}function EI(e){return Qt(e)&&"__vccOpts"in e}const Qn=(e,t)=>mk(e,t,Zl);function vn(e,t,n){try{Bu(-1);const i=arguments.length;return i===2?Me(t)&&!qt(t)?zu(t)?Pt(e,null,[t]):Pt(e,t):Pt(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&zu(n)&&(n=[n]),Pt(e,t,n))}finally{Bu(1)}}const TI="3.5.27";/**
* @vue/runtime-dom v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Df;const bv=typeof window<"u"&&window.trustedTypes;if(bv)try{Df=bv.createPolicy("vue",{createHTML:e=>e})}catch{}const $y=Df?e=>Df.createHTML(e):e=>e,kI="http://www.w3.org/2000/svg",II="http://www.w3.org/1998/Math/MathML",Ro=typeof document<"u"?document:null,_v=Ro&&Ro.createElement("template"),SI={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const o=t==="svg"?Ro.createElementNS(kI,e):t==="mathml"?Ro.createElementNS(II,e):n?Ro.createElement(e,{is:n}):Ro.createElement(e);return e==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:e=>Ro.createTextNode(e),createComment:e=>Ro.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ro.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,s){const a=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{_v.innerHTML=$y(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const c=_v.content;if(i==="svg"||i==="mathml"){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}t.insertBefore(c,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},AI=Symbol("_vtc");function CI(e,t,n){const i=e[AI];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const yv=Symbol("_vod"),PI=Symbol("_vsh"),RI=Symbol(""),LI=/(?:^|;)\s*display\s*:/;function OI(e,t,n){const i=e.style,o=tn(n);let s=!1;if(n&&!o){if(t)if(tn(t))for(const a of t.split(";")){const c=a.slice(0,a.indexOf(":")).trim();n[c]==null&&xu(i,c,"")}else for(const a in t)n[a]==null&&xu(i,a,"");for(const a in n)a==="display"&&(s=!0),xu(i,a,n[a])}else if(o){if(t!==n){const a=i[RI];a&&(n+=";"+a),i.cssText=n,s=LI.test(n)}}else t&&e.removeAttribute("style");yv in e&&(e[yv]=s?i.display:"",e[PI]&&(i.display="none"))}const wv=/\s*!important$/;function xu(e,t,n){if(qt(n))n.forEach(i=>xu(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=$I(e,t);wv.test(n)?e.setProperty(Ts(i),n.replace(wv,""),"important"):e[i]=n}}const xv=["Webkit","Moz","ms"],Nh={};function $I(e,t){const n=Nh[t];if(n)return n;let i=Pr(t);if(i!=="filter"&&i in e)return Nh[t]=i;i=$0(i);for(let o=0;o<xv.length;o++){const s=xv[o]+i;if(s in e)return Nh[t]=s}return t}const Ev="http://www.w3.org/1999/xlink";function Tv(e,t,n,i,o,s=HT(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Ev,t.slice(6,t.length)):e.setAttributeNS(Ev,t,n):n==null||s&&!D0(n)?e.removeAttribute(t):e.setAttribute(t,s?"":Nr(n)?String(n):n)}function kv(e,t,n,i,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?$y(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const c=s==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?e.type==="checkbox"?"on":"":String(n);(c!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=D0(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(o||t)}function Js(e,t,n,i){e.addEventListener(t,n,i)}function MI(e,t,n,i){e.removeEventListener(t,n,i)}const Iv=Symbol("_vei");function DI(e,t,n,i,o=null){const s=e[Iv]||(e[Iv]={}),a=s[t];if(i&&a)a.value=i;else{const[c,u]=NI(t);if(i){const f=s[t]=zI(i,o);Js(e,c,f,u)}else a&&(MI(e,c,a,u),s[t]=void 0)}}const Sv=/(?:Once|Passive|Capture)$/;function NI(e){let t;if(Sv.test(e)){t={};let i;for(;i=e.match(Sv);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ts(e.slice(2)),t]}let Vh=0;const VI=Promise.resolve(),BI=()=>Vh||(VI.then(()=>Vh=0),Vh=Date.now());function zI(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;co(FI(i,n.value),t,5,[i])};return n.value=e,n.attached=BI(),n}function FI(e,t){if(qt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>o=>!o._stopped&&i&&i(o))}else return t}const Av=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,UI=(e,t,n,i,o,s)=>{const a=o==="svg";t==="class"?CI(e,i,a):t==="style"?OI(e,n,i):yd(t)?Wp(t)||DI(e,t,n,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):jI(e,t,i,a))?(kv(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Tv(e,t,i,a,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!tn(i))?kv(e,Pr(t),i,s,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Tv(e,t,i,a))};function jI(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&Av(t)&&Qt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Av(t)&&tn(n)?!1:t in e}const Cv=e=>{const t=e.props["onUpdate:modelValue"]||!1;return qt(t)?n=>bu(t,n):t};function HI(e){e.target.composing=!0}function Pv(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Bh=Symbol("_assign");function Rv(e,t,n){return t&&(e=e.trim()),n&&(e=Zp(e)),e}const zh={created(e,{modifiers:{lazy:t,trim:n,number:i}},o){e[Bh]=Cv(o);const s=i||o.props&&o.props.type==="number";Js(e,t?"change":"input",a=>{a.target.composing||e[Bh](Rv(e.value,n,s))}),(n||s)&&Js(e,"change",()=>{e.value=Rv(e.value,n,s)}),t||(Js(e,"compositionstart",HI),Js(e,"compositionend",Pv),Js(e,"change",Pv))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:o,number:s}},a){if(e[Bh]=Cv(a),e.composing)return;const c=(s||e.type==="number")&&!/^0\d/.test(e.value)?Zp(e.value):e.value,u=t??"";c!==u&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||o&&e.value.trim()===u)||(e.value=u))}},qI=bn({patchProp:UI},SI);let Lv;function WI(){return Lv||(Lv=aI(qI))}const GI=(...e)=>{const t=WI().createApp(...e),{mount:n}=t;return t.mount=i=>{const o=ZI(i);if(!o)return;const s=t._component;!Qt(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const a=n(o,!1,KI(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function KI(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ZI(e){return tn(e)?document.querySelector(e):e}const YI="modulepreload",XI=function(e){return"/"+e},Ov={},An=function(t,n,i){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=XI(s),s in Ov)return;Ov[s]=!0;const a=s.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(!!i)for(let p=o.length-1;p>=0;p--){const m=o[p];if(m.href===s&&(!a||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${c}`))return;const f=document.createElement("link");if(f.rel=a?"stylesheet":YI,a||(f.as="script",f.crossOrigin=""),f.href=s,document.head.appendChild(f),a)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};var gn={allRenderFn:!1,element:!0,event:!0,hasRenderFn:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,propChangeCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,devTools:!1,shadowDelegatesFocus:!0,shadowSlotAssignmentManual:!1,initializeNextTick:!1,asyncLoading:!0,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},QI="app",JI="",tS={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},eS="http://www.w3.org/2000/svg",nS="http://www.w3.org/1999/xhtml",iS=(e,t)=>{var n;const i=t.$cmpMeta$;Object.entries((n=i.$members$)!=null?n:{}).map(([s,[a]])=>{if(a&31||a&32){const c=e[s],u=oS(Object.getPrototypeOf(e),s)||Object.getOwnPropertyDescriptor(e,s);u&&Object.defineProperty(e,s,{get(){return u.get.call(this)},set(f){u.set.call(this,f)},configurable:!0,enumerable:!0}),e[s]=t.$instanceValues$.has(s)?t.$instanceValues$.get(s):c}})};function oS(e,t){for(;e;){const n=Object.getOwnPropertyDescriptor(e,t);if(n!=null&&n.get)return n;e=Object.getPrototypeOf(e)}}var Ko=e=>{if(e.__stencil__getHostRef)return e.__stencil__getHostRef()},rS=(e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map,$serializerValues$:new Map};n.$onReadyPromise$=new Promise(o=>n.$onReadyResolve$=o),e["s-p"]=[],e["s-rc"]=[];const i=n;return e.__stencil__getHostRef=()=>i,t.$flags$&512&&gn.state&&iS(e,n),i},$v=(e,t)=>t in e,wc=(e,t)=>(0,console.error)(e,t),Uu=new Map,My=[],sS="slot-fb{display:contents}slot-fb[hidden]{display:none}",Mv="http://www.w3.org/1999/xlink",$e=typeof window<"u"?window:{},Ce=$e.HTMLElement||class{},un={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,i)=>e.addEventListener(t,n,i),rel:(e,t,n,i)=>e.removeEventListener(t,n,i),ce:(e,t)=>new CustomEvent(e,t)},aS=e=>{Object.assign(un,e)},lS=(()=>{var e;let t=!1;try{(e=$e.document)==null||e.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch{}return t})(),cS=e=>Promise.resolve(e),Ld=(()=>{try{return $e.document.adoptedStyleSheets?(new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"):!1}catch{}return!1})(),Nf=Ld?(()=>!!$e.document&&Object.getOwnPropertyDescriptor($e.document.adoptedStyleSheets,"length").writable)():!1,Vf=!1,Bf=[],Dy=[],Ny=(e,t)=>n=>{e.push(n),Vf||(Vf=!0,t&&un.$flags$&4?um(zf):un.raf(zf))},Dv=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(n){wc(n)}e.length=0},zf=()=>{Dv(Bf),Dv(Dy),(Vf=Bf.length>0)&&un.raf(zf)},um=e=>cS().then(e),Yl=Ny(Bf,!1),Lr=Ny(Dy,!0),Vy=e=>{const t=new URL(e,un.$resourcesUrl$);return t.origin!==$e.location.origin?t.href:t.pathname};function uS(e){if(!e||!Ld)return;const t=new CSSStyleSheet;return t.replaceSync(e),t}var ml;function dS(e){var t;const n={mode:"open"};n.delegatesFocus=!!(e.$flags$&16);const i=this.attachShadow(n);ml===void 0&&(ml=(t=uS(JI))!=null?t:null),ml&&(Nf?i.adoptedStyleSheets.push(ml):i.adoptedStyleSheets=[...i.adoptedStyleSheets,ml])}var By=e=>{const t=Ff(e,"childNodes");e.tagName&&e.tagName.includes("-")&&e["s-cr"]&&e.tagName!=="SLOT-FB"&&dm(t,e.tagName).forEach(i=>{i.nodeType===1&&i.tagName==="SLOT-FB"&&(fS(i,xc(i),!1).length?i.hidden=!0:i.hidden=!1)});let n=0;for(n=0;n<t.length;n++){const i=t[n];i.nodeType===1&&Ff(i,"childNodes").length&&By(i)}},hS=e=>{const t=[];for(let n=0;n<e.length;n++){const i=e[n]["s-nr"]||void 0;i&&i.isConnected&&t.push(i)}return t};function dm(e,t,n){let i=0,o=[],s;for(;i<e.length;i++){if(s=e[i],s["s-sr"]&&(!t||s["s-hn"]===t)&&(n===void 0||xc(s)===n)&&(o.push(s),typeof n<"u"))return o;o=[...o,...dm(s.childNodes,t,n)]}return o}var fS=(e,t,n=!0)=>{const i=[];(n&&e["s-sr"]||!e["s-sr"])&&i.push(e);let o=e;for(;o=o.nextSibling;)xc(o)===t&&(n||!o["s-sr"])&&i.push(o);return i},Nv=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",xc=e=>typeof e["s-sn"]=="string"?e["s-sn"]:e.nodeType===1&&e.getAttribute("slot")||void 0;function pS(e){if(e.assignedElements||e.assignedNodes||!e["s-sr"])return;const t=n=>(function(i){const o=[],s=this["s-sn"];i!=null&&i.flatten&&console.error(`
          Flattening is not supported for Stencil non-shadow slots.
          You can use \`.childNodes\` to nested slot fallback content.
          If you have a particular use case, please open an issue on the Stencil repo.
        `);const a=this["s-cr"].parentElement;return(a.__childNodes?a.childNodes:hS(a.childNodes)).forEach(u=>{s===xc(u)&&o.push(u)}),n?o.filter(u=>u.nodeType===1):o}).bind(e);e.assignedElements=t(!0),e.assignedNodes=t(!1)}function mS(e){e.dispatchEvent(new CustomEvent("slotchange",{bubbles:!1,cancelable:!1,composed:!1}))}function gS(e,t){var n;if(t=t||((n=e["s-ol"])==null?void 0:n.parentElement),!t)return{slotNode:null,slotName:""};const i=e["s-sn"]=xc(e)||"",o=Ff(t,"childNodes");return{slotNode:dm(o,t.tagName,i)[0],slotName:i}}function Ff(e,t){if("__"+t in e){const n=e["__"+t];return typeof n!="function"?n:n.bind(e)}else return typeof e[t]!="function"?e[t]:e[t].bind(e)}var ms=(e,t="")=>()=>{};function vS(e){var t,n,i;return(i=(n=(t=e.head)==null?void 0:t.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?i:void 0}var Er=new WeakMap,bS=(e,t,n)=>{let i=Uu.get(e);Ld&&n?(i=i||new CSSStyleSheet,typeof i=="string"?i=t:i.replaceSync(t)):i=t,Uu.set(e,i)},_S=(e,t,n)=>{var i,o,s;const a=zy(t,n),c=Uu.get(a);if(!$e.document)return a;if(e=e.nodeType===11?e:$e.document,c)if(typeof c=="string"){e=e.head||e;let u=Er.get(e),f;if(u||Er.set(e,u=new Set),!u.has(a)){f=$e.document.createElement("style"),f.textContent=c;const p=(i=un.$nonce$)!=null?i:vS($e.document);if(p!=null&&f.setAttribute("nonce",p),!(t.$flags$&1))if(e.nodeName==="HEAD"){const m=e.querySelectorAll("link[rel=preconnect]"),b=m.length>0?m[m.length-1].nextSibling:e.querySelector("style");e.insertBefore(f,(b==null?void 0:b.parentNode)===e?b:null)}else if("host"in e)if(Ld){const m=(o=e.defaultView)!=null?o:e.ownerDocument.defaultView,b=new m.CSSStyleSheet;b.replaceSync(c),Nf?e.adoptedStyleSheets.unshift(b):e.adoptedStyleSheets=[b,...e.adoptedStyleSheets]}else{const m=e.querySelector("style");m?m.textContent=c+m.textContent:e.prepend(f)}else e.append(f);t.$flags$&1&&e.insertBefore(f,null),t.$flags$&4&&(f.textContent+=sS),u&&u.add(a)}}else{let u=Er.get(e);if(u||Er.set(e,u=new Set),!u.has(a)){const f=(s=e.defaultView)!=null?s:e.ownerDocument.defaultView;let p;if(c.constructor===f.CSSStyleSheet)p=c;else{p=new f.CSSStyleSheet;for(let m=0;m<c.cssRules.length;m++)p.insertRule(c.cssRules[m].cssText,m)}Nf?e.adoptedStyleSheets.push(p):e.adoptedStyleSheets=[...e.adoptedStyleSheets,p],u.add(a)}}return a},yS=e=>{const t=e.$cmpMeta$,n=e.$hostElement$,i=t.$flags$,o=ms("attachStyles",t.$tagName$),s=_S(n.shadowRoot?n.shadowRoot:n.getRootNode(),t,e.$modeName$);i&10&&(n["s-sc"]=s,n.classList.add(s+"-h")),o()},zy=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),wS=e=>e!=null&&e!==void 0,hm=e=>(e=typeof e,e==="object"||e==="function"),rt=(e,t,...n)=>{typeof e=="string"&&(e=e);let i=null,o=null,s=null,a=!1,c=!1;const u=[],f=m=>{for(let b=0;b<m.length;b++)i=m[b],Array.isArray(i)?f(i):i!=null&&typeof i!="boolean"&&((a=typeof e!="function"&&!hm(i))&&(i=String(i)),a&&c?u[u.length-1].$text$+=i:u.push(a?ju(null,i):i),c=a)};if(f(n),t){t.key&&(o=t.key),t.name&&(s=t.name);{const m=t.className||t.class;m&&(t.class=typeof m!="object"?m:Object.keys(m).filter(b=>m[b]).join(" "))}}if(typeof e=="function")return e(t===null?{}:t,u,ES);const p=ju(e,null);return p.$attrs$=t,u.length>0&&(p.$children$=u),p.$key$=o,p.$name$=s,p},ju=(e,t)=>{const n={$flags$:0,$tag$:e,$text$:t??null,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},Fe={},xS=e=>e&&e.$tag$===Fe,ES={forEach:(e,t)=>e.map(Vv).forEach(t),map:(e,t)=>e.map(Vv).map(t).map(TS)},Vv=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),TS=e=>{if(typeof e.vtag=="function"){const n={...e.vattrs};return e.vkey&&(n.key=e.vkey),e.vname&&(n.name=e.vname),rt(e.vtag,n,...e.vchildren||[])}const t=ju(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},kS=e=>My.map(t=>t(e)).find(t=>!!t),IS=e=>My.push(e),SS=e=>{var t;return(t=Ko(e))==null?void 0:t.$modeName$},Fy=(e,t,n)=>e!=null&&!hm(e)?t&4?e==="false"?!1:e===""||!!e:t&2?typeof e=="string"?parseFloat(e):typeof e=="number"?e:NaN:t&1?String(e):e:e,AS=e=>e,ke=(e,t,n)=>{const i=AS(e);return{emit:o=>Uy(i,t,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:o})}},Uy=(e,t,n)=>{const i=un.ce(t,n);return e.dispatchEvent(i),i},Bv=(e,t,n,i,o,s,a)=>{if(n===i)return;let c=$v(e,t),u=t.toLowerCase();if(t==="class"){const f=e.classList,p=zv(n);let m=zv(i);f.remove(...p.filter(b=>b&&!m.includes(b))),f.add(...m.filter(b=>b&&!p.includes(b)))}else if(t==="style"){for(const f in n)(!i||i[f]==null)&&(f.includes("-")?e.style.removeProperty(f):e.style[f]="");for(const f in i)(!n||i[f]!==n[f])&&(f.includes("-")?e.style.setProperty(f,i[f]):e.style[f]=i[f])}else if(t!=="key")if(t==="ref")i&&LS(i,e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n"){if(t[2]==="-"?t=t.slice(3):$v($e,u)?t=u.slice(2):t=u[2]+t.slice(3),n||i){const f=t.endsWith(jy);t=t.replace(PS,""),n&&un.rel(e,t,n,f),i&&un.ael(e,t,i,f)}}else{const f=hm(i);if((c||f&&i!==null)&&!o)try{if(e.tagName.includes("-"))e[t]!==i&&(e[t]=i);else{const m=i??"";t==="list"?c=!1:(n==null||e[t]!=m)&&(typeof e.__lookupSetter__(t)=="function"?e[t]=m:e.setAttribute(t,m))}}catch{}let p=!1;u!==(u=u.replace(/^xlink\:?/,""))&&(t=u,p=!0),i==null||i===!1?(i!==!1||e.getAttribute(t)==="")&&(p?e.removeAttributeNS(Mv,t):e.removeAttribute(t)):(!c||s&4||o)&&!f&&e.nodeType===1&&(i=i===!0?"":i,p?e.setAttributeNS(Mv,t,i):e.setAttribute(t,i))}},CS=/\s/,zv=e=>(typeof e=="object"&&e&&"baseVal"in e&&(e=e.baseVal),!e||typeof e!="string"?[]:e.split(CS)),jy="Capture",PS=new RegExp(jy+"$"),Uf=(e,t,n,i)=>{const o=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,s=e&&e.$attrs$||{},a=t.$attrs$||{};for(const c of Fv(Object.keys(s)))c in a||Bv(o,c,s[c],void 0,n,t.$flags$);for(const c of Fv(Object.keys(a)))Bv(o,c,s[c],a[c],n,t.$flags$)};function Fv(e){return e.includes("ref")?[...e.filter(t=>t!=="ref"),"ref"]:e}var Eu,Hu,gs,Xl=!1,qu=!1,Od=!1,ni=!1,jf=[],Hf=[],Wu=(e,t,n)=>{var i;const o=t.$children$[n];let s=0,a,c,u;if(Xl||(Od=!0,o.$tag$==="slot"&&(o.$flags$|=o.$children$?2:1)),o.$text$!=null)a=o.$elm$=$e.document.createTextNode(o.$text$);else if(o.$flags$&1)a=o.$elm$=$e.document.createTextNode(""),Uf(null,o,ni);else{if(ni||(ni=o.$tag$==="svg"),!$e.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM.");if(a=o.$elm$=$e.document.createElementNS(ni?eS:nS,!Xl&&gn.slotRelocation&&o.$flags$&2?"slot-fb":o.$tag$),ni&&o.$tag$==="foreignObject"&&(ni=!1),Uf(null,o,ni),wS(Eu)&&a["s-si"]!==Eu&&a.classList.add(a["s-si"]=Eu),o.$children$){const f=o.$tag$==="template"?a.content:a;for(s=0;s<o.$children$.length;++s)c=Wu(e,o,s),c&&f.appendChild(c)}o.$tag$==="svg"?ni=!1:a.tagName==="foreignObject"&&(ni=!0)}return a["s-hn"]=gs,o.$flags$&3&&(a["s-sr"]=!0,a["s-cr"]=Hu,a["s-sn"]=o.$name$||"",a["s-rf"]=(i=o.$attrs$)==null?void 0:i.ref,pS(a),u=e&&e.$children$&&e.$children$[n],u&&u.$tag$===o.$tag$&&e.$elm$&&Hy(e.$elm$),Zy(Hu,a,t.$elm$,e==null?void 0:e.$elm$)),a},Hy=e=>{un.$flags$|=1;const t=e.closest(gs.toLowerCase());if(t!=null){const n=Array.from(t.__childNodes||t.childNodes).find(o=>o["s-cr"]),i=Array.from(e.__childNodes||e.childNodes);for(const o of n?i.reverse():i)o["s-sh"]!=null&&(Mi(t,o,n??null),o["s-sh"]=void 0,Od=!0)}un.$flags$&=-2},Gu=(e,t)=>{un.$flags$|=1;const n=Array.from(e.__childNodes||e.childNodes);if(e["s-sr"]){let i=e;for(;i=i.nextSibling;)i&&i["s-sn"]===e["s-sn"]&&i["s-sh"]===gs&&n.push(i)}for(let i=n.length-1;i>=0;i--){const o=n[i];o["s-hn"]!==gs&&o["s-ol"]&&(Mi(Ql(o).parentNode,o,Ql(o)),o["s-ol"].remove(),o["s-ol"]=void 0,o["s-sh"]=void 0,Od=!0),t&&Gu(o,t)}un.$flags$&=-2},qy=(e,t,n,i,o,s)=>{let a=e["s-cr"]&&e["s-cr"].parentNode||e,c;for(a.shadowRoot&&a.tagName===gs&&(a=a.shadowRoot),n.$tag$==="template"&&(a=a.content);o<=s;++o)i[o]&&(c=Wu(null,n,o),c&&(i[o].$elm$=c,Mi(a,c,Ql(t))))},Wy=(e,t,n)=>{for(let i=t;i<=n;++i){const o=e[i];if(o){const s=o.$elm$;Ky(o),s&&(qu=!0,s["s-ol"]?s["s-ol"].remove():Gu(s,!0),s.remove())}}},RS=(e,t,n,i,o=!1)=>{let s=0,a=0,c=0,u=0,f=t.length-1,p=t[0],m=t[f],b=i.length-1,w=i[0],T=i[b],k,$;const M=n.$tag$==="template"?e.content:e;for(;s<=f&&a<=b;)if(p==null)p=t[++s];else if(m==null)m=t[--f];else if(w==null)w=i[++a];else if(T==null)T=i[--b];else if(ru(p,w,o))ta(p,w,o),p=t[++s],w=i[++a];else if(ru(m,T,o))ta(m,T,o),m=t[--f],T=i[--b];else if(ru(p,T,o))(p.$tag$==="slot"||T.$tag$==="slot")&&Gu(p.$elm$.parentNode,!1),ta(p,T,o),Mi(M,p.$elm$,m.$elm$.nextSibling),p=t[++s],T=i[--b];else if(ru(m,w,o))(p.$tag$==="slot"||T.$tag$==="slot")&&Gu(m.$elm$.parentNode,!1),ta(m,w,o),Mi(M,m.$elm$,p.$elm$),m=t[--f],w=i[++a];else{for(c=-1,u=s;u<=f;++u)if(t[u]&&t[u].$key$!==null&&t[u].$key$===w.$key$){c=u;break}c>=0?($=t[c],$.$tag$!==w.$tag$?k=Wu(t&&t[a],n,c):(ta($,w,o),t[c]=void 0,k=$.$elm$),w=i[++a]):(k=Wu(t&&t[a],n,a),w=i[++a]),k&&Mi(Ql(p.$elm$).parentNode,k,Ql(p.$elm$))}s>f?qy(e,i[b+1]==null?null:i[b+1].$elm$,n,i,a,b):a>b&&Wy(t,s,f)},ru=(e,t,n=!1)=>e.$tag$===t.$tag$?e.$tag$==="slot"?e.$name$===t.$name$:n?(n&&!e.$key$&&t.$key$&&(e.$key$=t.$key$),!0):e.$key$===t.$key$:!1,Ql=e=>e&&e["s-ol"]||e,ta=(e,t,n=!1)=>{const i=t.$elm$=e.$elm$,o=e.$children$,s=t.$children$,a=t.$tag$,c=t.$text$;let u;c==null?(ni=a==="svg"?!0:a==="foreignObject"?!1:ni,a==="slot"&&!Xl&&e.$name$!==t.$name$&&(t.$elm$["s-sn"]=t.$name$||"",Hy(t.$elm$.parentElement)),Uf(e,t,ni),o!==null&&s!==null?RS(i,o,t,s,n):s!==null?(e.$text$!==null&&(i.textContent=""),qy(i,null,t,s,0,s.length-1)):!n&&gn.updatable&&o!==null&&Wy(o,0,o.length-1),ni&&a==="svg"&&(ni=!1)):(u=i["s-cr"])?u.parentNode.textContent=c:e.$text$!==c&&(i.data=c)},Oo=[],Gy=e=>{let t,n,i;const o=e.__childNodes||e.childNodes;for(const s of o){if(s["s-sr"]&&(t=s["s-cr"])&&t.parentNode){n=t.parentNode.__childNodes||t.parentNode.childNodes;const a=s["s-sn"];for(i=n.length-1;i>=0;i--)if(t=n[i],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==s["s-hn"]&&(!t["s-sh"]||t["s-sh"]!==s["s-hn"]))if(Nv(t,a)){let c=Oo.find(u=>u.$nodeToRelocate$===t);qu=!0,t["s-sn"]=t["s-sn"]||a,c?(c.$nodeToRelocate$["s-sh"]=s["s-hn"],c.$slotRefNode$=s):(t["s-sh"]=s["s-hn"],Oo.push({$slotRefNode$:s,$nodeToRelocate$:t})),t["s-sr"]&&Oo.map(u=>{Nv(u.$nodeToRelocate$,t["s-sn"])&&(c=Oo.find(f=>f.$nodeToRelocate$===t),c&&!u.$slotRefNode$&&(u.$slotRefNode$=c.$slotRefNode$))})}else Oo.some(c=>c.$nodeToRelocate$===t)||Oo.push({$nodeToRelocate$:t})}s.nodeType===1&&Gy(s)}},Ky=e=>{e.$attrs$&&e.$attrs$.ref&&jf.push(()=>e.$attrs$.ref(null)),e.$children$&&e.$children$.map(Ky)},LS=(e,t)=>{Hf.push(()=>e(t))},OS=()=>{jf.forEach(e=>e()),jf.length=0,Hf.forEach(e=>e()),Hf.length=0},Mi=(e,t,n,i)=>{if(typeof t["s-sn"]=="string"&&t["s-sr"]&&t["s-cr"])Zy(t["s-cr"],t,e,t.parentElement);else if(typeof t["s-sn"]=="string"){e.insertBefore(t,n);const{slotNode:o}=gS(t);return o&&!i&&mS(o),t}return e.__insertBefore?e.__insertBefore(t,n):e==null?void 0:e.insertBefore(t,n)};function Zy(e,t,n,i){var o,s;let a;if(e&&typeof t["s-sn"]=="string"&&t["s-sr"]&&e.parentNode&&e.parentNode["s-sc"]&&(a=t["s-si"]||e.parentNode["s-sc"])){const c=t["s-sn"],u=t["s-hn"];if((o=n.classList)==null||o.add(a+"-s"),i&&((s=i.classList)!=null&&s.contains(a+"-s"))){let f=(i.__childNodes||i.childNodes)[0],p=!1;for(;f;){if(f["s-sn"]!==c&&f["s-hn"]===u&&f["s-sr"]){p=!0;break}f=f.nextSibling}p||i.classList.remove(a+"-s")}}}var $S=(e,t,n=!1)=>{var i,o,s,a,c;const u=e.$hostElement$,f=e.$cmpMeta$,p=e.$vnode$||ju(null,null),b=xS(t)?t:rt(null,null,t);if(gs=u.tagName,f.$attrsToReflect$&&(b.$attrs$=b.$attrs$||{},f.$attrsToReflect$.forEach(([w,T])=>{gn.serializer&&e.$serializerValues$.has(w)?b.$attrs$[T]=e.$serializerValues$.get(w):b.$attrs$[T]=u[w]})),n&&b.$attrs$)for(const w of Object.keys(b.$attrs$))u.hasAttribute(w)&&!["key","ref","style","class"].includes(w)&&(b.$attrs$[w]=u[w]);b.$tag$=null,b.$flags$|=4,e.$vnode$=b,b.$elm$=p.$elm$=u.shadowRoot||u,Eu=u["s-sc"],Xl=!!(f.$flags$&1)&&!(f.$flags$&128),Hu=u["s-cr"],qu=!1,ta(p,b,n);{if(un.$flags$|=1,Od){Gy(b.$elm$);for(const w of Oo){const T=w.$nodeToRelocate$;if(!T["s-ol"]&&$e.document){const k=$e.document.createTextNode("");k["s-nr"]=T,Mi(T.parentNode,T["s-ol"]=k,T,n)}}for(const w of Oo){const T=w.$nodeToRelocate$,k=w.$slotRefNode$;if(T.nodeType===1&&n&&(T["s-ih"]=(i=T.hidden)!=null?i:!1),k){const $=k.parentNode;let M=k.nextSibling;if(M&&M.nodeType===1){let z=(o=T["s-ol"])==null?void 0:o.previousSibling;for(;z;){let U=(s=z["s-nr"])!=null?s:null;if(U&&U["s-sn"]===T["s-sn"]&&$===(U.__parentNode||U.parentNode)){for(U=U.nextSibling;U===T||U!=null&&U["s-sr"];)U=U==null?void 0:U.nextSibling;if(!U||!U["s-nr"]){M=U;break}}z=z.previousSibling}}const F=T.__parentNode||T.parentNode,B=T.__nextSibling||T.nextSibling;if((!M&&$!==F||B!==M)&&T!==M){if(Mi($,T,M,n),T.nodeType===8&&T.nodeValue.startsWith("s-nt-")){const z=$e.document.createTextNode(T.nodeValue.replace(/^s-nt-/,""));z["s-hn"]=T["s-hn"],z["s-sn"]=T["s-sn"],z["s-sh"]=T["s-sh"],z["s-sr"]=T["s-sr"],z["s-ol"]=T["s-ol"],z["s-ol"]["s-nr"]=z,Mi(T.parentNode,z,T,n),T.parentNode.removeChild(T)}T.nodeType===1&&T.tagName!=="SLOT-FB"&&(T.hidden=(a=T["s-ih"])!=null?a:!1)}T&&typeof k["s-rf"]=="function"&&k["s-rf"](k)}else T.nodeType===1&&(T.hidden=!0)}}qu&&By(b.$elm$),un.$flags$&=-2,Oo.length=0}if(!Xl&&!(f.$flags$&1)&&u["s-cr"]){const w=b.$elm$.__childNodes||b.$elm$.childNodes;for(const T of w)if(T["s-hn"]!==gs&&!T["s-sh"]){if(n&&T["s-ih"]==null&&(T["s-ih"]=(c=T.hidden)!=null?c:!1),T.nodeType===1)T.hidden=!0;else if(T.nodeType===3&&T.nodeValue.trim()){const k=$e.document.createComment("s-nt-"+T.nodeValue);k["s-sn"]=T["s-sn"],Mi(T.parentNode,k,T,n),T.parentNode.removeChild(T)}}}Hu=void 0,OS()},Yy=(e,t)=>{if(t&&!e.$onRenderResolve$&&t["s-p"]){const n=t["s-p"].push(new Promise(i=>e.$onRenderResolve$=()=>{t["s-p"].splice(n-1,1),i()}))}},$d=(e,t)=>{if(e.$flags$|=16,e.$flags$&4){e.$flags$|=512;return}Yy(e,e.$ancestorComponent$);const n=()=>MS(e,t);if(t){queueMicrotask(()=>{n()});return}return Lr(n)},MS=(e,t)=>{const n=e.$hostElement$,i=ms("scheduleUpdate",e.$cmpMeta$.$tagName$),o=n;if(!o)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let s;return t?s=fa(o,"componentWillLoad",void 0,n):s=fa(o,"componentWillUpdate",void 0,n),s=Uv(s,()=>fa(o,"componentWillRender",void 0,n)),i(),Uv(s,()=>NS(e,o,t))},Uv=(e,t)=>DS(e)?e.then(t).catch(n=>{console.error(n),t()}):t(),DS=e=>e instanceof Promise||e&&e.then&&typeof e.then=="function",NS=async(e,t,n)=>{var i;const o=e.$hostElement$,s=ms("update",e.$cmpMeta$.$tagName$),a=o["s-rc"];n&&yS(e);const c=ms("render",e.$cmpMeta$.$tagName$);VS(e,t,o,n),a&&(a.map(u=>u()),o["s-rc"]=void 0),c(),s();{const u=(i=o["s-p"])!=null?i:[],f=()=>BS(e);u.length===0?f():(Promise.all(u).then(f),e.$flags$|=4,u.length=0)}},jv=null,VS=(e,t,n,i)=>{try{jv=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(gn.hasRenderFn||gn.reflect)&&(gn.vdomRender||gn.reflect)&&(gn.hydrateServerSide||$S(e,t,i))}catch(u){wc(u,e.$hostElement$)}return jv=null,null},BS=e=>{const t=e.$cmpMeta$.$tagName$,n=e.$hostElement$,i=ms("postUpdate",t),o=n,s=e.$ancestorComponent$;fa(o,"componentDidRender",void 0,n),e.$flags$&64?(fa(o,"componentDidUpdate",void 0,n),i()):(e.$flags$|=64,FS(n),fa(o,"componentDidLoad",void 0,n),i(),e.$onReadyResolve$(n),s||zS()),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),e.$flags$&512&&um(()=>$d(e,!1)),e.$flags$&=-517},Ku=e=>{var t;{const n=Ko(e),i=(t=n==null?void 0:n.$hostElement$)==null?void 0:t.isConnected;return i&&(n.$flags$&18)===2&&$d(n,!1),i}},zS=e=>{um(()=>Uy($e,"appload",{detail:{namespace:QI}}))},fa=(e,t,n,i)=>{if(e&&e[t])try{return e[t](n)}catch(o){wc(o,i)}},FS=e=>{var t;return e.classList.add((t=gn.hydratedSelectorName)!=null?t:"hydrated")},US=(e,t)=>Ko(e).$instanceValues$.get(t),Hv=(e,t,n,i)=>{const o=Ko(e);if(!o||gn.serializer&&o.$serializerValues$.has(t)&&o.$serializerValues$.get(t)===n)return;const s=e,a=o.$instanceValues$.get(t),c=o.$flags$,u=s;n=Fy(n,i.$members$[t][0]);const f=Number.isNaN(a)&&Number.isNaN(n);if(n!==a&&!f){if(o.$instanceValues$.set(t,n),gn.serializer&&gn.reflect&&i.$attrsToReflect$&&i.$serializers$&&i.$serializers$[t]){const m=b=>{let w=n;for(const T of i.$serializers$[t]){const[[k]]=Object.entries(T);w=b[k](w,t)}o.$serializerValues$.set(t,w)};u?m(u):o.$fetchedCbList$.push(()=>{m(o.$lazyInstance$)})}if(i.$watchers$){const m=i.$watchers$[t];m&&m.map(b=>{try{const[[w,T]]=Object.entries(b);(c&128||T&1)&&(u?u[w](n,a,t):o.$fetchedCbList$.push(()=>{o.$lazyInstance$[w](n,a,t)}))}catch(w){wc(w,s)}})}if((c&18)===2){if(u.componentShouldUpdate&&u.componentShouldUpdate(n,a,t)===!1)return;$d(o,!1)}}},jS=(e,t,n)=>{var i,o;const s=e.prototype;if(t.$members$||gn.propChangeCallback){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers),e.deserializers&&!t.$deserializers$&&(t.$deserializers$=e.deserializers),e.serializers&&!t.$serializers$&&(t.$serializers$=e.serializers);const a=Object.entries((i=t.$members$)!=null?i:{});a.map(([c,[u]])=>{if(u&31||u&32){const{get:f,set:p}=Object.getOwnPropertyDescriptor(s,c)||{};f&&(t.$members$[c][0]|=2048),p&&(t.$members$[c][0]|=4096),(n&1||!f)&&Object.defineProperty(s,c,{get(){return f?f.apply(this):US(this,c)},configurable:!0,enumerable:!0}),Object.defineProperty(s,c,{set(m){const b=Ko(this);if(b){if(p){typeof(u&32?this[c]:b.$hostElement$[c])>"u"&&b.$instanceValues$.get(c)&&(m=b.$instanceValues$.get(c)),p.apply(this,[Fy(m,u)]),m=u&32?this[c]:b.$hostElement$[c],Hv(this,c,m,t);return}{Hv(this,c,m,t);return}}}})}});{const c=new Map;s.attributeChangedCallback=function(u,f,p){un.jmp(()=>{var m;const b=c.get(u),w=Ko(this);if(gn.serializer&&w.$serializerValues$.has(b)&&w.$serializerValues$.get(b)===p)return;if(this.hasOwnProperty(b)&&gn.lazyLoad&&(p=this[b],delete this[b]),gn.deserializer&&t.$deserializers$&&t.$deserializers$[b]){const $=(M,F)=>{const B=F==null?void 0:F[M](p,b);B!==this[b]&&(this[b]=B)};for(const M of t.$deserializers$[b]){const[[F]]=Object.entries(M);$(F,this)}return}else{if(s.hasOwnProperty(b)&&typeof this[b]=="number"&&this[b]==p)return;if(b==null){const $=w==null?void 0:w.$flags$;if(w&&$&&!($&8)&&p!==f){const F=this,B=(m=t.$watchers$)==null?void 0:m[u];B==null||B.forEach(z=>{const[[U,W]]=Object.entries(z);F[U]!=null&&($&128||W&1)&&F[U].call(F,p,f,u)})}return}}const T=a.find(([$])=>$===b);T&&T[1][0]&4&&(p=!(p===null||p==="false"));const k=Object.getOwnPropertyDescriptor(s,b);p!=this[b]&&(!k.get||k.set)&&(this[b]=p)})},e.observedAttributes=Array.from(new Set([...Object.keys((o=t.$watchers$)!=null?o:{}),...a.filter(([u,f])=>f[0]&31).map(([u,f])=>{var p;const m=f[1]||u;return c.set(m,u),f[0]&512&&((p=t.$attrsToReflect$)==null||p.push([u,m])),m})]))}}return e},HS=async(e,t,n,i)=>{let o;if(!(t.$flags$&32)){t.$flags$|=32,n.$lazyBundleId$;{o=e.constructor;const c=e.localName;customElements.whenDefined(c).then(()=>t.$flags$|=128)}if(o&&o.style){let c;typeof o.style=="string"?c=o.style:typeof o.style!="string"&&(t.$modeName$=kS(e),t.$modeName$&&(c=o.style[t.$modeName$]));const u=zy(n,t.$modeName$);if(!Uu.has(u)||gn.hotModuleReplacement){const f=ms("registerStyles",n.$tagName$);bS(u,c,!!(n.$flags$&1)),f()}}}const s=t.$ancestorComponent$,a=()=>$d(t,!0);s&&s["s-rc"]?s["s-rc"].push(a):a()},qv=(e,t)=>{},qS=e=>{if(!(un.$flags$&1)){const t=Ko(e);if(!t)return;const n=t.$cmpMeta$,i=ms("connectedCallback",n.$tagName$);if(t.$flags$&1)Xy(e,t,n.$listeners$),t!=null&&t.$lazyInstance$?qv(t.$lazyInstance$):t!=null&&t.$onReadyPromise$&&t.$onReadyPromise$.then(()=>qv(t.$lazyInstance$));else{t.$flags$|=1,n.$flags$&12&&WS(e);{let o=e;for(;o=o.parentNode||o.host;)if(o["s-p"]){Yy(t,t.$ancestorComponent$=o);break}}n.$members$&&Object.entries(n.$members$).map(([o,[s]])=>{if(s&31&&o in e&&e[o]!==Object.prototype[o]){const a=e[o];delete e[o],e[o]=a}}),HS(e,t,n)}i()}},WS=e=>{if(!$e.document)return;const t=e["s-cr"]=$e.document.createComment("");t["s-cn"]=!0,Mi(e,t,e.firstChild)},GS=async e=>{if(!(un.$flags$&1)){const t=Ko(e);t!=null&&t.$rmListeners$&&(t.$rmListeners$.map(n=>n()),t.$rmListeners$=void 0)}Er.has(e)&&Er.delete(e),e.shadowRoot&&Er.has(e.shadowRoot)&&Er.delete(e.shadowRoot)},De=(e,t)=>{const n={$flags$:t[0],$tagName$:t[1]};n.$members$=t[2],n.$listeners$=t[3],n.$watchers$=e.$watchers$,n.$deserializers$=e.$deserializers$,n.$serializers$=e.$serializers$,n.$attrsToReflect$=[],!(n.$flags$&1)&&n.$flags$&256;const i=e.prototype.connectedCallback,o=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__hasHostListenerAttached:!1,__registerHost(){rS(this,n)},connectedCallback(){if(!this.__hasHostListenerAttached){const s=Ko(this);if(!s)return;Xy(this,s,n.$listeners$),this.__hasHostListenerAttached=!0}qS(this),i&&i.call(this)},disconnectedCallback(){GS(this),o&&o.call(this)},__attachShadow(){if(!this.shadowRoot)dS.call(this,n);else if(this.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${n.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}),e.is=n.$tagName$,jS(e,n,3)},Xy=(e,t,n,i)=>{n&&$e.document&&n.map(([o,s,a])=>{const c=ZS($e.document,e,o),u=KS(t,a),f=YS(o);un.ael(c,s,u,f),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>un.rel(c,s,u,f))})},KS=(e,t)=>n=>{var i;try{gn.lazyLoad||e.$hostElement$[t](n)}catch(o){wc(o,e.$hostElement$)}},ZS=(e,t,n)=>n&4?e:n&8?$e:n&16?e.body:t,YS=e=>lS?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Jl=(e,t)=>{e.componentOnReady?e.componentOnReady().then(n=>t(n)):Oi(()=>t(e))},qf=e=>e.componentOnReady!==void 0,fm=(e,t=[])=>{const n={};return t.forEach(i=>{e.hasAttribute(i)&&(e.getAttribute(i)!==null&&(n[i]=e.getAttribute(i)),e.removeAttribute(i))}),n},XS=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],pm=(e,t)=>{let n=XS;return t&&t.length>0&&(n=n.filter(i=>!t.includes(i))),fm(e,n)},QS=(e,t,n,i)=>{var o;if(typeof window<"u"){const s=window,a=(o=s==null?void 0:s.Ionic)===null||o===void 0?void 0:o.config;if(a){const c=a.get("_ael");if(c)return c(e,t,n,i);if(a._ael)return a._ael(e,t,n,i)}}return e.addEventListener(t,n,i)},JS=(e,t,n,i)=>{var o;if(typeof window<"u"){const s=window,a=(o=s==null?void 0:s.Ionic)===null||o===void 0?void 0:o.config;if(a){const c=a.get("_rel");if(c)return c(e,t,n,i);if(a._rel)return a._rel(e,t,n,i)}}return e.removeEventListener(t,n,i)},$a=(e,t=e)=>e.shadowRoot||t,Oi=e=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(e):typeof requestAnimationFrame=="function"?requestAnimationFrame(e):setTimeout(e),tA=e=>!!e.shadowRoot&&!!e.attachShadow,eA=e=>{if(e.focus(),e.classList.contains("ion-focusable")){const t=e.closest("ion-app");t&&t.setFocus([e])}},Qy=(e,t,n)=>Math.max(e,Math.min(t,n)),ti=(e,t)=>{if(!e){const n="ASSERT: "+t;console.error(n);debugger;throw new Error(n)}},gF=e=>e.timeStamp||Date.now(),vF=e=>{if(e){const t=e.changedTouches;if(t&&t.length>0){const n=t[0];return{x:n.clientX,y:n.clientY}}if(e.pageX!==void 0)return{x:e.pageX,y:e.pageY}}return{x:0,y:0}},Wf=e=>{const t=document.dir==="rtl";switch(e){case"start":return t;case"end":return!t;default:throw new Error(`"${e}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Jy=(e,t)=>{if(e??(e={}),t??(t={}),e===t)return!0;const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const i of n)if(!(i in t)||e[i]!==t[i])return!1;return!0};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nA="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",iA="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",Wv="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class oA{constructor(){this.m=new Map}reset(t){this.m=new Map(Object.entries(t))}get(t,n){const i=this.m.get(t);return i!==void 0?i:n}getBoolean(t,n=!1){const i=this.m.get(t);return i===void 0?n:typeof i=="string"?i==="true":!!i}getNumber(t,n){const i=parseFloat(this.m.get(t));return isNaN(i)?n!==void 0?n:NaN:i}set(t,n){this.m.set(t,n)}}const ue=new oA,rA=e=>{try{const t=e.sessionStorage.getItem(tw);return t!==null?JSON.parse(t):{}}catch{return{}}},sA=(e,t)=>{try{e.sessionStorage.setItem(tw,JSON.stringify(t))}catch{return}},aA=e=>{const t={};return e.location.search.slice(1).split("&").map(n=>n.split("=")).map(([n,i])=>[decodeURIComponent(n),decodeURIComponent(i)]).filter(([n])=>lA(n,Gv)).map(([n,i])=>[n.slice(Gv.length),i]).forEach(([n,i])=>{t[n]=i}),t},lA=(e,t)=>e.substr(0,t.length)===t,Gv="ionic:",tw="ionic-persist-config",cA=e=>ew(e),Tr=(e,t)=>(typeof e=="string"&&(t=e,e=void 0),cA(e).includes(t)),ew=(e=window)=>{if(typeof e>"u")return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return t==null&&(t=e.Ionic.platforms=uA(e),t.forEach(n=>e.document.documentElement.classList.add(`plt-${n}`))),t},uA=e=>{const t=ue.get("platform");return Object.keys(Kv).filter(n=>{const i=t==null?void 0:t[n];return typeof i=="function"?i(e):Kv[n](e)})},dA=e=>Md(e)&&!iw(e),mm=e=>!!(vs(e,/iPad/i)||vs(e,/Macintosh/i)&&Md(e)),hA=e=>vs(e,/iPhone/i),fA=e=>vs(e,/iPhone|iPod/i)||mm(e),nw=e=>vs(e,/android|sink/i),pA=e=>nw(e)&&!vs(e,/mobile/i),mA=e=>{const t=e.innerWidth,n=e.innerHeight,i=Math.min(t,n),o=Math.max(t,n);return i>390&&i<520&&o>620&&o<800},gA=e=>{const t=e.innerWidth,n=e.innerHeight,i=Math.min(t,n),o=Math.max(t,n);return mm(e)||pA(e)||i>460&&i<820&&o>780&&o<1400},Md=e=>yA(e,"(any-pointer:coarse)"),vA=e=>!Md(e),iw=e=>ow(e)||rw(e),ow=e=>!!(e.cordova||e.phonegap||e.PhoneGap),rw=e=>{const t=e.Capacitor;return!!(t!=null&&t.isNative)},bA=e=>vs(e,/electron/i),_A=e=>{var t;return!!(!((t=e.matchMedia)===null||t===void 0)&&t.call(e,"(display-mode: standalone)").matches||e.navigator.standalone)},vs=(e,t)=>t.test(e.navigator.userAgent),yA=(e,t)=>{var n;return(n=e.matchMedia)===null||n===void 0?void 0:n.call(e,t).matches},Kv={ipad:mm,iphone:hA,ios:fA,android:nw,phablet:mA,tablet:gA,cordova:ow,capacitor:rw,electron:bA,pwa:_A,mobile:Md,mobileweb:dA,desktop:vA,hybrid:iw};let ea;const de=e=>e&&SS(e)||ea,wA=(e={})=>{if(typeof window>"u")return;const t=window.document,n=window,i=n.Ionic=n.Ionic||{},o={};e._ael&&(o.ael=e._ael),e._rel&&(o.rel=e._rel),e._ce&&(o.ce=e._ce),aS(o);const s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rA(n)),{persistConfig:!1}),i.config),aA(n)),e);ue.reset(s),ue.getBoolean("persistConfig")&&sA(n,s),ew(n),i.config=ue,i.mode=ea=ue.get("mode",t.documentElement.getAttribute("mode")||(Tr(n,"ios")?"ios":"md")),ue.set("mode",ea),t.documentElement.setAttribute("mode",ea),t.documentElement.classList.add(ea),ue.getBoolean("_testing")&&ue.set("animated",!1);const a=u=>{var f;return(f=u.tagName)===null||f===void 0?void 0:f.startsWith("ION-")},c=u=>["ios","md"].includes(u);IS(u=>{for(;u;){const f=u.mode||u.getAttribute("mode");if(f){if(c(f))return f;a(u)&&console.warn('Invalid ionic mode: "'+f+'", expected: "ios" or "md"')}u=u.parentElement}return ea})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let Fh;const xA=()=>{if(typeof window>"u")return new Map;if(!Fh){const e=window;e.Ionicons=e.Ionicons||{},Fh=e.Ionicons.map=e.Ionicons.map||new Map}return Fh},EA=e=>{let t=Uh(e.src);return t||(t=sw(e.name,e.icon,e.mode,e.ios,e.md),t?TA(t,e):e.icon&&(t=Uh(e.icon),t||(t=Uh(e.icon[e.mode]),t))?t:null)},TA=(e,t)=>{const n=xA().get(e);if(n)return n;try{return Vy(`svg/${e}.svg`)}catch{console.warn(`[Ionicons Warning]: Could not load icon with name "${e}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,t)}},sw=(e,t,n,i,o)=>(n=(n&&su(n))==="ios"?"ios":"md",i&&n==="ios"?e=su(i):o&&n==="md"?e=su(o):(!e&&t&&!aw(t)&&(e=t),Zu(e)&&(e=su(e))),!Zu(e)||e.trim()===""||e.replace(/[a-z]|-|\d/gi,"")!==""?null:e),Uh=e=>Zu(e)&&(e=e.trim(),aw(e))?e:null,aw=e=>e.length>0&&/(\/|\.)/.test(e),Zu=e=>typeof e=="string",su=e=>e.toLowerCase(),kA=(e,t=[])=>{const n={};return t.forEach(i=>{e.hasAttribute(i)&&(e.getAttribute(i)!==null&&(n[i]=e.getAttribute(i)),e.removeAttribute(i))}),n},IA=e=>e&&e.dir!==""?e.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",SA=e=>{const t=document.createElement("div");t.innerHTML=e;for(let i=t.childNodes.length-1;i>=0;i--)t.childNodes[i].nodeName.toLowerCase()!=="svg"&&t.removeChild(t.childNodes[i]);const n=t.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),lw(n))return t.innerHTML}return""},lw=e=>{if(e.nodeType===1){if(e.nodeName.toLowerCase()==="script")return!1;for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;if(Zu(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let t=0;t<e.childNodes.length;t++)if(!lw(e.childNodes[t]))return!1}return!0},AA=e=>e.startsWith("data:image/svg+xml"),CA=e=>e.indexOf(";utf8,")!==-1,rs=new Map,Zv=new Map;let jh;const PA=(e,t)=>{let n=Zv.get(e);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(AA(e)&&CA(e)){jh||(jh=new DOMParser);const o=jh.parseFromString(e,"text/html").querySelector("svg");return o&&rs.set(e,o.outerHTML),Promise.resolve()}else n=fetch(e).then(i=>{if(i.ok)return i.text().then(o=>{o&&t!==!1&&(o=SA(o)),rs.set(e,o||"")});rs.set(e,"")}),Zv.set(e,n);else return rs.set(e,""),Promise.resolve();return n},RA=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",LA=RA,OA=De(class extends Ce{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=$A(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=kA(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(t,n,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const o=this.io=new window.IntersectionObserver(s=>{s[0].isIntersecting&&(o.disconnect(),this.io=void 0,i())},{rootMargin:n});o.observe(t)}else i()}loadIcon(){if(this.isVisible){const t=EA(this);t&&(rs.has(t)?this.svgContent=rs.get(t):PA(t,this.sanitize).then(()=>this.svgContent=rs.get(t)),this.didLoadIcon=!0)}this.iconName=sw(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:t,iconName:n,inheritedAttributes:i,el:o}=this,s=this.mode||"md",a=n?(n.includes("arrow")||n.includes("chevron"))&&t!==!1:!1,c=t||a;return rt(Fe,Object.assign({role:"img",class:Object.assign(Object.assign({[s]:!0},MA(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":c,"icon-rtl":c&&IA(o)})},i),this.svgContent?rt("div",{class:"icon-inner",innerHTML:this.svgContent}):rt("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return LA}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),$A=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",MA=e=>e?{"ion-color":!0,[`ion-color-${e}`]:!0}:null;function gm(){if(typeof customElements>"u")return;["ion-icon"].forEach(t=>{switch(t){case"ion-icon":customElements.get(t)||customElements.define(t,OA);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Vn=(e,...t)=>console.warn(`[Ionic Warning]: ${e}`,...t),DA=(e,...t)=>console.error(`[Ionic Error]: ${e}`,...t),NA=(e,...t)=>console.error(`<${e.tagName.toLowerCase()}> must be used inside ${t.join(" or ")}.`);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class VA{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(t){var n;return new BA(this,this.newID(),t.name,(n=t.priority)!==null&&n!==void 0?n:0,!!t.disableScroll)}createBlocker(t={}){return new zA(this,this.newID(),t.disable,!!t.disableScroll)}start(t,n,i){return this.canStart(t)?(this.requestedStart.set(n,i),!0):(this.requestedStart.delete(n),!1)}capture(t,n,i){if(!this.start(t,n,i))return!1;const o=this.requestedStart;let s=-1e4;if(o.forEach(a=>{s=Math.max(s,a)}),s===i){this.capturedId=n,o.clear();const a=new CustomEvent("ionGestureCaptured",{detail:{gestureName:t}});return document.dispatchEvent(a),!0}return o.delete(n),!1}release(t){this.requestedStart.delete(t),this.capturedId===t&&(this.capturedId=void 0)}disableGesture(t,n){let i=this.disabledGestures.get(t);i===void 0&&(i=new Set,this.disabledGestures.set(t,i)),i.add(n)}enableGesture(t,n){const i=this.disabledGestures.get(t);i!==void 0&&i.delete(n)}disableScroll(t){this.disabledScroll.add(t),this.disabledScroll.size===1&&document.body.classList.add(Yv)}enableScroll(t){this.disabledScroll.delete(t),this.disabledScroll.size===0&&document.body.classList.remove(Yv)}canStart(t){return!(this.capturedId!==void 0||this.isDisabled(t))}isCaptured(){return this.capturedId!==void 0}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(t){const n=this.disabledGestures.get(t);return!!(n&&n.size>0)}newID(){return this.gestureId++,this.gestureId}}class BA{constructor(t,n,i,o,s){this.id=n,this.name=i,this.disableScroll=s,this.priority=o*1e6+n,this.ctrl=t}canStart(){return this.ctrl?this.ctrl.canStart(this.name):!1}start(){return this.ctrl?this.ctrl.start(this.name,this.id,this.priority):!1}capture(){if(!this.ctrl)return!1;const t=this.ctrl.capture(this.name,this.id,this.priority);return t&&this.disableScroll&&this.ctrl.disableScroll(this.id),t}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class zA{constructor(t,n,i,o){this.id=n,this.disable=i,this.disableScroll=o,this.ctrl=t}block(){if(this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.disableGesture(t,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.enableGesture(t,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Yv="backdrop-no-scroll",cw=new VA;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Bi=(e,t)=>t.closest(e)!==null,pi=(e,t)=>typeof e=="string"&&e.length>0?Object.assign({"ion-color":!0,[`ion-color-${e}`]:!0},t):t,FA=e=>e!==void 0?(Array.isArray(e)?e:e.split(" ")).filter(n=>n!=null).map(n=>n.trim()).filter(n=>n!==""):[],uw=e=>{const t={};return FA(e).forEach(n=>t[n]=!0),t},UA=/^[a-z][a-z0-9+\-.]*:/,vm=async(e,t,n,i)=>{if(e!=null&&e[0]!=="#"&&!UA.test(e)){const o=document.querySelector("ion-router");if(o)return t!=null&&t.preventDefault(),o.push(e,n,i)}return!1};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jA=":host{--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:0.8125rem;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{border-radius:10px;font-size:max(13px, 0.8125rem)}",HA=jA,qA=":host{--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:0.8125rem;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{--padding-top:3px;--padding-end:4px;--padding-bottom:4px;--padding-start:4px;border-radius:4px}",WA=qA,GA=De(class extends Ce{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const t=de(this);return rt(Fe,{key:"22d41ceefb76f40dfbf739fd71483f1272a45858",class:pi(this.color,{[t]:!0})},rt("slot",{key:"e7e65463bac5903971a8f9f6be55515f42b81a83"}))}static get style(){return{ios:HA,md:WA}}},[33,"ion-badge",{color:[513]}]);function KA(){if(typeof customElements>"u")return;["ion-badge"].forEach(t=>{switch(t){case"ion-badge":customElements.get(t)||customElements.define(t,GA);break}})}const ZA=KA;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const YA=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",XA=YA,QA=De(class extends Ce{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(t,n){return new Promise(i=>{Yl(()=>{const o=this.el.getBoundingClientRect(),s=o.width,a=o.height,c=Math.sqrt(s*s+a*a),u=Math.max(a,s),f=this.unbounded?u:c+tC,p=Math.floor(u*eC),m=f/p;let b=t-o.left,w=n-o.top;this.unbounded&&(b=s*.5,w=a*.5);const T=b-p*.5,k=w-p*.5,$=s*.5-b,M=a*.5-w;Lr(()=>{const F=document.createElement("div");F.classList.add("ripple-effect");const B=F.style;B.top=k+"px",B.left=T+"px",B.width=B.height=p+"px",B.setProperty("--final-scale",`${m}`),B.setProperty("--translate-end",`${$}px, ${M}px`),(this.el.shadowRoot||this.el).appendChild(F),setTimeout(()=>{i(()=>{JA(F)})},225+100)})})})}get unbounded(){return this.type==="unbounded"}render(){const t=de(this);return rt(Fe,{key:"f1129019a6d556b008c754aeb79618c69baea9f8",role:"presentation",class:{[t]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return XA}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),JA=e=>{e.classList.add("fade-out"),setTimeout(()=>{e.remove()},200)},tC=10,eC=.5;function ks(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(t=>{switch(t){case"ion-ripple-effect":customElements.get(t)||customElements.define(t,QA);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nC=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:14px;--padding-top:13px;--padding-bottom:13px;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:3.1em;font-size:min(1rem, 48px);font-weight:500;letter-spacing:0}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #3171e0);--background-focused:var(--ion-color-primary-shade, #3171e0);--background-hover:var(--ion-color-primary-tint, #4c8dff);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #3880ff);--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;font-size:min(1.0625rem, 51px);font-weight:normal}:host(.in-buttons){font-size:clamp(17px, 1.0625rem, 21.08px);font-weight:400}:host(.button-large){--border-radius:16px;--padding-top:17px;--padding-start:1em;--padding-end:1em;--padding-bottom:17px;min-height:3.1em;font-size:min(1.25rem, 60px)}:host(.button-small){--border-radius:6px;--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:min(0.8125rem, 39px)}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:0}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}',iC=nC,oC=`:host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:4px;--padding-top:8px;--padding-bottom:8px;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),
                background-color 15ms linear,
                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:36px;font-size:0.875rem;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:14px;--padding-start:1em;--padding-end:1em;--padding-bottom:14px;min-height:2.8em;font-size:1.25rem}:host(.button-small){--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:0.8125rem}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:0}:host(.button-strong){font-weight:bold}::slotted(ion-icon[slot=icon-only]){padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-background, var(--color));color:var(--ion-toolbar-color, var(--background), var(--ion-color-primary-contrast, #fff))}`,rC=oC,sC=De(class extends Ce{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=ke(this,"ionFocus",7),this.ionBlur=ke(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.formButtonEl=null,this.formEl=null,this.inheritedAttributes={},this.handleClick=t=>{const{el:n}=this;this.type==="button"?vm(this.href,t,this.routerDirection,this.routerAnimation):tA(n)&&this.submitForm(t)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.color=void 0,this.buttonType="button",this.disabled=!1,this.expand=void 0,this.fill=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.download=void 0,this.href=void 0,this.rel=void 0,this.shape=void 0,this.size=void 0,this.strong=!1,this.target=void 0,this.type="button",this.form=void 0}disabledChanged(){const{disabled:t}=this;this.formButtonEl&&(this.formButtonEl.disabled=t)}renderHiddenButton(){const t=this.formEl=this.findForm();if(t){const{formButtonEl:n}=this;if(n!==null&&t.contains(n))return;const i=this.formButtonEl=document.createElement("button");i.type=this.type,i.style.display="none",i.disabled=this.disabled,t.appendChild(i)}}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=pm(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(this.fill===void 0||this.fill==="clear")&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:t}=this;if(t instanceof HTMLFormElement)return t;if(typeof t=="string"){const n=document.getElementById(t);return n?n instanceof HTMLFormElement?n:(Vn(`Form with selector: "#${t}" could not be found. Verify that the id is attached to a <form> element.`,this.el),null):(Vn(`Form with selector: "#${t}" could not be found. Verify that the id is correct and the form is rendered in the DOM.`,this.el),null)}return t!==void 0?(Vn('The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',this.el),null):this.el.closest("form")}submitForm(t){this.formEl&&this.formButtonEl&&(t.preventDefault(),this.formButtonEl.click())}render(){const t=de(this),{buttonType:n,type:i,disabled:o,rel:s,target:a,size:c,href:u,color:f,expand:p,hasIconOnly:m,shape:b,strong:w,inheritedAttributes:T}=this,k=c===void 0&&this.inItem?"small":c,$=u===void 0?"button":"a",M=$==="button"?{type:i}:{download:this.download,href:u,rel:s,target:a};let F=this.fill;return F==null&&(F=this.inToolbar||this.inListHeader?"clear":"solid"),i!=="button"&&this.renderHiddenButton(),rt(Fe,{key:"54569350aae49882123f0e22a720956eddee33f5",onClick:this.handleClick,"aria-disabled":o?"true":null,class:pi(f,{[t]:!0,[n]:!0,[`${n}-${p}`]:p!==void 0,[`${n}-${k}`]:k!==void 0,[`${n}-${b}`]:b!==void 0,[`${n}-${F}`]:!0,[`${n}-strong`]:w,"in-toolbar":Bi("ion-toolbar",this.el),"in-toolbar-color":Bi("ion-toolbar[color]",this.el),"in-buttons":Bi("ion-buttons",this.el),"button-has-icon-only":m,"button-disabled":o,"ion-activatable":!0,"ion-focusable":!0})},rt($,Object.assign({key:"95c196fc5bf080ef308532c3627e2a9d68f24996"},M,{class:"button-native",part:"native",disabled:o,onFocus:this.onFocus,onBlur:this.onBlur},T),rt("span",{key:"e247013b847158187258d28f37ab23905fe49110",class:"button-inner"},rt("slot",{key:"58ac0bd8f643f4392ddbe465fab26eedffe02b7a",name:"icon-only"}),rt("slot",{key:"2289d37a37a64472ffe818b3b1126945cebf101e",name:"start"}),rt("slot",{key:"b69a915dff465d251f0466449b91450d4a4048a9"}),rt("slot",{key:"594a80d6707fd5edabc03e467f7aae3011d020f6",name:"end"})),t==="md"&&rt("ion-ripple-effect",{key:"b034770cadefe74922ed6564a17147ddc6c9fdb1",type:this.rippleType})))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:iC,md:rC}}},[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1]},void 0,{disabled:["disabledChanged"]}]);function aC(){if(typeof customElements>"u")return;["ion-button","ion-ripple-effect"].forEach(t=>{switch(t){case"ion-button":customElements.get(t)||customElements.define(t,sC);break;case"ion-ripple-effect":customElements.get(t)||ks();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lC=aC;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cC=".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-ios-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.65em;line-height:0.67}",uC=cC,dC=".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-md-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:3rem;height:3rem}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}",hC=dC,fC=De(class extends Ce{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){const t=de(this);return rt(Fe,{key:"2929fd8c4469bab2953c23d47f601706acb104f1",class:{[t]:!0,"buttons-collapse":this.collapse}})}static get style(){return{ios:uC,md:hC}}},[34,"ion-buttons",{collapse:[4]}]);function pC(){if(typeof customElements>"u")return;["ion-buttons"].forEach(t=>{switch(t){case"ion-buttons":customElements.get(t)||customElements.define(t,fC);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const mC=pC;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gC=":host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.12);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.87);border-radius:16px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:4px;margin-inline-end:4px;margin-top:4px;margin-bottom:4px;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:6px;padding-bottom:6px;display:-ms-inline-flexbox;display:inline-flex;position:relative;-ms-flex-align:center;align-items:center;min-height:32px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);cursor:pointer;overflow:hidden;vertical-align:middle;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.chip-disabled){cursor:default;opacity:0.4;pointer-events:none}:host(.ion-color){background:rgba(var(--ion-color-base-rgb), 0.08);color:var(--ion-color-shade)}:host(.ion-color:focus){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.ion-color.ion-activated){background:rgba(var(--ion-color-base-rgb), 0.16)}:host(.chip-outline){border-width:1px;border-style:solid}:host(.chip-outline){border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.32);background:transparent}:host(.chip-outline.ion-color){border-color:rgba(var(--ion-color-base-rgb), 0.32)}:host(.chip-outline:not(.ion-color):focus){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}:host(.chip-outline.ion-activated:not(.ion-color)){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)}::slotted(ion-icon){font-size:1.4285714286em}:host(:not(.ion-color)) ::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}::slotted(ion-icon:first-child){-webkit-margin-start:-4px;margin-inline-start:-4px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-icon:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-4px;margin-inline-end:-4px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar){-ms-flex-negative:0;flex-shrink:0;width:1.7142857143em;height:1.7142857143em}::slotted(ion-avatar:first-child){-webkit-margin-start:-8px;margin-inline-start:-8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-8px;margin-inline-end:-8px;margin-top:-4px;margin-bottom:-4px}:host(:focus){outline:none}:host(:focus){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-activated){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@media (any-hover: hover){:host(:hover){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-color:hover){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.chip-outline:not(.ion-color):hover){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}}:host{font-size:clamp(13px, 0.875rem, 22px)}",vC=gC,bC=":host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.12);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.87);border-radius:16px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:4px;margin-inline-end:4px;margin-top:4px;margin-bottom:4px;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:6px;padding-bottom:6px;display:-ms-inline-flexbox;display:inline-flex;position:relative;-ms-flex-align:center;align-items:center;min-height:32px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);cursor:pointer;overflow:hidden;vertical-align:middle;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.chip-disabled){cursor:default;opacity:0.4;pointer-events:none}:host(.ion-color){background:rgba(var(--ion-color-base-rgb), 0.08);color:var(--ion-color-shade)}:host(.ion-color:focus){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.ion-color.ion-activated){background:rgba(var(--ion-color-base-rgb), 0.16)}:host(.chip-outline){border-width:1px;border-style:solid}:host(.chip-outline){border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.32);background:transparent}:host(.chip-outline.ion-color){border-color:rgba(var(--ion-color-base-rgb), 0.32)}:host(.chip-outline:not(.ion-color):focus){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}:host(.chip-outline.ion-activated:not(.ion-color)){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)}::slotted(ion-icon){font-size:1.4285714286em}:host(:not(.ion-color)) ::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}::slotted(ion-icon:first-child){-webkit-margin-start:-4px;margin-inline-start:-4px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-icon:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-4px;margin-inline-end:-4px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar){-ms-flex-negative:0;flex-shrink:0;width:1.7142857143em;height:1.7142857143em}::slotted(ion-avatar:first-child){-webkit-margin-start:-8px;margin-inline-start:-8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-8px;margin-inline-end:-8px;margin-top:-4px;margin-bottom:-4px}:host(:focus){outline:none}:host(:focus){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-activated){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@media (any-hover: hover){:host(:hover){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-color:hover){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.chip-outline:not(.ion-color):hover){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}}:host{font-size:0.875rem}",_C=bC,yC=De(class extends Ce{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.outline=!1,this.disabled=!1}render(){const t=de(this);return rt(Fe,{key:"886c26b6e7b3e3ca8622a4a0926bdf6dea0a71d4","aria-disabled":this.disabled?"true":null,class:pi(this.color,{[t]:!0,"chip-outline":this.outline,"chip-disabled":this.disabled,"ion-activatable":!0})},rt("slot",{key:"d24353e79ac84013758cee1acb1b0f9b2ebb4d67"}),t==="md"&&rt("ion-ripple-effect",{key:"b69bb3ce3d464251d5e11ba6a5240e4567f72f05"}))}static get style(){return{ios:vC,md:_C}}},[33,"ion-chip",{color:[513],outline:[4],disabled:[4]}]);function wC(){if(typeof customElements>"u")return;["ion-chip","ion-ripple-effect"].forEach(t=>{switch(t){case"ion-chip":customElements.get(t)||customElements.define(t,yC);break;case"ion-ripple-effect":customElements.get(t)||ks();break}})}const xC=wC;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const au=typeof window<"u"?window:void 0;au&&(au.CSS&&au.CSS.supports&&au.CSS.supports("--a: 0"));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const EC=e=>e&&e.dir!==""?e.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const TC=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.outer-content){--background:var(--ion-color-step-50, #f2f2f2)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',kC=TC,IC=De(class extends Ce{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=ke(this,"ionScrollStart",7),this.ionScroll=ke(this,"ionScroll",7),this.ionScrollEnd=ke(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}connectedCallback(){if(this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null,qf(this.el)){const t=this.tabsElement=this.el.closest("ion-tabs");t!==null&&(this.tabsLoadCallback=()=>this.resize(),t.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),qf(this.el)){const{tabsElement:t,tabsLoadCallback:n}=this;t!==null&&n!==void 0&&t.removeEventListener("ionTabBarLoaded",n),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:t}=this,n=de(this);return t===void 0?n==="ios"&&Tr("ios"):t}resize(){this.fullscreen?Yl(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,Ku(this))}readDimensions(){const t=AC(this.el),n=Math.max(this.el.offsetTop,0),i=Math.max(t.offsetHeight-n-this.el.offsetHeight,0);(n!==this.cTop||i!==this.cBottom)&&(this.cTop=n,this.cBottom=i,Ku(this))}onScroll(t){const n=Date.now(),i=!this.isScrolling;this.lastScroll=n,i&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,Yl(o=>{this.queued=!1,this.detail.event=t,CC(this.detail,this.scrollEl,o,i),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(t=>Jl(this.el,t)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(t=>Jl(this.el,t)),Promise.resolve(this.backgroundContentEl)}scrollToTop(t=0){return this.scrollToPoint(void 0,0,t)}async scrollToBottom(t=0){const n=await this.getScrollElement(),i=n.scrollHeight-n.clientHeight;return this.scrollToPoint(void 0,i,t)}async scrollByPoint(t,n,i){const o=await this.getScrollElement();return this.scrollToPoint(t+o.scrollLeft,n+o.scrollTop,i)}async scrollToPoint(t,n,i=0){const o=await this.getScrollElement();if(i<32){n!=null&&(o.scrollTop=n),t!=null&&(o.scrollLeft=t);return}let s,a=0;const c=new Promise(w=>s=w),u=o.scrollTop,f=o.scrollLeft,p=n!=null?n-u:0,m=t!=null?t-f:0,b=w=>{const T=Math.min(1,(w-a)/i)-1,k=Math.pow(T,3)+1;p!==0&&(o.scrollTop=Math.floor(k*p+u)),m!==0&&(o.scrollLeft=Math.floor(k*m+f)),k<1?requestAnimationFrame(b):s()};return requestAnimationFrame(w=>{a=w,b(w)}),c}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{isMainContent:t,scrollX:n,scrollY:i,el:o}=this,s=EC(o)?"rtl":"ltr",a=de(this),c=this.shouldForceOverscroll(),u=a==="ios",f=t?"main":"div";return this.resize(),rt(Fe,{key:"e13815c0e6f6095150b112d3a1aaf2f509aa0d0b",class:pi(this.color,{[a]:!0,"content-sizing":Bi("ion-popover",this.el),overscroll:c,[`content-${s}`]:!0}),style:{"--offset-top":`${this.cTop}px`,"--offset-bottom":`${this.cBottom}px`}},rt("div",{key:"8006c4a10d8f7dc83c646246961d018a8097236e",ref:p=>this.backgroundContentEl=p,id:"background-content",part:"background"}),rt(f,{key:"4dd2f58421493f7a4ca42f8f5d7b85cda8e320ea",class:{"inner-scroll":!0,"scroll-x":n,"scroll-y":i,overscroll:(n||i)&&c},ref:p=>this.scrollEl=p,onScroll:this.scrollEvents?p=>this.onScroll(p):void 0,part:"scroll"},rt("slot",{key:"37904f8f1d8319156cd901feb21930ef674fe0f7"})),u?rt("div",{class:"transition-effect"},rt("div",{class:"transition-cover"}),rt("div",{class:"transition-shadow"})):null,rt("slot",{key:"8f696583903af0548d064dca1a6bae060e127485",name:"fixed"}))}get el(){return this}static get style(){return kC}},[1,"ion-content",{color:[513],fullscreen:[4],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),SC=e=>{var t;return e.parentElement?e.parentElement:!((t=e.parentNode)===null||t===void 0)&&t.host?e.parentNode.host:null},AC=e=>{const t=e.closest("ion-tabs");if(t)return t;const n=e.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||SC(e)},CC=(e,t,n,i)=>{const o=e.currentX,s=e.currentY,a=e.currentTime,c=t.scrollLeft,u=t.scrollTop,f=n-a;if(i&&(e.startTime=n,e.startX=c,e.startY=u,e.velocityX=e.velocityY=0),e.currentTime=n,e.currentX=e.scrollLeft=c,e.currentY=e.scrollTop=u,e.deltaX=c-e.startX,e.deltaY=u-e.startY,f>0&&f<100){const p=(c-o)/f,m=(u-s)/f;e.velocityX=p*.7+e.velocityX*.3,e.velocityY=m*.7+e.velocityY*.3}};function PC(){if(typeof customElements>"u")return;["ion-content"].forEach(t=>{switch(t){case"ion-content":customElements.get(t)||customElements.define(t,IC);break}})}const RC=PC;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const LC=":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-350, #a6a6a6);font-size:max(14px, 1rem)}",OC=LC,$C=":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-600, #666666);font-size:0.875rem}",MC=$C,DC=De(class extends Ce{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const t=de(this);return rt(Fe,{key:"79a17a318ec6e8326c9741b4a9bb4598acdc225e",class:pi(this.color,{[t]:!0})},rt("slot",{key:"5adeaccfabb4bee7b84ea5c5de804bd255b29255"}))}static get style(){return{ios:OC,md:MC}}},[33,"ion-note",{color:[513]}]);function NC(){if(typeof customElements>"u")return;["ion-note"].forEach(t=>{switch(t){case"ion-note":customElements.get(t)||customElements.define(t,DC);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const VC=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-has-interactive-control){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--inner-padding-end) + var(--ion-safe-area-right, 0px));display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}:host-context([dir=rtl]) .item-bottom{padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}[dir=rtl] .item-bottom{padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}@supports selector(:dir(rtl)){.item-bottom:dir(rtl){padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select.legacy-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select.legacy-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:0.75rem;z-index:1}.item-counter{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));--color:var(--ion-item-color, var(--ion-text-color, #000));--highlight-height:0px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--bottom-padding-start:0px;font-size:1rem}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-interactive){--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px;--show-inset-highlight:0}.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus) .item-highlight{border-top:none;border-right:none;border-left:none}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:0.8125rem}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0px}:host(.item-label-fixed) ::slotted(ion-select.legacy-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:0}',BC=VC,zC=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-has-interactive-control){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--inner-padding-end) + var(--ion-safe-area-right, 0px));display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}:host-context([dir=rtl]) .item-bottom{padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}[dir=rtl] .item-bottom{padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}@supports selector(:dir(rtl)){.item-bottom:dir(rtl){padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select.legacy-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select.legacy-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:0.75rem;z-index:1}.item-counter{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;--highlight-height:1px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);font-size:1rem;font-weight:normal;text-transform:none}:host(.item-fill-outline){--highlight-height:2px}:host(.item-fill-none.item-interactive.ion-focus) .item-highlight,:host(.item-fill-none.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-none.item-interactive.ion-focus) .item-native,:host(.item-fill-none.item-interactive.item-has-focus) .item-native,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-highlight{border-width:var(--full-highlight-height);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-native{border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-highlight,:host(.item-fill-solid.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-native,:host(.item-fill-solid.item-interactive.item-has-focus) .item-native,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-has-focus) .item-native{caret-color:var(--highlight-background)}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-full){--border-width:0 0 1px 0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0;--show-inset-highlight:0}:host(.item-fill-outline) .item-highlight{--position-offset:calc(-1 * var(--border-width));top:var(--position-offset);width:calc(100% + 2 * var(--border-width));height:calc(100% + 2 * var(--border-width));-webkit-transition:none;transition:none}@supports (inset-inline-start: 0){:host(.item-fill-outline) .item-highlight{inset-inline-start:var(--position-offset)}}@supports not (inset-inline-start: 0){:host(.item-fill-outline) .item-highlight{left:var(--position-offset)}:host-context([dir=rtl]):host(.item-fill-outline) .item-highlight,:host-context([dir=rtl]).item-fill-outline .item-highlight{left:unset;right:unset;right:var(--position-offset)}@supports selector(:dir(rtl)){:host(.item-fill-outline:dir(rtl)) .item-highlight{left:unset;right:unset;right:var(--position-offset)}}}:host(.item-fill-outline.ion-focused) .item-native,:host(.item-fill-outline.item-has-focus) .item-native{border-color:transparent}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted([slot=end]){-webkit-margin-start:32px;margin-inline-start:32px}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:1.5em}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}:host(.item-fill-solid) ::slotted(ion-icon[slot=start]),:host(.item-fill-outline) ::slotted(ion-icon[slot=start]){-webkit-margin-end:8px;margin-inline-end:8px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:0.6875rem}::slotted(ion-note[slot]:not([slot=helper]):not([slot=error])){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-note[slot=start]){-webkit-padding-end:16px;padding-inline-end:16px}::slotted(ion-note[slot=end]){-webkit-padding-start:16px;padding-inline-start:16px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-label-fixed) ::slotted(ion-select.legacy-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:8px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:0.75rem}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #3880ff)}:host(.ion-color){--highlight-color-focused:var(--ion-color-contrast)}:host(.item-label-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid.ion-color),:host(.item-fill-outline.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid){--background:var(--ion-color-step-50, #f2f2f2);--background-hover:var(--ion-color-step-100, #e6e6e6);--background-focused:var(--ion-color-step-150, #d9d9d9);--border-width:0 0 1px 0;--inner-border-width:0;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid),:host-context([dir=rtl]).item-fill-solid{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.item-fill-solid:dir(rtl)){border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}}:host(.item-fill-solid) .item-native{--border-color:var(--ion-color-step-500, gray)}:host(.item-fill-solid.ion-focused) .item-native,:host(.item-fill-solid.item-has-focus) .item-native{--background:var(--background-focused)}:host(.item-fill-solid.item-shape-round){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid.item-shape-round),:host-context([dir=rtl]).item-fill-solid.item-shape-round{border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.item-fill-solid.item-shape-round:dir(rtl)){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}}@media (any-hover: hover){:host(.item-fill-solid:hover) .item-native{--background:var(--background-hover);--border-color:var(--ion-color-step-750, #404040)}}:host(.item-fill-outline){--ripple-color:transparent;--background-focused:transparent;--background-hover:transparent;--border-color:var(--ion-color-step-500, gray);--border-width:1px;border:none;overflow:visible}:host(.item-fill-outline) .item-native{--native-padding-left:16px;border-radius:4px}:host(.item-fill-outline.item-shape-round) .item-native{--inner-padding-start:16px;border-radius:28px}:host(.item-fill-outline.item-shape-round) .item-bottom{-webkit-padding-start:32px;padding-inline-start:32px}:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-textarea:not(:first-child)){-webkit-transform:translateY(-14px);transform:translateY(-14px)}@media (any-hover: hover){:host(.item-fill-outline:hover) .item-native{--border-color:var(--ion-color-step-750, #404040)}}.item-counter{letter-spacing:0.0333333333em}',FC=zC,UC=De(class extends Ce{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=Wv,this.disabled=!1,this.download=void 0,this.fill=void 0,this.shape=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.counter=!1,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button",this.counterFormatter=void 0,this.counterString=void 0}buttonChanged(){this.focusable=this.isFocusable()}counterFormatterChanged(){this.updateCounterOutput(this.getFirstInput())}handleIonInput(t){this.counter&&t.target===this.getFirstInput()&&this.updateCounterOutput(t.target)}labelColorChanged(t){const{color:n}=this;n===void 0&&(this.labelColorStyles=t.detail)}itemStyle(t){t.stopPropagation();const n=t.target.tagName,i=t.detail,o={},s=this.itemStyles.get(n)||{};let a=!1;Object.keys(i).forEach(c=>{if(i[c]){const u=`item-${c}`;s[u]||(a=!0),o[u]=!0}}),!a&&Object.keys(o).length!==Object.keys(s).length&&(a=!0),a&&(this.itemStyles.set(n,o),Ku(this))}connectedCallback(){this.counter&&this.updateCounterOutput(this.getFirstInput()),this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=fm(this.el,["aria-label"])}componentDidLoad(){const{el:t,counter:n,counterFormatter:i,fill:o,shape:s}=this;t.querySelector('[slot="helper"]')!==null&&Vn('The "helper" slot has been deprecated in favor of using the "helperText" property on ion-input or ion-textarea.',t),t.querySelector('[slot="error"]')!==null&&Vn('The "error" slot has been deprecated in favor of using the "errorText" property on ion-input or ion-textarea.',t),n===!0&&Vn('The "counter" property has been deprecated in favor of using the "counter" property on ion-input or ion-textarea.',t),i!==void 0&&Vn('The "counterFormatter" property has been deprecated in favor of using the "counterFormatter" property on ion-input or ion-textarea.',t),o!==void 0&&Vn('The "fill" property has been deprecated in favor of using the "fill" property on ion-input or ion-textarea.',t),s!==void 0&&Vn('The "shape" property has been deprecated in favor of using the "shape" property on ion-input or ion-textarea.',t),Oi(()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()})}setMultipleInputs(){const t=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),n=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),i=this.el.querySelectorAll("ion-anchor, ion-button, a, button");this.multipleInputs=t.length+n.length>1||t.length+i.length>1||t.length>0&&this.isClickable()}hasCover(){return this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length===1&&!this.multipleInputs}isClickable(){return this.href!==void 0||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const t=this.el.querySelector(".ion-focusable");return this.canActivate()||t!==null}getFirstInput(){return this.el.querySelectorAll("ion-input, ion-textarea")[0]}updateCounterOutput(t){var n,i;const{counter:o,counterFormatter:s,defaultCounterFormatter:a}=this;if(o&&!this.multipleInputs&&(t==null?void 0:t.maxlength)!==void 0){const c=(i=(n=t==null?void 0:t.value)===null||n===void 0?void 0:n.toString().length)!==null&&i!==void 0?i:0;if(s===void 0)this.counterString=a(c,t.maxlength);else try{this.counterString=s(c,t.maxlength)}catch(u){DA("Exception in provided `counterFormatter`.",u),this.counterString=a(c,t.maxlength)}}}defaultCounterFormatter(t,n){return`${t} / ${n}`}hasStartEl(){this.el.querySelector('[slot="start"]')!==null&&this.el.classList.add("item-has-start-slot")}getFirstInteractive(){return this.el.querySelectorAll("ion-toggle:not([disabled]), ion-checkbox:not([disabled]), ion-radio:not([disabled]), ion-select:not([disabled])")[0]}render(){const{counterString:t,detail:n,detailIcon:i,download:o,fill:s,labelColorStyles:a,lines:c,disabled:u,href:f,rel:p,shape:m,target:b,routerAnimation:w,routerDirection:T,inheritedAriaAttributes:k,multipleInputs:$}=this,M={},F=de(this),B=this.isClickable(),z=this.canActivate(),U=B?f===void 0?"button":"a":"div",W=U==="button"?{type:this.type}:{download:o,href:f,rel:p,target:b};let S={};const E=this.getFirstInteractive();(B||E!==void 0&&!$)&&(S={onClick:P=>{if(B&&vm(f,P,T,w),E!==void 0&&!$){const ne=P.composedPath()[0];P.isTrusted&&this.el.shadowRoot.contains(ne)&&E.click()}}});const A=n!==void 0?n:F==="ios"&&B;this.itemStyles.forEach(P=>{Object.assign(M,P)});const O=u||M["item-interactive-disabled"]?"true":null,C=s||"none",V=Bi("ion-list",this.el)&&!Bi("ion-radio-group",this.el);return rt(Fe,{key:"077c9ab04985292f79c30691151d2778a26285fb","aria-disabled":O,class:Object.assign(Object.assign(Object.assign({},M),a),pi(this.color,{item:!0,[F]:!0,"item-lines-default":c===void 0,[`item-lines-${c}`]:c!==void 0,[`item-fill-${C}`]:!0,[`item-shape-${m}`]:m!==void 0,"item-has-interactive-control":E!==void 0,"item-disabled":u,"in-list":V,"item-multiple-inputs":this.multipleInputs,"ion-activatable":z,"ion-focusable":this.focusable,"item-rtl":document.dir==="rtl"})),role:V?"listitem":null},rt(U,Object.assign({key:"08bb75c85d0584e9fb7f461e9e06b9b651ef3515"},W,k,{class:"item-native",part:"native",disabled:u},S),rt("slot",{key:"3f742b07c4a58eadedf675be4878a3e00070750e",name:"start"}),rt("div",{key:"0160b8963434f3107856a2df2fb96f1abb4fdbfe",class:"item-inner"},rt("div",{key:"9439b21474443341f06a651d7c44aef90bd4c591",class:"input-wrapper"},rt("slot",{key:"8034e1337a6c950b7725bc9aa46d55de980827bf"})),rt("slot",{key:"690de6d3dd3a238ab7a2d3dfea69daa6647e5134",name:"end"}),A&&rt("ion-icon",{key:"6f386abbde5897fca7aabc850645986e16315213",icon:i,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":i===Wv}),rt("div",{key:"4bb8444a5097c032d79f2083f60429b9057e3a5c",class:"item-inner-highlight"})),z&&F==="md"&&rt("ion-ripple-effect",{key:"31c319e2335efbb92d7dea110a66f347764f2b44"}),rt("div",{key:"0fc128b44582af7c8b542c9e346ef88e40fea148",class:"item-highlight"})),rt("div",{key:"7b84c0a74d148a7fa6af449b6bd06bb45530edf5",class:"item-bottom"},rt("slot",{key:"97563a615efd81b21014c41a25989c71ba3ae2cd",name:"error"}),rt("slot",{key:"d84a4bb21ed3f13af82f78104ffb06d2b079738e",name:"helper"}),t&&rt("ion-note",{key:"34eaa7798c50d2f88afca0dcb1278df05a1800e6",class:"item-counter"},t)))}static get delegatesFocus(){return!0}get el(){return this}static get watchers(){return{button:["buttonChanged"],counterFormatter:["counterFormatterChanged"]}}static get style(){return{ios:BC,md:FC}}},[49,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[4],download:[1],fill:[1],shape:[1],href:[1],rel:[1],lines:[1],counter:[4],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],counterFormatter:[16],multipleInputs:[32],focusable:[32],counterString:[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{button:["buttonChanged"],counterFormatter:["counterFormatterChanged"]}]);function jC(){if(typeof customElements>"u")return;["ion-item","ion-icon","ion-note","ion-ripple-effect"].forEach(t=>{switch(t){case"ion-item":customElements.get(t)||customElements.define(t,UC);break;case"ion-icon":customElements.get(t)||gm();break;case"ion-note":customElements.get(t)||NC();break;case"ion-ripple-effect":customElements.get(t)||ks();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const HC=".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.item-legacy.sc-ion-label-ios-h,.item-legacy .sc-ion-label-ios-h{white-space:nowrap;overflow:hidden}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-ios-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-ios-h,.item-skeleton-text .sc-ion-label-ios-h{overflow:hidden}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h{font-size:0.875rem;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:0.875rem}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:1.375rem;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.0625rem;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.4)}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",qC=HC,WC='.item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.item-legacy.sc-ion-label-md-h,.item-legacy .sc-ion-label-md-h{white-space:nowrap;overflow:hidden}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-md-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-md-h,.item-skeleton-text .sc-ion-label-md-h{overflow:hidden}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(-6px) scale(0.75);transform:translateY(-6px) scale(0.75);position:relative;max-width:-webkit-min-content;max-width:-moz-min-content;max-width:min-content;background-color:var(--ion-item-background, var(--ion-background-color, #fff));overflow:visible;z-index:3}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{position:absolute;width:4px;height:100%;background-color:var(--ion-item-background, var(--ion-background-color, #fff));content:""}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before{left:calc(-1 * 4px)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{right:calc(-1 * 4px)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.sc-ion-label-md-h{-webkit-transform:translateX(-32px) translateY(-6px) scale(0.75);transform:translateX(-32px) translateY(-6px) scale(0.75)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating.label-rtl,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75);transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #3880ff)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.item-fill-solid.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-base)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:1.25rem;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, #666666)}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}',GC=WC,KC=De(class extends Ce{constructor(){super(),this.__registerHost(),this.ionColor=ke(this,"ionColor",7),this.ionStyle=ke(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate=this.position==="floating",this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout(()=>{this.noAnimate=!1},1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:t}=this;this.ionColor.emit({"item-label-color":t!==void 0,[`ion-color-${t}`]:t!==void 0})}emitStyle(){const{inRange:t,position:n}=this;t||this.ionStyle.emit({label:!0,[`label-${n}`]:n!==void 0})}render(){const t=this.position,n=de(this);return rt(Fe,{key:"72ad4ba5c1137ae0130e421346668e436ea53bf8",class:pi(this.color,{[n]:!0,"in-item-color":Bi("ion-item.ion-color",this.el),[`label-${t}`]:t!==void 0,"label-no-animate":this.noAnimate,"label-rtl":document.dir==="rtl"})})}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:qC,md:GC}}},[34,"ion-label",{color:[513],position:[1],noAnimate:[32]},void 0,{color:["colorChanged"],position:["positionChanged"]}]);function ZC(){if(typeof customElements>"u")return;["ion-label"].forEach(t=>{switch(t){case"ion-label":customElements.get(t)||customElements.define(t,KC);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Qe=typeof window<"u"?window:void 0,Uo=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const YC=()=>{if(Qe!==void 0)return Qe.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const dw=async(e,t,n,i,o,s)=>{var a;if(e)return e.attachViewToDom(t,n,o,i);if(!s&&typeof n!="string"&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const c=typeof n=="string"?(a=t.ownerDocument)===null||a===void 0?void 0:a.createElement(n):n;return i&&i.forEach(u=>c.classList.add(u)),o&&Object.assign(c,o),t.appendChild(c),await new Promise(u=>Jl(c,u)),c},XC=(e,t)=>{if(t){if(e){const n=t.parentElement;return e.removeViewFromDom(n,t)}t.remove()}return Promise.resolve()},QC=()=>{let e,t;return{attachViewToDom:async(o,s,a={},c=[])=>{var u,f;e=o;let p;if(s){const b=typeof s=="string"?(u=e.ownerDocument)===null||u===void 0?void 0:u.createElement(s):s;c.forEach(w=>b.classList.add(w)),Object.assign(b,a),e.appendChild(b),p=b,await new Promise(w=>Jl(b,w))}else if(e.children.length>0&&(e.tagName==="ION-MODAL"||e.tagName==="ION-POPOVER")&&!(p=e.children[0]).classList.contains("ion-delegate-host")){const w=(f=e.ownerDocument)===null||f===void 0?void 0:f.createElement("div");w.classList.add("ion-delegate-host"),c.forEach(T=>w.classList.add(T)),w.append(...e.children),e.appendChild(w),p=w}const m=document.querySelector("ion-app")||document.body;return t=document.createComment("ionic teleport"),e.parentNode.insertBefore(t,e),m.appendChild(e),p??e},removeViewFromDom:()=>(e&&t&&(t.parentNode.insertBefore(e,t),t.remove()),Promise.resolve())}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const hw=()=>{let e;return{lock:async()=>{const n=e;let i;return e=new Promise(o=>i=o),n!==void 0&&await n,i}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const tc=()=>ue.get("experimentalCloseWatcher",!1)&&Qe!==void 0&&"CloseWatcher"in Qe,JC=()=>{document.addEventListener("backbutton",()=>{})},tP=()=>{const e=document;let t=!1;const n=()=>{if(t)return;let i=0,o=[];const s=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(u,f){o.push({priority:u,handler:f,id:i++})}}});e.dispatchEvent(s);const a=async u=>{try{if(u!=null&&u.handler){const f=u.handler(c);f!=null&&await f}}catch(f){console.error(f)}},c=()=>{if(o.length>0){let u={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};o.forEach(f=>{f.priority>=u.priority&&(u=f)}),t=!0,o=o.filter(f=>f.id!==u.id),a(u).then(()=>t=!1)}};c()};if(tc()){let i;const o=()=>{i==null||i.destroy(),i=new Qe.CloseWatcher,i.onclose=()=>{n(),o()}};o()}else e.addEventListener("backbutton",n)},fw=100,eP=99,nP=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:eP,OVERLAY_BACK_BUTTON_PRIORITY:fw,blockHardwareBackButton:JC,shouldUseCloseWatcher:tc,startHardwareBackButton:tP},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let Gf=0,iP=0;const Yu=new WeakMap,oP=e=>{typeof document<"u"&&lP(document);const t=Gf++;e.overlayIndex=t},rP=e=>(e.hasAttribute("id")||(e.id=`ion-overlay-${++iP}`),e.id),Dd='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',sP=e=>e.classList.contains("overlay-hidden"),Xv=(e,t)=>{const n=e.querySelector(Dd);Xu(n,t)},Qv=(e,t)=>{const n=Array.from(e.querySelectorAll(Dd)),i=n.length>0?n[n.length-1]:null;Xu(i,t)},Xu=(e,t)=>{let n=e;const i=e==null?void 0:e.shadowRoot;i&&(n=i.querySelector(Dd)||e),n?eA(n):t.focus()},aP=(e,t)=>{const n=Kf(t,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),i=e.target;if(!n||!i||n.classList.contains("ion-disable-focus-trap"))return;const o=()=>{if(n===i)n.lastFocus=void 0;else if(i.tagName==="ION-TOAST")Xu(n.lastFocus,n);else{const a=$a(n);if(!a.contains(i))return;const c=a.querySelector(".ion-overlay-wrapper");if(!c)return;if(c.contains(i)||i===a.querySelector("ion-backdrop"))n.lastFocus=i;else{const u=n.lastFocus;Xv(c,n),u===t.activeElement&&Qv(c,n),n.lastFocus=t.activeElement}}},s=()=>{if(n.contains(i))n.lastFocus=i;else if(i.tagName==="ION-TOAST")Xu(n.lastFocus,n);else{const a=n.lastFocus;Xv(n,n),a===t.activeElement&&Qv(n,n),n.lastFocus=t.activeElement}};n.shadowRoot?s():o()},lP=e=>{Gf===0&&(Gf=1,e.addEventListener("focus",t=>{aP(t,e)},!0),e.addEventListener("ionBackButton",t=>{const n=Kf(e);n!=null&&n.backdropDismiss&&t.detail.register(fw,()=>{n.dismiss(void 0,Yf)})}),tc()||e.addEventListener("keydown",t=>{if(t.key==="Escape"){const n=Kf(e);n!=null&&n.backdropDismiss&&n.dismiss(void 0,Yf)}}))},cP=(e,t)=>(t===void 0&&(t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(e.querySelectorAll(t)).filter(n=>n.overlayIndex>0)),Nd=(e,t)=>cP(e,t).filter(n=>!sP(n)),Kf=(e,t,n)=>{const i=Nd(e,t);return n===void 0?i[i.length-1]:i.find(o=>o.id===n)},pw=(e=!1)=>{const n=fP(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");n&&(e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))},uP=async(e,t,n,i,o)=>{var s,a;if(e.presented)return;pw(!0),yP(e.el),e.presented=!0,e.willPresent.emit(),(s=e.willPresentShorthand)===null||s===void 0||s.emit();const c=de(e),u=e.enterAnimation?e.enterAnimation:ue.get(t,c==="ios"?n:i);await mw(e,u,e.el,o)&&(e.didPresent.emit(),(a=e.didPresentShorthand)===null||a===void 0||a.emit()),e.el.tagName!=="ION-TOAST"&&dP(e.el),e.keyboardClose&&(document.activeElement===null||!e.el.contains(document.activeElement))&&e.el.focus(),e.el.removeAttribute("aria-hidden")},dP=async e=>{let t=document.activeElement;if(!t)return;const n=t==null?void 0:t.shadowRoot;n&&(t=n.querySelector(Dd)||t),await e.onDidDismiss(),(document.activeElement===null||document.activeElement===document.body)&&t.focus()},hP=async(e,t,n,i,o,s,a)=>{var c,u;if(!e.presented)return!1;Uo!==void 0&&Nd(Uo).length===1&&pw(!1),e.presented=!1;try{e.el.style.setProperty("pointer-events","none"),e.willDismiss.emit({data:t,role:n}),(c=e.willDismissShorthand)===null||c===void 0||c.emit({data:t,role:n});const f=de(e),p=e.leaveAnimation?e.leaveAnimation:ue.get(i,f==="ios"?o:s);n!==gw&&await mw(e,p,e.el,a),e.didDismiss.emit({data:t,role:n}),(u=e.didDismissShorthand)===null||u===void 0||u.emit({data:t,role:n}),(Yu.get(e)||[]).forEach(b=>b.destroy()),Yu.delete(e),e.el.classList.add("overlay-hidden"),e.el.style.removeProperty("pointer-events"),e.el.lastFocus!==void 0&&(e.el.lastFocus=void 0)}catch(f){console.error(f)}return e.el.remove(),wP(),!0},fP=e=>e.querySelector("ion-app")||e.body,mw=async(e,t,n,i)=>{n.classList.remove("overlay-hidden");const o=e.el,s=t(o,i);(!e.animated||!ue.getBoolean("animated",!0))&&s.duration(0),e.keyboardClose&&s.beforeAddWrite(()=>{const c=n.ownerDocument.activeElement;c!=null&&c.matches("input,ion-input, ion-textarea")&&c.blur()});const a=Yu.get(e)||[];return Yu.set(e,[...a,s]),await s.play(),!0},Jv=(e,t)=>{let n;const i=new Promise(o=>n=o);return pP(e,t,o=>{n(o.detail)}),i},pP=(e,t,n)=>{const i=o=>{JS(e,t,i),n(o)};QS(e,t,i)},Zf=e=>e==="cancel"||e===Yf,mP=e=>e(),gP=(e,t)=>{if(typeof e=="function")return ue.get("_zoneGate",mP)(()=>{try{return e(t)}catch(i){throw i}})},Yf="backdrop",gw="gesture",vP=39,bP=e=>{let t=!1,n;const i=QC(),o=(c=!1)=>{if(n&&!c)return{delegate:n,inline:t};const{el:u,hasController:f,delegate:p}=e;return t=u.parentNode!==null&&!f,n=t?p||i:p,{inline:t,delegate:n}};return{attachViewToDom:async c=>{const{delegate:u}=o(!0);if(u)return await u.attachViewToDom(e.el,c);const{hasController:f}=e;if(f&&c!==void 0)throw new Error("framework delegate is missing");return null},removeViewFromDom:()=>{const{delegate:c}=o();c&&e.el!==void 0&&c.removeViewFromDom(e.el.parentElement,e.el)}}},_P=()=>{let e;const t=()=>{e&&(e(),e=void 0)};return{addClickListener:(i,o)=>{t();const s=o!==void 0?document.getElementById(o):null;if(!s){Vn(`A trigger element with the ID "${o}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,i);return}e=((c,u)=>{const f=()=>{u.present()};return c.addEventListener("click",f),()=>{c.removeEventListener("click",f)}})(s,i)},removeClickListener:t}},yP=e=>{var t;if(Uo===void 0)return;const n=Nd(Uo);for(let i=n.length-1;i>=0;i--){const o=n[i],s=(t=n[i+1])!==null&&t!==void 0?t:e;(s.hasAttribute("aria-hidden")||s.tagName!=="ION-TOAST")&&o.setAttribute("aria-hidden","true")}},wP=()=>{if(Uo===void 0)return;const e=Nd(Uo);for(let t=e.length-1;t>=0;t--){const n=e[t];if(n.removeAttribute("aria-hidden"),n.tagName!=="ION-TOAST")break}},bm="ionViewWillEnter",_m="ionViewDidEnter",Vd="ionViewWillLeave",Bd="ionViewDidLeave",Hh="ionViewWillUnload",xP=()=>An(()=>import("./ios.transition-db386d96.js"),[]),EP=()=>An(()=>import("./md.transition-17fbbb5c.js"),[]),vw=e=>new Promise((t,n)=>{Lr(()=>{TP(e),kP(e).then(i=>{i.animation&&i.animation.destroy(),tb(e),t(i)},i=>{tb(e),n(i)})})}),TP=e=>{const t=e.enteringEl,n=e.leavingEl;RP(t,n,e.direction),e.showGoBack?t.classList.add("can-go-back"):t.classList.remove("can-go-back"),Qf(t,!1),t.style.setProperty("pointer-events","none"),n&&(Qf(n,!1),n.style.setProperty("pointer-events","none"))},kP=async e=>{const t=await IP(e);return t&&tS.isBrowser?SP(t,e):AP(e)},tb=e=>{const t=e.enteringEl,n=e.leavingEl;t.classList.remove("ion-page-invisible"),t.style.removeProperty("pointer-events"),n!==void 0&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events"))},IP=async e=>!e.leavingEl||!e.animated||e.duration===0?void 0:e.animationBuilder?e.animationBuilder:e.mode==="ios"?(await xP()).iosTransitionAnimation:(await EP()).mdTransitionAnimation,SP=async(e,t)=>{await bw(t,!0);const n=e(t.baseEl,t);_w(t.enteringEl,t.leavingEl);const i=await PP(n,t);return t.progressCallback&&t.progressCallback(void 0),i&&yw(t.enteringEl,t.leavingEl),{hasCompleted:i,animation:n}},AP=async e=>{const t=e.enteringEl,n=e.leavingEl;return await bw(e,!1),_w(t,n),yw(t,n),{hasCompleted:!0}},bw=async(e,t)=>{(e.deepWait!==void 0?e.deepWait:t)&&await Promise.all([Xf(e.enteringEl),Xf(e.leavingEl)]),await CP(e.viewIsReady,e.enteringEl)},CP=async(e,t)=>{e&&await e(t)},PP=(e,t)=>{const n=t.progressCallback,i=new Promise(o=>{e.onFinish(s=>o(s===1))});return n?(e.progressStart(!0),n(e)):e.play(),i},_w=(e,t)=>{Do(t,Vd),Do(e,bm)},yw=(e,t)=>{Do(e,_m),Do(t,Bd)},Do=(e,t)=>{if(e){const n=new CustomEvent(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(n)}},Xf=async e=>{const t=e;if(t){if(t.componentOnReady!=null){if(await t.componentOnReady()!=null)return}else if(t.__registerHost!=null){await new Promise(i=>Oi(i));return}await Promise.all(Array.from(t.children).map(Xf))}},Qf=(e,t)=>{t?(e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")):(e.hidden=!1,e.removeAttribute("aria-hidden"),e.classList.remove("ion-page-hidden"))},RP=(e,t,n)=>{e!==void 0&&(e.style.zIndex=n==="back"?"99":"101"),t!==void 0&&(t.style.zIndex="100")},AF=e=>{if(e.classList.contains("ion-page"))return e;const t=e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return t||e};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let qh;const LP=e=>(e.forEach(t=>{for(const n in t)if(t.hasOwnProperty(n)){const i=t[n];if(n==="easing"){const o="animation-timing-function";t[o]=i,delete t[n]}else{const o=OP(n);o!==n&&(t[o]=i,delete t[n])}}}),e),OP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ym=e=>{if(qh===void 0){const t=e.style.animationName!==void 0,n=e.style.webkitAnimationName!==void 0;qh=!t&&n?"-webkit-":""}return qh},ze=(e,t,n)=>{const i=t.startsWith("animation")?ym(e):"";e.style.setProperty(i+t,n)},Li=(e,t)=>{const n=t.startsWith("animation")?ym(e):"";e.style.removeProperty(n+t)},$P=(e,t)=>{let n;const i={passive:!0},o=()=>{n&&n()},s=a=>{e===a.target&&(o(),t(a))};return e&&(e.addEventListener("webkitAnimationEnd",s,i),e.addEventListener("animationend",s,i),n=()=>{e.removeEventListener("webkitAnimationEnd",s,i),e.removeEventListener("animationend",s,i)}),o},MP=(e=[])=>e.map(t=>{const n=t.offset,i=[];for(const o in t)t.hasOwnProperty(o)&&o!=="offset"&&i.push(`${o}: ${t[o]};`);return`${n*100}% { ${i.join(" ")} }`}).join(" "),eb=[],DP=e=>{let t=eb.indexOf(e);return t<0&&(t=eb.push(e)-1),`ion-animation-${t}`},NP=e=>{const t=e.getRootNode!==void 0?e.getRootNode():e;return t.head||t},VP=(e,t,n)=>{var i;const o=NP(n),s=ym(n),a=o.querySelector("#"+e);if(a)return a;const c=((i=n.ownerDocument)!==null&&i!==void 0?i:document).createElement("style");return c.id=e,c.textContent=`@${s}keyframes ${e} { ${t} } @${s}keyframes ${e}-alt { ${t} }`,o.appendChild(c),c},lu=(e=[],t)=>{if(t!==void 0){const n=Array.isArray(t)?t:[t];return[...e,...n]}return e},Zo=e=>{let t,n,i,o,s,a,c=[],u=[],f=[],p=!1,m,b={},w=[],T=[],k={},$=0,M=!1,F=!1,B,z,U,W,S=!0,E=!1,A=!0,O,C,V=!1;const P=e,$t=[],ne=[],Nt=[],xt=[],tt=[],Ie=[],St=[],Ft=[],Gt=[],Kt=[],J=[],X=typeof AnimationEffect=="function"||Qe!==void 0&&typeof Qe.AnimationEffect=="function",et=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&X,K=100,ft=()=>J,dt=G=>(tt.forEach(ht=>{ht.destroy(G)}),gt(G),xt.length=0,tt.length=0,c.length=0,ot(),p=!1,A=!0,C),gt=G=>{Q(),G&&nt()},Tt=()=>{M=!1,F=!1,A=!0,z=void 0,U=void 0,W=void 0,$=0,E=!1,S=!0,V=!1},Ut=()=>$!==0&&!V,R=(G,ht)=>{const yt=ht.findIndex(he=>he.c===G);yt>-1&&ht.splice(yt,1)},D=(G,ht)=>(Nt.push({c:G,o:ht}),C),q=(G,ht)=>((ht!=null&&ht.oneTimeCallback?ne:$t).push({c:G,o:ht}),C),ot=()=>($t.length=0,ne.length=0,C),Q=()=>{if(et)J.forEach(G=>{G.cancel()}),J.length=0;else{const G=xt.slice();Oi(()=>{G.forEach(ht=>{Li(ht,"animation-name"),Li(ht,"animation-duration"),Li(ht,"animation-timing-function"),Li(ht,"animation-iteration-count"),Li(ht,"animation-delay"),Li(ht,"animation-play-state"),Li(ht,"animation-fill-mode"),Li(ht,"animation-direction")})})}},nt=()=>{Ie.forEach(G=>{G!=null&&G.parentNode&&G.parentNode.removeChild(G)}),Ie.length=0},bt=G=>(St.push(G),C),mt=G=>(Ft.push(G),C),pt=G=>(Gt.push(G),C),st=G=>(Kt.push(G),C),Ct=G=>(u=lu(u,G),C),_t=G=>(f=lu(f,G),C),kt=(G={})=>(b=G,C),Lt=(G=[])=>{for(const ht of G)b[ht]="";return C},Rt=G=>(w=lu(w,G),C),Vt=G=>(T=lu(T,G),C),Jt=(G={})=>(k=G,C),qe=(G=[])=>{for(const ht of G)k[ht]="";return C},ye=()=>s!==void 0?s:m?m.getFill():"both",We=()=>z!==void 0?z:a!==void 0?a:m?m.getDirection():"normal",we=()=>M?"linear":i!==void 0?i:m?m.getEasing():"linear",Ne=()=>F?0:U!==void 0?U:n!==void 0?n:m?m.getDuration():0,Tn=()=>o!==void 0?o:m?m.getIterations():1,Se=()=>W!==void 0?W:t!==void 0?t:m?m.getDelay():0,nn=()=>c,nr=G=>(a=G,kn(!0),C),Wi=G=>(s=G,kn(!0),C),Ur=G=>(t=G,kn(!0),C),jr=G=>(i=G,kn(!0),C),Gi=G=>(!et&&G===0&&(G=1),n=G,kn(!0),C),Hr=G=>(o=G,kn(!0),C),qr=G=>(m=G,C),ki=G=>{if(G!=null)if(G.nodeType===1)xt.push(G);else if(G.length>=0)for(let ht=0;ht<G.length;ht++)xt.push(G[ht]);else console.error("Invalid addElement value");return C},Ps=G=>{if(G!=null)if(Array.isArray(G))for(const ht of G)ht.parent(C),tt.push(ht);else G.parent(C),tt.push(G);return C},ir=G=>{const ht=c!==G;return c=G,ht&&Rs(c),C},Rs=G=>{et?ft().forEach(ht=>{const yt=ht.effect;if(yt.setKeyframes)yt.setKeyframes(G);else{const he=new KeyframeEffect(yt.target,G,yt.getTiming());ht.effect=he}}):Wr()},Ii=()=>{St.forEach(he=>he()),Ft.forEach(he=>he());const G=u,ht=f,yt=b;xt.forEach(he=>{const Pe=he.classList;G.forEach(Ye=>Pe.add(Ye)),ht.forEach(Ye=>Pe.remove(Ye));for(const Ye in yt)yt.hasOwnProperty(Ye)&&ze(he,Ye,yt[Ye])})},Ls=()=>{or(),Gt.forEach(Pe=>Pe()),Kt.forEach(Pe=>Pe());const G=S?1:0,ht=w,yt=T,he=k;xt.forEach(Pe=>{const Ye=Pe.classList;ht.forEach(Zt=>Ye.add(Zt)),yt.forEach(Zt=>Ye.remove(Zt));for(const Zt in he)he.hasOwnProperty(Zt)&&ze(Pe,Zt,he[Zt])}),U=void 0,z=void 0,W=void 0,$t.forEach(Pe=>Pe.c(G,C)),ne.forEach(Pe=>Pe.c(G,C)),ne.length=0,A=!0,S&&(E=!0),S=!0},Ve=()=>{$!==0&&($--,$===0&&(Ls(),m&&m.animationFinish()))},Wr=(G=!0)=>{nt();const ht=LP(c);xt.forEach(yt=>{if(ht.length>0){const he=MP(ht);O=e!==void 0?e:DP(he);const Pe=VP(O,he,yt);Ie.push(Pe),ze(yt,"animation-duration",`${Ne()}ms`),ze(yt,"animation-timing-function",we()),ze(yt,"animation-delay",`${Se()}ms`),ze(yt,"animation-fill-mode",ye()),ze(yt,"animation-direction",We());const Ye=Tn()===1/0?"infinite":Tn().toString();ze(yt,"animation-iteration-count",Ye),ze(yt,"animation-play-state","paused"),G&&ze(yt,"animation-name",`${Pe.id}-alt`),Oi(()=>{ze(yt,"animation-name",Pe.id||null)})}})},po=()=>{xt.forEach(G=>{const ht=G.animate(c,{id:P,delay:Se(),duration:Ne(),easing:we(),iterations:Tn(),fill:ye(),direction:We()});ht.pause(),J.push(ht)}),J.length>0&&(J[0].onfinish=()=>{Ve()})},dn=(G=!0)=>{Ii(),c.length>0&&(et?po():Wr(G)),p=!0},It=G=>{if(G=Math.min(Math.max(G,0),.9999),et)J.forEach(ht=>{ht.currentTime=ht.effect.getComputedTiming().delay+Ne()*G,ht.pause()});else{const ht=`-${Ne()*G}ms`;xt.forEach(yt=>{c.length>0&&(ze(yt,"animation-delay",ht),ze(yt,"animation-play-state","paused"))})}},Gr=G=>{J.forEach(ht=>{ht.effect.updateTiming({delay:Se(),duration:Ne(),easing:we(),iterations:Tn(),fill:ye(),direction:We()})}),G!==void 0&&It(G)},mi=(G=!0,ht)=>{Oi(()=>{xt.forEach(yt=>{ze(yt,"animation-name",O||null),ze(yt,"animation-duration",`${Ne()}ms`),ze(yt,"animation-timing-function",we()),ze(yt,"animation-delay",ht!==void 0?`-${ht*Ne()}ms`:`${Se()}ms`),ze(yt,"animation-fill-mode",ye()||null),ze(yt,"animation-direction",We()||null);const he=Tn()===1/0?"infinite":Tn().toString();ze(yt,"animation-iteration-count",he),G&&ze(yt,"animation-name",`${O}-alt`),Oi(()=>{ze(yt,"animation-name",O||null)})})})},kn=(G=!1,ht=!0,yt)=>(G&&tt.forEach(he=>{he.update(G,ht,yt)}),et?Gr(yt):mi(ht,yt),C),Os=(G=!1,ht)=>(tt.forEach(yt=>{yt.progressStart(G,ht)}),ri(),M=G,p||dn(),kn(!1,!0,ht),C),Ki=G=>(tt.forEach(ht=>{ht.progressStep(G)}),It(G),C),Kr=(G,ht,yt)=>(M=!1,tt.forEach(he=>{he.progressEnd(G,ht,yt)}),yt!==void 0&&(U=yt),E=!1,S=!0,G===0?(z=We()==="reverse"?"normal":"reverse",z==="reverse"&&(S=!1),et?(kn(),It(1-ht)):(W=(1-ht)*Ne()*-1,kn(!1,!1))):G===1&&(et?(kn(),It(ht)):(W=ht*Ne()*-1,kn(!1,!1))),G!==void 0&&!m&&Zi(),C),ri=()=>{p&&(et?J.forEach(G=>{G.pause()}):xt.forEach(G=>{ze(G,"animation-play-state","paused")}),V=!0)},mo=()=>(tt.forEach(G=>{G.pause()}),ri(),C),gi=()=>{B=void 0,Ve()},or=()=>{B&&clearTimeout(B)},$s=()=>{if(or(),Oi(()=>{xt.forEach(G=>{c.length>0&&ze(G,"animation-play-state","running")})}),c.length===0||xt.length===0)Ve();else{const G=Se()||0,ht=Ne()||0,yt=Tn()||1;isFinite(yt)&&(B=setTimeout(gi,G+ht*yt+K)),$P(xt[0],()=>{or(),Oi(()=>{Zr(),Oi(Ve)})})}},Zr=()=>{xt.forEach(G=>{Li(G,"animation-duration"),Li(G,"animation-delay"),Li(G,"animation-play-state")})},rr=()=>{J.forEach(G=>{G.play()}),(c.length===0||xt.length===0)&&Ve()},Ms=()=>{et?(It(0),Gr()):mi()},Zi=G=>new Promise(ht=>{G!=null&&G.sync&&(F=!0,q(()=>F=!1,{oneTimeCallback:!0})),p||dn(),E&&(Ms(),E=!1),A&&($=tt.length+1,A=!1);const yt=()=>{R(he,ne),ht()},he=()=>{R(yt,Nt),ht()};q(he,{oneTimeCallback:!0}),D(yt,{oneTimeCallback:!0}),tt.forEach(Pe=>{Pe.play()}),et?rr():$s(),V=!1}),ja=()=>{tt.forEach(G=>{G.stop()}),p&&(Q(),p=!1),Tt(),Nt.forEach(G=>G.c(0,C)),Nt.length=0},go=(G,ht)=>{const yt=c[0];return yt!==void 0&&(yt.offset===void 0||yt.offset===0)?yt[G]=ht:c=[{offset:0,[G]:ht},...c],C};return C={parentAnimation:m,elements:xt,childAnimations:tt,id:P,animationFinish:Ve,from:go,to:(G,ht)=>{const yt=c[c.length-1];return yt!==void 0&&(yt.offset===void 0||yt.offset===1)?yt[G]=ht:c=[...c,{offset:1,[G]:ht}],C},fromTo:(G,ht,yt)=>go(G,ht).to(G,yt),parent:qr,play:Zi,pause:mo,stop:ja,destroy:dt,keyframes:ir,addAnimation:Ps,addElement:ki,update:kn,fill:Wi,direction:nr,iterations:Hr,duration:Gi,easing:jr,delay:Ur,getWebAnimations:ft,getKeyframes:nn,getFill:ye,getDirection:We,getDelay:Se,getIterations:Tn,getEasing:we,getDuration:Ne,afterAddRead:pt,afterAddWrite:st,afterClearStyles:qe,afterStyles:Jt,afterRemoveClass:Vt,afterAddClass:Rt,beforeAddRead:bt,beforeAddWrite:mt,beforeClearStyles:Lt,beforeStyles:kt,beforeRemoveClass:_t,beforeAddClass:Ct,onFinish:q,isRunning:Ut,progressStart:Os,progressStep:Ki,progressEnd:Kr}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const BP="ION-CONTENT",ww="ion-content",xw=".ion-content-scroll-host",Ew=`${ww}, ${xw}`,Ec=e=>e.tagName===BP,nb=async e=>Ec(e)?(await new Promise(t=>Jl(e,t)),e.getScrollElement()):e,ib=e=>{const t=e.querySelector(xw);return t||e.querySelector(Ew)},zP=e=>e.closest(Ew),CF=(e,t)=>Ec(e)?e.scrollToTop(t):Promise.resolve(e.scrollTo({top:0,left:0,behavior:t>0?"smooth":"auto"})),PF=(e,t,n,i)=>Ec(e)?e.scrollByPoint(t,n,i):Promise.resolve(e.scrollBy({top:n,left:t,behavior:i>0?"smooth":"auto"})),ob=e=>NA(e,ww),FP=e=>{if(Ec(e)){const t=e,n=t.scrollY;return t.scrollY=!1,n}else return e.style.setProperty("overflow","hidden"),!0},UP=(e,t)=>{Ec(e)?e.scrollY=t:e.style.removeProperty("overflow")};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Jf;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Jf||(Jf={}));var tp;(function(e){e.Body="body",e.Ionic="ionic",e.Native="native",e.None="none"})(tp||(tp={}));const jP={getEngine(){const e=YC();if(e!=null&&e.isPluginAvailable("Keyboard"))return e.Plugins.Keyboard},getResizeMode(){const e=this.getEngine();return e!=null&&e.getResizeMode?e.getResizeMode().catch(t=>{if(t.code!==Jf.Unimplemented)throw t}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Tw=e=>{if(Uo===void 0||e===tp.None||e===void 0)return null;const t=Uo.querySelector("ion-app");return t??Uo.body},rb=e=>{const t=Tw(e);return t===null?0:t.clientHeight},HP=async e=>{let t,n,i,o;const s=async()=>{const p=await jP.getResizeMode(),m=p===void 0?void 0:p.mode;t=()=>{o===void 0&&(o=rb(m)),i=!0,a(i,m)},n=()=>{i=!1,a(i,m)},Qe==null||Qe.addEventListener("keyboardWillShow",t),Qe==null||Qe.addEventListener("keyboardWillHide",n)},a=(p,m)=>{e&&e(p,c(m))},c=p=>{if(o===0||o===rb(p))return;const m=Tw(p);if(m!==null)return new Promise(b=>{const w=()=>{m.clientHeight===o&&(T.disconnect(),b())},T=new ResizeObserver(w);T.observe(m)})},u=()=>{Qe==null||Qe.removeEventListener("keyboardWillShow",t),Qe==null||Qe.removeEventListener("keyboardWillHide",n),t=n=void 0},f=()=>i;return await s(),{init:s,destroy:u,isKeyboardVisible:f}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qP="all 0.2s ease-in-out",sb=e=>{const t=document.querySelector(`${e}.ion-cloned-element`);if(t!==null)return t;const n=document.createElement(e);return n.classList.add("ion-cloned-element"),n.style.setProperty("display","none"),document.body.appendChild(n),n},ab=e=>{if(!e)return;const t=e.querySelectorAll("ion-toolbar");return{el:e,toolbars:Array.from(t).map(n=>{const i=n.querySelector("ion-title");return{el:n,background:n.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:i,innerTitleEl:i?i.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(n.querySelectorAll("ion-buttons"))}})}},WP=(e,t,n)=>{Yl(()=>{const i=e.scrollTop,o=Qy(1,1+-i/500,1.1);n.querySelector("ion-refresher.refresher-native")===null&&Lr(()=>{ZP(t.toolbars,o)})})},wm=(e,t)=>{e.collapse!=="fade"&&(t===void 0?e.style.removeProperty("--opacity-scale"):e.style.setProperty("--opacity-scale",t.toString()))},GP=(e,t,n)=>{if(!e[0].isIntersecting)return;const i=e[0].intersectionRatio>.9||n<=0?0:(1-e[0].intersectionRatio)*100/75;wm(t.el,i===1?void 0:i)},KP=(e,t,n,i)=>{Lr(()=>{const o=i.scrollTop;GP(e,t,o);const s=e[0],a=s.intersectionRect,c=a.width*a.height,u=s.rootBounds.width*s.rootBounds.height,f=c===0&&u===0,p=Math.abs(a.left-s.boundingClientRect.left),m=Math.abs(a.right-s.boundingClientRect.right),b=c>0&&(p>=5||m>=5);f||b||(s.isIntersecting?(_l(t,!1),_l(n)):(a.x===0&&a.y===0||a.width!==0&&a.height!==0)&&o>0&&(_l(t),_l(n,!1),wm(t.el)))})},_l=(e,t=!0)=>{const n=e.el;t?(n.classList.remove("header-collapse-condense-inactive"),n.removeAttribute("aria-hidden")):(n.classList.add("header-collapse-condense-inactive"),n.setAttribute("aria-hidden","true"))},ZP=(e=[],t=1,n=!1)=>{e.forEach(i=>{const o=i.ionTitleEl,s=i.innerTitleEl;!o||o.size!=="large"||(s.style.transition=n?qP:"",s.style.transform=`scale3d(${t}, ${t}, 1)`)})},lb=(e,t,n)=>{Yl(()=>{const i=e.scrollTop,o=t.clientHeight,s=n?n.clientHeight:0;if(n!==null&&i<s){t.style.setProperty("--opacity-scale","0"),e.style.setProperty("clip-path",`inset(${o}px 0px 0px 0px)`);return}const a=i-s,u=Qy(0,a/10,1);Lr(()=>{e.style.removeProperty("clip-path"),t.style.setProperty("--opacity-scale",u.toString())})})},YP="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:0px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}ion-header.header-ios:not(.header-collapse-main):has(~ion-content ion-header.header-ios[collapse=condense],~ion-content ion-header.header-ios.header-collapse-condense){opacity:0}",XP=YP,QP="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",JP=QP,tR=De(class extends Ce{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(t,n)=>{const i=this.scrollEl=await nb(t);this.contentScrollCallback=()=>{lb(this.scrollEl,this.el,n)},i.addEventListener("scroll",this.contentScrollCallback),lb(this.scrollEl,this.el,n)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=pm(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if(de(this)!=="ios")return;const{collapse:n}=this,i=n==="condense",o=n==="fade";if(this.destroyCollapsibleHeader(),i){const s=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),a=s?ib(s):null;Lr(()=>{const c=sb("ion-title");c.size="large",sb("ion-back-button")}),await this.setupCondenseHeader(a,s)}else if(o){const s=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),a=s?ib(s):null;if(!a){ob(this.el);return}const c=a.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(a,c)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(t,n){if(!t||!n){ob(this.el);return}if(typeof IntersectionObserver>"u")return;this.scrollEl=await nb(t);const i=n.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(i).find(c=>c.collapse!=="condense"),!this.collapsibleMainHeader)return;const o=ab(this.collapsibleMainHeader),s=ab(this.el);if(!o||!s)return;_l(o,!1),wm(o.el,0);const a=c=>{KP(c,o,s,this.scrollEl)};this.intersectionObserver=new IntersectionObserver(a,{root:t,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(s.toolbars[s.toolbars.length-1].el),this.contentScrollCallback=()=>{WP(this.scrollEl,s,t)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),Lr(()=>{this.collapsibleMainHeader!==void 0&&this.collapsibleMainHeader.classList.add("header-collapse-main")})}render(){const{translucent:t,inheritedAttributes:n}=this,i=de(this),o=this.collapse||"none",s=Bi("ion-menu",this.el)?"none":"banner";return rt(Fe,Object.assign({key:"9fa0af97b605f9fe98b13361bc3d1289745c549f",role:s,class:{[i]:!0,[`header-${i}`]:!0,"header-translucent":this.translucent,[`header-collapse-${o}`]:!0,[`header-translucent-${i}`]:this.translucent}},n),i==="ios"&&t&&rt("div",{key:"1a780d2625302f2465718e304bdd3794c89c9845",class:"header-background"}),rt("slot",{key:"b2b8557b44be40c590bfcc362ac4350f9f8b889e"}))}get el(){return this}static get style(){return{ios:XP,md:JP}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);function eR(){if(typeof customElements>"u")return;["ion-header"].forEach(t=>{switch(t){case"ion-header":customElements.get(t)||customElements.define(t,tR);break}})}const nR=eR;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const iR=e=>{try{if(e instanceof aR)return e.value;if(!oR()||typeof e!="string"||e==="")return e;if(e.includes("onload="))return"";const t=document.createDocumentFragment(),n=document.createElement("div");t.appendChild(n),n.innerHTML=e,sR.forEach(a=>{const c=t.querySelectorAll(a);for(let u=c.length-1;u>=0;u--){const f=c[u];f.parentNode?f.parentNode.removeChild(f):t.removeChild(f);const p=np(f);for(let m=0;m<p.length;m++)ep(p[m])}});const i=np(t);for(let a=0;a<i.length;a++)ep(i[a]);const o=document.createElement("div");o.appendChild(t);const s=o.querySelector("div");return s!==null?s.innerHTML:o.innerHTML}catch(t){return console.error(t),""}},ep=e=>{if(e.nodeType&&e.nodeType!==1)return;if(typeof NamedNodeMap<"u"&&!(e.attributes instanceof NamedNodeMap)){e.remove();return}for(let n=e.attributes.length-1;n>=0;n--){const i=e.attributes.item(n),o=i.name;if(!rR.includes(o.toLowerCase())){e.removeAttribute(o);continue}const s=i.value,a=e[o];(s!=null&&s.toLowerCase().includes("javascript:")||a!=null&&a.toLowerCase().includes("javascript:"))&&e.removeAttribute(o)}const t=np(e);for(let n=0;n<t.length;n++)ep(t[n])},np=e=>e.children!=null?e.children:e.childNodes,oR=()=>{var e;const t=window,n=(e=t==null?void 0:t.Ionic)===null||e===void 0?void 0:e.config;return n?n.get?n.get("sanitizerEnabled",!0):n.sanitizerEnabled===!0||n.sanitizerEnabled===void 0:!0},rR=["class","id","href","src","name","slot"],sR=["script","style","iframe","meta","link","object","embed"];class aR{constructor(t){this.value=t}}const lR=!1;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cR=jC;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const uR=":host{--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff);background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit)}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.button-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;-webkit-padding-start:0.7em;padding-inline-start:0.7em;-webkit-padding-end:0.7em;padding-inline-end:0.7em;padding-top:0;padding-bottom:0;display:inline-block;position:relative;width:100%;height:100%;border:0;outline:none;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-box-sizing:border-box;box-sizing:border-box}.button-inner{display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.horizontal-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%}::slotted(*){-ms-flex-negative:0;flex-shrink:0}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:5px;margin-inline-end:5px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:5px;margin-inline-start:5px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}::slotted([slot=icon-only]){padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px;margin-top:0;margin-bottom:0;min-width:0.9em;font-size:1.8em}:host(.item-option-expandable){-ms-flex-negative:0;flex-shrink:0;-webkit-transition-duration:0;transition-duration:0;-webkit-transition-property:none;transition-property:none;-webkit-transition-timing-function:cubic-bezier(0.65, 0.05, 0.36, 1);transition-timing-function:cubic-bezier(0.65, 0.05, 0.36, 1)}:host(.item-option-disabled){pointer-events:none}:host(.item-option-disabled) .button-native{cursor:default;opacity:0.5;pointer-events:none}:host{font-size:clamp(16px, 1rem, 35.2px)}:host(.ion-activated){background:var(--ion-color-primary-shade, #3171e0)}:host(.ion-color.ion-activated){background:var(--ion-color-shade)}",dR=uR,hR=":host{--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff);background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit)}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.button-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;-webkit-padding-start:0.7em;padding-inline-start:0.7em;-webkit-padding-end:0.7em;padding-inline-end:0.7em;padding-top:0;padding-bottom:0;display:inline-block;position:relative;width:100%;height:100%;border:0;outline:none;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-box-sizing:border-box;box-sizing:border-box}.button-inner{display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.horizontal-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%}::slotted(*){-ms-flex-negative:0;flex-shrink:0}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:5px;margin-inline-end:5px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:5px;margin-inline-start:5px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}::slotted([slot=icon-only]){padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px;margin-top:0;margin-bottom:0;min-width:0.9em;font-size:1.8em}:host(.item-option-expandable){-ms-flex-negative:0;flex-shrink:0;-webkit-transition-duration:0;transition-duration:0;-webkit-transition-property:none;transition-property:none;-webkit-transition-timing-function:cubic-bezier(0.65, 0.05, 0.36, 1);transition-timing-function:cubic-bezier(0.65, 0.05, 0.36, 1)}:host(.item-option-disabled){pointer-events:none}:host(.item-option-disabled) .button-native{cursor:default;opacity:0.5;pointer-events:none}:host{font-size:0.875rem;font-weight:500;text-transform:uppercase}",fR=hR,pR=De(class extends Ce{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.onClick=t=>{t.target.closest("ion-item-option")&&t.preventDefault()},this.color=void 0,this.disabled=!1,this.download=void 0,this.expandable=!1,this.href=void 0,this.rel=void 0,this.target=void 0,this.type="button"}render(){const{disabled:t,expandable:n,href:i}=this,o=i===void 0?"button":"a",s=de(this),a=o==="button"?{type:this.type}:{download:this.download,href:this.href,target:this.target};return rt(Fe,{key:"763c3a7571b143d1068d85103ccab403bc48abae",onClick:this.onClick,class:pi(this.color,{[s]:!0,"item-option-disabled":t,"item-option-expandable":n,"ion-activatable":!0})},rt(o,Object.assign({key:"cb199c2ccd38abaad3460f184af3093bf08546cc"},a,{class:"button-native",part:"native",disabled:t}),rt("span",{key:"f3ce9f1d343890c6f55f2609127f1e5113a2eedf",class:"button-inner"},rt("slot",{key:"cd9434883c0bdb4129fb6f49970d49710653a09a",name:"top"}),rt("div",{key:"764529c5f4b3d82105ce55885e8f121a91e8bc4a",class:"horizontal-wrapper"},rt("slot",{key:"5bbd7b9ed9f35c8bf422c3134a1a097e174ad6df",name:"start"}),rt("slot",{key:"1e70a781cdf4ffcefb1dea70abe43655d7857c4b",name:"icon-only"}),rt("slot",{key:"c3205e9b1577a56786c10a8b5b420010b5fe53fc"}),rt("slot",{key:"6bae6c98cd8d8526a203af47ca8e83753e1e1cb6",name:"end"})),rt("slot",{key:"466cc32cdf9cbbdbb58e4b29144215cf2984c0d6",name:"bottom"})),s==="md"&&rt("ion-ripple-effect",{key:"b5c54b801008b307ca8f718a41101be3e8d1d938"})))}get el(){return this}static get style(){return{ios:dR,md:fR}}},[33,"ion-item-option",{color:[513],disabled:[4],download:[1],expandable:[4],href:[1],rel:[1],target:[1],type:[1]}]);function mR(){if(typeof customElements>"u")return;["ion-item-option","ion-ripple-effect"].forEach(t=>{switch(t){case"ion-item-option":customElements.get(t)||customElements.define(t,pR);break;case"ion-ripple-effect":customElements.get(t)||ks();break}})}const gR=mR;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const vR="ion-item-options{top:0;right:0;-ms-flex-pack:end;justify-content:flex-end;display:none;position:absolute;height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1}:host-context([dir=rtl]) ion-item-options{-ms-flex-pack:start;justify-content:flex-start}:host-context([dir=rtl]) ion-item-options:not(.item-options-end){right:auto;left:0;-ms-flex-pack:end;justify-content:flex-end}[dir=rtl] ion-item-options{-ms-flex-pack:start;justify-content:flex-start}[dir=rtl] ion-item-options:not(.item-options-end){right:auto;left:0;-ms-flex-pack:end;justify-content:flex-end}@supports selector(:dir(rtl)){ion-item-options:dir(rtl){-ms-flex-pack:start;justify-content:flex-start}ion-item-options:dir(rtl):not(.item-options-end){right:auto;left:0;-ms-flex-pack:end;justify-content:flex-end}}.item-options-start{right:auto;left:0;-ms-flex-pack:start;justify-content:flex-start}:host-context([dir=rtl]) .item-options-start{-ms-flex-pack:end;justify-content:flex-end}[dir=rtl] .item-options-start{-ms-flex-pack:end;justify-content:flex-end}@supports selector(:dir(rtl)){.item-options-start:dir(rtl){-ms-flex-pack:end;justify-content:flex-end}}[dir=ltr] .item-options-start ion-item-option:first-child,[dir=rtl] .item-options-start ion-item-option:last-child{padding-left:var(--ion-safe-area-left)}[dir=ltr] .item-options-end ion-item-option:last-child,[dir=rtl] .item-options-end ion-item-option:first-child{padding-right:var(--ion-safe-area-right)}:host-context([dir=rtl]) .item-sliding-active-slide.item-sliding-active-options-start ion-item-options:not(.item-options-end){width:100%;visibility:visible}[dir=rtl] .item-sliding-active-slide.item-sliding-active-options-start ion-item-options:not(.item-options-end){width:100%;visibility:visible}@supports selector(:dir(rtl)){.item-sliding-active-slide:dir(rtl).item-sliding-active-options-start ion-item-options:not(.item-options-end){width:100%;visibility:visible}}.item-sliding-active-slide ion-item-options{display:-ms-flexbox;display:flex;visibility:hidden}.item-sliding-active-slide.item-sliding-active-options-start .item-options-start,.item-sliding-active-slide.item-sliding-active-options-end ion-item-options:not(.item-options-start){width:100%;visibility:visible}.item-options-ios{border-bottom-width:0;border-bottom-style:solid;border-bottom-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)))}.item-options-ios.item-options-end{border-bottom-width:0.55px}.list-ios-lines-none .item-options-ios{border-bottom-width:0}.list-ios-lines-full .item-options-ios,.list-ios-lines-inset .item-options-ios.item-options-end{border-bottom-width:0.55px}",bR=vR,_R="ion-item-options{top:0;right:0;-ms-flex-pack:end;justify-content:flex-end;display:none;position:absolute;height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1}:host-context([dir=rtl]) ion-item-options{-ms-flex-pack:start;justify-content:flex-start}:host-context([dir=rtl]) ion-item-options:not(.item-options-end){right:auto;left:0;-ms-flex-pack:end;justify-content:flex-end}[dir=rtl] ion-item-options{-ms-flex-pack:start;justify-content:flex-start}[dir=rtl] ion-item-options:not(.item-options-end){right:auto;left:0;-ms-flex-pack:end;justify-content:flex-end}@supports selector(:dir(rtl)){ion-item-options:dir(rtl){-ms-flex-pack:start;justify-content:flex-start}ion-item-options:dir(rtl):not(.item-options-end){right:auto;left:0;-ms-flex-pack:end;justify-content:flex-end}}.item-options-start{right:auto;left:0;-ms-flex-pack:start;justify-content:flex-start}:host-context([dir=rtl]) .item-options-start{-ms-flex-pack:end;justify-content:flex-end}[dir=rtl] .item-options-start{-ms-flex-pack:end;justify-content:flex-end}@supports selector(:dir(rtl)){.item-options-start:dir(rtl){-ms-flex-pack:end;justify-content:flex-end}}[dir=ltr] .item-options-start ion-item-option:first-child,[dir=rtl] .item-options-start ion-item-option:last-child{padding-left:var(--ion-safe-area-left)}[dir=ltr] .item-options-end ion-item-option:last-child,[dir=rtl] .item-options-end ion-item-option:first-child{padding-right:var(--ion-safe-area-right)}:host-context([dir=rtl]) .item-sliding-active-slide.item-sliding-active-options-start ion-item-options:not(.item-options-end){width:100%;visibility:visible}[dir=rtl] .item-sliding-active-slide.item-sliding-active-options-start ion-item-options:not(.item-options-end){width:100%;visibility:visible}@supports selector(:dir(rtl)){.item-sliding-active-slide:dir(rtl).item-sliding-active-options-start ion-item-options:not(.item-options-end){width:100%;visibility:visible}}.item-sliding-active-slide ion-item-options{display:-ms-flexbox;display:flex;visibility:hidden}.item-sliding-active-slide.item-sliding-active-options-start .item-options-start,.item-sliding-active-slide.item-sliding-active-options-end ion-item-options:not(.item-options-start){width:100%;visibility:visible}.item-options-md{border-bottom-width:0;border-bottom-style:solid;border-bottom-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))))}.list-md-lines-none .item-options-md{border-bottom-width:0}.list-md-lines-full .item-options-md,.list-md-lines-inset .item-options-md.item-options-end{border-bottom-width:1px}",yR=_R,wR=De(class extends Ce{constructor(){super(),this.__registerHost(),this.ionSwipe=ke(this,"ionSwipe",7),this.side="end"}async fireSwipeEvent(){this.ionSwipe.emit({side:this.side})}render(){const t=de(this),n=Wf(this.side);return rt(Fe,{key:"3dca0415ec2942ac8e87a057e26bcb290a892f65",class:{[t]:!0,[`item-options-${t}`]:!0,"item-options-start":!n,"item-options-end":n}})}get el(){return this}static get style(){return{ios:bR,md:yR}}},[32,"ion-item-options",{side:[1],fireSwipeEvent:[64]}]);function xR(){if(typeof customElements>"u")return;["ion-item-options"].forEach(t=>{switch(t){case"ion-item-options":customElements.get(t)||customElements.define(t,wR);break}})}const ER=xR;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const TR=(e,t,n)=>{if(typeof MutationObserver>"u")return;const i=new MutationObserver(o=>{n(kR(o,t))});return i.observe(e,{childList:!0,subtree:!0}),i},kR=(e,t)=>{let n;return e.forEach(i=>{for(let o=0;o<i.addedNodes.length;o++)n=IR(i.addedNodes[o],t)||n}),n},IR=(e,t)=>{if(e.nodeType!==1)return;const n=e;return(n.tagName===t.toUpperCase()?[n]:Array.from(n.querySelectorAll(t))).find(o=>o.value===n.value)},SR="ion-item-sliding{display:block;position:relative;width:100%;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}ion-item-sliding .item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.item-sliding-active-slide .item{position:relative;-webkit-transition:-webkit-transform 500ms cubic-bezier(0.36, 0.66, 0.04, 1);transition:-webkit-transform 500ms cubic-bezier(0.36, 0.66, 0.04, 1);transition:transform 500ms cubic-bezier(0.36, 0.66, 0.04, 1);transition:transform 500ms cubic-bezier(0.36, 0.66, 0.04, 1), -webkit-transform 500ms cubic-bezier(0.36, 0.66, 0.04, 1);opacity:1;z-index:2;pointer-events:none;will-change:transform}.item-sliding-closing ion-item-options{pointer-events:none}.item-sliding-active-swipe-end .item-options-end .item-option-expandable{padding-left:100%;-ms-flex-order:1;order:1;-webkit-transition-duration:0.6s;transition-duration:0.6s;-webkit-transition-property:padding-left;transition-property:padding-left}:host-context([dir=rtl]) .item-sliding-active-swipe-end .item-options-end .item-option-expandable{-ms-flex-order:-1;order:-1}[dir=rtl] .item-sliding-active-swipe-end .item-options-end .item-option-expandable{-ms-flex-order:-1;order:-1}@supports selector(:dir(rtl)){.item-sliding-active-swipe-end .item-options-end .item-option-expandable:dir(rtl){-ms-flex-order:-1;order:-1}}.item-sliding-active-swipe-start .item-options-start .item-option-expandable{padding-right:100%;-ms-flex-order:-1;order:-1;-webkit-transition-duration:0.6s;transition-duration:0.6s;-webkit-transition-property:padding-right;transition-property:padding-right}:host-context([dir=rtl]) .item-sliding-active-swipe-start .item-options-start .item-option-expandable{-ms-flex-order:1;order:1}[dir=rtl] .item-sliding-active-swipe-start .item-options-start .item-option-expandable{-ms-flex-order:1;order:1}@supports selector(:dir(rtl)){.item-sliding-active-swipe-start .item-options-start .item-option-expandable:dir(rtl){-ms-flex-order:1;order:1}}",AR=SR,cb=30,ub=.55;let Ao;const CR=De(class extends Ce{constructor(){super(),this.__registerHost(),this.ionDrag=ke(this,"ionDrag",7),this.item=null,this.openAmount=0,this.initialOpenAmount=0,this.optsWidthRightSide=0,this.optsWidthLeftSide=0,this.sides=0,this.optsDirty=!0,this.contentEl=null,this.initialContentScrollY=!0,this.state=2,this.disabled=!1}disabledChanged(){this.gesture&&this.gesture.enable(!this.disabled)}async connectedCallback(){const{el:t}=this;this.item=t.querySelector("ion-item"),this.contentEl=zP(t),this.mutationObserver=TR(t,"ion-item-option",async()=>{await this.updateOptions()}),await this.updateOptions(),this.gesture=(await An(()=>Promise.resolve().then(()=>e2),void 0)).createGesture({el:t,gestureName:"item-swipe",gesturePriority:100,threshold:5,canStart:n=>this.canStart(n),onStart:()=>this.onStart(),onMove:n=>this.onMove(n),onEnd:n=>this.onEnd(n)}),this.disabledChanged()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.item=null,this.leftOptions=this.rightOptions=void 0,Ao===this.el&&(Ao=void 0),this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=void 0)}getOpenAmount(){return Promise.resolve(this.openAmount)}getSlidingRatio(){return Promise.resolve(this.getSlidingRatioSync())}async open(t){var n;if((this.item=(n=this.item)!==null&&n!==void 0?n:this.el.querySelector("ion-item"))===null)return;const o=this.getOptions(t);if(!o)return;t===void 0&&(t=o===this.leftOptions?"start":"end"),t=Wf(t)?"end":"start";const s=this.openAmount<0,a=this.openAmount>0;s&&o===this.leftOptions||a&&o===this.rightOptions||(this.closeOpened(),this.state=4,requestAnimationFrame(()=>{this.calculateOptsWidth();const c=t==="end"?this.optsWidthRightSide:-this.optsWidthLeftSide;Ao=this.el,this.setOpenAmount(c,!1),this.state=t==="end"?8:16}))}async close(){this.setOpenAmount(0,!0)}async closeOpened(){return Ao!==void 0?(Ao.close(),Ao=void 0,!0):!1}getOptions(t){return t===void 0?this.leftOptions||this.rightOptions:t==="start"?this.leftOptions:this.rightOptions}async updateOptions(){const t=this.el.querySelectorAll("ion-item-options");let n=0;this.leftOptions=this.rightOptions=void 0;for(let i=0;i<t.length;i++){const o=t.item(i),s=o.componentOnReady!==void 0?await o.componentOnReady():o;(Wf(s.side)?"end":"start")==="start"?(this.leftOptions=s,n|=1):(this.rightOptions=s,n|=2)}this.optsDirty=!0,this.sides=n}canStart(t){if(document.dir==="rtl"?window.innerWidth-t.startX<15:t.startX<15)return!1;const o=Ao;return o&&o!==this.el&&this.closeOpened(),!!(this.rightOptions||this.leftOptions)}onStart(){this.item=this.el.querySelector("ion-item");const{contentEl:t}=this;t&&(this.initialContentScrollY=FP(t)),Ao=this.el,this.tmr!==void 0&&(clearTimeout(this.tmr),this.tmr=void 0),this.openAmount===0&&(this.optsDirty=!0,this.state=4),this.initialOpenAmount=this.openAmount,this.item&&(this.item.style.transition="none")}onMove(t){this.optsDirty&&this.calculateOptsWidth();let n=this.initialOpenAmount-t.deltaX;switch(this.sides){case 2:n=Math.max(0,n);break;case 1:n=Math.min(0,n);break;case 3:break;case 0:return;default:console.warn("invalid ItemSideFlags value",this.sides);break}let i;n>this.optsWidthRightSide?(i=this.optsWidthRightSide,n=i+(n-i)*ub):n<-this.optsWidthLeftSide&&(i=-this.optsWidthLeftSide,n=i+(n-i)*ub),this.setOpenAmount(n,!1)}onEnd(t){const{contentEl:n,initialContentScrollY:i}=this;n&&UP(n,i);const o=t.velocityX;let s=this.openAmount>0?this.optsWidthRightSide:-this.optsWidthLeftSide;const a=this.openAmount>0==!(o<0),c=Math.abs(o)>.3,u=Math.abs(this.openAmount)<Math.abs(s/2);PR(a,c,u)&&(s=0);const f=this.state;this.setOpenAmount(s,!0),f&32&&this.rightOptions?this.rightOptions.fireSwipeEvent():f&64&&this.leftOptions&&this.leftOptions.fireSwipeEvent()}calculateOptsWidth(){this.optsWidthRightSide=0,this.rightOptions&&(this.rightOptions.style.display="flex",this.optsWidthRightSide=this.rightOptions.offsetWidth,this.rightOptions.style.display=""),this.optsWidthLeftSide=0,this.leftOptions&&(this.leftOptions.style.display="flex",this.optsWidthLeftSide=this.leftOptions.offsetWidth,this.leftOptions.style.display=""),this.optsDirty=!1}setOpenAmount(t,n){if(this.tmr!==void 0&&(clearTimeout(this.tmr),this.tmr=void 0),!this.item)return;const{el:i}=this,o=this.item.style;if(this.openAmount=t,n&&(o.transition=""),t>0)this.state=t>=this.optsWidthRightSide+cb?40:8;else if(t<0)this.state=t<=-this.optsWidthLeftSide-cb?80:16;else{i.classList.add("item-sliding-closing"),this.gesture&&this.gesture.enable(!1),this.tmr=setTimeout(()=>{this.state=2,this.tmr=void 0,this.gesture&&this.gesture.enable(!this.disabled),i.classList.remove("item-sliding-closing")},600),Ao=void 0,o.transform="";return}o.transform=`translate3d(${-t}px,0,0)`,this.ionDrag.emit({amount:t,ratio:this.getSlidingRatioSync()})}getSlidingRatioSync(){return this.openAmount>0?this.openAmount/this.optsWidthRightSide:this.openAmount<0?this.openAmount/this.optsWidthLeftSide:0}render(){const t=de(this);return rt(Fe,{key:"7f191e38bf717e6ccb246aa7b9fbd29d01e64677",class:{[t]:!0,"item-sliding-active-slide":this.state!==2,"item-sliding-active-options-end":(this.state&8)!==0,"item-sliding-active-options-start":(this.state&16)!==0,"item-sliding-active-swipe-end":(this.state&32)!==0,"item-sliding-active-swipe-start":(this.state&64)!==0}})}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return AR}},[0,"ion-item-sliding",{disabled:[4],state:[32],getOpenAmount:[64],getSlidingRatio:[64],open:[64],close:[64],closeOpened:[64]},void 0,{disabled:["disabledChanged"]}]),PR=(e,t,n)=>!t&&n||e&&t;function RR(){if(typeof customElements>"u")return;["ion-item-sliding"].forEach(t=>{switch(t){case"ion-item-sliding":customElements.get(t)||customElements.define(t,CR);break}})}const LR=RR;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const OR=ZC;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const $R="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}.list-ios.list-inset ion-item:only-child,.list-ios.list-inset ion-item:not(:only-of-type):last-of-type,.list-ios.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-ios-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 0.55px 0}.list-ios-lines-inset .item-lines-default{--inner-border-width:0 0 0.55px 0;--border-width:0px}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",MR=$R,DR="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}@supports (inset-inline-start: 0){.list-md>.input:last-child::after{inset-inline-start:0}}@supports not (inset-inline-start: 0){.list-md>.input:last-child::after{left:0}:host-context([dir=rtl]) .list-md>.input:last-child::after{left:unset;right:unset;right:0}[dir=rtl] .list-md>.input:last-child::after{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.list-md>.input:last-child::after:dir(rtl){left:unset;right:unset;right:0}}}.list-md.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}.list-md.list-inset ion-item:not(:only-of-type):last-of-type,.list-md.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-md.list-inset ion-item:only-child{--border-width:0;--inner-border-width:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-md-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 1px 0}.list-md-lines-inset .item-lines-default{--inner-border-width:0 0 1px 0;--border-width:0px}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",NR=DR,VR=De(class extends Ce{constructor(){super(),this.__registerHost(),this.lines=void 0,this.inset=!1}async closeSlidingItems(){const t=this.el.querySelector("ion-item-sliding");return t!=null&&t.closeOpened?t.closeOpened():!1}render(){const t=de(this),{lines:n,inset:i}=this;return rt(Fe,{key:"3df401155114c7a39c81f201bf8a181d07e8d4c8",role:"list",class:{[t]:!0,[`list-${t}`]:!0,"list-inset":i,[`list-lines-${n}`]:n!==void 0,[`list-${t}-lines-${n}`]:n!==void 0}})}get el(){return this}static get style(){return{ios:MR,md:NR}}},[32,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);function BR(){if(typeof customElements>"u")return;["ion-list"].forEach(t=>{switch(t){case"ion-list":customElements.get(t)||customElements.define(t,VR);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const zR=BR;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Qu=(e,t,n,i,o)=>UR(e[1],t[1],n[1],i[1],o).map(s=>FR(e[0],t[0],n[0],i[0],s)),FR=(e,t,n,i,o)=>{const s=3*t*Math.pow(o-1,2),a=-3*n*o+3*n+i*o,c=e*Math.pow(o-1,3);return o*(s+o*a)-c},UR=(e,t,n,i,o)=>(e-=o,t-=o,n-=o,i-=o,HR(i-3*n+3*t-e,3*n-6*t+3*e,3*t-3*e,e).filter(a=>a>=0&&a<=1)),jR=(e,t,n)=>{const i=t*t-4*e*n;return i<0?[]:[(-t+Math.sqrt(i))/(2*e),(-t-Math.sqrt(i))/(2*e)]},HR=(e,t,n,i)=>{if(e===0)return jR(t,n,i);t/=e,n/=e,i/=e;const o=(3*n-t*t)/3,s=(2*t*t*t-9*t*n+27*i)/27;if(o===0)return[Math.pow(-s,1/3)];if(s===0)return[Math.sqrt(-o),-Math.sqrt(-o)];const a=Math.pow(s/2,2)+Math.pow(o/3,3);if(a===0)return[Math.pow(s/2,1/2)-t/3];if(a>0)return[Math.pow(-(s/2)+Math.sqrt(a),1/3)-Math.pow(s/2+Math.sqrt(a),1/3)-t/3];const c=Math.sqrt(Math.pow(-(o/3),3)),u=Math.acos(-(s/(2*Math.sqrt(Math.pow(-(o/3),3))))),f=2*Math.pow(c,1/3);return[f*Math.cos(u/3)-t/3,f*Math.cos((u+2*Math.PI)/3)-t/3,f*Math.cos((u+4*Math.PI)/3)-t/3]},kw=1,Iw=2,Ju=3;class ip{constructor(t,n){this.component=t,this.params=n,this.state=kw}async init(t){if(this.state=Iw,!this.element){const n=this.component;this.element=await dw(this.delegate,t,n,["ion-page","ion-page-invisible"],this.params)}}_destroy(){ti(this.state!==Ju,"view state must be ATTACHED");const t=this.element;t&&(this.delegate?this.delegate.removeViewFromDom(t.parentElement,t):t.remove()),this.nav=void 0,this.state=Ju}}const db=(e,t,n)=>!e||e.component!==t?!1:Jy(e.params,n),hb=(e,t)=>e?e instanceof ip?e:new ip(e,t):null,qR=e=>e.map(t=>t instanceof ip?t:"component"in t?hb(t.component,t.componentProps===null?void 0:t.componentProps):hb(t,void 0)).filter(t=>t!==null),WR=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",GR=WR,KR=De(class extends Ce{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ke(this,"ionNavWillLoad",7),this.ionNavWillChange=ke(this,"ionNavWillChange",3),this.ionNavDidChange=ke(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const t=de(this);this.swipeGesture=ue.getBoolean("swipeBackEnabled",t==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await An(()=>import("./swipe-back-48d60da2.js"),[])).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const t of this.views)Do(t.element,Hh),t._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(t,n,i,o){return this.insert(-1,t,n,i,o)}insert(t,n,i,o,s){return this.insertPages(t,[{component:n,componentProps:i}],o,s)}insertPages(t,n,i,o){return this.queueTrns({insertStart:t,insertViews:n,opts:i},o)}pop(t,n){return this.removeIndex(-1,1,t,n)}popTo(t,n,i){const o={removeStart:-1,removeCount:-1,opts:n};return typeof t=="object"&&t.component?(o.removeView=t,o.removeStart=1):typeof t=="number"&&(o.removeStart=t+1),this.queueTrns(o,i)}popToRoot(t,n){return this.removeIndex(1,-1,t,n)}removeIndex(t,n=1,i,o){return this.queueTrns({removeStart:t,removeCount:n,opts:i},o)}setRoot(t,n,i,o){return this.setPages([{component:t,componentProps:n}],i,o)}setPages(t,n,i){return n??(n={}),n.animated!==!0&&(n.animated=!1),this.queueTrns({insertStart:0,insertViews:t,removeStart:0,removeCount:-1,opts:n},i)}setRouteId(t,n,i,o){const s=this.getActiveSync();if(db(s,t,n))return Promise.resolve({changed:!1,element:s.element});let a;const c=new Promise(p=>a=p);let u;const f={updateURL:!1,viewIsReady:p=>{let m;const b=new Promise(w=>m=w);return a({changed:!0,element:p,markVisible:async()=>{m(),await u}}),b}};if(i==="root")u=this.setRoot(t,n,f);else{const p=this.views.find(m=>db(m,t,n));p?u=this.popTo(p,Object.assign(Object.assign({},f),{direction:"back",animationBuilder:o})):i==="forward"?u=this.push(t,n,Object.assign(Object.assign({},f),{animationBuilder:o})):i==="back"&&(u=this.setRoot(t,n,Object.assign(Object.assign({},f),{direction:"back",animated:!0,animationBuilder:o})))}return c}async getRouteId(){const t=this.getActiveSync();if(t)return{id:t.element.tagName,params:t.params,element:t.element}}async getActive(){return this.getActiveSync()}async getByIndex(t){return this.views[t]}async canGoBack(t){return this.canGoBackSync(t)}async getPrevious(t){return this.getPreviousSync(t)}getLength(){return this.views.length}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(t=this.getActiveSync()){return!!(t&&this.getPreviousSync(t))}getPreviousSync(t=this.getActiveSync()){if(!t)return;const n=this.views,i=n.indexOf(t);return i>0?n[i-1]:void 0}async queueTrns(t,n){var i,o;if(this.isTransitioning&&(!((i=t.opts)===null||i===void 0)&&i.skipIfBusy))return!1;const s=new Promise((a,c)=>{t.resolve=a,t.reject=c});if(t.done=n,t.opts&&t.opts.updateURL!==!1&&this.useRouter){const a=document.querySelector("ion-router");if(a){const c=await a.canTransition();if(c===!1)return!1;if(typeof c=="string")return a.push(c,t.opts.direction||"back"),!1}}return((o=t.insertViews)===null||o===void 0?void 0:o.length)===0&&(t.insertViews=void 0),this.transInstr.push(t),this.nextTrns(),s}success(t,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}if(n.done&&n.done(t.hasCompleted,t.requiresTransition,t.enteringView,t.leavingView,t.direction),n.resolve(t.hasCompleted),n.opts.updateURL!==!1&&this.useRouter){const i=document.querySelector("ion-router");if(i){const o=t.direction==="back"?"back":"forward";i.navChanged(o)}}}failed(t,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}this.transInstr.length=0,this.fireError(t,n)}fireError(t,n){n.done&&n.done(!1,!1,t),n.reject&&!this.destroyed?n.reject(t):n.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const t=this.transInstr.shift();return t?(this.runTransition(t),!0):!1}async runTransition(t){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(t);const n=this.getActiveSync(),i=this.getEnteringView(t,n);if(!n&&!i)throw new Error("no views in the stack to be removed");i&&i.state===kw&&await i.init(this.el),this.postViewInit(i,n,t);const o=(t.enteringRequiresTransition||t.leavingRequiresTransition)&&i!==n;o&&t.opts&&n&&(t.opts.direction==="back"&&(t.opts.animationBuilder=t.opts.animationBuilder||(i==null?void 0:i.animationBuilder)),n.animationBuilder=t.opts.animationBuilder);let s;o?s=await this.transition(i,n,t):s={hasCompleted:!0,requiresTransition:!1},this.success(s,t),this.ionNavDidChange.emit()}catch(n){this.failed(n,t)}this.isTransitioning=!1,this.nextTrns()}prepareTI(t){var n,i,o;const s=this.views.length;if((n=t.opts)!==null&&n!==void 0||(t.opts={}),(i=(o=t.opts).delegate)!==null&&i!==void 0||(o.delegate=this.delegate),t.removeView!==void 0){ti(t.removeStart!==void 0,"removeView needs removeStart"),ti(t.removeCount!==void 0,"removeView needs removeCount");const u=this.views.indexOf(t.removeView);if(u<0)throw new Error("removeView was not found");t.removeStart+=u}t.removeStart!==void 0&&(t.removeStart<0&&(t.removeStart=s-1),t.removeCount<0&&(t.removeCount=s-t.removeStart),t.leavingRequiresTransition=t.removeCount>0&&t.removeStart+t.removeCount===s),t.insertViews&&((t.insertStart<0||t.insertStart>s)&&(t.insertStart=s),t.enteringRequiresTransition=t.insertStart===s);const a=t.insertViews;if(!a)return;ti(a.length>0,"length can not be zero");const c=qR(a);if(c.length===0)throw new Error("invalid views to insert");for(const u of c){u.delegate=t.opts.delegate;const f=u.nav;if(f&&f!==this)throw new Error("inserted view was already inserted");if(u.state===Ju)throw new Error("inserted view was already destroyed")}t.insertViews=c}getEnteringView(t,n){const i=t.insertViews;if(i!==void 0)return i[i.length-1];const o=t.removeStart;if(o!==void 0){const s=this.views,a=o+t.removeCount;for(let c=s.length-1;c>=0;c--){const u=s[c];if((c<o||c>=a)&&u!==n)return u}}}postViewInit(t,n,i){var o,s,a;ti(n||t,"Both leavingView and enteringView are null"),ti(i.resolve,"resolve must be valid"),ti(i.reject,"reject must be valid");const c=i.opts,{insertViews:u,removeStart:f,removeCount:p}=i;let m;if(f!==void 0&&p!==void 0){ti(f>=0,"removeStart can not be negative"),ti(p>=0,"removeCount can not be negative"),m=[];for(let w=f;w<f+p;w++){const T=this.views[w];T!==void 0&&T!==t&&T!==n&&m.push(T)}(o=c.direction)!==null&&o!==void 0||(c.direction="back")}const b=this.views.length+((s=u==null?void 0:u.length)!==null&&s!==void 0?s:0)-(p??0);if(ti(b>=0,"final balance can not be negative"),b===0)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(u){let w=i.insertStart;for(const T of u)this.insertViewAt(T,w),w++;i.enteringRequiresTransition&&((a=c.direction)!==null&&a!==void 0||(c.direction="forward"))}if(m&&m.length>0){for(const w of m)Do(w.element,Vd),Do(w.element,Bd),Do(w.element,Hh);for(const w of m)this.destroyView(w)}}async transition(t,n,i){const o=i.opts,s=o.progressAnimation?m=>{m!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,m.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),m.progressEnd(0,0,0)):this.sbAni=m}:void 0,a=de(this),c=t.element,u=n&&n.element,f=Object.assign(Object.assign({mode:a,showGoBack:this.canGoBackSync(t),baseEl:this.el,progressCallback:s,animated:this.animated&&ue.getBoolean("animated",!0),enteringEl:c,leavingEl:u},o),{animationBuilder:o.animationBuilder||this.animation||ue.get("navAnimation")}),{hasCompleted:p}=await vw(f);return this.transitionFinish(p,t,n,o)}transitionFinish(t,n,i,o){const s=t?n:i;return s&&this.unmountInactiveViews(s),{hasCompleted:t,requiresTransition:!0,enteringView:n,leavingView:i,direction:o.direction}}insertViewAt(t,n){const i=this.views,o=i.indexOf(t);o>-1?(ti(t.nav===this,"view is not part of the nav"),i.splice(o,1),i.splice(n,0,t)):(ti(!t.nav,"nav is used"),t.nav=this,i.splice(n,0,t))}removeView(t){ti(t.state===Iw||t.state===Ju,"view state should be loaded or destroyed");const n=this.views,i=n.indexOf(t);ti(i>-1,"view must be part of the stack"),i>=0&&n.splice(i,1)}destroyView(t){t._destroy(),this.removeView(t)}unmountInactiveViews(t){if(this.destroyed)return;const n=this.views,i=n.indexOf(t);for(let o=n.length-1;o>=0;o--){const s=n[o],a=s.element;a&&(o>i?(Do(a,Hh),this.destroyView(s)):o<i&&Qf(a,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(t){this.sbAni&&this.sbAni.progressStep(t)}onEnd(t,n,i){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let o=t?-.001:.001;t?o+=Qu([0,0],[.32,.72],[0,1],[1,1],n)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),o+=Qu([0,0],[1,0],[.68,.28],[1,1],n)[0]),this.sbAni.progressEnd(t?1:0,o,i)}else this.gestureOrAnimationInProgress=!1}render(){return rt("slot",{key:"6894eccc60e446294b01261477691ea1e88348ab"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return GR}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);function ZR(){if(typeof customElements>"u")return;["ion-nav"].forEach(t=>{switch(t){case"ion-nav":customElements.get(t)||customElements.define(t,KR);break}})}const YR=ZR;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ns=(e,t,n,i)=>{const o=XR(e)?{capture:!!i.capture,passive:!!i.passive}:!!i.capture;let s,a;return e.__zone_symbol__addEventListener?(s="__zone_symbol__addEventListener",a="__zone_symbol__removeEventListener"):(s="addEventListener",a="removeEventListener"),e[s](t,n,o),()=>{e[a](t,n,o)}},XR=e=>{if(cu===void 0)try{const t=Object.defineProperty({},"passive",{get:()=>{cu=!0}});e.addEventListener("optsTest",()=>{},t)}catch{cu=!1}return!!cu};let cu;const QR=2e3,JR=(e,t,n,i,o)=>{let s,a,c,u,f,p,m,b=0;const w=W=>{b=Date.now()+QR,t(W)&&(!a&&n&&(a=ns(e,"touchmove",n,o)),c||(c=ns(W.target,"touchend",k,o)),u||(u=ns(W.target,"touchcancel",k,o)))},T=W=>{b>Date.now()||t(W)&&(!p&&n&&(p=ns(fb(e),"mousemove",n,o)),m||(m=ns(fb(e),"mouseup",$,o)))},k=W=>{M(),i&&i(W)},$=W=>{F(),i&&i(W)},M=()=>{a&&a(),c&&c(),u&&u(),a=c=u=void 0},F=()=>{p&&p(),m&&m(),p=m=void 0},B=()=>{M(),F()},z=(W=!0)=>{W?(s||(s=ns(e,"touchstart",w,o)),f||(f=ns(e,"mousedown",T,o))):(s&&s(),f&&f(),s=f=void 0,B())};return{enable:z,stop:B,destroy:()=>{z(!1),i=n=t=void 0}}},fb=e=>e instanceof Document?e:e.ownerDocument,t2=(e,t,n)=>{const i=n*(Math.PI/180),o=e==="x",s=Math.cos(i),a=t*t;let c=0,u=0,f=!1,p=0;return{start(m,b){c=m,u=b,p=0,f=!0},detect(m,b){if(!f)return!1;const w=m-c,T=b-u,k=w*w+T*T;if(k<a)return!1;const $=Math.sqrt(k),M=(o?w:T)/$;return M>s?p=1:M<-s?p=-1:p=0,f=!1,!0},isGesture(){return p!==0},getDirection(){return p}}},Sw=e=>{let t=!1,n=!1,i=!0,o=!1;const s=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},e),a=s.canStart,c=s.onWillStart,u=s.onStart,f=s.onEnd,p=s.notCaptured,m=s.onMove,b=s.threshold,w=s.passive,T=s.blurOnStart,k={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},$=t2(s.direction,s.threshold,s.maxAngle),M=cw.createGesture({name:e.gestureName,priority:e.gesturePriority,disableScroll:e.disableScroll}),F=V=>{const P=Cw(V);return n||!i||(Aw(V,k),k.startX=k.currentX,k.startY=k.currentY,k.startTime=k.currentTime=P,k.velocityX=k.velocityY=k.deltaX=k.deltaY=0,k.event=V,a&&a(k)===!1)||(M.release(),!M.start())?!1:(n=!0,b===0?U():($.start(k.startX,k.startY),!0))},B=V=>{if(t){!o&&i&&(o=!0,Wh(k,V),requestAnimationFrame(z));return}Wh(k,V),$.detect(k.currentX,k.currentY)&&(!$.isGesture()||!U())&&C()},z=()=>{t&&(o=!1,m&&m(k))},U=()=>M.capture()?(t=!0,i=!1,k.startX=k.currentX,k.startY=k.currentY,k.startTime=k.currentTime,c?c(k).then(S):S(),!0):!1,W=()=>{if(typeof document<"u"){const V=document.activeElement;V!=null&&V.blur&&V.blur()}},S=()=>{T&&W(),u&&u(k),i=!0},E=()=>{t=!1,n=!1,o=!1,i=!0,M.release()},A=V=>{const P=t,$t=i;if(E(),!!$t){if(Wh(k,V),P){f&&f(k);return}p&&p(k)}},O=JR(s.el,F,B,A,{capture:!1,passive:w}),C=()=>{E(),O.stop(),p&&p(k)};return{enable(V=!0){V||(t&&A(void 0),E()),O.enable(V)},destroy(){M.destroy(),O.destroy()}}},Wh=(e,t)=>{if(!t)return;const n=e.currentX,i=e.currentY,o=e.currentTime;Aw(t,e);const s=e.currentX,a=e.currentY,u=(e.currentTime=Cw(t))-o;if(u>0&&u<100){const f=(s-n)/u,p=(a-i)/u;e.velocityX=f*.7+e.velocityX*.3,e.velocityY=p*.7+e.velocityY*.3}e.deltaX=s-e.startX,e.deltaY=a-e.startY,e.event=t},Aw=(e,t)=>{let n=0,i=0;if(e){const o=e.changedTouches;if(o&&o.length>0){const s=o[0];n=s.clientX,i=s.clientY}else e.pageX!==void 0&&(n=e.pageX,i=e.pageY)}t.currentX=n,t.currentY=i},Cw=e=>e.timeStamp||Date.now(),e2=Object.freeze(Object.defineProperty({__proto__:null,GESTURE_CONTROLLER:cw,createGesture:Sw},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const n2=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:min(1.0625rem, 20.4px);font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}@supports (inset-inline-start: 0){:host{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host(:dir(rtl)){left:unset;right:unset;right:0}}}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:min(0.8125rem, 23.4px);font-weight:normal}:host(.title-large){-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:2px;padding-bottom:4px;-webkit-transform-origin:left center;transform-origin:left center;position:static;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:min(2.125rem, 61.2px);font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000);font-family:var(--ion-font-family)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit;width:auto}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large:dir(rtl)) .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",i2=n2,o2=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:0.9375rem;font-weight:normal}",r2=o2,s2=De(class extends Ce{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=ke(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const t=this.getSize();this.ionStyle.emit({[`title-${t}`]:!0})}getSize(){return this.size!==void 0?this.size:"default"}render(){const t=de(this),n=this.getSize();return rt(Fe,{key:"6f43362b782ef7d340c241bb66f1469663c03cc1",class:pi(this.color,{[t]:!0,[`title-${n}`]:!0,"title-rtl":document.dir==="rtl"})},rt("div",{key:"9c3ff1a289e533ee3426b71ab5560fbea3529502",class:"toolbar-title"},rt("slot",{key:"50d5cc5a1519ad58f1994d2f8c8f08f62baac1fe"})))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:i2,md:r2}}},[33,"ion-title",{color:[513],size:[1]},void 0,{size:["sizeChanged"]}]);function a2(){if(typeof customElements>"u")return;["ion-title"].forEach(t=>{switch(t){case"ion-title":customElements.get(t)||customElements.define(t,s2);break}})}const l2=a2;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const c2=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, #f7f7f7));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",u2=c2,d2=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, #c1c4cd)));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}",h2=d2,f2=De(class extends Ce{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const t=Array.from(this.el.querySelectorAll("ion-buttons")),n=t.find(s=>s.slot==="start");n&&n.classList.add("buttons-first-slot");const i=t.reverse(),o=i.find(s=>s.slot==="end")||i.find(s=>s.slot==="primary")||i.find(s=>s.slot==="secondary");o&&o.classList.add("buttons-last-slot")}childrenStyle(t){t.stopPropagation();const n=t.target.tagName,i=t.detail,o={},s=this.childrenStyles.get(n)||{};let a=!1;Object.keys(i).forEach(c=>{const u=`toolbar-${c}`,f=i[c];f!==s[u]&&(a=!0),f&&(o[u]=!0)}),a&&(this.childrenStyles.set(n,o),Ku(this))}render(){const t=de(this),n={};return this.childrenStyles.forEach(i=>{Object.assign(n,i)}),rt(Fe,{key:"8907ed75fbb2b1dced55c481bba6363f1dca815b",class:Object.assign(Object.assign({},n),pi(this.color,{[t]:!0,"in-toolbar":Bi("ion-toolbar",this.el)}))},rt("div",{key:"6bfa09b08d6517f0d680f53b739854cecd631bc9",class:"toolbar-background"}),rt("div",{key:"1531bd6dd9e0a5843309bba854b744c453037ad0",class:"toolbar-container"},rt("slot",{key:"881b41697d386eae651b019128573f0fa432cd33",name:"start"}),rt("slot",{key:"64a284e6eae5311ac3125dfadb4bb32bdba9d089",name:"secondary"}),rt("div",{key:"c1f47503563b38084b27d7ba54f17ec478482b94",class:"toolbar-content"},rt("slot",{key:"9a85acfba72252705619ae32acae9c14f81aa57d"})),rt("slot",{key:"89e08bd761dc6940dbebc5d06f5f080af204aa72",name:"primary"}),rt("slot",{key:"a1cb7d95627f8a3d24dd4b9c11718fc164f53674",name:"end"})))}get el(){return this}static get style(){return{ios:u2,md:h2}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);function p2(){if(typeof customElements>"u")return;["ion-toolbar"].forEach(t=>{switch(t){case"ion-toolbar":customElements.get(t)||customElements.define(t,f2);break}})}const m2=p2;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const g2=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #3880ff);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:clamp(17px, 1.0625rem, 21.998px)}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',v2=g2,b2=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:1.5rem;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:0.875rem;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;min-height:48px;aspect-ratio:1/1}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',_2=b2,y2=De(class extends Ce{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async t=>{const n=this.el.closest("ion-nav");return t.preventDefault(),n&&await n.canGoBack()?n.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):vm(this.defaultHref,t,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=pm(this.el),this.defaultHref===void 0&&(this.defaultHref=ue.get("backButtonDefaultHref"))}get backButtonIcon(){const t=this.icon;return t??(de(this)==="ios"?ue.get("backButtonIcon",iA):ue.get("backButtonIcon",nA))}get backButtonText(){const t=de(this)==="ios"?"Back":null;return this.text!=null?this.text:ue.get("backButtonText",t)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:t,defaultHref:n,disabled:i,type:o,hasIconOnly:s,backButtonIcon:a,backButtonText:c,icon:u,inheritedAttributes:f}=this,p=n!==void 0,m=de(this),b=f["aria-label"]||c||"back";return rt(Fe,{key:"9e837be314ee8ea487ba2771d36668ef58442faa",onClick:this.onClick,class:pi(t,{[m]:!0,button:!0,"back-button-disabled":i,"back-button-has-icon-only":s,"in-toolbar":Bi("ion-toolbar",this.el),"in-toolbar-color":Bi("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":p})},rt("button",{key:"c4531348bd80cf6163931c5fb432526aa8127043",type:o,disabled:i,class:"button-native",part:"native","aria-label":b},rt("span",{key:"aab8c6d5f0a84aed9f4e4a2532a239b28c7d5589",class:"button-inner"},a&&rt("ion-icon",{key:"121eae10947b46a3d109709b79f4126b1c40ade4",part:"icon",icon:a,"aria-hidden":"true",lazy:!1,"flip-rtl":u===void 0}),c&&rt("span",{key:"11c28875cc52b99470525d18c1f88f27c390a75a",part:"text","aria-hidden":"true",class:"button-text"},c)),m==="md"&&rt("ion-ripple-effect",{key:"804bf8a06cd033c99d61ec2665c842b3b25945fa",type:this.rippleType})))}get el(){return this}static get style(){return{ios:v2,md:_2}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);function w2(){if(typeof customElements>"u")return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach(t=>{switch(t){case"ion-back-button":customElements.get(t)||customElements.define(t,y2);break;case"ion-icon":customElements.get(t)||gm();break;case"ion-ripple-effect":customElements.get(t)||ks();break}})}const x2=w2,E2=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",T2=E2,k2=De(class extends Ce{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ke(this,"ionNavWillLoad",7),this.ionNavWillChange=ke(this,"ionNavWillChange",3),this.ionNavDidChange=ke(this,"ionNavDidChange",3),this.lockController=hw(),this.gestureOrAnimationInProgress=!1,this.mode=de(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const t=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await An(()=>import("./swipe-back-48d60da2.js"),[])).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>t(),n=>{var i;return(i=this.ani)===null||i===void 0?void 0:i.progressStep(n)},(n,i,o)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(n)},{oneTimeCallback:!0});let s=n?-.001:.001;n?s+=Qu([0,0],[.32,.72],[0,1],[1,1],i)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),s+=Qu([0,0],[1,0],[.68,.28],[1,1],i)[0]),this.ani.progressEnd(n?1:0,s,o)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(t,n,i){const o=await this.lockController.lock();let s=!1;try{s=await this.transition(t,n,i)}catch(a){console.error(a)}return o(),s}async setRouteId(t,n,i,o){return{changed:await this.setRoot(t,n,{duration:i==="root"?0:void 0,direction:i==="back"?"back":"forward",animationBuilder:o}),element:this.activeEl}}async getRouteId(){const t=this.activeEl;return t?{id:t.tagName,element:t,params:this.activeParams}:void 0}async setRoot(t,n,i){if(this.activeComponent===t&&Jy(n,this.activeParams))return!1;const o=this.activeEl,s=await dw(this.delegate,this.el,t,["ion-page","ion-page-invisible"],n);return this.activeComponent=t,this.activeEl=s,this.activeParams=n,await this.commit(s,o,i),await XC(this.delegate,o),!0}async transition(t,n,i={}){if(n===t)return!1;this.ionNavWillChange.emit();const{el:o,mode:s}=this,a=this.animated&&ue.getBoolean("animated",!0),c=i.animationBuilder||this.animation||ue.get("navAnimation");return await vw(Object.assign(Object.assign({mode:s,animated:a,enteringEl:t,leavingEl:n,baseEl:o,deepWait:qf(o),progressCallback:i.progressAnimation?u=>{u!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,u.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),u.progressEnd(0,0,0)):this.ani=u}:void 0},i),{animationBuilder:c})),this.ionNavDidChange.emit(),!0}render(){return rt("slot",{key:"0949db1bcfde67b462abe9cae72c7a7fd70ea678"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return T2}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function I2(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(t=>{switch(t){case"ion-router-outlet":customElements.get(t)||customElements.define(t,k2);break}})}const S2=I2;/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const na=typeof document<"u";function Pw(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function A2(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Pw(e.default)}const me=Object.assign;function Gh(e,t){const n={};for(const i in t){const o=t[i];n[i]=Ui(o)?o.map(e):e(o)}return n}const Ml=()=>{},Ui=Array.isArray;function pb(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}const Rw=/#/g,C2=/&/g,P2=/\//g,R2=/=/g,L2=/\?/g,Lw=/\+/g,O2=/%5B/g,$2=/%5D/g,Ow=/%5E/g,M2=/%60/g,$w=/%7B/g,D2=/%7C/g,Mw=/%7D/g,N2=/%20/g;function xm(e){return e==null?"":encodeURI(""+e).replace(D2,"|").replace(O2,"[").replace($2,"]")}function V2(e){return xm(e).replace($w,"{").replace(Mw,"}").replace(Ow,"^")}function op(e){return xm(e).replace(Lw,"%2B").replace(N2,"+").replace(Rw,"%23").replace(C2,"%26").replace(M2,"`").replace($w,"{").replace(Mw,"}").replace(Ow,"^")}function B2(e){return op(e).replace(R2,"%3D")}function z2(e){return xm(e).replace(Rw,"%23").replace(L2,"%3F")}function F2(e){return z2(e).replace(P2,"%2F")}function ec(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const U2=/\/$/,j2=e=>e.replace(U2,"");function Kh(e,t,n="/"){let i,o={},s="",a="";const c=t.indexOf("#");let u=t.indexOf("?");return u=c>=0&&u>c?-1:u,u>=0&&(i=t.slice(0,u),s=t.slice(u,c>0?c:t.length),o=e(s.slice(1))),c>=0&&(i=i||t.slice(0,c),a=t.slice(c,t.length)),i=G2(i??t,n),{fullPath:i+s+a,path:i,query:o,hash:ec(a)}}function H2(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function mb(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function q2(e,t,n){const i=t.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&Ea(t.matched[i],n.matched[o])&&Dw(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ea(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Dw(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!W2(e[n],t[n]))return!1;return!0}function W2(e,t){return Ui(e)?gb(e,t):Ui(t)?gb(t,e):(e==null?void 0:e.valueOf())===(t==null?void 0:t.valueOf())}function gb(e,t){return Ui(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function G2(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),o=i[i.length-1];(o===".."||o===".")&&i.push("");let s=n.length-1,a,c;for(a=0;a<i.length;a++)if(c=i[a],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(a).join("/")}const fr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let rp=function(e){return e.pop="pop",e.push="push",e}({}),Zh=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function K2(e){if(!e)if(na){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),j2(e)}const Z2=/^[^#]+#/;function Y2(e,t){return e.replace(Z2,"#")+t}function X2(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const zd=()=>({left:window.scrollX,top:window.scrollY});function Q2(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=X2(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function vb(e,t){return(history.state?history.state.position-t:-1)+e}const sp=new Map;function J2(e,t){sp.set(e,t)}function tL(e){const t=sp.get(e);return sp.delete(e),t}function eL(e){return typeof e=="string"||e&&typeof e=="object"}function Nw(e){return typeof e=="string"||typeof e=="symbol"}let Ge=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const Vw=Symbol("");Ge.MATCHER_NOT_FOUND+"",Ge.NAVIGATION_GUARD_REDIRECT+"",Ge.NAVIGATION_ABORTED+"",Ge.NAVIGATION_CANCELLED+"",Ge.NAVIGATION_DUPLICATED+"";function Ta(e,t){return me(new Error,{type:e,[Vw]:!0},t)}function Co(e,t){return e instanceof Error&&Vw in e&&(t==null||!!(e.type&t))}const nL=["params","query","hash"];function iL(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of nL)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function ap(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const o=n[i].replace(Lw," "),s=o.indexOf("="),a=ec(s<0?o:o.slice(0,s)),c=s<0?null:ec(o.slice(s+1));if(a in t){let u=t[a];Ui(u)||(u=t[a]=[u]),u.push(c)}else t[a]=c}return t}function bb(e){let t="";for(let n in e){const i=e[n];if(n=B2(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ui(i)?i.map(o=>o&&op(o)):[i&&op(i)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function oL(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Ui(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return t}const Bw=Symbol(""),_b=Symbol(""),Fd=Symbol(""),Ud=Symbol(""),lp=Symbol("");function gl(){let e=[];function t(i){return e.push(i),()=>{const o=e.indexOf(i);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function br(e,t,n,i,o,s=a=>a()){const a=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((c,u)=>{const f=b=>{b===!1?u(Ta(Ge.NAVIGATION_ABORTED,{from:n,to:t})):b instanceof Error?u(b):eL(b)?u(Ta(Ge.NAVIGATION_GUARD_REDIRECT,{from:t,to:b})):(a&&i.enterCallbacks[o]===a&&typeof b=="function"&&a.push(b),c())},p=s(()=>e.call(i&&i.instances[o],t,n,f));let m=Promise.resolve(p);e.length<3&&(m=m.then(f)),m.catch(b=>u(b))})}function Yh(e,t,n,i,o=s=>s()){const s=[];for(const a of e)for(const c in a.components){let u=a.components[c];if(!(t!=="beforeRouteEnter"&&!a.instances[c]))if(Pw(u)){const f=(u.__vccOpts||u)[t];f&&s.push(br(f,n,i,a,c,o))}else{let f=u();s.push(()=>f.then(p=>{if(!p)throw new Error(`Couldn't resolve component "${c}" at "${a.path}"`);const m=A2(p)?p.default:p;a.mods[c]=p,a.components[c]=m;const b=(m.__vccOpts||m)[t];return b&&br(b,n,i,a,c,o)()}))}}return s}function rL(e,t){const n=[],i=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const c=t.matched[a];c&&(e.matched.find(f=>Ea(f,c))?i.push(c):n.push(c));const u=e.matched[a];u&&(t.matched.find(f=>Ea(f,u))||o.push(u))}return[n,i,o]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let sL=()=>location.protocol+"//"+location.host;function zw(e,t){const{pathname:n,search:i,hash:o}=t,s=e.indexOf("#");if(s>-1){let a=o.includes(e.slice(s))?e.slice(s).length:1,c=o.slice(a);return c[0]!=="/"&&(c="/"+c),mb(c,"")}return mb(n,e)+i+o}function aL(e,t,n,i){let o=[],s=[],a=null;const c=({state:b})=>{const w=zw(e,location),T=n.value,k=t.value;let $=0;if(b){if(n.value=w,t.value=b,a&&a===T){a=null;return}$=k?b.position-k.position:0}else i(w);o.forEach(M=>{M(n.value,T,{delta:$,type:rp.pop,direction:$?$>0?Zh.forward:Zh.back:Zh.unknown})})};function u(){a=n.value}function f(b){o.push(b);const w=()=>{const T=o.indexOf(b);T>-1&&o.splice(T,1)};return s.push(w),w}function p(){if(document.visibilityState==="hidden"){const{history:b}=window;if(!b.state)return;b.replaceState(me({},b.state,{scroll:zd()}),"")}}function m(){for(const b of s)b();s=[],window.removeEventListener("popstate",c),window.removeEventListener("pagehide",p),document.removeEventListener("visibilitychange",p)}return window.addEventListener("popstate",c),window.addEventListener("pagehide",p),document.addEventListener("visibilitychange",p),{pauseListeners:u,listen:f,destroy:m}}function yb(e,t,n,i=!1,o=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:o?zd():null}}function lL(e){const{history:t,location:n}=window,i={value:zw(e,n)},o={value:t.state};o.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(u,f,p){const m=e.indexOf("#"),b=m>-1?(n.host&&document.querySelector("base")?e:e.slice(m))+u:sL()+e+u;try{t[p?"replaceState":"pushState"](f,"",b),o.value=f}catch(w){console.error(w),n[p?"replace":"assign"](b)}}function a(u,f){s(u,me({},t.state,yb(o.value.back,u,o.value.forward,!0),f,{position:o.value.position}),!0),i.value=u}function c(u,f){const p=me({},o.value,t.state,{forward:u,scroll:zd()});s(p.current,p,!0),s(u,me({},yb(i.value,u,null),{position:p.position+1},f),!1),i.value=u}return{location:i,state:o,push:c,replace:a}}function cL(e){e=K2(e);const t=lL(e),n=aL(e,t.state,t.location,t.replace);function i(s,a=!0){a||n.pauseListeners(),history.go(s)}const o=me({location:"",base:e,go:i,createHref:Y2.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}let ss=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var pn=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(pn||{});const uL={type:ss.Static,value:""},dL=/[a-zA-Z0-9_]/;function hL(e){if(!e)return[[]];if(e==="/")return[[uL]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(w){throw new Error(`ERR (${n})/"${f}": ${w}`)}let n=pn.Static,i=n;const o=[];let s;function a(){s&&o.push(s),s=[]}let c=0,u,f="",p="";function m(){f&&(n===pn.Static?s.push({type:ss.Static,value:f}):n===pn.Param||n===pn.ParamRegExp||n===pn.ParamRegExpEnd?(s.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),s.push({type:ss.Param,value:f,regexp:p,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),f="")}function b(){f+=u}for(;c<e.length;){if(u=e[c++],u==="\\"&&n!==pn.ParamRegExp){i=n,n=pn.EscapeNext;continue}switch(n){case pn.Static:u==="/"?(f&&m(),a()):u===":"?(m(),n=pn.Param):b();break;case pn.EscapeNext:b(),n=i;break;case pn.Param:u==="("?n=pn.ParamRegExp:dL.test(u)?b():(m(),n=pn.Static,u!=="*"&&u!=="?"&&u!=="+"&&c--);break;case pn.ParamRegExp:u===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+u:n=pn.ParamRegExpEnd:p+=u;break;case pn.ParamRegExpEnd:m(),n=pn.Static,u!=="*"&&u!=="?"&&u!=="+"&&c--,p="";break;default:t("Unknown state");break}}return n===pn.ParamRegExp&&t(`Unfinished custom RegExp for param "${f}"`),m(),a(),o}const wb="[^/]+?",fL={sensitive:!1,strict:!1,start:!0,end:!0};var Kn=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(Kn||{});const pL=/[.+*?^${}()[\]/\\]/g;function mL(e,t){const n=me({},fL,t),i=[];let o=n.start?"^":"";const s=[];for(const f of e){const p=f.length?[]:[Kn.Root];n.strict&&!f.length&&(o+="/");for(let m=0;m<f.length;m++){const b=f[m];let w=Kn.Segment+(n.sensitive?Kn.BonusCaseSensitive:0);if(b.type===ss.Static)m||(o+="/"),o+=b.value.replace(pL,"\\$&"),w+=Kn.Static;else if(b.type===ss.Param){const{value:T,repeatable:k,optional:$,regexp:M}=b;s.push({name:T,repeatable:k,optional:$});const F=M||wb;if(F!==wb){w+=Kn.BonusCustomRegExp;try{`${F}`}catch(z){throw new Error(`Invalid custom RegExp for param "${T}" (${F}): `+z.message)}}let B=k?`((?:${F})(?:/(?:${F}))*)`:`(${F})`;m||(B=$&&f.length<2?`(?:/${B})`:"/"+B),$&&(B+="?"),o+=B,w+=Kn.Dynamic,$&&(w+=Kn.BonusOptional),k&&(w+=Kn.BonusRepeatable),F===".*"&&(w+=Kn.BonusWildcard)}p.push(w)}i.push(p)}if(n.strict&&n.end){const f=i.length-1;i[f][i[f].length-1]+=Kn.BonusStrict}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function c(f){const p=f.match(a),m={};if(!p)return null;for(let b=1;b<p.length;b++){const w=p[b]||"",T=s[b-1];m[T.name]=w&&T.repeatable?w.split("/"):w}return m}function u(f){let p="",m=!1;for(const b of e){(!m||!p.endsWith("/"))&&(p+="/"),m=!1;for(const w of b)if(w.type===ss.Static)p+=w.value;else if(w.type===ss.Param){const{value:T,repeatable:k,optional:$}=w,M=T in f?f[T]:"";if(Ui(M)&&!k)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const F=Ui(M)?M.join("/"):M;if(!F)if($)b.length<2&&(p.endsWith("/")?p=p.slice(0,-1):m=!0);else throw new Error(`Missing required param "${T}"`);p+=F}}return p||"/"}return{re:a,score:i,keys:s,parse:c,stringify:u}}function gL(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===Kn.Static+Kn.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===Kn.Static+Kn.Segment?1:-1:0}function Fw(e,t){let n=0;const i=e.score,o=t.score;for(;n<i.length&&n<o.length;){const s=gL(i[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-i.length)===1){if(xb(i))return 1;if(xb(o))return-1}return o.length-i.length}function xb(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const vL={strict:!1,end:!0,sensitive:!1};function bL(e,t,n){const i=mL(hL(e.path),n),o=me(i,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function _L(e,t){const n=[],i=new Map;t=pb(vL,t);function o(m){return i.get(m)}function s(m,b,w){const T=!w,k=Tb(m);k.aliasOf=w&&w.record;const $=pb(t,m),M=[k];if("alias"in m){const z=typeof m.alias=="string"?[m.alias]:m.alias;for(const U of z)M.push(Tb(me({},k,{components:w?w.record.components:k.components,path:U,aliasOf:w?w.record:k})))}let F,B;for(const z of M){const{path:U}=z;if(b&&U[0]!=="/"){const W=b.record.path,S=W[W.length-1]==="/"?"":"/";z.path=b.record.path+(U&&S+U)}if(F=bL(z,b,$),w?w.alias.push(F):(B=B||F,B!==F&&B.alias.push(F),T&&m.name&&!kb(F)&&a(m.name)),Uw(F)&&u(F),k.children){const W=k.children;for(let S=0;S<W.length;S++)s(W[S],F,w&&w.children[S])}w=w||F}return B?()=>{a(B)}:Ml}function a(m){if(Nw(m)){const b=i.get(m);b&&(i.delete(m),n.splice(n.indexOf(b),1),b.children.forEach(a),b.alias.forEach(a))}else{const b=n.indexOf(m);b>-1&&(n.splice(b,1),m.record.name&&i.delete(m.record.name),m.children.forEach(a),m.alias.forEach(a))}}function c(){return n}function u(m){const b=xL(m,n);n.splice(b,0,m),m.record.name&&!kb(m)&&i.set(m.record.name,m)}function f(m,b){let w,T={},k,$;if("name"in m&&m.name){if(w=i.get(m.name),!w)throw Ta(Ge.MATCHER_NOT_FOUND,{location:m});$=w.record.name,T=me(Eb(b.params,w.keys.filter(B=>!B.optional).concat(w.parent?w.parent.keys.filter(B=>B.optional):[]).map(B=>B.name)),m.params&&Eb(m.params,w.keys.map(B=>B.name))),k=w.stringify(T)}else if(m.path!=null)k=m.path,w=n.find(B=>B.re.test(k)),w&&(T=w.parse(k),$=w.record.name);else{if(w=b.name?i.get(b.name):n.find(B=>B.re.test(b.path)),!w)throw Ta(Ge.MATCHER_NOT_FOUND,{location:m,currentLocation:b});$=w.record.name,T=me({},b.params,m.params),k=w.stringify(T)}const M=[];let F=w;for(;F;)M.unshift(F.record),F=F.parent;return{name:$,path:k,params:T,matched:M,meta:wL(M)}}e.forEach(m=>s(m));function p(){n.length=0,i.clear()}return{addRoute:s,resolve:f,removeRoute:a,clearRoutes:p,getRoutes:c,getRecordMatcher:o}}function Eb(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function Tb(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:yL(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function yL(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function kb(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function wL(e){return e.reduce((t,n)=>me(t,n.meta),{})}function xL(e,t){let n=0,i=t.length;for(;n!==i;){const s=n+i>>1;Fw(e,t[s])<0?i=s:n=s+1}const o=EL(e);return o&&(i=t.lastIndexOf(o,i-1)),i}function EL(e){let t=e;for(;t=t.parent;)if(Uw(t)&&Fw(e,t)===0)return t}function Uw({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Ib(e){const t=cn(Fd),n=cn(Ud),i=Qn(()=>{const u=ut(e.to);return t.resolve(u)}),o=Qn(()=>{const{matched:u}=i.value,{length:f}=u,p=u[f-1],m=n.matched;if(!p||!m.length)return-1;const b=m.findIndex(Ea.bind(null,p));if(b>-1)return b;const w=Sb(u[f-2]);return f>1&&Sb(p)===w&&m[m.length-1].path!==w?m.findIndex(Ea.bind(null,u[f-2])):b}),s=Qn(()=>o.value>-1&&AL(n.params,i.value.params)),a=Qn(()=>o.value>-1&&o.value===n.matched.length-1&&Dw(n.params,i.value.params));function c(u={}){if(SL(u)){const f=t[ut(e.replace)?"replace":"push"](ut(e.to)).catch(Ml);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:i,href:Qn(()=>i.value.href),isActive:s,isExactActive:a,navigate:c}}function TL(e){return e.length===1?e[0]:e}const kL=_n({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Ib,setup(e,{slots:t}){const n=gc(Ib(e)),{options:i}=cn(Fd),o=Qn(()=>({[Ab(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Ab(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&TL(t.default(n));return e.custom?s:vn("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),IL=kL;function SL(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function AL(e,t){for(const n in t){const i=t[n],o=e[n];if(typeof i=="string"){if(i!==o)return!1}else if(!Ui(o)||o.length!==i.length||i.some((s,a)=>s.valueOf()!==o[a].valueOf()))return!1}return!0}function Sb(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ab=(e,t,n)=>e??t??n,CL=_n({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=cn(lp),o=Qn(()=>e.route||i.value),s=cn(_b,0),a=Qn(()=>{let f=ut(s);const{matched:p}=o.value;let m;for(;(m=p[f])&&!m.components;)f++;return f}),c=Qn(()=>o.value.matched[a.value]);da(_b,Qn(()=>a.value+1)),da(Bw,c),da(lp,o);const u=fe();return Fo(()=>[u.value,c.value,e.name],([f,p,m],[b,w,T])=>{p&&(p.instances[m]=f,w&&w!==p&&f&&f===b&&(p.leaveGuards.size||(p.leaveGuards=w.leaveGuards),p.updateGuards.size||(p.updateGuards=w.updateGuards))),f&&p&&(!w||!Ea(p,w)||!b)&&(p.enterCallbacks[m]||[]).forEach(k=>k(f))},{flush:"post"}),()=>{const f=o.value,p=e.name,m=c.value,b=m&&m.components[p];if(!b)return Cb(n.default,{Component:b,route:f});const w=m.props[p],T=w?w===!0?f.params:typeof w=="function"?w(f):w:null,$=vn(b,me({},T,t,{onVnodeUnmounted:M=>{M.component.isUnmounted&&(m.instances[p]=null)},ref:u}));return Cb(n.default,{Component:$,route:f})||$}}});function Cb(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const PL=CL;function RL(e){const t=_L(e.routes,e),n=e.parseQuery||ap,i=e.stringifyQuery||bb,o=e.history,s=gl(),a=gl(),c=gl(),u=vc(fr);let f=fr;na&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Gh.bind(null,K=>""+K),m=Gh.bind(null,F2),b=Gh.bind(null,ec);function w(K,ft){let dt,gt;return Nw(K)?(dt=t.getRecordMatcher(K),gt=ft):gt=K,t.addRoute(gt,dt)}function T(K){const ft=t.getRecordMatcher(K);ft&&t.removeRoute(ft)}function k(){return t.getRoutes().map(K=>K.record)}function $(K){return!!t.getRecordMatcher(K)}function M(K,ft){if(ft=me({},ft||u.value),typeof K=="string"){const D=Kh(n,K,ft.path),q=t.resolve({path:D.path},ft),ot=o.createHref(D.fullPath);return me(D,q,{params:b(q.params),hash:ec(D.hash),redirectedFrom:void 0,href:ot})}let dt;if(K.path!=null)dt=me({},K,{path:Kh(n,K.path,ft.path).path});else{const D=me({},K.params);for(const q in D)D[q]==null&&delete D[q];dt=me({},K,{params:m(D)}),ft.params=m(ft.params)}const gt=t.resolve(dt,ft),Tt=K.hash||"";gt.params=p(b(gt.params));const Ut=H2(i,me({},K,{hash:V2(Tt),path:gt.path})),R=o.createHref(Ut);return me({fullPath:Ut,hash:Tt,query:i===bb?oL(K.query):K.query||{}},gt,{redirectedFrom:void 0,href:R})}function F(K){return typeof K=="string"?Kh(n,K,u.value.path):me({},K)}function B(K,ft){if(f!==K)return Ta(Ge.NAVIGATION_CANCELLED,{from:ft,to:K})}function z(K){return S(K)}function U(K){return z(me(F(K),{replace:!0}))}function W(K,ft){const dt=K.matched[K.matched.length-1];if(dt&&dt.redirect){const{redirect:gt}=dt;let Tt=typeof gt=="function"?gt(K,ft):gt;return typeof Tt=="string"&&(Tt=Tt.includes("?")||Tt.includes("#")?Tt=F(Tt):{path:Tt},Tt.params={}),me({query:K.query,hash:K.hash,params:Tt.path!=null?{}:K.params},Tt)}}function S(K,ft){const dt=f=M(K),gt=u.value,Tt=K.state,Ut=K.force,R=K.replace===!0,D=W(dt,gt);if(D)return S(me(F(D),{state:typeof D=="object"?me({},Tt,D.state):Tt,force:Ut,replace:R}),ft||dt);const q=dt;q.redirectedFrom=ft;let ot;return!Ut&&q2(i,gt,dt)&&(ot=Ta(Ge.NAVIGATION_DUPLICATED,{to:q,from:gt}),Ft(gt,gt,!0,!1)),(ot?Promise.resolve(ot):O(q,gt)).catch(Q=>Co(Q)?Co(Q,Ge.NAVIGATION_GUARD_REDIRECT)?Q:St(Q):tt(Q,q,gt)).then(Q=>{if(Q){if(Co(Q,Ge.NAVIGATION_GUARD_REDIRECT))return S(me({replace:R},F(Q.to),{state:typeof Q.to=="object"?me({},Tt,Q.to.state):Tt,force:Ut}),ft||q)}else Q=V(q,gt,!0,R,Tt);return C(q,gt,Q),Q})}function E(K,ft){const dt=B(K,ft);return dt?Promise.reject(dt):Promise.resolve()}function A(K){const ft=J.values().next().value;return ft&&typeof ft.runWithContext=="function"?ft.runWithContext(K):K()}function O(K,ft){let dt;const[gt,Tt,Ut]=rL(K,ft);dt=Yh(gt.reverse(),"beforeRouteLeave",K,ft);for(const D of gt)D.leaveGuards.forEach(q=>{dt.push(br(q,K,ft))});const R=E.bind(null,K,ft);return dt.push(R),et(dt).then(()=>{dt=[];for(const D of s.list())dt.push(br(D,K,ft));return dt.push(R),et(dt)}).then(()=>{dt=Yh(Tt,"beforeRouteUpdate",K,ft);for(const D of Tt)D.updateGuards.forEach(q=>{dt.push(br(q,K,ft))});return dt.push(R),et(dt)}).then(()=>{dt=[];for(const D of Ut)if(D.beforeEnter)if(Ui(D.beforeEnter))for(const q of D.beforeEnter)dt.push(br(q,K,ft));else dt.push(br(D.beforeEnter,K,ft));return dt.push(R),et(dt)}).then(()=>(K.matched.forEach(D=>D.enterCallbacks={}),dt=Yh(Ut,"beforeRouteEnter",K,ft,A),dt.push(R),et(dt))).then(()=>{dt=[];for(const D of a.list())dt.push(br(D,K,ft));return dt.push(R),et(dt)}).catch(D=>Co(D,Ge.NAVIGATION_CANCELLED)?D:Promise.reject(D))}function C(K,ft,dt){c.list().forEach(gt=>A(()=>gt(K,ft,dt)))}function V(K,ft,dt,gt,Tt){const Ut=B(K,ft);if(Ut)return Ut;const R=ft===fr,D=na?history.state:{};dt&&(gt||R?o.replace(K.fullPath,me({scroll:R&&D&&D.scroll},Tt)):o.push(K.fullPath,Tt)),u.value=K,Ft(K,ft,dt,R),St()}let P;function $t(){P||(P=o.listen((K,ft,dt)=>{if(!X.listening)return;const gt=M(K),Tt=W(gt,X.currentRoute.value);if(Tt){S(me(Tt,{replace:!0,force:!0}),gt).catch(Ml);return}f=gt;const Ut=u.value;na&&J2(vb(Ut.fullPath,dt.delta),zd()),O(gt,Ut).catch(R=>Co(R,Ge.NAVIGATION_ABORTED|Ge.NAVIGATION_CANCELLED)?R:Co(R,Ge.NAVIGATION_GUARD_REDIRECT)?(S(me(F(R.to),{force:!0}),gt).then(D=>{Co(D,Ge.NAVIGATION_ABORTED|Ge.NAVIGATION_DUPLICATED)&&!dt.delta&&dt.type===rp.pop&&o.go(-1,!1)}).catch(Ml),Promise.reject()):(dt.delta&&o.go(-dt.delta,!1),tt(R,gt,Ut))).then(R=>{R=R||V(gt,Ut,!1),R&&(dt.delta&&!Co(R,Ge.NAVIGATION_CANCELLED)?o.go(-dt.delta,!1):dt.type===rp.pop&&Co(R,Ge.NAVIGATION_ABORTED|Ge.NAVIGATION_DUPLICATED)&&o.go(-1,!1)),C(gt,Ut,R)}).catch(Ml)}))}let ne=gl(),Nt=gl(),xt;function tt(K,ft,dt){St(K);const gt=Nt.list();return gt.length?gt.forEach(Tt=>Tt(K,ft,dt)):console.error(K),Promise.reject(K)}function Ie(){return xt&&u.value!==fr?Promise.resolve():new Promise((K,ft)=>{ne.add([K,ft])})}function St(K){return xt||(xt=!K,$t(),ne.list().forEach(([ft,dt])=>K?dt(K):ft()),ne.reset()),K}function Ft(K,ft,dt,gt){const{scrollBehavior:Tt}=e;if(!na||!Tt)return Promise.resolve();const Ut=!dt&&tL(vb(K.fullPath,0))||(gt||!dt)&&history.state&&history.state.scroll||null;return iy().then(()=>Tt(K,ft,Ut)).then(R=>R&&Q2(R)).catch(R=>tt(R,K,ft))}const Gt=K=>o.go(K);let Kt;const J=new Set,X={currentRoute:u,listening:!0,addRoute:w,removeRoute:T,clearRoutes:t.clearRoutes,hasRoute:$,getRoutes:k,resolve:M,options:e,push:z,replace:U,go:Gt,back:()=>Gt(-1),forward:()=>Gt(1),beforeEach:s.add,beforeResolve:a.add,afterEach:c.add,onError:Nt.add,isReady:Ie,install(K){K.component("RouterLink",IL),K.component("RouterView",PL),K.config.globalProperties.$router=X,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>ut(u)}),na&&!Kt&&u.value===fr&&(Kt=!0,z(o.location).catch(gt=>{}));const ft={};for(const gt in fr)Object.defineProperty(ft,gt,{get:()=>u.value[gt],enumerable:!0});K.provide(Fd,X),K.provide(Ud,J0(ft)),K.provide(lp,u);const dt=K.unmount;J.add(K),K.unmount=function(){J.delete(K),J.size<1&&(f=fr,P&&P(),P=null,u.value=fr,Kt=!1,xt=!1),dt()}}};function et(K){return K.reduce((ft,dt)=>ft.then(()=>A(dt)),Promise.resolve())}return X}function jw(){return cn(Fd)}function LL(e){return cn(Ud)}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const OL=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}@supports (inset-inline-start: 0){::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}}@supports not (inset-inline-start: 0){::slotted(ion-badge){left:calc(50% + 6px)}:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}[dir=rtl] ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}@supports selector(:dir(rtl)){::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 6px)}}}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:30px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:calc(50% + 12px)}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 12px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-bottom:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 12px)}}}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:calc(50% + 35px)}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 35px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-start:dir(rtl)) ::slotted(ion-badge),:host(.tab-layout-icon-end:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 35px)}}}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:calc(50% + 30px)}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 30px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-hide:dir(rtl)) ::slotted(ion-badge),:host(.tab-has-label-only:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 30px)}}}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}',$L=OL,ML=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}@supports (inset-inline-start: 0){::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}}@supports not (inset-inline-start: 0){::slotted(ion-badge){left:calc(50% + 6px)}:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}[dir=rtl] ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}@supports selector(:dir(rtl)){::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 6px)}}}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:70%}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:70%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-bottom:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:70%}}}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:80%}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:80%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-start:dir(rtl)) ::slotted(ion-badge),:host(.tab-layout-icon-end:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:80%}}}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:70%}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:70%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-hide:dir(rtl)) ::slotted(ion-badge),:host(.tab-has-label-only:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:70%}}}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',DL=ML,NL=De(class extends Ce{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=ke(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=t=>{(t.key==="Enter"||t.key===" ")&&this.selectTab(t)},this.onClick=t=>{this.selectTab(t)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(t){const n=t.target,i=this.el.parentElement;(t.composedPath().includes(i)||n!=null&&n.contains(this.el))&&(this.selected=this.tab===t.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},fm(this.el,["aria-label"])),this.layout===void 0&&(this.layout=ue.get("tabButtonLayout","icon-top"))}selectTab(t){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),t.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:t,hasIcon:n,hasLabel:i,href:o,rel:s,target:a,layout:c,selected:u,tab:f,inheritedAttributes:p}=this,m=de(this),b={download:this.download,href:o,rel:s,target:a};return rt(Fe,{key:"c7b6a72766b71f34800137dadcf29af657bebddf",onClick:this.onClick,onKeyup:this.onKeyUp,id:f!==void 0?`tab-button-${f}`:null,class:{[m]:!0,"tab-selected":u,"tab-disabled":t,"tab-has-label":i,"tab-has-icon":n,"tab-has-label-only":i&&!n,"tab-has-icon-only":n&&!i,[`tab-layout-${c}`]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},rt("a",Object.assign({key:"a1eca4a5cf0dfdb55099811d03f204f7b3807a2e"},b,{class:"button-native",part:"native",role:"tab","aria-selected":u?"true":null,"aria-disabled":t?"true":null,tabindex:t?"-1":void 0},p),rt("span",{key:"888a6d8b95c2f0ca8f74f492729bd28f0d3273d5",class:"button-inner"},rt("slot",{key:"83a234af52ffce9ff0f4cc497712c962115a5813"})),m==="md"&&rt("ion-ripple-effect",{key:"771aff1b83233411e0cf706c3e94c78bca534794",type:"unbounded"})))}get el(){return this}static get style(){return{ios:$L,md:DL}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function VL(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(t=>{switch(t){case"ion-tab-button":customElements.get(t)||customElements.define(t,NL);break;case"ion-ripple-effect":customElements.get(t)||ks();break}})}const BL=VL;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const zL=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, #666666));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",FL=zL,UL=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.07))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, #595959));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:56px}",jL=UL,HL=De(class extends Ce{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=ke(this,"ionTabBarChanged",7),this.ionTabBarLoaded=ke(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await HP(async(t,n)=>{t===!1&&n!==void 0&&await n,this.keyboardVisible=t})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:t,translucent:n,keyboardVisible:i}=this,o=de(this),s=i&&this.el.getAttribute("slot")!=="top";return rt(Fe,{key:"5083528e7f802d2f323ce50585edc98eeb9754c6",role:"tablist","aria-hidden":s?"true":null,class:pi(t,{[o]:!0,"tab-bar-translucent":n,"tab-bar-hidden":s})},rt("slot",{key:"eb33cdd12da49062219d4aa17a319c3e6361c5c5"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:FL,md:jL}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);function qL(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(t=>{switch(t){case"ion-tab-bar":customElements.get(t)||customElements.define(t,HL);break}})}const WL=qL,GL="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",KL=GL,ZL=De(class extends Ce{constructor(){super(),this.__registerHost()}componentDidLoad(){XL(async()=>{const t=Tr(window,"hybrid");if(ue.getBoolean("_testing")||An(()=>import("./index9-ef5a411b.js"),[]).then(o=>o.startTapClick(ue)),ue.getBoolean("statusTap",t)&&An(()=>import("./status-tap-b7ef1231.js"),[]).then(o=>o.startStatusTap()),ue.getBoolean("inputShims",YL())){const o=Tr(window,"ios")?"ios":"android";An(()=>import("./input-shims-7218332e.js"),[]).then(s=>s.startInputShims(ue,o))}const n=await An(()=>Promise.resolve().then(()=>nP),void 0),i=t||tc();ue.getBoolean("hardwareBackButton",i)?n.startHardwareBackButton():(tc()&&Vn("experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),n.blockHardwareBackButton()),typeof window<"u"&&An(()=>import("./keyboard2-de0964e5.js"),[]).then(o=>o.startKeyboardAssist(window)),An(()=>import("./focus-visible-9c13edeb.js"),[]).then(o=>this.focusVisible=o.startFocusVisible())})}async setFocus(t){this.focusVisible&&this.focusVisible.setFocus(t)}render(){const t=de(this);return rt(Fe,{key:"6d7c57453b4be454690e8f1a0721f1e3da8f92aa",class:{[t]:!0,"ion-page":!0,"force-statusbar-padding":ue.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return KL}},[0,"ion-app",{setFocus:[64]}]),YL=()=>!!(Tr(window,"ios")&&Tr(window,"mobile")||Tr(window,"android")&&Tr(window,"mobileweb")),XL=e=>{"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e,32)};function QL(){if(typeof customElements>"u")return;["ion-app"].forEach(t=>{switch(t){case"ion-app":customElements.get(t)||customElements.define(t,ZL);break}})}const JL=QL;let Xh;const tO=()=>{if(typeof window>"u")return new Map;if(!Xh){const e=window;e.Ionicons=e.Ionicons||{},Xh=e.Ionicons.map=e.Ionicons.map||new Map}return Xh},eO=e=>{let t=Qh(e.src);return t||(t=Hw(e.name,e.icon,e.mode,e.ios,e.md),t?nO(t,e):e.icon&&(t=Qh(e.icon),t||(t=Qh(e.icon[e.mode]),t))?t:null)},nO=(e,t)=>{const n=tO().get(e);if(n)return n;try{return Vy(`svg/${e}.svg`)}catch{console.warn(`[Ionicons Warning]: Could not load icon with name "${e}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,t)}},Hw=(e,t,n,i,o)=>(n=(n&&uu(n))==="ios"?"ios":"md",i&&n==="ios"?e=uu(i):o&&n==="md"?e=uu(o):(!e&&t&&!qw(t)&&(e=t),td(e)&&(e=uu(e))),!td(e)||e.trim()===""||e.replace(/[a-z]|-|\d/gi,"")!==""?null:e),Qh=e=>td(e)&&(e=e.trim(),qw(e))?e:null,qw=e=>e.length>0&&/(\/|\.)/.test(e),td=e=>typeof e=="string",uu=e=>e.toLowerCase(),iO=(e,t=[])=>{const n={};return t.forEach(i=>{e.hasAttribute(i)&&(e.getAttribute(i)!==null&&(n[i]=e.getAttribute(i)),e.removeAttribute(i))}),n},oO=e=>e&&e.dir!==""?e.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",rO=e=>{const t=document.createElement("div");t.innerHTML=e;for(let i=t.childNodes.length-1;i>=0;i--)t.childNodes[i].nodeName.toLowerCase()!=="svg"&&t.removeChild(t.childNodes[i]);const n=t.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),Ww(n))return t.innerHTML}return""},Ww=e=>{if(e.nodeType===1){if(e.nodeName.toLowerCase()==="script")return!1;for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;if(td(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let t=0;t<e.childNodes.length;t++)if(!Ww(e.childNodes[t]))return!1}return!0},sO=e=>e.startsWith("data:image/svg+xml"),aO=e=>e.indexOf(";utf8,")!==-1,as=new Map,Pb=new Map;let Jh;const lO=(e,t)=>{let n=Pb.get(e);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(sO(e)&&aO(e)){Jh||(Jh=new DOMParser);const o=Jh.parseFromString(e,"text/html").querySelector("svg");return o&&as.set(e,o.outerHTML),Promise.resolve()}else n=fetch(e).then(i=>{if(i.ok)return i.text().then(o=>{o&&t!==!1&&(o=rO(o)),as.set(e,o||"")});as.set(e,"")}),Pb.set(e,n);else return as.set(e,""),Promise.resolve();return n},cO=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",uO=De(class extends Ce{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=dO(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=iO(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(t,n,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const o=this.io=new window.IntersectionObserver(s=>{s[0].isIntersecting&&(o.disconnect(),this.io=void 0,i())},{rootMargin:n});o.observe(t)}else i()}loadIcon(){if(this.isVisible){const t=eO(this);t&&(as.has(t)?this.svgContent=as.get(t):lO(t,this.sanitize).then(()=>this.svgContent=as.get(t)),this.didLoadIcon=!0)}this.iconName=Hw(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:t,iconName:n,inheritedAttributes:i,el:o}=this,s=this.mode||"md",a=n?(n.includes("arrow")||n.includes("chevron"))&&t!==!1:!1,c=t||a;return rt(Fe,Object.assign({role:"img",class:Object.assign(Object.assign({[s]:!0},hO(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":c,"icon-rtl":c&&oO(o)})},i),this.svgContent?rt("div",{class:"icon-inner",innerHTML:this.svgContent}):rt("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return cO}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),dO=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",hO=e=>e?{"ion-color":!0,[`ion-color-${e}`]:!0}:null;function fO(){if(typeof customElements>"u")return;["ion-icon"].forEach(t=>{switch(t){case"ion-icon":customElements.get(t)||customElements.define(t,uO);break}})}const pO=fO;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */function mO(e,t,n,i){let o;if(n==="md"?o=e==="top"?8:-8:o=e==="top"?10:-10,t&&Qe){gO(t,i);const s=t.getBoundingClientRect();return e==="top"?o+=s.bottom:e==="bottom"&&(o-=Qe.innerHeight-s.top),{top:`${o}px`,bottom:`${o}px`}}else return{top:`calc(${o}px + var(--ion-safe-area-top, 0px))`,bottom:`calc(${o}px - var(--ion-safe-area-bottom, 0px))`}}function gO(e,t){e.offsetParent===null&&Vn("The positionAnchor element for ion-toast was found in the DOM, but appears to be hidden. This may lead to unexpected positioning of the toast.",t)}const Em=(e,t)=>Math.floor(e/2-t/2),vO=(e,t)=>{const n=Zo(),i=Zo(),{position:o,top:s,bottom:a}=t,u=$a(e).querySelector(".toast-wrapper");switch(i.addElement(u),o){case"top":i.fromTo("transform","translateY(-100%)",`translateY(${s})`);break;case"middle":const f=Em(e.clientHeight,u.clientHeight);u.style.top=`${f}px`,i.fromTo("opacity",.01,1);break;default:i.fromTo("transform","translateY(100%)",`translateY(${a})`);break}return n.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(i)},bO=(e,t)=>{const n=Zo(),i=Zo(),{position:o,top:s,bottom:a}=t,u=$a(e).querySelector(".toast-wrapper");switch(i.addElement(u),o){case"top":i.fromTo("transform",`translateY(${s})`,"translateY(-100%)");break;case"middle":i.fromTo("opacity",.99,0);break;default:i.fromTo("transform",`translateY(${a})`,"translateY(100%)");break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(i)},_O=(e,t)=>{const n=Zo(),i=Zo(),{position:o,top:s,bottom:a}=t,u=$a(e).querySelector(".toast-wrapper");switch(i.addElement(u),o){case"top":u.style.setProperty("transform",`translateY(${s})`),i.fromTo("opacity",.01,1);break;case"middle":const f=Em(e.clientHeight,u.clientHeight);u.style.top=`${f}px`,i.fromTo("opacity",.01,1);break;default:u.style.setProperty("transform",`translateY(${a})`),i.fromTo("opacity",.01,1);break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(i)},yO=e=>{const t=Zo(),n=Zo(),o=$a(e).querySelector(".toast-wrapper");return n.addElement(o).fromTo("opacity",.99,0),t.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(n)},wO=(e,t,n)=>{const i=$a(e).querySelector(".toast-wrapper"),o=e.clientHeight,s=i.getBoundingClientRect();let a=0;const c=.5,u=e.position==="middle"?.5:0,f=e.position==="top"?-1:1,p=Em(o,s.height),m=[{offset:0,transform:`translateY(-${p+s.height}px)`},{offset:.5,transform:"translateY(0px)"},{offset:1,transform:`translateY(${p+s.height}px)`}],b=Zo("toast-swipe-to-dismiss-animation").addElement(i).duration(100);switch(e.position){case"middle":a=o+s.height,b.keyframes(m),b.progressStart(!0,.5);break;case"top":a=s.bottom,b.keyframes([{offset:0,transform:`translateY(${t.top})`},{offset:1,transform:"translateY(-100%)"}]),b.progressStart(!0,0);break;case"bottom":default:a=o-s.top,b.keyframes([{offset:0,transform:`translateY(${t.bottom})`},{offset:1,transform:"translateY(100%)"}]),b.progressStart(!0,0);break}const w=M=>M*f/a,$=Sw({el:i,gestureName:"toast-swipe-to-dismiss",gesturePriority:vP,direction:"y",onMove:M=>{const F=u+w(M.deltaY);b.progressStep(F)},onEnd:M=>{const F=M.velocityY,B=(M.deltaY+F*1e3)/a*f;$.enable(!1);let z=!0,U=1,W=0,S=0;if(e.position==="middle"){z=B>=c/2||B<=-c/2,U=1,W=0;const A=i.getBoundingClientRect(),O=A.top-p,C=`${O}px`,V=M.deltaY<=0?-1:1,P=(p+A.height)*V,$t=z?`${P}px`:"0px",ne=[{offset:0,transform:`translateY(${C})`},{offset:1,transform:`translateY(${$t})`}];b.keyframes(ne),S=P-O}else z=B>=c,U=z?1:0,W=w(M.deltaY),S=(z?1-W:W)*a;const E=Math.min(Math.abs(S)/Math.abs(F),200);b.onFinish(()=>{z?(n(),b.destroy()):(e.position==="middle"?b.keyframes(m).progressStart(!0,.5):b.progressStart(!0,0),$.enable(!0))},{oneTimeCallback:!0}).progressEnd(U,W,E)}});return $},xO=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}@supports (inset-inline-start: 0){:host{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host(:dir(rtl)){left:unset;right:unset;right:0}}}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}@supports (inset-inline-start: 0){.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}}@supports not (inset-inline-start: 0){.toast-wrapper{left:var(--start);right:var(--end)}:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}[dir=rtl] .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}@supports selector(:dir(rtl)){.toast-wrapper:dir(rtl){left:unset;right:unset;left:var(--end);right:var(--start)}}}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, #f2f2f2);--border-radius:14px;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-850, #262626);--max-width:700px;--max-height:478px;--start:10px;--end:10px;font-size:clamp(14px, 0.875rem, 43.4px)}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}:host(.ion-color.toast-translucent) .toast-wrapper{background:rgba(var(--ion-color-base-rgb), 0.8)}}.toast-wrapper.toast-middle{opacity:0.01}.toast-content{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:15px;padding-bottom:15px}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;min-height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:clamp(17px, 1.0625rem, 21.998px);font-weight:500;overflow:hidden}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}",EO=xO,TO=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}@supports (inset-inline-start: 0){:host{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host(:dir(rtl)){left:unset;right:unset;right:0}}}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}@supports (inset-inline-start: 0){.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}}@supports not (inset-inline-start: 0){.toast-wrapper{left:var(--start);right:var(--end)}:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}[dir=rtl] .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}@supports selector(:dir(rtl)){.toast-wrapper:dir(rtl){left:unset;right:unset;left:var(--end);right:var(--start)}}}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, #333333);--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-50, #f2f2f2);--max-width:700px;--start:8px;--end:8px;font-size:0.875rem}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}.toast-content{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:14px;padding-bottom:14px}.toast-header{margin-bottom:2px;font-weight:500;line-height:1.25rem}.toast-message{line-height:1.25rem}.toast-layout-baseline .toast-button-group-start{-webkit-margin-start:8px;margin-inline-start:8px}.toast-layout-stacked .toast-button-group-start{-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px}.toast-layout-baseline .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px}.toast-layout-stacked .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px;margin-bottom:8px}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:0.875rem;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}.toast-button-cancel{color:var(--ion-color-step-100, #e6e6e6)}.toast-button-icon-only{border-radius:50%;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}",kO=TO,IO=De(class extends Ce{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ke(this,"ionToastDidPresent",7),this.willPresent=ke(this,"ionToastWillPresent",7),this.willDismiss=ke(this,"ionToastWillDismiss",7),this.didDismiss=ke(this,"ionToastDidDismiss",7),this.didPresentShorthand=ke(this,"didPresent",7),this.willPresentShorthand=ke(this,"willPresent",7),this.willDismissShorthand=ke(this,"willDismiss",7),this.didDismissShorthand=ke(this,"didDismiss",7),this.delegateController=bP(this),this.lockController=hw(),this.triggerController=_P(),this.customHTMLEnabled=ue.get("innerHTMLTemplatesEnabled",lR),this.presented=!1,this.dispatchCancelHandler=t=>{const n=t.detail.role;if(Zf(n)){const i=this.getButtons().find(o=>o.role==="cancel");this.callButtonHandler(i)}},this.createSwipeGesture=t=>{(this.gesture=wO(this.el,t,()=>{this.dismiss(void 0,gw)})).enable(!0)},this.destroySwipeGesture=()=>{const{gesture:t}=this;t!==void 0&&(t.destroy(),this.gesture=void 0)},this.prefersSwipeGesture=()=>{const{swipeGesture:t}=this;return t==="vertical"},this.revealContentToScreenReader=!1,this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.color=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.duration=ue.getNumber("toastDuration",0),this.header=void 0,this.layout="baseline",this.message=void 0,this.keyboardClose=!1,this.position="bottom",this.positionAnchor=void 0,this.buttons=void 0,this.translucent=!1,this.animated=!0,this.icon=void 0,this.htmlAttributes=void 0,this.swipeGesture=void 0,this.isOpen=!1,this.trigger=void 0}swipeGestureChanged(){this.destroySwipeGesture(),this.presented&&this.prefersSwipeGesture()&&this.createSwipeGesture(this.lastPresentedPosition)}onIsOpenChange(t,n){t===!0&&n===!1?this.present():t===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:t,el:n,triggerController:i}=this;t&&i.addClickListener(n,t)}connectedCallback(){oP(this.el),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){rP(this.el)}componentDidLoad(){this.isOpen===!0&&Oi(()=>this.present()),this.triggerChanged()}async present(){const t=await this.lockController.lock();await this.delegateController.attachViewToDom();const{el:n,position:i}=this,o=this.getAnchorElement(),s=mO(i,o,de(this),n);this.lastPresentedPosition=s,await uP(this,"toastEnter",vO,_O,{position:i,top:s.top,bottom:s.bottom}),this.revealContentToScreenReader=!0,this.duration>0&&(this.durationTimeout=setTimeout(()=>this.dismiss(void 0,"timeout"),this.duration)),this.prefersSwipeGesture()&&this.createSwipeGesture(s),t()}async dismiss(t,n){var i,o;const s=await this.lockController.lock(),{durationTimeout:a,position:c,lastPresentedPosition:u}=this;a&&clearTimeout(a);const f=await hP(this,t,n,"toastLeave",bO,yO,{position:c,top:(i=u==null?void 0:u.top)!==null&&i!==void 0?i:"",bottom:(o=u==null?void 0:u.bottom)!==null&&o!==void 0?o:""});return f&&(this.delegateController.removeViewFromDom(),this.revealContentToScreenReader=!1),this.lastPresentedPosition=void 0,this.destroySwipeGesture(),s(),f}onDidDismiss(){return Jv(this.el,"ionToastDidDismiss")}onWillDismiss(){return Jv(this.el,"ionToastWillDismiss")}getButtons(){return this.buttons?this.buttons.map(n=>typeof n=="string"?{text:n}:n):[]}getAnchorElement(){const{position:t,positionAnchor:n,el:i}=this;if(n!==void 0){if(t==="middle"&&n!==void 0){Vn('The positionAnchor property is ignored when using position="middle".',this.el);return}if(typeof n=="string"){const o=document.getElementById(n);if(o===null){Vn(`An anchor element with an ID of "${n}" was not found in the DOM.`,i);return}return o}if(n instanceof Ce)return n;Vn("Invalid positionAnchor value:",n,i)}}async buttonClick(t){const n=t.role;return Zf(n)?this.dismiss(void 0,n):await this.callButtonHandler(t)?this.dismiss(void 0,n):Promise.resolve()}async callButtonHandler(t){if(t!=null&&t.handler)try{if(await gP(t.handler)===!1)return!1}catch(n){console.error(n)}return!0}renderButtons(t,n){if(t.length===0)return;const i=de(this),o={"toast-button-group":!0,[`toast-button-group-${n}`]:!0};return rt("div",{class:o},t.map(s=>rt("button",Object.assign({},s.htmlAttributes,{type:"button",class:SO(s),tabIndex:0,onClick:()=>this.buttonClick(s),part:AO(s)}),rt("div",{class:"toast-button-inner"},s.icon&&rt("ion-icon",{"aria-hidden":"true",icon:s.icon,slot:s.text===void 0?"icon-only":void 0,class:"toast-button-icon"}),s.text),i==="md"&&rt("ion-ripple-effect",{type:s.icon!==void 0&&s.text===void 0?"unbounded":"bounded"}))))}renderToastMessage(t,n=null){const{customHTMLEnabled:i,message:o}=this;return i?rt("div",{key:t,"aria-hidden":n,class:"toast-message",part:"message",innerHTML:iR(o)}):rt("div",{key:t,"aria-hidden":n,class:"toast-message",part:"message"},o)}renderHeader(t,n=null){return rt("div",{key:t,class:"toast-header","aria-hidden":n,part:"header"},this.header)}render(){const{layout:t,el:n,revealContentToScreenReader:i,header:o,message:s}=this,a=this.getButtons(),c=a.filter(m=>m.side==="start"),u=a.filter(m=>m.side!=="start"),f=de(this),p={"toast-wrapper":!0,[`toast-${this.position}`]:!0,[`toast-layout-${t}`]:!0};return t==="stacked"&&c.length>0&&u.length>0&&Vn("This toast is using start and end buttons with the stacked toast layout. We recommend following the best practice of using either start or end buttons with the stacked toast layout.",n),rt(Fe,Object.assign({key:"23803334fb668f6ce7044d3a321cb84bc753bd16",tabindex:"-1"},this.htmlAttributes,{style:{zIndex:`${6e4+this.overlayIndex}`},class:pi(this.color,Object.assign(Object.assign({[f]:!0},uw(this.cssClass)),{"overlay-hidden":!0,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),rt("div",{key:"7cd7138ba079fccf97f318b91e9986491ab4214d",class:p},rt("div",{key:"93b78fa64e24435adeb77a04c1d1d53d2f093864",class:"toast-container",part:"container"},this.renderButtons(c,"start"),this.icon!==void 0&&rt("ion-icon",{key:"9a3c71b164ebcfba2540acb7568beffa76b62f47",class:"toast-icon",part:"icon",icon:this.icon,lazy:!1,"aria-hidden":"true"}),rt("div",{key:"feb9268102d844f1314205f7440de7066cf0620e",class:"toast-content",role:"status","aria-atomic":"true","aria-live":"polite"},!i&&o!==void 0&&this.renderHeader("oldHeader","true"),!i&&s!==void 0&&this.renderToastMessage("oldMessage","true"),i&&o!==void 0&&this.renderHeader("header"),i&&s!==void 0&&this.renderToastMessage("header")),this.renderButtons(u,"end"))))}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:EO,md:kO}}},[33,"ion-toast",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],color:[513],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],duration:[2],header:[1],layout:[1],message:[1],keyboardClose:[4,"keyboard-close"],position:[1],positionAnchor:[1,"position-anchor"],buttons:[16],translucent:[4],animated:[4],icon:[1],htmlAttributes:[16],swipeGesture:[1,"swipe-gesture"],isOpen:[4,"is-open"],trigger:[1],revealContentToScreenReader:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),SO=e=>Object.assign({"toast-button":!0,"toast-button-icon-only":e.icon!==void 0&&e.text===void 0,[`toast-button-${e.role}`]:e.role!==void 0,"ion-focusable":!0,"ion-activatable":!0},uw(e.cssClass)),AO=e=>Zf(e.role)?"button cancel":"button";function CO(){if(typeof customElements>"u")return;["ion-toast","ion-icon","ion-ripple-effect"].forEach(t=>{switch(t){case"ion-toast":customElements.get(t)||customElements.define(t,IO);break;case"ion-icon":customElements.get(t)||gm();break;case"ion-ripple-effect":customElements.get(t)||ks();break}})}const PO=CO;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Rb;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(Rb||(Rb={}));const Lb="update:modelValue",tf="modelValue",RO="routerLink",Ob="navManager",LO="router",OO="aria",ia=Symbol(),ef={default:ia},$b=e=>(e==null?void 0:e.split(" "))||[],$O=(e,t,n=[])=>{var i;return[...Array.from(((i=e.value)===null||i===void 0?void 0:i.classList)||[]),...n].filter((o,s,a)=>!t.has(o)&&a.indexOf(o)===s)},oi=(e,t,n=[],i,o)=>{t!==void 0&&t();const s=_n((a,{attrs:c,slots:u,emit:f})=>{var p;let m=a[i];const b=fe(),w=new Set($b(c.class)),T={created:B=>{(Array.isArray(o)?o:[o]).forEach(U=>{B.addEventListener(U.toLowerCase(),W=>{m=(W==null?void 0:W.target)[i],f(Lb,m)})})}},k=Pd(),M=((p=k==null?void 0:k.appContext)===null||p===void 0?void 0:p.provides[Ob])?cn(Ob):void 0,F=B=>{const{routerLink:z}=a;if(z!==ia)if(M!==void 0){let U={event:B};for(const W in a){const S=a[W];a.hasOwnProperty(W)&&W.startsWith(LO)&&S!==ia&&(U[W]=S)}M.navigate(U)}else console.warn("Tried to navigate, but no router was found. Make sure you have mounted Vue Router.")};return()=>{m=a[i],$b(c.class).forEach(S=>{w.add(S)});const B=a.onClick,z=S=>{B!==void 0&&B(S),S.defaultPrevented||F(S)};let U={ref:b,class:$O(b,w),onClick:z};for(const S in a){const E=a[S];(a.hasOwnProperty(S)&&E!==ia||S.startsWith(OO))&&(U[S]=E)}i&&(a[tf]!==ia?U=Object.assign(Object.assign({},U),{[i]:a[tf]}):m!==ia&&(U=Object.assign(Object.assign({},U),{[i]:m})));const W=vn(e,U,u.default&&u.default());return i===void 0?W:_u(W,[[T]])}});return typeof s!="function"&&(s.name=e,s.props={[RO]:ef},n.forEach(a=>{s.props[a]=ef}),i&&(s.props[tf]=ef,s.emits=[Lb])),s},cp=oi("ion-badge",ZA,["color"]),MO=oi("ion-button",lC,["color","buttonType","disabled","expand","fill","routerDirection","routerAnimation","download","href","rel","shape","size","strong","target","type","form","ionFocus","ionBlur"]),DO=oi("ion-buttons",mC,["collapse"]),Mb=oi("ion-chip",xC,["color","outline","disabled"]),Tm=oi("ion-content",RC,["color","fullscreen","forceOverscroll","scrollX","scrollY","scrollEvents","ionScrollStart","ionScroll","ionScrollEnd"]),NO=oi("ion-header",nR,["collapse","translucent"]),VO=oi("ion-item",cR,["color","button","detail","detailIcon","disabled","download","fill","shape","href","rel","lines","counter","routerAnimation","routerDirection","target","type","counterFormatter"]),BO=oi("ion-item-option",gR,["color","disabled","download","expandable","href","rel","target","type"]),zO=oi("ion-item-options",ER,["side","ionSwipe"]),FO=oi("ion-item-sliding",LR,["disabled","ionDrag"]),nf=oi("ion-label",OR,["color","position","ionColor","ionStyle"]),UO=oi("ion-list",zR,["lines","inset"]),jO=oi("ion-title",l2,["color","size","ionStyle"]),HO=oi("ion-toolbar",m2,["color"]);var oo;(function(e){e.WillEnter="onIonViewWillEnter",e.DidEnter="onIonViewDidEnter",e.WillLeave="onIonViewWillLeave",e.DidLeave="onIonViewDidLeave"})(oo||(oo={}));const qO={[bm]:oo.WillEnter,[_m]:oo.DidEnter,[Vd]:oo.WillLeave,[Bd]:oo.DidLeave},Db={main:0},WO=(e="main")=>{var t;const n=((t=Db[e])!==null&&t!==void 0?t:0)+1;return Db[e]=n,n.toString()},du=(e,t,n)=>{e!=null&&e[n]&&e[n].bind(t==null?void 0:t.value)();const i=t==null?void 0:t.value;if(i!=null&&i[n]&&i[n](),i){const o=qO[n],s=i[o];s&&s.forEach(a=>a())}},Gw=()=>{if(typeof window<"u"){const e=window.Ionic;if(e&&e.config)return e.config}return null},GO=(e,t,n)=>{if(n){const i=n,o=i.proxy[e]||(i.proxy[e]=[]);i.exposed&&(i.exposed[e]=o);const s=(...a)=>{if(!i.isUnmounted)return a?t(...a):t()};return o.push(s),s}else console.warn("[@ionic/vue]: Ionic Lifecycle Hooks can only be used during execution of setup().")},jd=e=>(t,n=Pd())=>GO(e,t,n);jd(oo.WillEnter);jd(oo.DidEnter);jd(oo.WillLeave);jd(oo.DidLeave);const of=e=>e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase(),KO=()=>({ael:(e,t,n,i)=>e.addEventListener(of(t),n,i),rel:(e,t,n,i)=>e.removeEventListener(of(t),n,i),ce:(e,t)=>new CustomEvent(of(e),t)}),ZO={async install(e,t={}){typeof document<"u"&&document.documentElement.classList.add("ion-ce");const{ael:n,rel:i,ce:o}=KO();wA(Object.assign(Object.assign({},t),{_ael:n,_rel:i,_ce:o}))}},YO=_n((e,{attrs:t,slots:n})=>{x2();const i=cn("navManager"),o=()=>{if(i===void 0)return;const s=t["default-href"]||t.defaultHref,a=t["router-animation"]||t.routerAnimation;i.handleNavigateBack(s,a)};return()=>vn("ion-back-button",Object.assign({onClick:o},t),n.default&&n.default())});YO.name="IonBackButton";const Hd=_n({name:"IonPage",props:{registerIonPage:{type:Function,default:()=>{}}},mounted(){this.$props.registerIonPage(this.$refs.ionPage)},setup(e,{attrs:t,slots:n}){return()=>vn("div",Object.assign(Object.assign({},t),{class:"ion-page",ref:"ionPage"}),n.default&&n.default())}}),Nb=e=>!e.classList.contains("ion-page-hidden")&&!e.classList.contains("ion-page-invisible"),Vb=Symbol(0),Kw=_n({name:"IonRouterOutlet",setup(){S2();const e=cn(Ud),t=LL(),n=cn(Vb,0),i=Qn(()=>t.matched[n]);let o,s;da(Vb,n+1),da(Bw,i);const a=fe(),c=WO("ion-router-outlet"),u=cn("navManager"),f=cn("viewStacks"),p=vc([]);let m=!1,b;Fo(()=>[t,i.value],([z,U])=>{if(U!==void 0){const W=U!==o,S=z.matched[z.matched.length-1]===U&&z.path!==s;(W||S)&&F(i)}o=U,s=z.path},{deep:!0});const w=()=>{const z=Gw();if(!(z&&z.get("swipeBackEnabled",a.value.mode==="ios")))return!1;const W=f.getViewStack(c);if(!W||W.length<=1)return!1;const S=u.getLeavingRouteInfo();return!!f.findViewItemByRouteInfo({pathname:S.pushedByRoute||""},c)},T=async()=>{const z=u.getLeavingRouteInfo(),{routerAnimation:U}=z,W=f.findViewItemByRouteInfo({pathname:z.pushedByRoute||""},c),S=f.findViewItemByRouteInfo(z,c);if(S){let E=U;const A=W.ionPageElement,O=S.ionPageElement,C=W.routerAnimation;E===void 0&&C!==void 0&&(E=C),S.routerAnimation=E,await $(A,O,"back",u.canGoBack(2),!0,E)}return Promise.resolve()},k=z=>{if(z)m=!0,u.handleNavigateBack();else{const U=u.getCurrentRouteInfo(),W=f.findViewItemByRouteInfo({pathname:U.pushedByRoute||""},c);W.ionPageElement.setAttribute("aria-hidden","true"),W.ionPageElement.classList.add("ion-page-hidden")}};Fo(a,()=>{a.value.swipeHandler={canStart:w,onStart:T,onEnd:k}});const $=async(z,U,W,S,E,A)=>{if(m)return m=!1,Promise.resolve(!1);if(z===U)return Promise.resolve(!1);z.classList.add("ion-page-invisible");const O=W===void 0||W==="root"||W==="none";return await a.value.commit(z,U,{duration:O&&A===void 0?0:void 0,direction:W,showGoBack:S,progressAnimation:E,animationBuilder:A})},M=async()=>{const z=u.getCurrentRouteInfo(),{routerDirection:U,routerAction:W,routerAnimation:S,prevRouteLastPathname:E,delta:A}=z,O=f.findViewItemByRouteInfo(z,c);let C=f.findLeavingViewItemByRouteInfo(z,c);const V=O.ionPageElement;if(V===void 0&&console.warn(`[@ionic/vue Warning]: The view you are trying to render for path ${z.pathname} does not have the required <ion-page> component. Transitions and lifecycle methods may not work as expected.

See https://ionicframework.com/docs/vue/navigation#ionpage for more information.`),O!==C&&(!C&&E&&(C=f.findViewItemByPathname(E,c)),!(Nb(V)&&(C==null?void 0:C.ionPageElement)!==void 0&&!Nb(C.ionPageElement)))){if(du(O.vueComponent,O.vueComponentRef,bm),C!=null&&C.ionPageElement&&O!==C){let P=S;const $t=C.ionPageElement;du(C.vueComponent,C.vueComponentRef,Vd);const ne=O.routerAnimation;P===void 0&&U==="back"&&ne!==void 0&&(P=ne),C.routerAnimation=P,await $(V,$t,U,!!z.pushedByRoute,!1,P),$t.classList.add("ion-page-hidden"),$t.setAttribute("aria-hidden","true");const Nt=f.size()===1;W==="replace"?(C.mount=!1,C.ionPageElement=void 0,C.ionRoute=!1):W==="push"&&U==="forward"?Nt&&f.mountIntermediaryViews(c,C,A):U!=="none"&&C&&O!==C&&(C.mount=!1,C.ionPageElement=void 0,C.ionRoute=!1,Nt&&f.unmountLeavingViews(c,O,A)),du(C.vueComponent,C.vueComponentRef,Bd)}else requestAnimationFrame(()=>V.classList.remove("ion-page-invisible"));du(O.vueComponent,O.vueComponentRef,_m),p.value=f.getChildrenToRender(c)}},F=z=>{const U=t.matched[0];if(b||(b=U.path),!z.value||z.value!==U&&U.path!==b)return;const W=u.getCurrentRouteInfo();let S=f.findViewItemByRouteInfo(W,c);S||(S=f.createViewItem(c,z.value.components.default,z.value,W),f.add(S)),S.mount?M():(S.mount=!0,S.registerCallback=()=>{M(),S.registerCallback=void 0}),p.value=f.getChildrenToRender(c)};return i.value&&F(i),Sd(()=>f.clear(c)),{id:c,components:p,injectedRoute:e,ionRouterOutlet:a,registerIonPage:(z,U)=>{const W=z.ionPageElement;f.registerIonPage(z,U),z.registerCallback?(U.classList.add("ion-page-invisible"),z.registerCallback()):W&&!W.classList.contains("ion-page-invisible")&&U.classList.remove("ion-page-invisible")}}},render(){const{components:e,registerIonPage:t,injectedRoute:n}=this;return vn("ion-router-outlet",{ref:"ionRouterOutlet"},e&&e.map(i=>{var o,s;let a={ref:i.vueComponentRef,key:i.pathname,registerIonPage:p=>t(i,p)};const c=(s=(o=i.matchedRoute)===null||o===void 0?void 0:o.props)===null||s===void 0?void 0:s.default,f=c?c===!0?i.params:typeof c=="function"?(()=>{var p;const m=(p=i.vueComponentData)===null||p===void 0?void 0:p.propsFunctionResult;if(m)return m;{const b=c(n);return i.vueComponentData=Object.assign(Object.assign({},i.vueComponentData),{propsFunctionResult:b}),b}})():c:null;return a=Object.assign(Object.assign({},a),f),vn(i.vueComponent,a)}))}}),rf=_n({name:"IonTabButton",props:{_getTabState:{type:Function,default:()=>({})},disabled:Boolean,download:String,href:String,rel:String,layout:String,selected:Boolean,tab:String,target:String},setup(e,{slots:t}){BL();const n=cn("navManager"),i=o=>{o.cancelable&&o.preventDefault();const{tab:s,href:a,_getTabState:c}=e,u=c(),f=u.tabs[s]||{},p=f.originalHref||a,m=f.currentHref||a;u.activeTab===s?p!==m&&n.resetTab(s):n.changeTab(s,m)};return()=>vn("ion-tab-button",Object.assign({onClick:i},e),t.default&&t.default())}}),Bb="ionTabsWillChange",zb="ionTabsDidChange",Fb=e=>e.type&&(e.type.name==="IonRouterOutlet"||e.type==="ion-router-outlet"),XO=e=>e.type&&(e.type.name==="IonTabBar"||e.type==="ion-tab-bar"),QO=_n({name:"IonTabs",emits:[Bb,zb],render(){var e;const{$slots:t,$emit:n}=this,i=t.default&&t.default();let o;if(i&&i.length>0&&(o=i.find(a=>Fb(a))),!o)throw new Error("IonTabs must contain an IonRouterOutlet. See https://ionicframework.com/docs/vue/navigation#working-with-tabs for more information.");let s=[vn("div",{class:"tabs-inner",style:{position:"relative",flex:"1",contain:"layout size style"}},o)];if(i&&i.length>0){const a=i.filter(f=>!f.type||!Fb(f)),c=a.find(f=>XO(f)),u=c&&((e=c.props)===null||e===void 0?void 0:e.slot)==="top";c&&(c.props||(c.props={}),c.props._tabsWillChange=f=>n(Bb,{tab:f}),c.props._tabsDidChange=f=>n(zb,{tab:f})),u?s=[...a,...s]:s=[...s,...a]}return vn("ion-tabs",{style:{display:"flex",position:"absolute",top:"0",left:"0",right:"0",bottom:"0","flex-direction":"column",width:"100%",height:"100%",contain:"layout size style","z-index":"0"}},s)}}),Zw=e=>{var t;return((t=e.type)===null||t===void 0?void 0:t.name)==="IonTabButton"},Yw=e=>{let t=[];return e.forEach(n=>{if(Zw(n))t.push(n);else if(Array.isArray(n.children)&&n.children.length>1){const i=Yw(n.children);t=[...t,...i]}}),t},JO=_n({name:"IonTabBar",props:{_tabsWillChange:{type:Function,default:()=>{}},_tabsDidChange:{type:Function,default:()=>{}}},data(){return{tabState:{activeTab:void 0,tabs:{}},tabVnodes:[]}},updated(){this.setupTabState(cn("navManager"))},methods:{setupTabState(e){const t=this.$data.tabState,n=Pd();(this.$data.tabVnodes=Yw(n.subTree.children||[])).forEach(o=>{t.tabs[o.props.tab]={originalHref:o.props.href,currentHref:o.props.href,ref:o},o.component.props._getTabState=()=>t}),this.checkActiveTab(e)},checkActiveTab(e){const t=e.getCurrentRouteInfo(),n=this.$data.tabVnodes,{tabs:i,activeTab:o}=this.$data.tabState,s=this.$data.tabState,c=Object.keys(i).find(m=>{const b=i[m].originalHref;return t.pathname.startsWith(b)});if(n.forEach(m=>{const b=i[m.props.tab];(!b||b.originalHref!==m.props.href)&&(i[m.props.tab]={originalHref:m.props.href,currentHref:m.props.href,ref:m})}),c&&o){const m=this.$data.tabState.tabs[o].currentHref;if(c!==o||m!==t.pathname){const b=t.search?`?${t.search}`:"";i[c]=Object.assign(Object.assign({},i[c]),{currentHref:t.pathname+b})}t.routerAction==="pop"&&c!==o&&(i[o]=Object.assign(Object.assign({},i[o]),{currentHref:i[o].originalHref}))}const u=n.find(m=>{var b;return Zw(m)&&((b=m.props)===null||b===void 0?void 0:b.tab)===c}),f=this.$refs.ionTabBar,p=c!==o;f&&(u?(p&&this.$props._tabsWillChange(c),e.handleSetCurrentTab(c),f.selectedTab=s.activeTab=c,p&&this.$props._tabsDidChange(c)):f.selectedTab=s.activeTab="")}},mounted(){const e=cn("navManager");this.setupTabState(e),e.registerHistoryChangeListener(()=>this.checkActiveTab(e))},setup(e,{slots:t}){return WL(),()=>vn("ion-tab-bar",{ref:"ionTabBar"},t.default&&t.default())}}),nc=vc([]),Xw=_n((e,{attrs:t,slots:n})=>(JL(),()=>vn("ion-app",Object.assign({},t),[n.default&&n.default(),...nc.value])));Xw.name="IonApp";const t$=e=>{nc.value=[...nc.value,e]},e$=e=>{nc.value=nc.value.filter(t=>t!==e)},n$=(e=t$,t=e$)=>{const n=new WeakMap;return{attachViewToDom:(s,a,c={},u)=>{const f=document.createElement("div");u&&f.classList.add(...u),s.appendChild(f);const p=vn(Ik,{to:f},vn(a,Object.assign({},c)));return n.set(f,p),e(p),Promise.resolve(f)},removeViewFromDom:(s,a)=>{const c=n.get(a);return c&&t(c),Promise.resolve()}}},Qw=_n(e=>{YR();const t=vc([]),o=n$(s=>t.value=[...t.value,s],s=>t.value=t.value.filter(a=>a!==s));return()=>vn("ion-nav",Object.assign(Object.assign({},e),{delegate:o}),t.value)});Qw.name="IonNav";Qw.props={animated:{type:Boolean,default:!0},animation:{type:Function,default:void 0},root:{type:[Function,Object,String],default:void 0},rootParams:{type:Object,default:void 0},swipeGesture:{type:Boolean,default:void 0}};const Ke=_n({name:"IonIcon",props:{color:String,flipRtl:Boolean,icon:String,ios:String,lazy:String,md:String,mode:String,name:String,size:String,src:String},setup(e,{slots:t}){return pO(),()=>{var n,i;const{icon:o,ios:s,md:a,mode:c}=e;let u;const f=Gw(),p=c||(f==null?void 0:f.get("mode"));return s||a?p==="ios"?u=(n=s??a)!==null&&n!==void 0?n:o:u=(i=a??s)!==null&&i!==void 0?i:o:u=o,vn("ion-icon",Object.assign(Object.assign({},e),{icon:u}),t)}}}),up=Symbol(),Ub={default:up},i$=(e,t,n=[],i,o)=>{const c=o!==void 0?(()=>_n((u,{slots:f,emit:p})=>{const m=[{componentEv:`${e}-will-present`,frameworkEv:"willPresent"},{componentEv:`${e}-did-present`,frameworkEv:"didPresent"},{componentEv:`${e}-will-dismiss`,frameworkEv:"willDismiss"},{componentEv:`${e}-did-dismiss`,frameworkEv:"didDismiss"}];t!==void 0&&t();const b=fe(),w=async()=>{u.isOpen&&await M(u)},T=async(F,B)=>{const z=F.props.isOpen,U=B.props.isOpen;z!==U&&(z?await M(u):await $())},k=async()=>{await $()},$=async()=>{b.value&&(await b.value,b.value=b.value.dismiss(),await b.value,b.value=void 0)},M=async F=>{var B;if(b.value&&await b.value,!((B=b.value)===null||B===void 0)&&B.present){await b.value.present();return}let z={};for(const W in F){const S=F[W];F.hasOwnProperty(W)&&S!==up&&(z[W]=S)}delete z.onWillPresent,delete z.onDidPresent,delete z.onWillDismiss,delete z.onDidDismiss;const U=f.default&&f.default()[0];b.value=o.create(Object.assign(Object.assign({},z),{component:U})),b.value=await b.value,m.forEach(W=>{b.value.addEventListener(W.componentEv,()=>{p(W.frameworkEv)})}),await b.value.present()};return()=>vn("div",{style:{display:"none"},onVnodeMounted:w,onVnodeUpdated:T,onVnodeBeforeUnmount:k,isOpen:u.isOpen===!0})}))():(()=>_n((u,{slots:f})=>{t!==void 0&&t();const p=fe(!1),m=fe();return _c(()=>{m.value.addEventListener("ion-mount",()=>p.value=!0),m.value.addEventListener("will-present",()=>p.value=!0),m.value.addEventListener("did-dismiss",()=>p.value=!1)}),()=>{let b={};for(const T in u){const k=u[T];u.hasOwnProperty(T)&&k!==up&&(b[T]=k)}const w=()=>i?vn("div",{className:"ion-delegate-host ion-page"},f):f;return vn(e,Object.assign(Object.assign({},b),{ref:m}),p.value||b.keepContentsMounted||b.keepContentsMounted===""?w():void 0)}}))();return c.name=e,c.props={isOpen:Ub},n.forEach(u=>{c.props[u]=Ub}),o!==void 0&&(c.emits=["willPresent","didPresent","willDismiss","didDismiss"]),c},o$=i$("ion-toast",PO,["animated","buttons","color","cssClass","duration","enterAnimation","header","htmlAttributes","icon","isOpen","keyboardClose","layout","leaveAnimation","message","mode","position","positionAnchor","swipeGesture","translucent","trigger"]);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},r$=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){const s=e[n++];t[i++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){const s=e[n++],a=e[n++],c=e[n++],u=((o&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(s&63)<<6|a&63)}}return t.join("")},tx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<e.length;o+=3){const s=e[o],a=o+1<e.length,c=a?e[o+1]:0,u=o+2<e.length,f=u?e[o+2]:0,p=s>>2,m=(s&3)<<4|c>>4;let b=(c&15)<<2|f>>6,w=f&63;u||(w=64,a||(b=64)),i.push(n[p],n[m],n[b],n[w])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Jw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):r$(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<e.length;){const s=n[e.charAt(o++)],c=o<e.length?n[e.charAt(o)]:0;++o;const f=o<e.length?n[e.charAt(o)]:64;++o;const m=o<e.length?n[e.charAt(o)]:64;if(++o,s==null||c==null||f==null||m==null)throw new s$;const b=s<<2|c>>4;if(i.push(b),f!==64){const w=c<<4&240|f>>2;if(i.push(w),m!==64){const T=f<<6&192|m;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a$=function(e){const t=Jw(e);return tx.encodeByteArray(t,!0)},ed=function(e){return a$(e).replace(/\./g,"")},ex=function(e){try{return tx.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$=()=>l$().__FIREBASE_DEFAULTS__,u$=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},d$=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ex(e[1]);return t&&JSON.parse(t)},qd=()=>{try{return c$()||u$()||d$()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},nx=e=>{var t,n;return(n=(t=qd())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},h$=e=>{const t=nx(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},ix=()=>{var e;return(e=qd())===null||e===void 0?void 0:e.config},ox=e=>{var t;return(t=qd())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),c="";return[ed(JSON.stringify(n)),ed(JSON.stringify(a)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function g$(){var e;const t=(e=qd())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function b$(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function _$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y$(){const e=Hn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function w$(){return!g$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rx(){try{return typeof indexedDB=="object"}catch{return!1}}function sx(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var s;t(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function x$(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$="FirebaseError";class fo extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=E$,Object.setPrototypeOf(this,fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Is.prototype.create)}}class Is{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},o=`${this.service}/${t}`,s=this.errors[t],a=s?T$(s,i):"Error",c=`${this.serviceName}: ${a} (${o}).`;return new fo(o,c,i)}}function T$(e,t){return e.replace(k$,(n,i)=>{const o=t[i];return o!=null?String(o):`<${i}?>`})}const k$=/\{\$([^}]+)}/g;function I$(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function nd(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const o of n){if(!i.includes(o))return!1;const s=e[o],a=t[o];if(jb(s)&&jb(a)){if(!nd(s,a))return!1}else if(s!==a)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function jb(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function yl(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,s]=i.split("=");t[decodeURIComponent(o)]=decodeURIComponent(s)}}),t}function wl(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function S$(e,t){const n=new A$(e,t);return n.subscribe.bind(n)}class A${constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let o;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");C$(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:i},o.next===void 0&&(o.next=sf),o.error===void 0&&(o.error=sf),o.complete===void 0&&(o.complete=sf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C$(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function sf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(e){return e&&e._delegate?e._delegate:e}class ji{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new f$;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(L$(t))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:o});i.resolve(s)}catch{}}}}clearInstance(t=os){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=os){return this.instances.has(t)}getOptions(t=os){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);i===c&&a.resolve(o)}return o}onInit(t,n){var i;const o=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(o,s);const a=this.instances.get(o);return a&&t(a,o),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:R$(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=os){return this.component?this.component.multipleInstances?t:os:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R$(e){return e===os?void 0:e}function L$(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new P$(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(re||(re={}));const $$={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},M$=re.INFO,D$={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},N$=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),o=D$[t];if(o)console[o](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class km{constructor(t){this.name=t,this._logLevel=M$,this._logHandler=N$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$$[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}}const V$=(e,t)=>t.some(n=>e instanceof n);let Hb,qb;function B$(){return Hb||(Hb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z$(){return qb||(qb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ax=new WeakMap,dp=new WeakMap,lx=new WeakMap,af=new WeakMap,Im=new WeakMap;function F$(e){const t=new Promise((n,i)=>{const o=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(jo(e.result)),o()},a=()=>{i(e.error),o()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&ax.set(n,e)}).catch(()=>{}),Im.set(t,e),t}function U$(e){if(dp.has(e))return;const t=new Promise((n,i)=>{const o=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),o()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});dp.set(e,t)}let hp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return dp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||lx.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jo(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function j$(e){hp=e(hp)}function H$(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(lf(this),t,...n);return lx.set(i,t.sort?t.sort():[t]),jo(i)}:z$().includes(e)?function(...t){return e.apply(lf(this),t),jo(ax.get(this))}:function(...t){return jo(e.apply(lf(this),t))}}function q$(e){return typeof e=="function"?H$(e):(e instanceof IDBTransaction&&U$(e),V$(e,B$())?new Proxy(e,hp):e)}function jo(e){if(e instanceof IDBRequest)return F$(e);if(af.has(e))return af.get(e);const t=q$(e);return t!==e&&(af.set(e,t),Im.set(t,e)),t}const lf=e=>Im.get(e);function Wd(e,t,{blocked:n,upgrade:i,blocking:o,terminated:s}={}){const a=indexedDB.open(e,t),c=jo(a);return i&&a.addEventListener("upgradeneeded",u=>{i(jo(a.result),u.oldVersion,u.newVersion,jo(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),o&&u.addEventListener("versionchange",f=>o(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}function cf(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",i=>t(i.oldVersion,i)),jo(n).then(()=>{})}const W$=["get","getKey","getAll","getAllKeys","count"],G$=["put","add","delete","clear"],uf=new Map;function Wb(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(uf.get(t))return uf.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,o=G$.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||W$.includes(n)))return;const s=async function(a,...c){const u=this.transaction(a,o?"readwrite":"readonly");let f=u.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),o&&u.done]))[0]};return uf.set(t,s),s}j$(e=>({...e,get:(t,n,i)=>Wb(t,n)||e.get(t,n,i),has:(t,n)=>!!Wb(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z$(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Z$(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const fp="@firebase/app",Gb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new km("@firebase/app"),Y$="@firebase/app-compat",X$="@firebase/analytics-compat",Q$="@firebase/analytics",J$="@firebase/app-check-compat",tM="@firebase/app-check",eM="@firebase/auth",nM="@firebase/auth-compat",iM="@firebase/database",oM="@firebase/data-connect",rM="@firebase/database-compat",sM="@firebase/functions",aM="@firebase/functions-compat",lM="@firebase/installations",cM="@firebase/installations-compat",uM="@firebase/messaging",dM="@firebase/messaging-compat",hM="@firebase/performance",fM="@firebase/performance-compat",pM="@firebase/remote-config",mM="@firebase/remote-config-compat",gM="@firebase/storage",vM="@firebase/storage-compat",bM="@firebase/firestore",_M="@firebase/vertexai-preview",yM="@firebase/firestore-compat",wM="firebase",xM="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="[DEFAULT]",EM={[fp]:"fire-core",[Y$]:"fire-core-compat",[Q$]:"fire-analytics",[X$]:"fire-analytics-compat",[tM]:"fire-app-check",[J$]:"fire-app-check-compat",[eM]:"fire-auth",[nM]:"fire-auth-compat",[iM]:"fire-rtdb",[oM]:"fire-data-connect",[rM]:"fire-rtdb-compat",[sM]:"fire-fn",[aM]:"fire-fn-compat",[lM]:"fire-iid",[cM]:"fire-iid-compat",[uM]:"fire-fcm",[dM]:"fire-fcm-compat",[hM]:"fire-perf",[fM]:"fire-perf-compat",[pM]:"fire-rc",[mM]:"fire-rc-compat",[gM]:"fire-gcs",[vM]:"fire-gcs-compat",[bM]:"fire-fst",[yM]:"fire-fst-compat",[_M]:"fire-vertex","fire-js":"fire-js",[wM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new Map,TM=new Map,mp=new Map;function Kb(e,t){try{e.container.addComponent(t)}catch(n){Yo.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function uo(e){const t=e.name;if(mp.has(t))return Yo.debug(`There were multiple attempts to register component ${t}.`),!1;mp.set(t,e);for(const n of id.values())Kb(n,e);for(const n of TM.values())Kb(n,e);return!0}function Ma(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function No(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new Is("app","Firebase",kM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=xM;function cx(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:pp,automaticDataCollectionEnabled:!1},t),o=i.name;if(typeof o!="string"||!o)throw Sr.create("bad-app-name",{appName:String(o)});if(n||(n=ix()),!n)throw Sr.create("no-options");const s=id.get(o);if(s){if(nd(n,s.options)&&nd(i,s.config))return s;throw Sr.create("duplicate-app",{appName:o})}const a=new O$(o);for(const u of mp.values())a.addComponent(u);const c=new IM(n,i,a);return id.set(o,c),c}function Sm(e=pp){const t=id.get(e);if(!t&&e===pp&&ix())return cx();if(!t)throw Sr.create("no-app",{appName:e});return t}function Ti(e,t,n){var i;let o=(i=EM[e])!==null&&i!==void 0?i:e;n&&(o+=`-${n}`);const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const c=[`Unable to register library "${o}" with version "${t}":`];s&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Yo.warn(c.join(" "));return}uo(new ji(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="firebase-heartbeat-database",AM=1,ic="firebase-heartbeat-store";let df=null;function ux(){return df||(df=Wd(SM,AM,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ic)}catch(n){console.warn(n)}}}}).catch(e=>{throw Sr.create("idb-open",{originalErrorMessage:e.message})})),df}async function CM(e){try{const n=(await ux()).transaction(ic),i=await n.objectStore(ic).get(dx(e));return await n.done,i}catch(t){if(t instanceof fo)Yo.warn(t.message);else{const n=Sr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Yo.warn(n.message)}}}async function Zb(e,t){try{const i=(await ux()).transaction(ic,"readwrite");await i.objectStore(ic).put(t,dx(e)),await i.done}catch(n){if(n instanceof fo)Yo.warn(n.message);else{const i=Sr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yo.warn(i.message)}}}function dx(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=1024,RM=30*24*60*60*1e3;class LM{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $M(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Yb();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=RM}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Yo.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yb(),{heartbeatsToSend:i,unsentEntries:o}=OM(this._heartbeatsCache.heartbeats),s=ed(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Yo.warn(n),""}}}function Yb(){return new Date().toISOString().substring(0,10)}function OM(e,t=PM){const n=[];let i=e.slice();for(const o of e){const s=n.find(a=>a.agent===o.agent);if(s){if(s.dates.push(o.date),Xb(n)>t){s.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Xb(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class $M{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rx()?sx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Zb(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Zb(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Xb(e){return ed(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(e){uo(new ji("platform-logger",t=>new K$(t),"PRIVATE")),uo(new ji("heartbeat",t=>new LM(t),"PRIVATE")),Ti(fp,Gb,e),Ti(fp,Gb,"esm2017"),Ti("fire-js","")}MM("");var DM="firebase",NM="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(DM,NM,"app");var Qb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,hx;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(S,E){function A(){}A.prototype=E.prototype,S.D=E.prototype,S.prototype=new A,S.prototype.constructor=S,S.C=function(O,C,V){for(var P=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)P[$t-2]=arguments[$t];return E.prototype[C].apply(O,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(S,E,A){A||(A=0);var O=Array(16);if(typeof E=="string")for(var C=0;16>C;++C)O[C]=E.charCodeAt(A++)|E.charCodeAt(A++)<<8|E.charCodeAt(A++)<<16|E.charCodeAt(A++)<<24;else for(C=0;16>C;++C)O[C]=E[A++]|E[A++]<<8|E[A++]<<16|E[A++]<<24;E=S.g[0],A=S.g[1],C=S.g[2];var V=S.g[3],P=E+(V^A&(C^V))+O[0]+3614090360&4294967295;E=A+(P<<7&4294967295|P>>>25),P=V+(C^E&(A^C))+O[1]+3905402710&4294967295,V=E+(P<<12&4294967295|P>>>20),P=C+(A^V&(E^A))+O[2]+606105819&4294967295,C=V+(P<<17&4294967295|P>>>15),P=A+(E^C&(V^E))+O[3]+3250441966&4294967295,A=C+(P<<22&4294967295|P>>>10),P=E+(V^A&(C^V))+O[4]+4118548399&4294967295,E=A+(P<<7&4294967295|P>>>25),P=V+(C^E&(A^C))+O[5]+1200080426&4294967295,V=E+(P<<12&4294967295|P>>>20),P=C+(A^V&(E^A))+O[6]+2821735955&4294967295,C=V+(P<<17&4294967295|P>>>15),P=A+(E^C&(V^E))+O[7]+4249261313&4294967295,A=C+(P<<22&4294967295|P>>>10),P=E+(V^A&(C^V))+O[8]+1770035416&4294967295,E=A+(P<<7&4294967295|P>>>25),P=V+(C^E&(A^C))+O[9]+2336552879&4294967295,V=E+(P<<12&4294967295|P>>>20),P=C+(A^V&(E^A))+O[10]+4294925233&4294967295,C=V+(P<<17&4294967295|P>>>15),P=A+(E^C&(V^E))+O[11]+2304563134&4294967295,A=C+(P<<22&4294967295|P>>>10),P=E+(V^A&(C^V))+O[12]+1804603682&4294967295,E=A+(P<<7&4294967295|P>>>25),P=V+(C^E&(A^C))+O[13]+4254626195&4294967295,V=E+(P<<12&4294967295|P>>>20),P=C+(A^V&(E^A))+O[14]+2792965006&4294967295,C=V+(P<<17&4294967295|P>>>15),P=A+(E^C&(V^E))+O[15]+1236535329&4294967295,A=C+(P<<22&4294967295|P>>>10),P=E+(C^V&(A^C))+O[1]+4129170786&4294967295,E=A+(P<<5&4294967295|P>>>27),P=V+(A^C&(E^A))+O[6]+3225465664&4294967295,V=E+(P<<9&4294967295|P>>>23),P=C+(E^A&(V^E))+O[11]+643717713&4294967295,C=V+(P<<14&4294967295|P>>>18),P=A+(V^E&(C^V))+O[0]+3921069994&4294967295,A=C+(P<<20&4294967295|P>>>12),P=E+(C^V&(A^C))+O[5]+3593408605&4294967295,E=A+(P<<5&4294967295|P>>>27),P=V+(A^C&(E^A))+O[10]+38016083&4294967295,V=E+(P<<9&4294967295|P>>>23),P=C+(E^A&(V^E))+O[15]+3634488961&4294967295,C=V+(P<<14&4294967295|P>>>18),P=A+(V^E&(C^V))+O[4]+3889429448&4294967295,A=C+(P<<20&4294967295|P>>>12),P=E+(C^V&(A^C))+O[9]+568446438&4294967295,E=A+(P<<5&4294967295|P>>>27),P=V+(A^C&(E^A))+O[14]+3275163606&4294967295,V=E+(P<<9&4294967295|P>>>23),P=C+(E^A&(V^E))+O[3]+4107603335&4294967295,C=V+(P<<14&4294967295|P>>>18),P=A+(V^E&(C^V))+O[8]+1163531501&4294967295,A=C+(P<<20&4294967295|P>>>12),P=E+(C^V&(A^C))+O[13]+2850285829&4294967295,E=A+(P<<5&4294967295|P>>>27),P=V+(A^C&(E^A))+O[2]+4243563512&4294967295,V=E+(P<<9&4294967295|P>>>23),P=C+(E^A&(V^E))+O[7]+1735328473&4294967295,C=V+(P<<14&4294967295|P>>>18),P=A+(V^E&(C^V))+O[12]+2368359562&4294967295,A=C+(P<<20&4294967295|P>>>12),P=E+(A^C^V)+O[5]+4294588738&4294967295,E=A+(P<<4&4294967295|P>>>28),P=V+(E^A^C)+O[8]+2272392833&4294967295,V=E+(P<<11&4294967295|P>>>21),P=C+(V^E^A)+O[11]+1839030562&4294967295,C=V+(P<<16&4294967295|P>>>16),P=A+(C^V^E)+O[14]+4259657740&4294967295,A=C+(P<<23&4294967295|P>>>9),P=E+(A^C^V)+O[1]+2763975236&4294967295,E=A+(P<<4&4294967295|P>>>28),P=V+(E^A^C)+O[4]+1272893353&4294967295,V=E+(P<<11&4294967295|P>>>21),P=C+(V^E^A)+O[7]+4139469664&4294967295,C=V+(P<<16&4294967295|P>>>16),P=A+(C^V^E)+O[10]+3200236656&4294967295,A=C+(P<<23&4294967295|P>>>9),P=E+(A^C^V)+O[13]+681279174&4294967295,E=A+(P<<4&4294967295|P>>>28),P=V+(E^A^C)+O[0]+3936430074&4294967295,V=E+(P<<11&4294967295|P>>>21),P=C+(V^E^A)+O[3]+3572445317&4294967295,C=V+(P<<16&4294967295|P>>>16),P=A+(C^V^E)+O[6]+76029189&4294967295,A=C+(P<<23&4294967295|P>>>9),P=E+(A^C^V)+O[9]+3654602809&4294967295,E=A+(P<<4&4294967295|P>>>28),P=V+(E^A^C)+O[12]+3873151461&4294967295,V=E+(P<<11&4294967295|P>>>21),P=C+(V^E^A)+O[15]+530742520&4294967295,C=V+(P<<16&4294967295|P>>>16),P=A+(C^V^E)+O[2]+3299628645&4294967295,A=C+(P<<23&4294967295|P>>>9),P=E+(C^(A|~V))+O[0]+4096336452&4294967295,E=A+(P<<6&4294967295|P>>>26),P=V+(A^(E|~C))+O[7]+1126891415&4294967295,V=E+(P<<10&4294967295|P>>>22),P=C+(E^(V|~A))+O[14]+2878612391&4294967295,C=V+(P<<15&4294967295|P>>>17),P=A+(V^(C|~E))+O[5]+4237533241&4294967295,A=C+(P<<21&4294967295|P>>>11),P=E+(C^(A|~V))+O[12]+1700485571&4294967295,E=A+(P<<6&4294967295|P>>>26),P=V+(A^(E|~C))+O[3]+2399980690&4294967295,V=E+(P<<10&4294967295|P>>>22),P=C+(E^(V|~A))+O[10]+4293915773&4294967295,C=V+(P<<15&4294967295|P>>>17),P=A+(V^(C|~E))+O[1]+2240044497&4294967295,A=C+(P<<21&4294967295|P>>>11),P=E+(C^(A|~V))+O[8]+1873313359&4294967295,E=A+(P<<6&4294967295|P>>>26),P=V+(A^(E|~C))+O[15]+4264355552&4294967295,V=E+(P<<10&4294967295|P>>>22),P=C+(E^(V|~A))+O[6]+2734768916&4294967295,C=V+(P<<15&4294967295|P>>>17),P=A+(V^(C|~E))+O[13]+1309151649&4294967295,A=C+(P<<21&4294967295|P>>>11),P=E+(C^(A|~V))+O[4]+4149444226&4294967295,E=A+(P<<6&4294967295|P>>>26),P=V+(A^(E|~C))+O[11]+3174756917&4294967295,V=E+(P<<10&4294967295|P>>>22),P=C+(E^(V|~A))+O[2]+718787259&4294967295,C=V+(P<<15&4294967295|P>>>17),P=A+(V^(C|~E))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(C+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+C&4294967295,S.g[3]=S.g[3]+V&4294967295}i.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var A=E-this.blockSize,O=this.B,C=this.h,V=0;V<E;){if(C==0)for(;V<=A;)o(this,S,V),V+=this.blockSize;if(typeof S=="string"){for(;V<E;)if(O[C++]=S.charCodeAt(V++),C==this.blockSize){o(this,O),C=0;break}}else for(;V<E;)if(O[C++]=S[V++],C==this.blockSize){o(this,O),C=0;break}}this.h=C,this.o+=E},i.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var A=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=A&255,A/=256;for(this.u(S),S=Array(16),E=A=0;4>E;++E)for(var O=0;32>O;O+=8)S[A++]=this.g[E]>>>O&255;return S};function s(S,E){var A=c;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=E(S)}function a(S,E){this.h=E;for(var A=[],O=!0,C=S.length-1;0<=C;C--){var V=S[C]|0;O&&V==E||(A[C]=V,O=!1)}this.g=A}var c={};function u(S){return-128<=S&&128>S?s(S,function(E){return new a([E|0],0>E?-1:0)}):new a([S|0],0>S?-1:0)}function f(S){if(isNaN(S)||!isFinite(S))return m;if(0>S)return $(f(-S));for(var E=[],A=1,O=0;S>=A;O++)E[O]=S/A|0,A*=4294967296;return new a(E,0)}function p(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return $(p(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=f(Math.pow(E,8)),O=m,C=0;C<S.length;C+=8){var V=Math.min(8,S.length-C),P=parseInt(S.substring(C,C+V),E);8>V?(V=f(Math.pow(E,V)),O=O.j(V).add(f(P))):(O=O.j(A),O=O.add(f(P)))}return O}var m=u(0),b=u(1),w=u(16777216);e=a.prototype,e.m=function(){if(k(this))return-$(this).m();for(var S=0,E=1,A=0;A<this.g.length;A++){var O=this.i(A);S+=(0<=O?O:4294967296+O)*E,E*=4294967296}return S},e.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T(this))return"0";if(k(this))return"-"+$(this).toString(S);for(var E=f(Math.pow(S,6)),A=this,O="";;){var C=z(A,E).g;A=M(A,C.j(E));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(S);if(A=C,T(A))return V+O;for(;6>V.length;)V="0"+V;O=V+O}},e.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function T(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function k(S){return S.h==-1}e.l=function(S){return S=M(this,S),k(S)?-1:T(S)?0:1};function $(S){for(var E=S.g.length,A=[],O=0;O<E;O++)A[O]=~S.g[O];return new a(A,~S.h).add(b)}e.abs=function(){return k(this)?$(this):this},e.add=function(S){for(var E=Math.max(this.g.length,S.g.length),A=[],O=0,C=0;C<=E;C++){var V=O+(this.i(C)&65535)+(S.i(C)&65535),P=(V>>>16)+(this.i(C)>>>16)+(S.i(C)>>>16);O=P>>>16,V&=65535,P&=65535,A[C]=P<<16|V}return new a(A,A[A.length-1]&-2147483648?-1:0)};function M(S,E){return S.add($(E))}e.j=function(S){if(T(this)||T(S))return m;if(k(this))return k(S)?$(this).j($(S)):$($(this).j(S));if(k(S))return $(this.j($(S)));if(0>this.l(w)&&0>S.l(w))return f(this.m()*S.m());for(var E=this.g.length+S.g.length,A=[],O=0;O<2*E;O++)A[O]=0;for(O=0;O<this.g.length;O++)for(var C=0;C<S.g.length;C++){var V=this.i(O)>>>16,P=this.i(O)&65535,$t=S.i(C)>>>16,ne=S.i(C)&65535;A[2*O+2*C]+=P*ne,F(A,2*O+2*C),A[2*O+2*C+1]+=V*ne,F(A,2*O+2*C+1),A[2*O+2*C+1]+=P*$t,F(A,2*O+2*C+1),A[2*O+2*C+2]+=V*$t,F(A,2*O+2*C+2)}for(O=0;O<E;O++)A[O]=A[2*O+1]<<16|A[2*O];for(O=E;O<2*E;O++)A[O]=0;return new a(A,0)};function F(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function B(S,E){this.g=S,this.h=E}function z(S,E){if(T(E))throw Error("division by zero");if(T(S))return new B(m,m);if(k(S))return E=z($(S),E),new B($(E.g),$(E.h));if(k(E))return E=z(S,$(E)),new B($(E.g),E.h);if(30<S.g.length){if(k(S)||k(E))throw Error("slowDivide_ only works with positive integers.");for(var A=b,O=E;0>=O.l(S);)A=U(A),O=U(O);var C=W(A,1),V=W(O,1);for(O=W(O,2),A=W(A,2);!T(O);){var P=V.add(O);0>=P.l(S)&&(C=C.add(A),V=P),O=W(O,1),A=W(A,1)}return E=M(S,C.j(E)),new B(C,E)}for(C=m;0<=S.l(E);){for(A=Math.max(1,Math.floor(S.m()/E.m())),O=Math.ceil(Math.log(A)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),V=f(A),P=V.j(E);k(P)||0<P.l(S);)A-=O,V=f(A),P=V.j(E);T(V)&&(V=b),C=C.add(V),S=M(S,P)}return new B(C,S)}e.A=function(S){return z(this,S).h},e.and=function(S){for(var E=Math.max(this.g.length,S.g.length),A=[],O=0;O<E;O++)A[O]=this.i(O)&S.i(O);return new a(A,this.h&S.h)},e.or=function(S){for(var E=Math.max(this.g.length,S.g.length),A=[],O=0;O<E;O++)A[O]=this.i(O)|S.i(O);return new a(A,this.h|S.h)},e.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),A=[],O=0;O<E;O++)A[O]=this.i(O)^S.i(O);return new a(A,this.h^S.h)};function U(S){for(var E=S.g.length+1,A=[],O=0;O<E;O++)A[O]=S.i(O)<<1|S.i(O-1)>>>31;return new a(A,S.h)}function W(S,E){var A=E>>5;E%=32;for(var O=S.g.length-A,C=[],V=0;V<O;V++)C[V]=0<E?S.i(V+A)>>>E|S.i(V+A+1)<<32-E:S.i(V+A);return new a(C,S.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,hx=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=p,ps=a}).apply(typeof Qb<"u"?Qb:typeof self<"u"?self:typeof window<"u"?window:{});var hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fx,xl,px,Tu,gp,mx,gx,vx;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,y){return d==Array.prototype||d==Object.prototype||(d[v]=y.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof hu=="object"&&hu];for(var v=0;v<d.length;++v){var y=d[v];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=n(this);function o(d,v){if(v)t:{var y=i;d=d.split(".");for(var I=0;I<d.length-1;I++){var j=d[I];if(!(j in y))break t;y=y[j]}d=d[d.length-1],I=y[d],v=v(I),v!=I&&v!=null&&t(y,d,{configurable:!0,writable:!0,value:v})}}function s(d,v){d instanceof String&&(d+="");var y=0,I=!1,j={next:function(){if(!I&&y<d.length){var Y=y++;return{value:v(Y,d[Y]),done:!1}}return I=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(d){return d||function(){return s(this,function(v,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function u(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function f(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function p(d,v,y){return d.call.apply(d.bind,arguments)}function m(d,v,y){if(!d)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,I),d.apply(v,j)}}return function(){return d.apply(v,arguments)}}function b(d,v,y){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,b.apply(null,arguments)}function w(d,v){var y=Array.prototype.slice.call(arguments,1);return function(){var I=y.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function T(d,v){function y(){}y.prototype=v.prototype,d.aa=v.prototype,d.prototype=new y,d.prototype.constructor=d,d.Qb=function(I,j,Y){for(var vt=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)vt[pe-2]=arguments[pe];return v.prototype[j].apply(I,vt)}}function k(d){const v=d.length;if(0<v){const y=Array(v);for(let I=0;I<v;I++)y[I]=d[I];return y}return[]}function $(d,v){for(let y=1;y<arguments.length;y++){const I=arguments[y];if(u(I)){const j=d.length||0,Y=I.length||0;d.length=j+Y;for(let vt=0;vt<Y;vt++)d[j+vt]=I[vt]}else d.push(I)}}class M{constructor(v,y){this.i=v,this.j=y,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function F(d){return/^[\s\xa0]*$/.test(d)}function B(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function z(d){return z[" "](d),d}z[" "]=function(){};var U=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function W(d,v,y){for(const I in d)v.call(y,d[I],I,d)}function S(d,v){for(const y in d)v.call(void 0,d[y],y,d)}function E(d){const v={};for(const y in d)v[y]=d[y];return v}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,v){let y,I;for(let j=1;j<arguments.length;j++){I=arguments[j];for(y in I)d[y]=I[y];for(let Y=0;Y<A.length;Y++)y=A[Y],Object.prototype.hasOwnProperty.call(I,y)&&(d[y]=I[y])}}function C(d){var v=1;d=d.split(":");const y=[];for(;0<v&&d.length;)y.push(d.shift()),v--;return d.length&&y.push(d.join(":")),y}function V(d){c.setTimeout(()=>{throw d},0)}function P(){var d=Ie;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class $t{constructor(){this.h=this.g=null}add(v,y){const I=ne.get();I.set(v,y),this.h?this.h.next=I:this.g=I,this.h=I}}var ne=new M(()=>new Nt,d=>d.reset());class Nt{constructor(){this.next=this.g=this.h=null}set(v,y){this.h=v,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let xt,tt=!1,Ie=new $t,St=()=>{const d=c.Promise.resolve(void 0);xt=()=>{d.then(Ft)}};var Ft=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(y){V(y)}var v=ne;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}tt=!1};function Gt(){this.s=this.s,this.C=this.C}Gt.prototype.s=!1,Gt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Gt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Kt(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}Kt.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const y=()=>{};c.addEventListener("test",y,v),c.removeEventListener("test",y,v)}catch{}return d}();function X(d,v){if(Kt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var y=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(U){t:{try{z(v.nodeName);var j=!0;break t}catch{}j=!1}j||(v=null)}}else y=="mouseover"?v=d.fromElement:y=="mouseout"&&(v=d.toElement);this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:et[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&X.aa.h.call(this)}}T(X,Kt);var et={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),ft=0;function dt(d,v,y,I,j){this.listener=d,this.proxy=null,this.src=v,this.type=y,this.capture=!!I,this.ha=j,this.key=++ft,this.da=this.fa=!1}function gt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Tt(d){this.src=d,this.g={},this.h=0}Tt.prototype.add=function(d,v,y,I,j){var Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);var vt=R(d,v,I,j);return-1<vt?(v=d[vt],y||(v.fa=!1)):(v=new dt(v,this.src,Y,!!I,j),v.fa=y,d.push(v)),v};function Ut(d,v){var y=v.type;if(y in d.g){var I=d.g[y],j=Array.prototype.indexOf.call(I,v,void 0),Y;(Y=0<=j)&&Array.prototype.splice.call(I,j,1),Y&&(gt(v),d.g[y].length==0&&(delete d.g[y],d.h--))}}function R(d,v,y,I){for(var j=0;j<d.length;++j){var Y=d[j];if(!Y.da&&Y.listener==v&&Y.capture==!!y&&Y.ha==I)return j}return-1}var D="closure_lm_"+(1e6*Math.random()|0),q={};function ot(d,v,y,I,j){if(I&&I.once)return bt(d,v,y,I,j);if(Array.isArray(v)){for(var Y=0;Y<v.length;Y++)ot(d,v[Y],y,I,j);return null}return y=Lt(y),d&&d[K]?d.K(v,y,f(I)?!!I.capture:!!I,j):Q(d,v,y,!1,I,j)}function Q(d,v,y,I,j,Y){if(!v)throw Error("Invalid event type");var vt=f(j)?!!j.capture:!!j,pe=_t(d);if(pe||(d[D]=pe=new Tt(d)),y=pe.add(v,y,I,vt,Y),y.proxy)return y;if(I=nt(),y.proxy=I,I.src=d,I.listener=y,d.addEventListener)J||(j=vt),j===void 0&&(j=!1),d.addEventListener(v.toString(),I,j);else if(d.attachEvent)d.attachEvent(st(v.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return y}function nt(){function d(y){return v.call(d.src,d.listener,y)}const v=Ct;return d}function bt(d,v,y,I,j){if(Array.isArray(v)){for(var Y=0;Y<v.length;Y++)bt(d,v[Y],y,I,j);return null}return y=Lt(y),d&&d[K]?d.L(v,y,f(I)?!!I.capture:!!I,j):Q(d,v,y,!0,I,j)}function mt(d,v,y,I,j){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)mt(d,v[Y],y,I,j);else I=f(I)?!!I.capture:!!I,y=Lt(y),d&&d[K]?(d=d.i,v=String(v).toString(),v in d.g&&(Y=d.g[v],y=R(Y,y,I,j),-1<y&&(gt(Y[y]),Array.prototype.splice.call(Y,y,1),Y.length==0&&(delete d.g[v],d.h--)))):d&&(d=_t(d))&&(v=d.g[v.toString()],d=-1,v&&(d=R(v,y,I,j)),(y=-1<d?v[d]:null)&&pt(y))}function pt(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[K])Ut(v.i,d);else{var y=d.type,I=d.proxy;v.removeEventListener?v.removeEventListener(y,I,d.capture):v.detachEvent?v.detachEvent(st(y),I):v.addListener&&v.removeListener&&v.removeListener(I),(y=_t(v))?(Ut(y,d),y.h==0&&(y.src=null,v[D]=null)):gt(d)}}}function st(d){return d in q?q[d]:q[d]="on"+d}function Ct(d,v){if(d.da)d=!0;else{v=new X(v,this);var y=d.listener,I=d.ha||d.src;d.fa&&pt(d),d=y.call(I,v)}return d}function _t(d){return d=d[D],d instanceof Tt?d:null}var kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lt(d){return typeof d=="function"?d:(d[kt]||(d[kt]=function(v){return d.handleEvent(v)}),d[kt])}function Rt(){Gt.call(this),this.i=new Tt(this),this.M=this,this.F=null}T(Rt,Gt),Rt.prototype[K]=!0,Rt.prototype.removeEventListener=function(d,v,y,I){mt(this,d,v,y,I)};function Vt(d,v){var y,I=d.F;if(I)for(y=[];I;I=I.F)y.push(I);if(d=d.M,I=v.type||v,typeof v=="string")v=new Kt(v,d);else if(v instanceof Kt)v.target=v.target||d;else{var j=v;v=new Kt(I,d),O(v,j)}if(j=!0,y)for(var Y=y.length-1;0<=Y;Y--){var vt=v.g=y[Y];j=Jt(vt,I,!0,v)&&j}if(vt=v.g=d,j=Jt(vt,I,!0,v)&&j,j=Jt(vt,I,!1,v)&&j,y)for(Y=0;Y<y.length;Y++)vt=v.g=y[Y],j=Jt(vt,I,!1,v)&&j}Rt.prototype.N=function(){if(Rt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var y=d.g[v],I=0;I<y.length;I++)gt(y[I]);delete d.g[v],d.h--}}this.F=null},Rt.prototype.K=function(d,v,y,I){return this.i.add(String(d),v,!1,y,I)},Rt.prototype.L=function(d,v,y,I){return this.i.add(String(d),v,!0,y,I)};function Jt(d,v,y,I){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var j=!0,Y=0;Y<v.length;++Y){var vt=v[Y];if(vt&&!vt.da&&vt.capture==y){var pe=vt.listener,fn=vt.ha||vt.src;vt.fa&&Ut(d.i,vt),j=pe.call(fn,I)!==!1&&j}}return j&&!I.defaultPrevented}function qe(d,v,y){if(typeof d=="function")y&&(d=b(d,y));else if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(d,v||0)}function ye(d){d.g=qe(()=>{d.g=null,d.i&&(d.i=!1,ye(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class We extends Gt{constructor(v,y){super(),this.m=v,this.l=y,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ye(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function we(d){Gt.call(this),this.h=d,this.g={}}T(we,Gt);var Ne=[];function Tn(d){W(d.g,function(v,y){this.g.hasOwnProperty(y)&&pt(v)},d),d.g={}}we.prototype.N=function(){we.aa.N.call(this),Tn(this)},we.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Se=c.JSON.stringify,nn=c.JSON.parse,nr=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Wi(){}Wi.prototype.h=null;function Ur(d){return d.h||(d.h=d.i())}function jr(){}var Gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hr(){Kt.call(this,"d")}T(Hr,Kt);function qr(){Kt.call(this,"c")}T(qr,Kt);var ki={},Ps=null;function ir(){return Ps=Ps||new Rt}ki.La="serverreachability";function Rs(d){Kt.call(this,ki.La,d)}T(Rs,Kt);function Ii(d){const v=ir();Vt(v,new Rs(v))}ki.STAT_EVENT="statevent";function Ls(d,v){Kt.call(this,ki.STAT_EVENT,d),this.stat=v}T(Ls,Kt);function Ve(d){const v=ir();Vt(v,new Ls(v,d))}ki.Ma="timingevent";function Wr(d,v){Kt.call(this,ki.Ma,d),this.size=v}T(Wr,Kt);function po(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},v)}function dn(){this.g=!0}dn.prototype.xa=function(){this.g=!1};function It(d,v,y,I,j,Y){d.info(function(){if(d.g)if(Y)for(var vt="",pe=Y.split("&"),fn=0;fn<pe.length;fn++){var jt=pe[fn].split("=");if(1<jt.length){var je=jt[0];jt=jt[1];var yn=je.split("_");vt=2<=yn.length&&yn[1]=="type"?vt+(je+"="+jt+"&"):vt+(je+"=redacted&")}}else vt=null;else vt=Y;return"XMLHTTP REQ ("+I+") [attempt "+j+"]: "+v+`
`+y+`
`+vt})}function Gr(d,v,y,I,j,Y,vt){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+j+"]: "+v+`
`+y+`
`+Y+" "+vt})}function mi(d,v,y,I){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Os(d,y)+(I?" "+I:"")})}function kn(d,v){d.info(function(){return"TIMEOUT: "+v})}dn.prototype.info=function(){};function Os(d,v){if(!d.g)return v;if(!v)return null;try{var y=JSON.parse(v);if(y){for(d=0;d<y.length;d++)if(Array.isArray(y[d])){var I=y[d];if(!(2>I.length)){var j=I[1];if(Array.isArray(j)&&!(1>j.length)){var Y=j[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var vt=1;vt<j.length;vt++)j[vt]=""}}}}return Se(y)}catch{return v}}var Ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ri;function mo(){}T(mo,Wi),mo.prototype.g=function(){return new XMLHttpRequest},mo.prototype.i=function(){return{}},ri=new mo;function gi(d,v,y,I){this.j=d,this.i=v,this.l=y,this.R=I||1,this.U=new we(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new or}function or(){this.i=null,this.g="",this.h=!1}var $s={},Zr={};function rr(d,v,y){d.L=1,d.v=Yi(Si(v)),d.m=y,d.P=!0,Ms(d,null)}function Ms(d,v){d.F=Date.now(),go(d),d.A=Si(d.v);var y=d.A,I=d.R;Array.isArray(I)||(I=[String(I)]),zt(y.i,"t",I),d.C=0,y=d.j.J,d.h=new or,d.g=sl(d.j,y?v:null,!d.m),0<d.O&&(d.M=new We(b(d.Y,d,d.g),d.O)),v=d.U,y=d.g,I=d.ca;var j="readystatechange";Array.isArray(j)||(j&&(Ne[0]=j.toString()),j=Ne);for(var Y=0;Y<j.length;Y++){var vt=ot(y,j[Y],I||v.handleEvent,!1,v.h||v);if(!vt)break;v.g[vt.key]=vt}v=d.H?E(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Ii(),It(d.i,d.u,d.A,d.l,d.R,d.m)}gi.prototype.ca=function(d){d=d.target;const v=this.M;v&&_i(d)==3?v.j():this.Y(d)},gi.prototype.Y=function(d){try{if(d==this.g)t:{const yn=_i(this.g);var v=this.g.Ba();const On=this.g.Z();if(!(3>yn)&&(yn!=3||this.g&&(this.h.h||this.g.oa()||Vc(this.g)))){this.J||yn!=4||v==7||(v==8||0>=On?Ii(3):Ii(2)),Ds(this);var y=this.g.Z();this.X=y;e:if(Zi(this)){var I=Vc(this.g);d="";var j=I.length,Y=_i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ht(this),G(this);var vt="";break e}this.h.i=new c.TextDecoder}for(v=0;v<j;v++)this.h.h=!0,d+=this.h.i.decode(I[v],{stream:!(Y&&v==j-1)});I.length=0,this.h.g+=d,this.C=0,vt=this.h.g}else vt=this.g.oa();if(this.o=y==200,Gr(this.i,this.u,this.A,this.l,this.R,yn,y),this.o){if(this.T&&!this.K){e:{if(this.g){var pe,fn=this.g;if((pe=fn.g?fn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(pe)){var jt=pe;break e}}jt=null}if(y=jt)mi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yt(this,y);else{this.o=!1,this.s=3,Ve(12),ht(this),G(this);break t}}if(this.P){y=!0;let ai;for(;!this.J&&this.C<vt.length;)if(ai=ja(this,vt),ai==Zr){yn==4&&(this.s=4,Ve(14),y=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(ai==$s){this.s=4,Ve(15),mi(this.i,this.l,vt,"[Invalid Chunk]"),y=!1;break}else mi(this.i,this.l,ai,null),yt(this,ai);if(Zi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yn!=4||vt.length!=0||this.h.h||(this.s=1,Ve(16),y=!1),this.o=this.o&&y,!y)mi(this.i,this.l,vt,"[Invalid Chunked Response]"),ht(this),G(this);else if(0<vt.length&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.ba&&!je.M&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+vt.length),Qr(je),je.M=!0,Ve(11))}}else mi(this.i,this.l,vt,null),yt(this,vt);yn==4&&ht(this),this.o&&!this.J&&(yn==4?rl(this.j,this):(this.o=!1,go(this)))}else el(this.g),y==400&&0<vt.indexOf("Unknown SID")?(this.s=3,Ve(12)):(this.s=0,Ve(13)),ht(this),G(this)}}}catch{}finally{}};function Zi(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ja(d,v){var y=d.C,I=v.indexOf(`
`,y);return I==-1?Zr:(y=Number(v.substring(y,I)),isNaN(y)?$s:(I+=1,I+y>v.length?Zr:(v=v.slice(I,I+y),d.C=I+y,v)))}gi.prototype.cancel=function(){this.J=!0,ht(this)};function go(d){d.S=Date.now()+d.I,Ha(d,d.I)}function Ha(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=po(b(d.ba,d),v)}function Ds(d){d.B&&(c.clearTimeout(d.B),d.B=null)}gi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(kn(this.i,this.A),this.L!=2&&(Ii(),Ve(17)),ht(this),this.s=2,G(this)):Ha(this,this.S-d)};function G(d){d.j.G==0||d.J||rl(d.j,d)}function ht(d){Ds(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Tn(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function yt(d,v){try{var y=d.j;if(y.G!=0&&(y.g==d||Ee(y.h,d))){if(!d.K&&Ee(y.h,d)&&y.G==3){try{var I=y.Da.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var j=I;if(j[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<d.F)Jr(y),Us(y);else break t;qs(y),Ve(18)}}else y.za=j[1],0<y.za-y.T&&37500>j[2]&&y.F&&y.v==0&&!y.C&&(y.C=po(b(y.Za,y),6e3));if(1>=Zt(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else xo(y,11)}else if((d.K||y.g==d)&&Jr(y),!F(v))for(j=y.Da.g.parse(v),v=0;v<j.length;v++){let jt=j[v];if(y.T=jt[0],jt=jt[1],y.G==2)if(jt[0]=="c"){y.K=jt[1],y.ia=jt[2];const je=jt[3];je!=null&&(y.la=je,y.j.info("VER="+y.la));const yn=jt[4];yn!=null&&(y.Aa=yn,y.j.info("SVER="+y.Aa));const On=jt[5];On!=null&&typeof On=="number"&&0<On&&(I=1.5*On,y.L=I,y.j.info("backChannelRequestTimeoutMs_="+I)),I=y;const ai=d.g;if(ai){const Ri=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ri){var Y=I.h;Y.g||Ri.indexOf("spdy")==-1&&Ri.indexOf("quic")==-1&&Ri.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(sr(Y,Y.h),Y.h=null))}if(I.D){const ll=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;ll&&(I.ya=ll,ae(I.I,I.D,ll))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-d.F,y.j.info("Handshake RTT: "+y.R+"ms")),I=y;var vt=d;if(I.qa=Uc(I,I.J?I.ia:null,I.W),vt.K){vo(I.h,vt);var pe=vt,fn=I.L;fn&&(pe.I=fn),pe.B&&(Ds(pe),go(pe)),I.g=vt}else ol(I);0<y.i.length&&Hs(y)}else jt[0]!="stop"&&jt[0]!="close"||xo(y,7);else y.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?xo(y,7):il(y):jt[0]!="noop"&&y.l&&y.l.ta(jt),y.v=0)}}Ii(4)}catch{}}var he=class{constructor(d,v){this.g=d,this.map=v}};function Pe(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Zt(d){return d.h?1:d.g?d.g.size:0}function Ee(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function sr(d,v){d.g?d.g.add(v):d.h=v}function vo(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Pe.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function bo(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const y of d.g.values())v=v.concat(y.D);return v}return k(d.i)}function qa(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(u(d)){for(var v=[],y=d.length,I=0;I<y;I++)v.push(d[I]);return v}v=[],y=0;for(I in d)v[y++]=d[I];return v}function Xt(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(u(d)||typeof d=="string"){var v=[];d=d.length;for(var y=0;y<d;y++)v.push(y);return v}v=[],y=0;for(const I in d)v[y++]=I;return v}}}function Be(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(u(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var y=Xt(d),I=qa(d),j=I.length,Y=0;Y<j;Y++)v.call(void 0,I[Y],y&&y[Y],d)}var Ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vs(d,v){if(d){d=d.split("&");for(var y=0;y<d.length;y++){var I=d[y].indexOf("="),j=null;if(0<=I){var Y=d[y].substring(0,I);j=d[y].substring(I+1)}else Y=d[y];v(Y,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function on(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof on){this.h=d.h,_o(this,d.j),this.o=d.o,this.g=d.g,vi(this,d.s),this.l=d.l;var v=d.i,y=new Xi;y.i=v.i,v.g&&(y.g=new Map(v.g),y.h=v.h),Ue(this,y),this.m=d.m}else d&&(v=String(d).match(Ns))?(this.h=!1,_o(this,v[1]||"",!0),this.o=Ai(v[2]||""),this.g=Ai(v[3]||"",!0),vi(this,v[4]),this.l=Ai(v[5]||"",!0),Ue(this,v[6]||"",!0),this.m=Ai(v[7]||"")):(this.h=!1,this.i=new Xi(null,this.h))}on.prototype.toString=function(){var d=[],v=this.j;v&&d.push(yo(v,Bs,!0),":");var y=this.g;return(y||v=="file")&&(d.push("//"),(v=this.o)&&d.push(yo(v,Bs,!0),"@"),d.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&d.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&d.push("/"),d.push(yo(y,y.charAt(0)=="/"?zs:Wa,!0))),(y=this.i.toString())&&d.push("?",y),(y=this.m)&&d.push("#",yo(y,Ka)),d.join("")};function Si(d){return new on(d)}function _o(d,v,y){d.j=y?Ai(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function vi(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function Ue(d,v,y){v instanceof Xi?(d.i=v,xe(d.i,d.h)):(y||(v=yo(v,Ga)),d.i=new Xi(v,d.h))}function ae(d,v,y){d.i.set(v,y)}function Yi(d){return ae(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ai(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function yo(d,v,y){return typeof d=="string"?(d=encodeURI(d).replace(v,Yr),y&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Yr(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Bs=/[#\/\?@]/g,Wa=/[#\?:]/g,zs=/[#\?]/g,Ga=/[#\?@]/g,Ka=/#/g;function Xi(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Ci(d){d.g||(d.g=new Map,d.h=0,d.i&&Vs(d.i,function(v,y){d.add(decodeURIComponent(v.replace(/\+/g," ")),y)}))}e=Xi.prototype,e.add=function(d,v){Ci(this),this.i=null,d=In(this,d);var y=this.g.get(d);return y||this.g.set(d,y=[]),y.push(v),this.h+=1,this};function Fs(d,v){Ci(d),v=In(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Mc(d,v){return Ci(d),v=In(d,v),d.g.has(v)}e.forEach=function(d,v){Ci(this),this.g.forEach(function(y,I){y.forEach(function(j){d.call(v,j,I,this)},this)},this)},e.na=function(){Ci(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),y=[];for(let I=0;I<v.length;I++){const j=d[I];for(let Y=0;Y<j.length;Y++)y.push(v[I])}return y},e.V=function(d){Ci(this);let v=[];if(typeof d=="string")Mc(this,d)&&(v=v.concat(this.g.get(In(this,d))));else{d=Array.from(this.g.values());for(let y=0;y<d.length;y++)v=v.concat(d[y])}return v},e.set=function(d,v){return Ci(this),this.i=null,d=In(this,d),Mc(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},e.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function zt(d,v,y){Fs(d,v),0<y.length&&(d.i=null,d.g.set(In(d,v),k(y)),d.h+=y.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var y=0;y<v.length;y++){var I=v[y];const Y=encodeURIComponent(String(I)),vt=this.V(I);for(I=0;I<vt.length;I++){var j=Y;vt[I]!==""&&(j+="="+encodeURIComponent(String(vt[I]))),d.push(j)}}return this.i=d.join("&")};function In(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function xe(d,v){v&&!d.j&&(Ci(d),d.i=null,d.g.forEach(function(y,I){var j=I.toLowerCase();I!=j&&(Fs(this,I),zt(this,j,y))},d)),d.j=v}function Dc(d,v){const y=new dn;if(c.Image){const I=new Image;I.onload=w(bi,y,"TestLoadImage: loaded",!0,v,I),I.onerror=w(bi,y,"TestLoadImage: error",!1,v,I),I.onabort=w(bi,y,"TestLoadImage: abort",!1,v,I),I.ontimeout=w(bi,y,"TestLoadImage: timeout",!1,v,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else v(!1)}function Za(d,v){const y=new dn,I=new AbortController,j=setTimeout(()=>{I.abort(),bi(y,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:I.signal}).then(Y=>{clearTimeout(j),Y.ok?bi(y,"TestPingServer: ok",!0,v):bi(y,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(j),bi(y,"TestPingServer: error",!1,v)})}function bi(d,v,y,I,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),I(y)}catch{}}function Ya(){this.g=new nr}function wo(d,v,y){const I=y||"";try{Be(d,function(j,Y){let vt=j;f(j)&&(vt=Se(j)),v.push(I+Y+"="+encodeURIComponent(vt))})}catch(j){throw v.push(I+"type="+encodeURIComponent("_badmap")),j}}function ar(d){this.l=d.Ub||null,this.j=d.eb||!1}T(ar,Wi),ar.prototype.g=function(){return new Qi(this.l,this.j)},ar.prototype.i=function(d){return function(){return d}}({});function Qi(d,v){Rt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Qi,Rt),e=Qi.prototype,e.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,lr(this)},e.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},e.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,lr(this)),this.g&&(this.readyState=3,lr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rn(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function rn(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}e.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?si(this):lr(this),this.readyState==3&&rn(this)}},e.Ra=function(d){this.g&&(this.response=this.responseText=d,si(this))},e.Qa=function(d){this.g&&(this.response=d,si(this))},e.ga=function(){this.g&&si(this)};function si(d){d.readyState=4,d.l=null,d.j=null,d.v=null,lr(d)}e.setRequestHeader=function(d,v){this.u.append(d,v)},e.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var y=v.next();!y.done;)y=y.value,d.push(y[0]+": "+y[1]),y=v.next();return d.join(`\r
`)};function lr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Xa(d){let v="";return W(d,function(y,I){v+=I,v+=":",v+=y,v+=`\r
`}),v}function Qa(d,v,y){t:{for(I in y){var I=!1;break t}I=!0}I||(y=Xa(y),typeof d=="string"?y!=null&&encodeURIComponent(String(y)):ae(d,v,y))}function Re(d){Rt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Re,Rt);var Ja=/^https?$/i,xh=["POST","PUT"];e=Re.prototype,e.Ha=function(d){this.J=d},e.ea=function(d,v,y,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ri.g(),this.v=this.o?Ur(this.o):Ur(ri),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Y){tl(this,Y);return}if(d=y||"",y=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var j in I)y.set(j,I[j]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Y of I.keys())y.set(Y,I.get(Y));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(y.keys()).find(Y=>Y.toLowerCase()=="content-type"),j=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(xh,v,void 0))||I||j||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,vt]of y)this.g.setRequestHeader(Y,vt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cr(this),this.u=!0,this.g.send(d),this.u=!1}catch(Y){tl(this,Y)}};function tl(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,ie(d),Ln(d)}function ie(d){d.A||(d.A=!0,Vt(d,"complete"),Vt(d,"error"))}e.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Vt(this,"complete"),Vt(this,"abort"),Ln(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ln(this,!0)),Re.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Nc(this):this.bb())},e.bb=function(){Nc(this)};function Nc(d){if(d.h&&typeof a<"u"&&(!d.v[1]||_i(d)!=4||d.Z()!=2)){if(d.u&&_i(d)==4)qe(d.Ea,0,d);else if(Vt(d,"readystatechange"),_i(d)==4){d.h=!1;try{const vt=d.Z();t:switch(vt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var y;if(!(y=v)){var I;if(I=vt===0){var j=String(d.D).match(Ns)[1]||null;!j&&c.self&&c.self.location&&(j=c.self.location.protocol.slice(0,-1)),I=!Ja.test(j?j.toLowerCase():"")}y=I}if(y)Vt(d,"complete"),Vt(d,"success");else{d.m=6;try{var Y=2<_i(d)?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.Z()+"]",ie(d)}}finally{Ln(d)}}}}function Ln(d,v){if(d.g){cr(d);const y=d.g,I=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Vt(d,"ready");try{y.onreadystatechange=I}catch{}}}function cr(d){d.I&&(c.clearTimeout(d.I),d.I=null)}e.isActive=function(){return!!this.g};function _i(d){return d.g?d.g.readyState:0}e.Z=function(){try{return 2<_i(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),nn(v)}};function Vc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function el(d){const v={};d=(d.g&&2<=_i(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(F(d[I]))continue;var y=C(d[I]);const j=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const Y=v[j]||[];v[j]=Y,Y.push(y)}S(v,function(I){return I.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xr(d,v,y){return y&&y.internalChannelParams&&y.internalChannelParams[d]||v}function nl(d){this.Aa=0,this.i=[],this.j=new dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xr("baseRetryDelayMs",5e3,d),this.cb=Xr("retryDelaySeedMs",1e4,d),this.Wa=Xr("forwardChannelMaxRetries",2,d),this.wa=Xr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Pe(d&&d.concurrentRequestLimit),this.Da=new Ya,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=nl.prototype,e.la=8,e.G=1,e.connect=function(d,v,y,I){Ve(0),this.W=d,this.H=v||{},y&&I!==void 0&&(this.H.OSID=y,this.H.OAID=I),this.F=this.X,this.I=Uc(this,null,this.W),Hs(this)};function il(d){if(js(d),d.G==3){var v=d.U++,y=Si(d.I);if(ae(y,"SID",d.K),ae(y,"RID",v),ae(y,"TYPE","terminate"),ur(d,y),v=new gi(d,d.j,v),v.L=2,v.v=Yi(Si(y)),y=!1,c.navigator&&c.navigator.sendBeacon)try{y=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!y&&c.Image&&(new Image().src=v.v,y=!0),y||(v.g=sl(v.j,null),v.g.ea(v.v)),v.F=Date.now(),go(v)}Ws(d)}function Us(d){d.g&&(Qr(d),d.g.cancel(),d.g=null)}function js(d){Us(d),d.u&&(c.clearTimeout(d.u),d.u=null),Jr(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Hs(d){if(!Ye(d.h)&&!d.s){d.s=!0;var v=d.Ga;xt||St(),tt||(xt(),tt=!0),Ie.add(v,d),d.B=0}}function yi(d,v){return Zt(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=po(b(d.Ga,d,v),Fc(d,d.B)),d.B++,!0)}e.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const j=new gi(this,this.j,d);let Y=this.o;if(this.S&&(Y?(Y=E(Y),O(Y,this.S)):Y=this.S),this.m!==null||this.O||(j.H=Y,Y=null),this.P)t:{for(var v=0,y=0;y<this.i.length;y++){e:{var I=this.i[y];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(v+=I,4096<v){v=y;break t}if(v===4096||y===this.i.length-1){v=y+1;break t}}v=1e3}else v=1e3;v=Pi(this,j,v),y=Si(this.I),ae(y,"RID",d),ae(y,"CVER",22),this.D&&ae(y,"X-HTTP-Session-Id",this.D),ur(this,y),Y&&(this.O?v="headers="+encodeURIComponent(String(Xa(Y)))+"&"+v:this.m&&Qa(y,this.m,Y)),sr(this.h,j),this.Ua&&ae(y,"TYPE","init"),this.P?(ae(y,"$req",v),ae(y,"SID","null"),j.T=!0,rr(j,y,null)):rr(j,y,v),this.G=2}}else this.G==3&&(d?Bc(this,d):this.i.length==0||Ye(this.h)||Bc(this))};function Bc(d,v){var y;v?y=v.l:y=d.U++;const I=Si(d.I);ae(I,"SID",d.K),ae(I,"RID",y),ae(I,"AID",d.T),ur(d,I),d.m&&d.o&&Qa(I,d.m,d.o),y=new gi(d,d.j,y,d.B+1),d.m===null&&(y.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Pi(d,y,1e3),y.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),sr(d.h,y),rr(y,I,v)}function ur(d,v){d.H&&W(d.H,function(y,I){ae(v,I,y)}),d.l&&Be({},function(y,I){ae(v,I,y)})}function Pi(d,v,y){y=Math.min(d.i.length,y);var I=d.l?b(d.l.Na,d.l,d):null;t:{var j=d.i;let Y=-1;for(;;){const vt=["count="+y];Y==-1?0<y?(Y=j[0].g,vt.push("ofs="+Y)):Y=0:vt.push("ofs="+Y);let pe=!0;for(let fn=0;fn<y;fn++){let jt=j[fn].g;const je=j[fn].map;if(jt-=Y,0>jt)Y=Math.max(0,j[fn].g-100),pe=!1;else try{wo(je,vt,"req"+jt+"_")}catch{I&&I(je)}}if(pe){I=vt.join("&");break t}}}return d=d.i.splice(0,y),v.D=d,I}function ol(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;xt||St(),tt||(xt(),tt=!0),Ie.add(v,d),d.v=0}}function qs(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=po(b(d.Fa,d),Fc(d,d.v)),d.v++,!0)}e.Fa=function(){if(this.u=null,zc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=po(b(this.ab,this),d)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ve(10),Us(this),zc(this))};function Qr(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function zc(d){d.g=new gi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Si(d.qa);ae(v,"RID","rpc"),ae(v,"SID",d.K),ae(v,"AID",d.T),ae(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&ae(v,"TO",d.ja),ae(v,"TYPE","xmlhttp"),ur(d,v),d.m&&d.o&&Qa(v,d.m,d.o),d.L&&(d.g.I=d.L);var y=d.g;d=d.ia,y.L=1,y.v=Yi(Si(v)),y.m=null,y.P=!0,Ms(y,d)}e.Za=function(){this.C!=null&&(this.C=null,Us(this),qs(this),Ve(19))};function Jr(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function rl(d,v){var y=null;if(d.g==v){Jr(d),Qr(d),d.g=null;var I=2}else if(Ee(d.h,v))y=v.D,vo(d.h,v),I=1;else return;if(d.G!=0){if(v.o)if(I==1){y=v.m?v.m.length:0,v=Date.now()-v.F;var j=d.B;I=ir(),Vt(I,new Wr(I,y)),Hs(d)}else ol(d);else if(j=v.s,j==3||j==0&&0<v.X||!(I==1&&yi(d,v)||I==2&&qs(d)))switch(y&&0<y.length&&(v=d.h,v.i=v.i.concat(y)),j){case 1:xo(d,5);break;case 4:xo(d,10);break;case 3:xo(d,6);break;default:xo(d,2)}}}function Fc(d,v){let y=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(y*=2),y*v}function xo(d,v){if(d.j.info("Error code "+v),v==2){var y=b(d.fb,d),I=d.Xa;const j=!I;I=new on(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||_o(I,"https"),Yi(I),j?Dc(I.toString(),y):Za(I.toString(),y)}else Ve(2);d.G=0,d.l&&d.l.sa(v),Ws(d),js(d)}e.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function Ws(d){if(d.G=0,d.ka=[],d.l){const v=bo(d.h);(v.length!=0||d.i.length!=0)&&($(d.ka,v),$(d.ka,d.i),d.h.i.length=0,k(d.i),d.i.length=0),d.l.ra()}}function Uc(d,v,y){var I=y instanceof on?Si(y):new on(y);if(I.g!="")v&&(I.g=v+"."+I.g),vi(I,I.s);else{var j=c.location;I=j.protocol,v=v?v+"."+j.hostname:j.hostname,j=+j.port;var Y=new on(null);I&&_o(Y,I),v&&(Y.g=v),j&&vi(Y,j),y&&(Y.l=y),I=Y}return y=d.D,v=d.ya,y&&v&&ae(I,y,v),ae(I,"VER",d.la),ur(d,I),I}function sl(d,v,y){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new Re(new ar({eb:y})):new Re(d.pa),v.Ha(d.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function al(){}e=al.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Eo(){}Eo.prototype.g=function(d,v){return new Xe(d,v)};function Xe(d,v){Rt.call(this),this.g=new nl(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!F(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!F(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new hn(this)}T(Xe,Rt),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){il(this.g)},Xe.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var y={};y.__data__=d,d=y}else this.u&&(y={},y.__data__=Se(d),d=y);v.i.push(new he(v.Ya++,d)),v.G==3&&Hs(v)},Xe.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,Xe.aa.N.call(this)};function jc(d){Hr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){t:{for(const y in v){d=y;break t}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}T(jc,Hr);function dr(){qr.call(this),this.status=1}T(dr,qr);function hn(d){this.g=d}T(hn,al),hn.prototype.ua=function(){Vt(this.g,"a")},hn.prototype.ta=function(d){Vt(this.g,new jc(d))},hn.prototype.sa=function(d){Vt(this.g,new dr)},hn.prototype.ra=function(){Vt(this.g,"b")},Eo.prototype.createWebChannel=Eo.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,vx=function(){return new Eo},gx=function(){return ir()},mx=ki,gp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,Tu=Ki,Kr.COMPLETE="complete",px=Kr,jr.EventType=Gi,Gi.OPEN="a",Gi.CLOSE="b",Gi.ERROR="c",Gi.MESSAGE="d",Rt.prototype.listen=Rt.prototype.K,xl=jr,Re.prototype.listenOnce=Re.prototype.L,Re.prototype.getLastError=Re.prototype.Ka,Re.prototype.getLastErrorCode=Re.prototype.Ba,Re.prototype.getStatus=Re.prototype.Z,Re.prototype.getResponseJson=Re.prototype.Oa,Re.prototype.getResponseText=Re.prototype.oa,Re.prototype.send=Re.prototype.ea,Re.prototype.setWithCredentials=Re.prototype.Ha,fx=Re}).apply(typeof hu<"u"?hu:typeof self<"u"?self:typeof window<"u"?window:{});const Jb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Na="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new km("@firebase/firestore");function vl(){return bs.logLevel}function At(e,...t){if(bs.logLevel<=re.DEBUG){const n=t.map(Am);bs.debug(`Firestore (${Na}): ${e}`,...n)}}function Xo(e,...t){if(bs.logLevel<=re.ERROR){const n=t.map(Am);bs.error(`Firestore (${Na}): ${e}`,...n)}}function ka(e,...t){if(bs.logLevel<=re.WARN){const n=t.map(Am);bs.warn(`Firestore (${Na}): ${e}`,...n)}}function Am(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(e="Unexpected state"){const t=`FIRESTORE (${Na}) INTERNAL ASSERTION FAILED: `+e;throw Xo(t),new Error(t)}function _e(e,t){e||Bt()}function Wt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends fo{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class VM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Mn.UNAUTHENTICATED))}shutdown(){}}class BM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zM{constructor(t){this.t=t,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){_e(this.o===void 0);let i=this.i;const o=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Ho;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ho,t.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await o(this.currentUser)})},c=u=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ho)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_e(typeof i.accessToken=="string"),new bx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _e(t===null||typeof t=="string"),new Mn(t)}}class FM{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class UM{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new FM(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jM{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HM{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){_e(this.o===void 0);const i=s=>{s.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,At("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const o=s=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>o(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?o(s):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(_e(typeof n.token=="string"),this.R=n.token,new jM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const o=qM(40);for(let s=0;s<o.length;++s)i.length<20&&o[s]<n&&(i+=t.charAt(o[s]%t.length))}return i}}function ce(e,t){return e<t?-1:e>t?1:0}function Ia(e,t,n){return e.length===t.length&&e.every((i,o)=>n(i,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Et(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Et(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Et(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Et(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ze.fromMillis(Date.now())}static fromDate(t){return Ze.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new Ze(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ce(this.nanoseconds,t.nanoseconds):ce(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ht(t)}static min(){return new Ht(new Ze(0,0))}static max(){return new Ht(new Ze(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t,n,i){n===void 0?n=0:n>t.length&&Bt(),i===void 0?i=t.length-n:i>t.length-n&&Bt(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return oc.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof oc?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let o=0;o<i;o++){const s=t.get(o),a=n.get(o);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Oe extends oc{construct(t,n,i){return new Oe(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Et(it.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const WM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends oc{construct(t,n,i){return new Cn(t,n,i)}static isValidIdentifier(t){return WM.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Cn(["__name__"])}static fromServerFormat(t){const n=[];let i="",o=0;const s=()=>{if(i.length===0)throw new Et(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;o<t.length;){const c=t[o];if(c==="\\"){if(o+1===t.length)throw new Et(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[o+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Et(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,o+=2}else c==="`"?(a=!a,o++):c!=="."||a?(i+=c,o++):(s(),o++)}if(s(),a)throw new Et(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Cn(n)}static emptyPath(){return new Cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.path=t}static fromPath(t){return new Ot(Oe.fromString(t))}static fromName(t){return new Ot(Oe.fromString(t).popFirst(5))}static empty(){return new Ot(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ot(new Oe(t.slice()))}}function GM(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,o=Ht.fromTimestamp(i===1e9?new Ze(n+1,0):new Ze(n,i));return new Or(o,Ot.empty(),t)}function KM(e){return new Or(e.readTime,e.key,-1)}class Or{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Or(Ht.min(),Ot.empty(),-1)}static max(){return new Or(Ht.max(),Ot.empty(),-1)}}function ZM(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Ot.comparator(e.documentKey,t.documentKey),n!==0?n:ce(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(e){if(e.code!==it.FAILED_PRECONDITION||e.message!==YM)throw e;At("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ct((i,o)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,o)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof ct?n:ct.resolve(n)}catch(n){return ct.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):ct.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):ct.reject(n)}static resolve(t){return new ct((n,i)=>{n(t)})}static reject(t){return new ct((n,i)=>{i(t)})}static waitFor(t){return new ct((n,i)=>{let o=0,s=0,a=!1;t.forEach(c=>{++o,c.next(()=>{++s,a&&s===o&&n()},u=>i(u))}),a=!0,s===o&&n()})}static or(t){let n=ct.resolve(!1);for(const i of t)n=n.next(o=>o?ct.resolve(o):i());return n}static forEach(t,n){const i=[];return t.forEach((o,s)=>{i.push(n.call(this,o,s))}),this.waitFor(i)}static mapArray(t,n){return new ct((i,o)=>{const s=t.length,a=new Array(s);let c=0;for(let u=0;u<s;u++){const f=u;n(t[f]).next(p=>{a[f]=p,++c,c===s&&i(a)},p=>o(p))}})}static doWhile(t,n){return new ct((i,o)=>{const s=()=>{t()===!0?n().next(()=>{s()},o):i()};s()})}}function QM(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ic(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Cm.oe=-1;function Gd(e){return e==null}function od(e){return e===0&&1/e==-1/0}function JM(e){return typeof e=="number"&&Number.isInteger(e)&&!od(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ss(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function yx(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t,n){this.comparator=t,this.root=n||Sn.EMPTY}insert(t,n){return new He(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(t){return new He(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new fu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new fu(this.root,t,this.comparator,!1)}getReverseIterator(){return new fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new fu(this.root,t,this.comparator,!0)}}class fu{constructor(t,n,i,o){this.isReverse=o,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Sn{constructor(t,n,i,o,s){this.key=t,this.value=n,this.color=i??Sn.RED,this.left=o??Sn.EMPTY,this.right=s??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,o,s){return new Sn(t??this.key,n??this.value,i??this.color,o??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let o=this;const s=i(t,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(t,n,i),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Sn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Bt();const t=this.left.check();if(t!==this.right.check())throw Bt();return t+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt()}get value(){throw Bt()}get color(){throw Bt()}get left(){throw Bt()}get right(){throw Bt()}copy(t,n,i,o,s){return this}insert(t,n,i){return new Sn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.comparator=t,this.data=new He(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new e_(this.data.getIterator())}getIteratorFrom(t){return new e_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Pn)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=i.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Pn(this.comparator);return n.data=t,n}}class e_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t){this.fields=t,t.sort(Cn.comparator)}static empty(){return new hi([])}unionWith(t){let n=new Pn(Cn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new hi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ia(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wx("Invalid base64 string: "+s):s}}(t);return new Rn(n)}static fromUint8Array(t){const n=function(o){let s="";for(let a=0;a<o.length;++a)s+=String.fromCharCode(o[a]);return s}(t);return new Rn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ce(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const t4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(e){if(_e(!!e),typeof e=="string"){let t=0;const n=t4.exec(e);if(_e(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Je(e.seconds),nanos:Je(e.nanos)}}function Je(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function _s(e){return typeof e=="string"?Rn.fromBase64String(e):Rn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Rm(e){const t=e.mapValue.fields.__previous_value__;return Pm(t)?Rm(t):t}function rc(e){const t=$r(e.mapValue.fields.__local_write_time__.timestampValue);return new Ze(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(t,n,i,o,s,a,c,u,f){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=f}}class sc{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new sc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof sc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ys(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Pm(e)?4:i4(e)?9007199254740991:n4(e)?10:11:Bt()}function ho(e,t){if(e===t)return!0;const n=ys(e);if(n!==ys(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rc(e).isEqual(rc(t));case 3:return function(o,s){if(typeof o.timestampValue=="string"&&typeof s.timestampValue=="string"&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;const a=$r(o.timestampValue),c=$r(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,s){return _s(o.bytesValue).isEqual(_s(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,s){return Je(o.geoPointValue.latitude)===Je(s.geoPointValue.latitude)&&Je(o.geoPointValue.longitude)===Je(s.geoPointValue.longitude)}(e,t);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return Je(o.integerValue)===Je(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){const a=Je(o.doubleValue),c=Je(s.doubleValue);return a===c?od(a)===od(c):isNaN(a)&&isNaN(c)}return!1}(e,t);case 9:return Ia(e.arrayValue.values||[],t.arrayValue.values||[],ho);case 10:case 11:return function(o,s){const a=o.mapValue.fields||{},c=s.mapValue.fields||{};if(t_(a)!==t_(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!ho(a[u],c[u])))return!1;return!0}(e,t);default:return Bt()}}function ac(e,t){return(e.values||[]).find(n=>ho(n,t))!==void 0}function Sa(e,t){if(e===t)return 0;const n=ys(e),i=ys(t);if(n!==i)return ce(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(e.booleanValue,t.booleanValue);case 2:return function(s,a){const c=Je(s.integerValue||s.doubleValue),u=Je(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(e,t);case 3:return n_(e.timestampValue,t.timestampValue);case 4:return n_(rc(e),rc(t));case 5:return ce(e.stringValue,t.stringValue);case 6:return function(s,a){const c=_s(s),u=_s(a);return c.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const c=s.split("/"),u=a.split("/");for(let f=0;f<c.length&&f<u.length;f++){const p=ce(c[f],u[f]);if(p!==0)return p}return ce(c.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const c=ce(Je(s.latitude),Je(a.latitude));return c!==0?c:ce(Je(s.longitude),Je(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return i_(e.arrayValue,t.arrayValue);case 10:return function(s,a){var c,u,f,p;const m=s.fields||{},b=a.fields||{},w=(c=m.value)===null||c===void 0?void 0:c.arrayValue,T=(u=b.value)===null||u===void 0?void 0:u.arrayValue,k=ce(((f=w==null?void 0:w.values)===null||f===void 0?void 0:f.length)||0,((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0);return k!==0?k:i_(w,T)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===pu.mapValue&&a===pu.mapValue)return 0;if(s===pu.mapValue)return 1;if(a===pu.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),f=a.fields||{},p=Object.keys(f);u.sort(),p.sort();for(let m=0;m<u.length&&m<p.length;++m){const b=ce(u[m],p[m]);if(b!==0)return b;const w=Sa(c[u[m]],f[p[m]]);if(w!==0)return w}return ce(u.length,p.length)}(e.mapValue,t.mapValue);default:throw Bt()}}function n_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ce(e,t);const n=$r(e),i=$r(t),o=ce(n.seconds,i.seconds);return o!==0?o:ce(n.nanos,i.nanos)}function i_(e,t){const n=e.values||[],i=t.values||[];for(let o=0;o<n.length&&o<i.length;++o){const s=Sa(n[o],i[o]);if(s)return s}return ce(n.length,i.length)}function Aa(e){return vp(e)}function vp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=$r(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return _s(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Ot.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",o=!0;for(const s of n.values||[])o?o=!1:i+=",",i+=vp(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${vp(n.fields[a])}`;return o+"}"}(e.mapValue):Bt()}function o_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function bp(e){return!!e&&"integerValue"in e}function Lm(e){return!!e&&"arrayValue"in e}function r_(e){return!!e&&"nullValue"in e}function s_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ku(e){return!!e&&"mapValue"in e}function n4(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Dl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ss(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Dl(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Dl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function i4(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(t){this.value=t}static empty(){return new ii({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!ku(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dl(n)}setAll(t){let n=Cn.emptyPath(),i={},o=[];t.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,i,o),i={},o=[],n=c.popLast()}a?i[c.lastSegment()]=Dl(a):o.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,o)}delete(t){const n=this.field(t.popLast());ku(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ho(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let o=n.mapValue.fields[t.get(i)];ku(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,i){Ss(n,(o,s)=>t[o]=s);for(const o of i)delete t[o]}clone(){return new ii(Dl(this.value))}}function xx(e){const t=[];return Ss(e.fields,(n,i)=>{const o=new Cn([n]);if(ku(i)){const s=xx(i.mapValue).fields;if(s.length===0)t.push(o);else for(const a of s)t.push(o.child(a))}else t.push(o)}),new hi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t,n,i,o,s,a,c){this.key=t,this.documentType=n,this.version=i,this.readTime=o,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(t){return new Bn(t,0,Ht.min(),Ht.min(),Ht.min(),ii.empty(),0)}static newFoundDocument(t,n,i,o){return new Bn(t,1,n,Ht.min(),i,o,0)}static newNoDocument(t,n){return new Bn(t,2,n,Ht.min(),Ht.min(),ii.empty(),0)}static newUnknownDocument(t,n){return new Bn(t,3,n,Ht.min(),Ht.min(),ii.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ht.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ii.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Bn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(t,n){this.position=t,this.inclusive=n}}function a_(e,t,n){let i=0;for(let o=0;o<e.position.length;o++){const s=t[o],a=e.position[o];if(s.field.isKeyField()?i=Ot.comparator(Ot.fromName(a.referenceValue),n.key):i=Sa(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function l_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ho(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t,n="asc"){this.field=t,this.dir=n}}function o4(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{}class ln extends Ex{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new s4(t,n,i):n==="array-contains"?new c4(t,i):n==="in"?new u4(t,i):n==="not-in"?new d4(t,i):n==="array-contains-any"?new h4(t,i):new ln(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new a4(t,i):new l4(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Sa(n,this.value)):n!==null&&ys(this.value)===ys(n)&&this.matchesComparison(Sa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends Ex{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new Hi(t,n)}matches(t){return Tx(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Tx(e){return e.op==="and"}function kx(e){return r4(e)&&Tx(e)}function r4(e){for(const t of e.filters)if(t instanceof Hi)return!1;return!0}function _p(e){if(e instanceof ln)return e.field.canonicalString()+e.op.toString()+Aa(e.value);if(kx(e))return e.filters.map(t=>_p(t)).join(",");{const t=e.filters.map(n=>_p(n)).join(",");return`${e.op}(${t})`}}function Ix(e,t){return e instanceof ln?function(i,o){return o instanceof ln&&i.op===o.op&&i.field.isEqual(o.field)&&ho(i.value,o.value)}(e,t):e instanceof Hi?function(i,o){return o instanceof Hi&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((s,a,c)=>s&&Ix(a,o.filters[c]),!0):!1}(e,t):void Bt()}function Sx(e){return e instanceof ln?function(n){return`${n.field.canonicalString()} ${n.op} ${Aa(n.value)}`}(e):e instanceof Hi?function(n){return n.op.toString()+" {"+n.getFilters().map(Sx).join(" ,")+"}"}(e):"Filter"}class s4 extends ln{constructor(t,n,i){super(t,n,i),this.key=Ot.fromName(i.referenceValue)}matches(t){const n=Ot.comparator(t.key,this.key);return this.matchesComparison(n)}}class a4 extends ln{constructor(t,n){super(t,"in",n),this.keys=Ax("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class l4 extends ln{constructor(t,n){super(t,"not-in",n),this.keys=Ax("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Ax(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ot.fromName(i.referenceValue))}class c4 extends ln{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Lm(n)&&ac(n.arrayValue,this.value)}}class u4 extends ln{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ac(this.value.arrayValue,n)}}class d4 extends ln{constructor(t,n){super(t,"not-in",n)}matches(t){if(ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!ac(this.value.arrayValue,n)}}class h4 extends ln{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Lm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>ac(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(t,n=null,i=[],o=[],s=null,a=null,c=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=s,this.startAt=a,this.endAt=c,this.ue=null}}function c_(e,t=null,n=[],i=[],o=null,s=null,a=null){return new f4(e,t,n,i,o,s,a)}function Om(e){const t=Wt(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>_p(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Gd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Aa(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Aa(i)).join(",")),t.ue=n}return t.ue}function $m(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!o4(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ix(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!l_(e.startAt,t.startAt)&&l_(e.endAt,t.endAt)}function yp(e){return Ot.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t,n=null,i=[],o=[],s=null,a="F",c=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function p4(e,t,n,i,o,s,a,c){return new Va(e,t,n,i,o,s,a,c)}function Kd(e){return new Va(e)}function u_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Cx(e){return e.collectionGroup!==null}function Nl(e){const t=Wt(e);if(t.ce===null){t.ce=[];const n=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Pn(Cn.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.ce.push(new lc(s,i))}),n.has(Cn.keyField().canonicalString())||t.ce.push(new lc(Cn.keyField(),i))}return t.ce}function ro(e){const t=Wt(e);return t.le||(t.le=m4(t,Nl(e))),t.le}function m4(e,t){if(e.limitType==="F")return c_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const s=o.dir==="desc"?"asc":"desc";return new lc(o.field,s)});const n=e.endAt?new rd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new rd(e.startAt.position,e.startAt.inclusive):null;return c_(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function wp(e,t){const n=e.filters.concat([t]);return new Va(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function xp(e,t,n){return new Va(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Zd(e,t){return $m(ro(e),ro(t))&&e.limitType===t.limitType}function Px(e){return`${Om(ro(e))}|lt:${e.limitType}`}function oa(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>Sx(o)).join(", ")}]`),Gd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>Aa(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>Aa(o)).join(",")),`Target(${i})`}(ro(e))}; limitType=${e.limitType})`}function Yd(e,t){return t.isFoundDocument()&&function(i,o){const s=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Ot.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,o){for(const s of Nl(i))if(!s.field.isKeyField()&&o.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,o){for(const s of i.filters)if(!s.matches(o))return!1;return!0}(e,t)&&function(i,o){return!(i.startAt&&!function(a,c,u){const f=a_(a,c,u);return a.inclusive?f<=0:f<0}(i.startAt,Nl(i),o)||i.endAt&&!function(a,c,u){const f=a_(a,c,u);return a.inclusive?f>=0:f>0}(i.endAt,Nl(i),o))}(e,t)}function g4(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Rx(e){return(t,n)=>{let i=!1;for(const o of Nl(e)){const s=v4(o,t,n);if(s!==0)return s;i=i||o.field.isKeyField()}return 0}}function v4(e,t,n){const i=e.field.isKeyField()?Ot.comparator(t.key,n.key):function(s,a,c){const u=a.data.field(s),f=c.data.field(s);return u!==null&&f!==null?Sa(u,f):Bt()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Bt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[o,s]of i)if(this.equalsFn(o,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),o=this.inner[i];if(o===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ss(this.inner,(n,i)=>{for(const[o,s]of i)t(o,s)})}isEmpty(){return yx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=new He(Ot.comparator);function Qo(){return b4}const Lx=new He(Ot.comparator);function El(...e){let t=Lx;for(const n of e)t=t.insert(n.key,n);return t}function Ox(e){let t=Lx;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function ls(){return Vl()}function $x(){return Vl()}function Vl(){return new Ba(e=>e.toString(),(e,t)=>e.isEqual(t))}const _4=new He(Ot.comparator),y4=new Pn(Ot.comparator);function oe(...e){let t=y4;for(const n of e)t=t.add(n);return t}const w4=new Pn(ce);function x4(){return w4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(t)?"-0":t}}function Mx(e){return{integerValue:""+e}}function E4(e,t){return JM(t)?Mx(t):Mm(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this._=void 0}}function T4(e,t,n){return e instanceof cc?function(o,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return s&&Pm(s)&&(s=Rm(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,t):e instanceof uc?Nx(e,t):e instanceof dc?Vx(e,t):function(o,s){const a=Dx(o,s),c=d_(a)+d_(o.Pe);return bp(a)&&bp(o.Pe)?Mx(c):Mm(o.serializer,c)}(e,t)}function k4(e,t,n){return e instanceof uc?Nx(e,t):e instanceof dc?Vx(e,t):n}function Dx(e,t){return e instanceof sd?function(i){return bp(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class cc extends Xd{}class uc extends Xd{constructor(t){super(),this.elements=t}}function Nx(e,t){const n=Bx(t);for(const i of e.elements)n.some(o=>ho(o,i))||n.push(i);return{arrayValue:{values:n}}}class dc extends Xd{constructor(t){super(),this.elements=t}}function Vx(e,t){let n=Bx(t);for(const i of e.elements)n=n.filter(o=>!ho(o,i));return{arrayValue:{values:n}}}class sd extends Xd{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function d_(e){return Je(e.integerValue||e.doubleValue)}function Bx(e){return Lm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(t,n){this.field=t,this.transform=n}}function S4(e,t){return e.field.isEqual(t.field)&&function(i,o){return i instanceof uc&&o instanceof uc||i instanceof dc&&o instanceof dc?Ia(i.elements,o.elements,ho):i instanceof sd&&o instanceof sd?ho(i.Pe,o.Pe):i instanceof cc&&o instanceof cc}(e.transform,t.transform)}class A4{constructor(t,n){this.version=t,this.transformResults=n}}class zi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new zi}static exists(t){return new zi(void 0,t)}static updateTime(t){return new zi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Iu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Qd{}function zx(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Ux(e.key,zi.none()):new Sc(e.key,e.data,zi.none());{const n=e.data,i=ii.empty();let o=new Pn(Cn.comparator);for(let s of t.fields)if(!o.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),o=o.add(s)}return new Vr(e.key,i,new hi(o.toArray()),zi.none())}}function C4(e,t,n){e instanceof Sc?function(o,s,a){const c=o.value.clone(),u=f_(o.fieldTransforms,s,a.transformResults);c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(e,t,n):e instanceof Vr?function(o,s,a){if(!Iu(o.precondition,s))return void s.convertToUnknownDocument(a.version);const c=f_(o.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(Fx(o)),u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(o,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function Bl(e,t,n,i){return e instanceof Sc?function(s,a,c,u){if(!Iu(s.precondition,a))return c;const f=s.value.clone(),p=p_(s.fieldTransforms,u,a);return f.setAll(p),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(e,t,n,i):e instanceof Vr?function(s,a,c,u){if(!Iu(s.precondition,a))return c;const f=p_(s.fieldTransforms,u,a),p=a.data;return p.setAll(Fx(s)),p.setAll(f),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(e,t,n,i):function(s,a,c){return Iu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(e,t,n)}function P4(e,t){let n=null;for(const i of e.fieldTransforms){const o=t.data.field(i.field),s=Dx(i.transform,o||null);s!=null&&(n===null&&(n=ii.empty()),n.set(i.field,s))}return n||null}function h_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ia(i,o,(s,a)=>S4(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Sc extends Qd{constructor(t,n,i,o=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vr extends Qd{constructor(t,n,i,o,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Fx(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function f_(e,t,n){const i=new Map;_e(e.length===n.length);for(let o=0;o<n.length;o++){const s=e[o],a=s.transform,c=t.data.field(s.field);i.set(s.field,k4(a,c,n[o]))}return i}function p_(e,t,n){const i=new Map;for(const o of e){const s=o.transform,a=n.data.field(o.field);i.set(o.field,T4(s,a,t))}return i}class Ux extends Qd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R4 extends Qd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const s=this.mutations[o];s.key.isEqual(t.key)&&C4(s,t,i[o])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Bl(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Bl(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=$x();return this.mutations.forEach(o=>{const s=t.get(o.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=n.has(o.key)?null:c;const u=zx(a,c);u!==null&&i.set(o.key,u),a.isValidDocument()||a.convertToNoDocument(Ht.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),oe())}isEqual(t){return this.batchId===t.batchId&&Ia(this.mutations,t.mutations,(n,i)=>h_(n,i))&&Ia(this.baseMutations,t.baseMutations,(n,i)=>h_(n,i))}}class Dm{constructor(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(t,n,i){_e(t.mutations.length===i.length);let o=function(){return _4}();const s=t.mutations;for(let a=0;a<s.length;a++)o=o.insert(s[a].key,i[a].version);return new Dm(t,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,se;function M4(e){switch(e){default:return Bt();case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0}}function jx(e){if(e===void 0)return Xo("GRPC error has no .code"),it.UNKNOWN;switch(e){case an.OK:return it.OK;case an.CANCELLED:return it.CANCELLED;case an.UNKNOWN:return it.UNKNOWN;case an.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case an.INTERNAL:return it.INTERNAL;case an.UNAVAILABLE:return it.UNAVAILABLE;case an.UNAUTHENTICATED:return it.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case an.NOT_FOUND:return it.NOT_FOUND;case an.ALREADY_EXISTS:return it.ALREADY_EXISTS;case an.PERMISSION_DENIED:return it.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case an.ABORTED:return it.ABORTED;case an.OUT_OF_RANGE:return it.OUT_OF_RANGE;case an.UNIMPLEMENTED:return it.UNIMPLEMENTED;case an.DATA_LOSS:return it.DATA_LOSS;default:return Bt()}}(se=an||(an={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=new ps([4294967295,4294967295],0);function m_(e){const t=D4().encode(e),n=new hx;return n.update(t),new Uint8Array(n.digest())}function g_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),o=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ps([n,i],0),new ps([o,s],0)]}class Nm{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Tl(`Invalid padding: ${n}`);if(i<0)throw new Tl(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=ps.fromNumber(this.Ie)}Ee(t,n,i){let o=t.add(n.multiply(ps.fromNumber(i)));return o.compare(N4)===1&&(o=new ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=m_(t),[i,o]=g_(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(i,o,s);if(!this.de(a))return!1}return!0}static create(t,n,i){const o=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new Nm(s,o,n);return i.forEach(c=>a.insert(c)),a}insert(t){if(this.Ie===0)return;const n=m_(t),[i,o]=g_(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(i,o,s);this.Ae(a)}}Ae(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(t,n,i,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const o=new Map;return o.set(t,Ac.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Jd(Ht.min(),o,new He(ce),Qo(),oe())}}class Ac{constructor(t,n,i,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Ac(i,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(t,n,i,o){this.Re=t,this.removedTargetIds=n,this.key=i,this.Ve=o}}class Hx{constructor(t,n){this.targetId=t,this.me=n}}class qx{constructor(t,n,i=Rn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=o}}class v_{constructor(){this.fe=0,this.ge=__(),this.pe=Rn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=oe(),n=oe(),i=oe();return this.ge.forEach((o,s)=>{switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Bt()}}),new Ac(this.pe,this.ye,t,n,i)}Ce(){this.we=!1,this.ge=__()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,_e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class V4{constructor(t){this.Le=t,this.Be=new Map,this.ke=Qo(),this.qe=b_(),this.Qe=new He(ce)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const i=this.Ge(n);switch(t.state){case 0:this.ze(n)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(t.resumeToken));break;default:Bt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((i,o)=>{this.ze(o)&&n(o)})}He(t){const n=t.targetId,i=t.me.count,o=this.Je(n);if(o){const s=o.target;if(yp(s))if(i===0){const a=new Ot(s.path);this.Ue(n,a,Bn.newNoDocument(a,Ht.min()))}else _e(i===1);else{const a=this.Ye(n);if(a!==i){const c=this.Ze(t),u=c?this.Xe(c,t,a):1;if(u!==0){this.je(n);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:s=0}=n;let a,c;try{a=_s(i).toUint8Array()}catch(u){if(u instanceof wx)return ka("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Nm(a,o,s)}catch(u){return ka(u instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(t,n,i){return n.me.count===i-this.nt(t,n.targetId)?0:2}nt(t,n){const i=this.Le.getRemoteKeysForTarget(n);let o=0;return i.forEach(s=>{const a=this.Le.tt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.Ue(n,s,null),o++)}),o}rt(t){const n=new Map;this.Be.forEach((s,a)=>{const c=this.Je(a);if(c){if(s.current&&yp(c.target)){const u=new Ot(c.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,Bn.newNoDocument(u,t))}s.be&&(n.set(a,s.ve()),s.Ce())}});let i=oe();this.qe.forEach((s,a)=>{let c=!0;a.forEachWhile(u=>{const f=this.Je(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(t));const o=new Jd(t,n,this.Qe,this.ke,i);return this.ke=Qo(),this.qe=b_(),this.Qe=new He(ce),o}$e(t,n){if(!this.ze(t))return;const i=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,i){if(!this.ze(t))return;const o=this.Ge(t);this.it(t,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new v_,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new Pn(ce),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||At("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new v_),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function b_(){return new He(Ot.comparator)}function __(){return new He(Ot.comparator)}const B4=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),z4=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),F4=(()=>({and:"AND",or:"OR"}))();class U4{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ep(e,t){return e.useProto3Json||Gd(t)?t:{value:t}}function ad(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Wx(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function j4(e,t){return ad(e,t.toTimestamp())}function so(e){return _e(!!e),Ht.fromTimestamp(function(n){const i=$r(n);return new Ze(i.seconds,i.nanos)}(e))}function Vm(e,t){return Tp(e,t).canonicalString()}function Tp(e,t){const n=function(o){return new Oe(["projects",o.projectId,"databases",o.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Gx(e){const t=Oe.fromString(e);return _e(Qx(t)),t}function kp(e,t){return Vm(e.databaseId,t.path)}function hf(e,t){const n=Gx(t);if(n.get(1)!==e.databaseId.projectId)throw new Et(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Et(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ot(Zx(n))}function Kx(e,t){return Vm(e.databaseId,t)}function H4(e){const t=Gx(e);return t.length===4?Oe.emptyPath():Zx(t)}function Ip(e){return new Oe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Zx(e){return _e(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function y_(e,t,n){return{name:kp(e,t),fields:n.value.mapValue.fields}}function q4(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Bt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],s=function(f,p){return f.useProto3Json?(_e(p===void 0||typeof p=="string"),Rn.fromBase64String(p||"")):(_e(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Rn.fromUint8Array(p||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,c=a&&function(f){const p=f.code===void 0?it.UNKNOWN:jx(f.code);return new Et(p,f.message||"")}(a);n=new qx(i,o,s,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const o=hf(e,i.document.name),s=so(i.document.updateTime),a=i.document.createTime?so(i.document.createTime):Ht.min(),c=new ii({mapValue:{fields:i.document.fields}}),u=Bn.newFoundDocument(o,s,a,c),f=i.targetIds||[],p=i.removedTargetIds||[];n=new Su(f,p,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const o=hf(e,i.document),s=i.readTime?so(i.readTime):Ht.min(),a=Bn.newNoDocument(o,s),c=i.removedTargetIds||[];n=new Su([],c,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const o=hf(e,i.document),s=i.removedTargetIds||[];n=new Su([],s,o,null)}else{if(!("filter"in t))return Bt();{t.filter;const i=t.filter;i.targetId;const{count:o=0,unchangedNames:s}=i,a=new $4(o,s),c=i.targetId;n=new Hx(c,a)}}return n}function W4(e,t){let n;if(t instanceof Sc)n={update:y_(e,t.key,t.value)};else if(t instanceof Ux)n={delete:kp(e,t.key)};else if(t instanceof Vr)n={update:y_(e,t.key,t.data),updateMask:eD(t.fieldMask)};else{if(!(t instanceof R4))return Bt();n={verify:kp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const c=a.transform;if(c instanceof cc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof uc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof dc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof sd)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw Bt()}(0,i))),t.precondition.isNone||(n.currentDocument=function(o,s){return s.updateTime!==void 0?{updateTime:j4(o,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Bt()}(e,t.precondition)),n}function G4(e,t){return e&&e.length>0?(_e(t!==void 0),e.map(n=>function(o,s){let a=o.updateTime?so(o.updateTime):so(s);return a.isEqual(Ht.min())&&(a=so(s)),new A4(a,o.transformResults||[])}(n,t))):[]}function K4(e,t){return{documents:[Kx(e,t.path)]}}function Z4(e,t){const n={structuredQuery:{}},i=t.path;let o;t.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Kx(e,o);const s=function(f){if(f.length!==0)return Xx(Hi.create(f,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(f){if(f.length!==0)return f.map(p=>function(b){return{field:ra(b.field),direction:Q4(b.dir)}}(p))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const c=Ep(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{_t:n,parent:o}}function Y4(e){let t=H4(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){_e(i===1);const p=n.from[0];p.allDescendants?o=p.collectionId:t=t.child(p.collectionId)}let s=[];n.where&&(s=function(m){const b=Yx(m);return b instanceof Hi&&kx(b)?b.getFilters():[b]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(b=>function(T){return new lc(sa(T.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(b))}(n.orderBy));let c=null;n.limit&&(c=function(m){let b;return b=typeof m=="object"?m.value:m,Gd(b)?null:b}(n.limit));let u=null;n.startAt&&(u=function(m){const b=!!m.before,w=m.values||[];return new rd(w,b)}(n.startAt));let f=null;return n.endAt&&(f=function(m){const b=!m.before,w=m.values||[];return new rd(w,b)}(n.endAt)),p4(t,o,a,s,c,"F",u,f)}function X4(e,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Yx(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=sa(n.unaryFilter.field);return ln.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=sa(n.unaryFilter.field);return ln.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=sa(n.unaryFilter.field);return ln.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=sa(n.unaryFilter.field);return ln.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Bt()}}(e):e.fieldFilter!==void 0?function(n){return ln.create(sa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Hi.create(n.compositeFilter.filters.map(i=>Yx(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Bt()}}(n.compositeFilter.op))}(e):Bt()}function Q4(e){return B4[e]}function J4(e){return z4[e]}function tD(e){return F4[e]}function ra(e){return{fieldPath:e.canonicalString()}}function sa(e){return Cn.fromServerFormat(e.fieldPath)}function Xx(e){return e instanceof ln?function(n){if(n.op==="=="){if(s_(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NAN"}};if(r_(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s_(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NOT_NAN"}};if(r_(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ra(n.field),op:J4(n.op),value:n.value}}}(e):e instanceof Hi?function(n){const i=n.getFilters().map(o=>Xx(o));return i.length===1?i[0]:{compositeFilter:{op:tD(n.op),filters:i}}}(e):Bt()}function eD(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Qx(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t,n,i,o,s=Ht.min(),a=Ht.min(),c=Rn.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(t){return new kr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(t){this.ct=t}}function iD(e){const t=Y4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?xp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.un=new rD}addToCollectionParentIndex(t,n){return this.un.add(n),ct.resolve()}getCollectionParents(t,n){return ct.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return ct.resolve()}deleteFieldIndex(t,n){return ct.resolve()}deleteAllFieldIndexes(t){return ct.resolve()}createTargetIndexes(t,n){return ct.resolve()}getDocumentsMatchingTarget(t,n){return ct.resolve(null)}getIndexType(t,n){return ct.resolve(0)}getFieldIndexes(t,n){return ct.resolve([])}getNextCollectionGroupToUpdate(t){return ct.resolve(null)}getMinOffset(t,n){return ct.resolve(Or.min())}getMinOffsetFromCollectionGroup(t,n){return ct.resolve(Or.min())}updateCollectionGroup(t,n,i){return ct.resolve()}updateIndexEntries(t,n){return ct.resolve()}}class rD{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new Pn(Oe.comparator),s=!o.has(i);return this.index[n]=o.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(t){return(this.index[t]||new Pn(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ca(0)}static kn(){return new Ca(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.changes=new Ba(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Bn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ct.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(t,n,i,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(i!==null&&Bl(i.mutation,o,hi.empty(),Ze.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,oe()).next(()=>i))}getLocalViewOfDocuments(t,n,i=oe()){const o=ls();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,i).next(s=>{let a=El();return s.forEach((c,u)=>{a=a.insert(c,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=ls();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,oe()))}populateOverlays(t,n,i){const o=[];return i.forEach(s=>{n.has(s)||o.push(s)}),this.documentOverlayCache.getOverlays(t,o).next(s=>{s.forEach((a,c)=>{n.set(a,c)})})}computeViews(t,n,i,o){let s=Qo();const a=Vl(),c=function(){return Vl()}();return n.forEach((u,f)=>{const p=i.get(f.key);o.has(f.key)&&(p===void 0||p.mutation instanceof Vr)?s=s.insert(f.key,f):p!==void 0?(a.set(f.key,p.mutation.getFieldMask()),Bl(p.mutation,f,p.mutation.getFieldMask(),Ze.now())):a.set(f.key,hi.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((f,p)=>a.set(f,p)),n.forEach((f,p)=>{var m;return c.set(f,new aD(p,(m=a.get(f))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(t,n){const i=Vl();let o=new He((a,c)=>a-c),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const c of a)c.keys().forEach(u=>{const f=n.get(u);if(f===null)return;let p=i.get(u)||hi.empty();p=c.applyToLocalView(f,p),i.set(u,p);const m=(o.get(c.batchId)||oe()).add(u);o=o.insert(c.batchId,m)})}).next(()=>{const a=[],c=o.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),f=u.key,p=u.value,m=$x();p.forEach(b=>{if(!s.has(b)){const w=zx(n.get(b),i.get(b));w!==null&&m.set(b,w),s=s.add(b)}}),a.push(this.documentOverlayCache.saveOverlays(t,f,m))}return ct.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,o){return function(a){return Ot.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Cx(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,o):this.getDocumentsMatchingCollectionQuery(t,n,i,o)}getNextDocuments(t,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,o).next(s=>{const a=o-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,o-s.size):ct.resolve(ls());let c=-1,u=s;return a.next(f=>ct.forEach(f,(p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),s.get(p)?ct.resolve():this.remoteDocumentCache.getEntry(t,p).next(b=>{u=u.insert(p,b)}))).next(()=>this.populateOverlays(t,f,s)).next(()=>this.computeViews(t,u,f,oe())).next(p=>({batchId:c,changes:Ox(p)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ot(n)).next(i=>{let o=El();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,i,o){const s=n.collectionGroup;let a=El();return this.indexManager.getCollectionParents(t,s).next(c=>ct.forEach(c,u=>{const f=function(m,b){return new Va(b,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,f,i,o).next(p=>{p.forEach((m,b)=>{a=a.insert(m,b)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,o){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,o))).next(a=>{s.forEach((u,f)=>{const p=f.getKey();a.get(p)===null&&(a=a.insert(p,Bn.newInvalidDocument(p)))});let c=El();return a.forEach((u,f)=>{const p=s.get(u);p!==void 0&&Bl(p.mutation,f,hi.empty(),Ze.now()),Yd(n,f)&&(c=c.insert(u,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return ct.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:so(o.createTime)}}(n)),ct.resolve()}getNamedQuery(t,n){return ct.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(o){return{name:o.name,query:iD(o.bundledQuery),readTime:so(o.readTime)}}(n)),ct.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.overlays=new He(Ot.comparator),this.Ir=new Map}getOverlay(t,n){return ct.resolve(this.overlays.get(n))}getOverlays(t,n){const i=ls();return ct.forEach(n,o=>this.getOverlay(t,o).next(s=>{s!==null&&i.set(o,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((o,s)=>{this.ht(t,n,s)}),ct.resolve()}removeOverlaysForBatchId(t,n,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),ct.resolve()}getOverlaysForCollection(t,n,i){const o=ls(),s=n.length+1,a=new Ot(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,f=u.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&u.largestBatchId>i&&o.set(u.getKey(),u)}return ct.resolve(o)}getOverlaysForCollectionGroup(t,n,i,o){let s=new He((f,p)=>f-p);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let p=s.get(f.largestBatchId);p===null&&(p=ls(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=ls(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=o)););return ct.resolve(c)}ht(t,n,i){const o=this.overlays.get(i.key);if(o!==null){const a=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new O4(n,i));let s=this.Ir.get(n);s===void 0&&(s=oe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(t){return ct.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ct.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(){this.Tr=new Pn(xn.Er),this.dr=new Pn(xn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const i=new xn(t,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Vr(new xn(t,n))}mr(t,n){t.forEach(i=>this.removeReference(i,n))}gr(t){const n=new Ot(new Oe([])),i=new xn(n,t),o=new xn(n,t+1),s=[];return this.dr.forEachInRange([i,o],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new Ot(new Oe([])),i=new xn(n,t),o=new xn(n,t+1);let s=oe();return this.dr.forEachInRange([i,o],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new xn(t,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class xn{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return Ot.comparator(t.key,n.key)||ce(t.wr,n.wr)}static Ar(t,n){return ce(t.wr,n.wr)||Ot.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Pn(xn.Er)}checkEmpty(t){return ct.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,o){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new L4(s,n,i,o);this.mutationQueue.push(a);for(const c of o)this.br=this.br.add(new xn(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return ct.resolve(a)}lookupMutationBatch(t,n){return ct.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,o=this.vr(i),s=o<0?0:o;return ct.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new xn(n,0),o=new xn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,o],a=>{const c=this.Dr(a.wr);s.push(c)}),ct.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Pn(ce);return n.forEach(o=>{const s=new xn(o,0),a=new xn(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],c=>{i=i.add(c.wr)})}),ct.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,o=i.length+1;let s=i;Ot.isDocumentKey(s)||(s=s.child(""));const a=new xn(new Ot(s),0);let c=new Pn(ce);return this.br.forEachWhile(u=>{const f=u.key.path;return!!i.isPrefixOf(f)&&(f.length===o&&(c=c.add(u.wr)),!0)},a),ct.resolve(this.Cr(c))}Cr(t){const n=[];return t.forEach(i=>{const o=this.Dr(i);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){_e(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return ct.forEach(n.mutations,o=>{const s=new xn(o.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,n){const i=new xn(n,0),o=this.br.firstAfterOrEqual(i);return ct.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ct.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t){this.Mr=t,this.docs=function(){return new He(Ot.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,o=this.docs.get(i),s=o?o.size:0,a=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return ct.resolve(i?i.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(t,n){let i=Qo();return n.forEach(o=>{const s=this.docs.get(o);i=i.insert(o,s?s.document.mutableCopy():Bn.newInvalidDocument(o))}),ct.resolve(i)}getDocumentsMatchingQuery(t,n,i,o){let s=Qo();const a=n.path,c=new Ot(a.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:f,value:{document:p}}=u.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||ZM(KM(p),i)<=0||(o.has(p.key)||Yd(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return ct.resolve(s)}getAllFromCollectionGroup(t,n,i,o){Bt()}Or(t,n){return ct.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new pD(this)}getSize(t){return ct.resolve(this.size)}}class pD extends sD{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(t,o)):this.cr.removeEntry(i)}),ct.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t){this.persistence=t,this.Nr=new Ba(n=>Om(n),$m),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Bm,this.targetCount=0,this.kr=Ca.Bn()}forEachTarget(t,n){return this.Nr.forEach((i,o)=>n(o)),ct.resolve()}getLastRemoteSnapshotVersion(t){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ct.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),ct.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new Ca(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,ct.resolve()}updateTargetData(t,n){return this.Kn(n),ct.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ct.resolve()}removeTargets(t,n,i){let o=0;const s=[];return this.Nr.forEach((a,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),o++)}),ct.waitFor(s).next(()=>o)}getTargetCount(t){return ct.resolve(this.targetCount)}getTargetData(t,n){const i=this.Nr.get(n)||null;return ct.resolve(i)}addMatchingKeys(t,n,i){return this.Br.Rr(n,i),ct.resolve()}removeMatchingKeys(t,n,i){this.Br.mr(n,i);const o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(a=>{s.push(o.markPotentiallyOrphaned(t,a))}),ct.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),ct.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Br.yr(n);return ct.resolve(i)}containsKey(t,n){return ct.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(t,n){this.qr={},this.overlays={},this.Qr=new Cm(0),this.Kr=!1,this.Kr=!0,this.$r=new dD,this.referenceDelegate=t(this),this.Ur=new mD(this),this.indexManager=new oD,this.remoteDocumentCache=function(o){return new fD(o)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new nD(n),this.Gr=new cD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new uD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.qr[t.toKey()];return i||(i=new hD(n,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,i){At("MemoryPersistence","Starting transaction:",t);const o=new vD(this.Qr.next());return this.referenceDelegate.zr(),i(o).next(s=>this.referenceDelegate.jr(o).next(()=>s)).toPromise().then(s=>(o.raiseOnCommittedEvent(),s))}Hr(t,n){return ct.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,n)))}}class vD extends XM{constructor(t){super(),this.currentSequenceNumber=t}}class zm{constructor(t){this.persistence=t,this.Jr=new Bm,this.Yr=null}static Zr(t){return new zm(t)}get Xr(){if(this.Yr)return this.Yr;throw Bt()}addReference(t,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),ct.resolve()}removeReference(t,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),ct.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),ct.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(o=>this.Xr.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.Xr,i=>{const o=Ot.fromPath(i);return this.ei(t,o).next(s=>{s||n.removeEntry(o,Ht.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return ct.or([()=>ct.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,n,i,o){this.targetId=t,this.fromCache=n,this.$i=i,this.Ui=o}static Wi(t,n){let i=oe(),o=oe();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}return new Fm(t,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return w$()?8:QM(Hn())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,i,o){const s={result:null};return this.Yi(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(t,n,o,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new bD;return this.Xi(t,n,a).next(c=>{if(s.result=c,this.zi)return this.es(t,n,a,c.size)})}).next(()=>s.result)}es(t,n,i,o){return i.documentReadCount<this.ji?(vl()<=re.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",oa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ct.resolve()):(vl()<=re.DEBUG&&At("QueryEngine","Query:",oa(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(vl()<=re.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",oa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ro(n))):ct.resolve())}Yi(t,n){if(u_(n))return ct.resolve(null);let i=ro(n);return this.indexManager.getIndexType(t,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=xp(n,null,"F"),i=ro(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=oe(...s);return this.Ji.getDocuments(t,a).next(c=>this.indexManager.getMinOffset(t,i).next(u=>{const f=this.ts(n,c);return this.ns(n,f,a,u.readTime)?this.Yi(t,xp(n,null,"F")):this.rs(t,f,n,u)}))})))}Zi(t,n,i,o){return u_(n)||o.isEqual(Ht.min())?ct.resolve(null):this.Ji.getDocuments(t,i).next(s=>{const a=this.ts(n,s);return this.ns(n,a,i,o)?ct.resolve(null):(vl()<=re.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),oa(n)),this.rs(t,a,n,GM(o,-1)).next(c=>c))})}ts(t,n){let i=new Pn(Rx(t));return n.forEach((o,s)=>{Yd(t,s)&&(i=i.add(s))}),i}ns(t,n,i,o){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)}Xi(t,n,i){return vl()<=re.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",oa(n)),this.Ji.getDocumentsMatchingQuery(t,n,Or.min(),i)}rs(t,n,i,o){return this.Ji.getDocumentsMatchingQuery(t,i,o).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t,n,i,o){this.persistence=t,this.ss=n,this.serializer=o,this.os=new He(ce),this._s=new Ba(s=>Om(s),$m),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function wD(e,t,n,i){return new yD(e,t,n,i)}async function Jx(e,t){const n=Wt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(s=>(o=s,n.ls(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],c=[];let u=oe();for(const f of o){a.push(f.batchId);for(const p of f.mutations)u=u.add(p.key)}for(const f of s){c.push(f.batchId);for(const p of f.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(i,u).next(f=>({hs:f,removedBatchIds:a,addedBatchIds:c}))})})}function xD(e,t){const n=Wt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=t.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,f,p){const m=f.batch,b=m.keys();let w=ct.resolve();return b.forEach(T=>{w=w.next(()=>p.getEntry(u,T)).next(k=>{const $=f.docVersions.get(T);_e($!==null),k.version.compareTo($)<0&&(m.applyToRemoteDocument(k,f),k.isValidDocument()&&(k.setReadTime(f.commitVersion),p.addEntry(k)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(u,m))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let u=oe();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(u=u.add(c.batch.mutations[f].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,o))})}function t1(e){const t=Wt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function ED(e,t){const n=Wt(e),i=t.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const c=[];t.targetChanges.forEach((p,m)=>{const b=o.get(m);if(!b)return;c.push(n.Ur.removeMatchingKeys(s,p.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(s,p.addedDocuments,m)));let w=b.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(m)!==null?w=w.withResumeToken(Rn.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,i)),o=o.insert(m,w),function(k,$,M){return k.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(b,w,p)&&c.push(n.Ur.updateTargetData(s,w))});let u=Qo(),f=oe();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),c.push(TD(s,a,t.documentUpdates).next(p=>{u=p.Ps,f=p.Is})),!i.isEqual(Ht.min())){const p=n.Ur.getLastRemoteSnapshotVersion(s).next(m=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(p)}return ct.waitFor(c).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,f)).next(()=>u)}).then(s=>(n.os=o,s))}function TD(e,t,n){let i=oe(),o=oe();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let a=Qo();return n.forEach((c,u)=>{const f=s.get(c);u.isFoundDocument()!==f.isFoundDocument()&&(o=o.add(c)),u.isNoDocument()&&u.version.isEqual(Ht.min())?(t.removeEntry(c,u.readTime),a=a.insert(c,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(u),a=a.insert(c,u)):At("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",u.version)}),{Ps:a,Is:o}})}function kD(e,t){const n=Wt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function ID(e,t){const n=Wt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Ur.getTargetData(i,t).next(s=>s?(o=s,ct.resolve(o)):n.Ur.allocateTargetId(i).next(a=>(o=new kr(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(t,i.targetId)),i})}async function Sp(e,t,n){const i=Wt(e),o=i.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,o))}catch(a){if(!Ic(a))throw a;At("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.os=i.os.remove(t),i._s.delete(o.target)}function w_(e,t,n){const i=Wt(e);let o=Ht.min(),s=oe();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,f,p){const m=Wt(u),b=m._s.get(p);return b!==void 0?ct.resolve(m.os.get(b)):m.Ur.getTargetData(f,p)}(i,a,ro(t)).next(c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(a,c.targetId).next(u=>{s=u})}).next(()=>i.ss.getDocumentsMatchingQuery(a,t,n?o:Ht.min(),n?s:oe())).next(c=>(SD(i,g4(t),c),{documents:c,Ts:s})))}function SD(e,t,n){let i=e.us.get(t)||Ht.min();n.forEach((o,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.us.set(t,i)}class x_{constructor(){this.activeTargetIds=x4()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class AD{constructor(){this.so=new x_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,i){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new x_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){At("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){At("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu=null;function ff(){return mu===null?mu=function(){return 268435456+Math.round(2147483648*Math.random())}():mu++,"0x"+mu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="WebChannelConnection";class LD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${o}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${s}`}get Fo(){return!1}Mo(n,i,o,s,a){const c=ff(),u=this.xo(n,i.toUriEncodedString());At("RestConnection",`Sending RPC '${n}' ${c}:`,u,o);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,s,a),this.No(n,u,f,o).then(p=>(At("RestConnection",`Received RPC '${n}' ${c}: `,p),p),p=>{throw ka("RestConnection",`RPC '${n}' ${c} failed with error: `,p,"url: ",u,"request:",o),p})}Lo(n,i,o,s,a,c){return this.Mo(n,i,o,s,a)}Oo(n,i,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Na}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,a)=>n[a]=s),o&&o.headers.forEach((s,a)=>n[a]=s)}xo(n,i){const o=PD[n];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,i,o){const s=ff();return new Promise((a,c)=>{const u=new fx;u.setWithCredentials(!0),u.listenOnce(px.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Tu.NO_ERROR:const p=u.getResponseJson();At($n,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(p)),a(p);break;case Tu.TIMEOUT:At($n,`RPC '${t}' ${s} timed out`),c(new Et(it.DEADLINE_EXCEEDED,"Request time out"));break;case Tu.HTTP_ERROR:const m=u.getStatus();if(At($n,`RPC '${t}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let b=u.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b==null?void 0:b.error;if(w&&w.status&&w.message){const T=function($){const M=$.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(M)>=0?M:it.UNKNOWN}(w.status);c(new Et(T,w.message))}else c(new Et(it.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Et(it.UNAVAILABLE,"Connection failed."));break;default:Bt()}}finally{At($n,`RPC '${t}' ${s} completed.`)}});const f=JSON.stringify(o);At($n,`RPC '${t}' ${s} sending request:`,o),u.send(n,"POST",f,i,15)})}Bo(t,n,i){const o=ff(),s=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=vx(),c=gx(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const p=s.join("");At($n,`Creating RPC '${t}' stream ${o}: ${p}`,u);const m=a.createWebChannel(p,u);let b=!1,w=!1;const T=new RD({Io:$=>{w?At($n,`Not sending because RPC '${t}' stream ${o} is closed:`,$):(b||(At($n,`Opening RPC '${t}' stream ${o} transport.`),m.open(),b=!0),At($n,`RPC '${t}' stream ${o} sending:`,$),m.send($))},To:()=>m.close()}),k=($,M,F)=>{$.listen(M,B=>{try{F(B)}catch(z){setTimeout(()=>{throw z},0)}})};return k(m,xl.EventType.OPEN,()=>{w||(At($n,`RPC '${t}' stream ${o} transport opened.`),T.yo())}),k(m,xl.EventType.CLOSE,()=>{w||(w=!0,At($n,`RPC '${t}' stream ${o} transport closed`),T.So())}),k(m,xl.EventType.ERROR,$=>{w||(w=!0,ka($n,`RPC '${t}' stream ${o} transport errored:`,$),T.So(new Et(it.UNAVAILABLE,"The operation could not be completed")))}),k(m,xl.EventType.MESSAGE,$=>{var M;if(!w){const F=$.data[0];_e(!!F);const B=F,z=B.error||((M=B[0])===null||M===void 0?void 0:M.error);if(z){At($n,`RPC '${t}' stream ${o} received error:`,z);const U=z.status;let W=function(A){const O=an[A];if(O!==void 0)return jx(O)}(U),S=z.message;W===void 0&&(W=it.INTERNAL,S="Unknown error status: "+U+" with message "+z.message),w=!0,T.So(new Et(W,S)),m.close()}else At($n,`RPC '${t}' stream ${o} received:`,F),T.bo(F)}}),k(c,mx.STAT_EVENT,$=>{$.stat===gp.PROXY?At($n,`RPC '${t}' stream ${o} detected buffering proxy`):$.stat===gp.NOPROXY&&At($n,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}}function pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(e){return new U4(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(t,n,i=1e3,o=1.5,s=6e4){this.ui=t,this.timerId=n,this.ko=i,this.qo=o,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-i);o>0&&At("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t,n,i,o,s,a,c,u){this.ui=t,this.Ho=i,this.Jo=o,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new e1(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===it.RESOURCE_EXHAUSTED?(Xo(n.toString()),Xo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Yo===n&&this.P_(i,o)},i=>{t(()=>{const o=new Et(it.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)})})}P_(t,n){const i=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{i(()=>this.I_(o))}),this.stream.onMessage(o=>{i(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return At("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(At("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OD extends n1{constructor(t,n,i,o,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,a),this.serializer=s}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=q4(this.serializer,t),i=function(s){if(!("targetChange"in s))return Ht.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ht.min():a.readTime?so(a.readTime):Ht.min()}(t);return this.listener.d_(n,i)}A_(t){const n={};n.database=Ip(this.serializer),n.addTarget=function(s,a){let c;const u=a.target;if(c=yp(u)?{documents:K4(s,u)}:{query:Z4(s,u)._t},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=Wx(s,a.resumeToken);const f=Ep(s,a.expectedCount);f!==null&&(c.expectedCount=f)}else if(a.snapshotVersion.compareTo(Ht.min())>0){c.readTime=ad(s,a.snapshotVersion.toTimestamp());const f=Ep(s,a.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,t);const i=X4(this.serializer,t);i&&(n.labels=i),this.a_(n)}R_(t){const n={};n.database=Ip(this.serializer),n.removeTarget=t,this.a_(n)}}class $D extends n1{constructor(t,n,i,o,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return _e(!!t.streamToken),this.lastStreamToken=t.streamToken,_e(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){_e(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=G4(t.writeResults,t.commitTime),i=so(t.commitTime);return this.listener.g_(i,n)}p_(){const t={};t.database=Ip(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>W4(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD extends class{}{constructor(t,n,i,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new Et(it.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(t,Tp(n,i),o,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Et(it.UNKNOWN,s.toString())})}Lo(t,n,i,o,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Lo(t,Tp(n,i),o,a,c,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Et(it.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class DD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Xo(n),this.D_=!1):At("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t,n,i,o,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{i.enqueueAndForget(async()=>{As(this)&&(At("RemoteStore","Restarting streams for network reachability change."),await async function(u){const f=Wt(u);f.L_.add(4),await Cc(f),f.q_.set("Unknown"),f.L_.delete(4),await eh(f)}(this))})}),this.q_=new DD(i,o)}}async function eh(e){if(As(e))for(const t of e.B_)await t(!0)}async function Cc(e){for(const t of e.B_)await t(!1)}function i1(e,t){const n=Wt(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),qm(n)?Hm(n):za(n).r_()&&jm(n,t))}function Um(e,t){const n=Wt(e),i=za(n);n.N_.delete(t),i.r_()&&o1(n,t),n.N_.size===0&&(i.r_()?i.o_():As(n)&&n.q_.set("Unknown"))}function jm(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ht.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}za(e).A_(t)}function o1(e,t){e.Q_.xe(t),za(e).R_(t)}function Hm(e){e.Q_=new V4({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),za(e).start(),e.q_.v_()}function qm(e){return As(e)&&!za(e).n_()&&e.N_.size>0}function As(e){return Wt(e).L_.size===0}function r1(e){e.Q_=void 0}async function VD(e){e.q_.set("Online")}async function BD(e){e.N_.forEach((t,n)=>{jm(e,t)})}async function zD(e,t){r1(e),qm(e)?(e.q_.M_(t),Hm(e)):e.q_.set("Unknown")}async function FD(e,t,n){if(e.q_.set("Online"),t instanceof qx&&t.state===2&&t.cause)try{await async function(o,s){const a=s.cause;for(const c of s.targetIds)o.N_.has(c)&&(await o.remoteSyncer.rejectListen(c,a),o.N_.delete(c),o.Q_.removeTarget(c))}(e,t)}catch(i){At("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await ld(e,i)}else if(t instanceof Su?e.Q_.Ke(t):t instanceof Hx?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Ht.min()))try{const i=await t1(e.localStore);n.compareTo(i)>=0&&await function(s,a){const c=s.Q_.rt(a);return c.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.N_.get(f);p&&s.N_.set(f,p.withResumeToken(u.resumeToken,a))}}),c.targetMismatches.forEach((u,f)=>{const p=s.N_.get(u);if(!p)return;s.N_.set(u,p.withResumeToken(Rn.EMPTY_BYTE_STRING,p.snapshotVersion)),o1(s,u);const m=new kr(p.target,u,f,p.sequenceNumber);jm(s,m)}),s.remoteSyncer.applyRemoteEvent(c)}(e,n)}catch(i){At("RemoteStore","Failed to raise snapshot:",i),await ld(e,i)}}async function ld(e,t,n){if(!Ic(t))throw t;e.L_.add(1),await Cc(e),e.q_.set("Offline"),n||(n=()=>t1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{At("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await eh(e)})}function s1(e,t){return t().catch(n=>ld(e,n,t))}async function nh(e){const t=Wt(e),n=Mr(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;UD(t);)try{const o=await kD(t.localStore,i);if(o===null){t.O_.length===0&&n.o_();break}i=o.batchId,jD(t,o)}catch(o){await ld(t,o)}a1(t)&&l1(t)}function UD(e){return As(e)&&e.O_.length<10}function jD(e,t){e.O_.push(t);const n=Mr(e);n.r_()&&n.V_&&n.m_(t.mutations)}function a1(e){return As(e)&&!Mr(e).n_()&&e.O_.length>0}function l1(e){Mr(e).start()}async function HD(e){Mr(e).p_()}async function qD(e){const t=Mr(e);for(const n of e.O_)t.m_(n.mutations)}async function WD(e,t,n){const i=e.O_.shift(),o=Dm.from(i,t,n);await s1(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await nh(e)}async function GD(e,t){t&&Mr(e).V_&&await async function(i,o){if(function(a){return M4(a)&&a!==it.ABORTED}(o.code)){const s=i.O_.shift();Mr(i).s_(),await s1(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),await nh(i)}}(e,t),a1(e)&&l1(e)}async function T_(e,t){const n=Wt(e);n.asyncQueue.verifyOperationInProgress(),At("RemoteStore","RemoteStore received new credentials");const i=As(n);n.L_.add(3),await Cc(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await eh(n)}async function KD(e,t){const n=Wt(e);t?(n.L_.delete(2),await eh(n)):t||(n.L_.add(2),await Cc(n),n.q_.set("Unknown"))}function za(e){return e.K_||(e.K_=function(n,i,o){const s=Wt(n);return s.w_(),new OD(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(e.datastore,e.asyncQueue,{Eo:VD.bind(null,e),Ro:BD.bind(null,e),mo:zD.bind(null,e),d_:FD.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),qm(e)?Hm(e):e.q_.set("Unknown")):(await e.K_.stop(),r1(e))})),e.K_}function Mr(e){return e.U_||(e.U_=function(n,i,o){const s=Wt(n);return s.w_(),new $D(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:HD.bind(null,e),mo:GD.bind(null,e),f_:qD.bind(null,e),g_:WD.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await nh(e)):(await e.U_.stop(),e.O_.length>0&&(At("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(t,n,i,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=s,this.deferred=new Ho,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,o,s){const a=Date.now()+i,c=new Wm(t,n,a,o,s);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Et(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gm(e,t){if(Xo("AsyncQueue",`${t}: ${e}`),Ic(e))return new Et(it.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(t){this.comparator=t?(n,i)=>t(n,i)||Ot.comparator(n.key,i.key):(n,i)=>Ot.comparator(n.key,i.key),this.keyedMap=El(),this.sortedSet=new He(this.comparator)}static emptySet(t){return new pa(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof pa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=i.getNext().key;if(!o.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new pa;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.W_=new He(Ot.comparator)}track(t){const n=t.doc.key,i=this.W_.get(n);i?t.type!==0&&i.type===3?this.W_=this.W_.insert(n,t):t.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.W_=this.W_.remove(n):t.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):Bt():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Pa{constructor(t,n,i,o,s,a,c,u,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(t,n,i,o,s){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new Pa(t,n,pa.emptySet(n),a,i,o,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class YD{constructor(){this.queries=I_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const o=Wt(n),s=o.queries;o.queries=I_(),s.forEach((a,c)=>{for(const u of c.j_)u.onError(i)})})(this,new Et(it.ABORTED,"Firestore shutting down"))}}function I_(){return new Ba(e=>Px(e),Zd)}async function Km(e,t){const n=Wt(e);let i=3;const o=t.query;let s=n.queries.get(o);s?!s.H_()&&t.J_()&&(i=2):(s=new ZD,i=t.J_()?0:1);try{switch(i){case 0:s.z_=await n.onListen(o,!0);break;case 1:s.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(a){const c=Gm(a,`Initialization of query '${oa(t.query)}' failed`);return void t.onError(c)}n.queries.set(o,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&Ym(n)}async function Zm(e,t){const n=Wt(e),i=t.query;let o=3;const s=n.queries.get(i);if(s){const a=s.j_.indexOf(t);a>=0&&(s.j_.splice(a,1),s.j_.length===0?o=t.J_()?0:1:!s.H_()&&t.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function XD(e,t){const n=Wt(e);let i=!1;for(const o of t){const s=o.query,a=n.queries.get(s);if(a){for(const c of a.j_)c.X_(o)&&(i=!0);a.z_=o}}i&&Ym(n)}function QD(e,t,n){const i=Wt(e),o=i.queries.get(t);if(o)for(const s of o.j_)s.onError(n);i.queries.delete(t)}function Ym(e){e.Y_.forEach(t=>{t.next()})}var Ap,S_;(S_=Ap||(Ap={})).ea="default",S_.Cache="cache";class Xm{constructor(t,n,i){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const o of t.docChanges)o.type!==3&&i.push(o);t=new Pa(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=Pa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t){this.key=t}}class u1{constructor(t){this.key=t}}class JD{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=oe(),this.mutatedKeys=oe(),this.Aa=Rx(t),this.Ra=new pa(this.Aa)}get Va(){return this.Ta}ma(t,n){const i=n?n.fa:new k_,o=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=o,c=!1;const u=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,f=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((p,m)=>{const b=o.get(p),w=Yd(this.query,m)?m:null,T=!!b&&this.mutatedKeys.has(b.key),k=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let $=!1;b&&w?b.data.isEqual(w.data)?T!==k&&(i.track({type:3,doc:w}),$=!0):this.ga(b,w)||(i.track({type:2,doc:w}),$=!0,(u&&this.Aa(w,u)>0||f&&this.Aa(w,f)<0)&&(c=!0)):!b&&w?(i.track({type:0,doc:w}),$=!0):b&&!w&&(i.track({type:1,doc:b}),$=!0,(u||f)&&(c=!0)),$&&(w?(a=a.add(w),s=k?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),i.track({type:1,doc:p})}return{Ra:a,fa:i,ns:c,mutatedKeys:s}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,o){const s=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const a=t.fa.G_();a.sort((p,m)=>function(w,T){const k=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt()}};return k(w)-k(T)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(i),o=o!=null&&o;const c=n&&!o?this.ya():[],u=this.da.size===0&&this.current&&!o?1:0,f=u!==this.Ea;return this.Ea=u,a.length!==0||f?{snapshot:new Pa(this.query,t.Ra,s,a,t.mutatedKeys,u===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new k_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=oe(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return t.forEach(i=>{this.da.has(i)||n.push(new u1(i))}),this.da.forEach(i=>{t.has(i)||n.push(new c1(i))}),n}ba(t){this.Ta=t.Ts,this.da=oe();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return Pa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class tN{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class eN{constructor(t){this.key=t,this.va=!1}}class nN{constructor(t,n,i,o,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Ba(c=>Px(c),Zd),this.Ma=new Map,this.xa=new Set,this.Oa=new He(Ot.comparator),this.Na=new Map,this.La=new Bm,this.Ba={},this.ka=new Map,this.qa=Ca.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function iN(e,t,n=!0){const i=g1(e);let o;const s=i.Fa.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),o=s.view.Da()):o=await d1(i,t,n,!0),o}async function oN(e,t){const n=g1(e);await d1(n,t,!0,!1)}async function d1(e,t,n,i){const o=await ID(e.localStore,ro(t)),s=o.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let c;return i&&(c=await rN(e,t,s,a==="current",o.resumeToken)),e.isPrimaryClient&&n&&i1(e.remoteStore,o),c}async function rN(e,t,n,i,o){e.Ka=(m,b,w)=>async function(k,$,M,F){let B=$.view.ma(M);B.ns&&(B=await w_(k.localStore,$.query,!1).then(({documents:S})=>$.view.ma(S,B)));const z=F&&F.targetChanges.get($.targetId),U=F&&F.targetMismatches.get($.targetId)!=null,W=$.view.applyChanges(B,k.isPrimaryClient,z,U);return C_(k,$.targetId,W.wa),W.snapshot}(e,m,b,w);const s=await w_(e.localStore,t,!0),a=new JD(t,s.Ts),c=a.ma(s.documents),u=Ac.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",o),f=a.applyChanges(c,e.isPrimaryClient,u);C_(e,n,f.wa);const p=new tN(t,n,a);return e.Fa.set(t,p),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),f.snapshot}async function sN(e,t,n){const i=Wt(e),o=i.Fa.get(t),s=i.Ma.get(o.targetId);if(s.length>1)return i.Ma.set(o.targetId,s.filter(a=>!Zd(a,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Sp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&Um(i.remoteStore,o.targetId),Cp(i,o.targetId)}).catch(kc)):(Cp(i,o.targetId),await Sp(i.localStore,o.targetId,!0))}async function aN(e,t){const n=Wt(e),i=n.Fa.get(t),o=n.Ma.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Um(n.remoteStore,i.targetId))}async function lN(e,t,n){const i=mN(e);try{const o=await function(a,c){const u=Wt(a),f=Ze.now(),p=c.reduce((w,T)=>w.add(T.key),oe());let m,b;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let T=Qo(),k=oe();return u.cs.getEntries(w,p).next($=>{T=$,T.forEach((M,F)=>{F.isValidDocument()||(k=k.add(M))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,T)).next($=>{m=$;const M=[];for(const F of c){const B=P4(F,m.get(F.key).overlayedDocument);B!=null&&M.push(new Vr(F.key,B,xx(B.value.mapValue),zi.exists(!0)))}return u.mutationQueue.addMutationBatch(w,f,M,c)}).next($=>{b=$;const M=$.applyToLocalDocumentSet(m,k);return u.documentOverlayCache.saveOverlays(w,$.batchId,M)})}).then(()=>({batchId:b.batchId,changes:Ox(m)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(o.batchId),function(a,c,u){let f=a.Ba[a.currentUser.toKey()];f||(f=new He(ce)),f=f.insert(c,u),a.Ba[a.currentUser.toKey()]=f}(i,o.batchId,n),await Pc(i,o.changes),await nh(i.remoteStore)}catch(o){const s=Gm(o,"Failed to persist write");n.reject(s)}}async function h1(e,t){const n=Wt(e);try{const i=await ED(n.localStore,t);t.targetChanges.forEach((o,s)=>{const a=n.Na.get(s);a&&(_e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?a.va=!0:o.modifiedDocuments.size>0?_e(a.va):o.removedDocuments.size>0&&(_e(a.va),a.va=!1))}),await Pc(n,i,t)}catch(i){await kc(i)}}function A_(e,t,n){const i=Wt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Fa.forEach((s,a)=>{const c=a.view.Z_(t);c.snapshot&&o.push(c.snapshot)}),function(a,c){const u=Wt(a);u.onlineState=c;let f=!1;u.queries.forEach((p,m)=>{for(const b of m.j_)b.Z_(c)&&(f=!0)}),f&&Ym(u)}(i.eventManager,t),o.length&&i.Ca.d_(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function cN(e,t,n){const i=Wt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const o=i.Na.get(t),s=o&&o.key;if(s){let a=new He(Ot.comparator);a=a.insert(s,Bn.newNoDocument(s,Ht.min()));const c=oe().add(s),u=new Jd(Ht.min(),new Map,new He(ce),a,c);await h1(i,u),i.Oa=i.Oa.remove(s),i.Na.delete(t),Qm(i)}else await Sp(i.localStore,t,!1).then(()=>Cp(i,t,n)).catch(kc)}async function uN(e,t){const n=Wt(e),i=t.batch.batchId;try{const o=await xD(n.localStore,t);p1(n,i,null),f1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Pc(n,o)}catch(o){await kc(o)}}async function dN(e,t,n){const i=Wt(e);try{const o=await function(a,c){const u=Wt(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return u.mutationQueue.lookupMutationBatch(f,c).next(m=>(_e(m!==null),p=m.keys(),u.mutationQueue.removeMutationBatch(f,m))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>u.localDocuments.getDocuments(f,p))})}(i.localStore,t);p1(i,t,n),f1(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Pc(i,o)}catch(o){await kc(o)}}function f1(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function p1(e,t,n){const i=Wt(e);let o=i.Ba[i.currentUser.toKey()];if(o){const s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),i.Ba[i.currentUser.toKey()]=o}}function Cp(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Ma.get(t))e.Fa.delete(i),n&&e.Ca.$a(i,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(i=>{e.La.containsKey(i)||m1(e,i)})}function m1(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(Um(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Qm(e))}function C_(e,t,n){for(const i of n)i instanceof c1?(e.La.addReference(i.key,t),hN(e,i)):i instanceof u1?(At("SyncEngine","Document no longer in limbo: "+i.key),e.La.removeReference(i.key,t),e.La.containsKey(i.key)||m1(e,i.key)):Bt()}function hN(e,t){const n=t.key,i=n.path.canonicalString();e.Oa.get(n)||e.xa.has(i)||(At("SyncEngine","New document in limbo: "+n),e.xa.add(i),Qm(e))}function Qm(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new Ot(Oe.fromString(t)),i=e.qa.next();e.Na.set(i,new eN(n)),e.Oa=e.Oa.insert(n,i),i1(e.remoteStore,new kr(ro(Kd(n.path)),i,"TargetPurposeLimboResolution",Cm.oe))}}async function Pc(e,t,n){const i=Wt(e),o=[],s=[],a=[];i.Fa.isEmpty()||(i.Fa.forEach((c,u)=>{a.push(i.Ka(u,t,n).then(f=>{var p;if((f||n)&&i.isPrimaryClient){const m=f?!f.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(f){o.push(f);const m=Fm.Wi(u.targetId,f);s.push(m)}}))}),await Promise.all(a),i.Ca.d_(o),await async function(u,f){const p=Wt(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>ct.forEach(f,b=>ct.forEach(b.$i,w=>p.persistence.referenceDelegate.addReference(m,b.targetId,w)).next(()=>ct.forEach(b.Ui,w=>p.persistence.referenceDelegate.removeReference(m,b.targetId,w)))))}catch(m){if(!Ic(m))throw m;At("LocalStore","Failed to update sequence numbers: "+m)}for(const m of f){const b=m.targetId;if(!m.fromCache){const w=p.os.get(b),T=w.snapshotVersion,k=w.withLastLimboFreeSnapshotVersion(T);p.os=p.os.insert(b,k)}}}(i.localStore,s))}async function fN(e,t){const n=Wt(e);if(!n.currentUser.isEqual(t)){At("SyncEngine","User change. New user:",t.toKey());const i=await Jx(n.localStore,t);n.currentUser=t,function(s,a){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new Et(it.CANCELLED,a))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Pc(n,i.hs)}}function pN(e,t){const n=Wt(e),i=n.Na.get(t);if(i&&i.va)return oe().add(i.key);{let o=oe();const s=n.Ma.get(t);if(!s)return o;for(const a of s){const c=n.Fa.get(a);o=o.unionWith(c.view.Va)}return o}}function g1(e){const t=Wt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=h1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cN.bind(null,t),t.Ca.d_=XD.bind(null,t.eventManager),t.Ca.$a=QD.bind(null,t.eventManager),t}function mN(e){const t=Wt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dN.bind(null,t),t}class cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=th(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,n){return null}Ha(t,n){return null}za(t){return wD(this.persistence,new _D,t.initialUser,this.serializer)}Ga(t){return new gD(zm.Zr,this.serializer)}Wa(t){return new AD}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cd.provider={build:()=>new cd};class Pp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>A_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=fN.bind(null,this.syncEngine),await KD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new YD}()}createDatastore(t){const n=th(t.databaseInfo.databaseId),i=function(s){return new LD(s)}(t.databaseInfo);return function(s,a,c,u){return new MD(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,o,s,a,c){return new ND(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,n=>A_(this.syncEngine,n,0),function(){return E_.D()?new E_:new CD}())}createSyncEngine(t,n){return function(o,s,a,c,u,f,p){const m=new nN(o,s,a,c,u,f);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const s=Wt(o);At("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Cc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Pp.provider={build:()=>new Pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Xo("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t,n,i,o,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=Mn.UNAUTHENTICATED,this.clientId=_x.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{At("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(At("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ho;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Gm(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function mf(e,t){e.asyncQueue.verifyOperationInProgress(),At("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async o=>{i.isEqual(o)||(await Jx(t.localStore,o),i=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function P_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await vN(e);At("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>T_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,o)=>T_(t.remoteStore,o)),e._onlineComponents=t}async function vN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){At("FirestoreClient","Using user provided OfflineComponentProvider");try{await mf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ka("Error using user provided cache. Falling back to memory cache: "+n),await mf(e,new cd)}}else At("FirestoreClient","Using default OfflineComponentProvider"),await mf(e,new cd);return e._offlineComponents}async function v1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(At("FirestoreClient","Using user provided OnlineComponentProvider"),await P_(e,e._uninitializedComponentsProvider._online)):(At("FirestoreClient","Using default OnlineComponentProvider"),await P_(e,new Pp))),e._onlineComponents}function bN(e){return v1(e).then(t=>t.syncEngine)}async function ud(e){const t=await v1(e),n=t.eventManager;return n.onListen=iN.bind(null,t.syncEngine),n.onUnlisten=sN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=oN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=aN.bind(null,t.syncEngine),n}function _N(e,t,n={}){const i=new Ho;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,c,u,f){const p=new Jm({next:b=>{p.Za(),a.enqueueAndForget(()=>Zm(s,m));const w=b.docs.has(c);!w&&b.fromCache?f.reject(new Et(it.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&u&&u.source==="server"?f.reject(new Et(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:b=>f.reject(b)}),m=new Xm(Kd(c.path),p,{includeMetadataChanges:!0,_a:!0});return Km(s,m)}(await ud(e),e.asyncQueue,t,n,i)),i.promise}function yN(e,t,n={}){const i=new Ho;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,c,u,f){const p=new Jm({next:b=>{p.Za(),a.enqueueAndForget(()=>Zm(s,m)),b.fromCache&&u.source==="server"?f.reject(new Et(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(b)},error:b=>f.reject(b)}),m=new Xm(c,p,{includeMetadataChanges:!0,_a:!0});return Km(s,m)}(await ud(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(e,t,n){if(!n)throw new Et(it.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function wN(e,t,n,i){if(t===!0&&i===!0)throw new Et(it.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function L_(e){if(!Ot.isDocumentKey(e))throw new Et(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function O_(e){if(Ot.isDocumentKey(e))throw new Et(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ih(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Bt()}function fi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Et(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ih(e);throw new Et(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Et(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Et(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}wN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b1((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Et(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Et(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Et(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class oh{constructor(t,n,i,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Et(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Et(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $_(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new VM;switch(i.type){case"firstParty":return new UM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Et(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=R_.get(n);i&&(At("ComponentProvider","Removing Datastore"),R_.delete(n),i.terminate())}(this),Promise.resolve()}}function xN(e,t,n,i={}){var o;const s=(e=fi(e,oh))._getSettings(),a=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),i.mockUserToken){let c,u;if(typeof i.mockUserToken=="string")c=i.mockUserToken,u=Mn.MOCK_USER;else{c=p$(i.mockUserToken,(o=e._app)===null||o===void 0?void 0:o.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new Et(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Mn(f)}e._authCredentials=new BM(new bx(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Br(this.firestore,t,this._query)}}class Un{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Un(this.firestore,t,this._key)}}class Ar extends Br{constructor(t,n,i){super(t,n,Kd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Un(this.firestore,null,new Ot(t))}withConverter(t){return new Ar(this.firestore,t,this._path)}}function zl(e,t,...n){if(e=en(e),_1("collection","path",t),e instanceof oh){const i=Oe.fromString(t,...n);return O_(i),new Ar(e,null,i)}{if(!(e instanceof Un||e instanceof Ar))throw new Et(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Oe.fromString(t,...n));return O_(i),new Ar(e.firestore,null,i)}}function ma(e,t,...n){if(e=en(e),arguments.length===1&&(t=_x.newId()),_1("doc","path",t),e instanceof oh){const i=Oe.fromString(t,...n);return L_(i),new Un(e,null,new Ot(i))}{if(!(e instanceof Un||e instanceof Ar))throw new Et(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Oe.fromString(t,...n));return L_(i),new Un(e.firestore,e instanceof Ar?e.converter:null,new Ot(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new e1(this,"async_queue_retry"),this.Vu=()=>{const i=pf();i&&At("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=t;const n=pf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=pf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ho;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!Ic(t))throw t;At("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(i=>{this.Eu=i,this.du=!1;const o=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(i);throw Xo("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(t,n,i){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const o=Wm.createAndSchedule(this,t,n,i,s=>this.yu(s));return this.Tu.push(o),o}fu(){this.Eu&&Bt()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}function D_(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const o=n;for(const s of i)if(s in o&&typeof o[s]=="function")return!0;return!1}(e,["next","error","complete"])}class Dr extends oh{constructor(t,n,i,o){super(t,n,i,o),this.type="firestore",this._queue=new M_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new M_(t),this._firestoreClient=void 0,await t}}}function EN(e,t){const n=typeof e=="object"?e:Sm(),i=typeof e=="string"?e:t||"(default)",o=Ma(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const s=h$("firestore");s&&xN(o,...s)}return o}function rh(e){if(e._terminated)throw new Et(it.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||TN(e),e._firestoreClient}function TN(e){var t,n,i;const o=e._freezeSettings(),s=function(c,u,f,p){return new e4(c,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,b1(p.experimentalLongPollingOptions),p.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,o);e._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new gN(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ra(Rn.fromBase64String(t))}catch(n){throw new Et(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ra(Rn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Et(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Et(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Et(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ce(this._lat,t._lat)||ce(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,o){if(i.length!==o.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==o[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=/^__.*__$/;class IN{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Vr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Sc(t,this.data,n,this.fieldTransforms)}}class y1{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Vr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function w1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt()}}class ng{constructor(t,n,i,o,s,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new ng(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Fu({path:i,xu:!1});return o.Ou(t),o}Nu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return dd(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(w1(this.Cu)&&kN.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class SN{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||th(t)}Qu(t,n,i,o=!1){return new ng({Cu:t,methodName:n,qu:i,path:Cn.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lh(e){const t=e._freezeSettings(),n=th(e._databaseId);return new SN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function x1(e,t,n,i,o,s={}){const a=e.Qu(s.merge||s.mergeFields?2:0,t,n,o);og("Data must be an object, but it was:",a,i);const c=E1(i,a);let u,f;if(s.merge)u=new hi(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const b=Rp(t,m,n);if(!a.contains(b))throw new Et(it.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);k1(p,b)||p.push(b)}u=new hi(p),f=a.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,f=a.fieldTransforms;return new IN(new ii(c),u,f)}class ch extends ah{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ch}}class ig extends ah{_toFieldTransform(t){return new I4(t.path,new cc)}isEqual(t){return t instanceof ig}}function AN(e,t,n,i){const o=e.Qu(1,t,n);og("Data must be an object, but it was:",o,i);const s=[],a=ii.empty();Ss(i,(u,f)=>{const p=rg(t,u,n);f=en(f);const m=o.Nu(p);if(f instanceof ch)s.push(p);else{const b=Rc(f,m);b!=null&&(s.push(p),a.set(p,b))}});const c=new hi(s);return new y1(a,c,o.fieldTransforms)}function CN(e,t,n,i,o,s){const a=e.Qu(1,t,n),c=[Rp(t,i,n)],u=[o];if(s.length%2!=0)throw new Et(it.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)c.push(Rp(t,s[b])),u.push(s[b+1]);const f=[],p=ii.empty();for(let b=c.length-1;b>=0;--b)if(!k1(f,c[b])){const w=c[b];let T=u[b];T=en(T);const k=a.Nu(w);if(T instanceof ch)f.push(w);else{const $=Rc(T,k);$!=null&&(f.push(w),p.set(w,$))}}const m=new hi(f);return new y1(p,m,a.fieldTransforms)}function PN(e,t,n,i=!1){return Rc(n,e.Qu(i?4:3,t))}function Rc(e,t){if(T1(e=en(e)))return og("Unsupported field value:",t,e),E1(e,t);if(e instanceof ah)return function(i,o){if(!w1(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(i,o){const s=[];let a=0;for(const c of i){let u=Rc(c,o.Lu(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(e,t)}return function(i,o){if((i=en(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return E4(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Ze.fromDate(i);return{timestampValue:ad(o.serializer,s)}}if(i instanceof Ze){const s=new Ze(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ad(o.serializer,s)}}if(i instanceof tg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ra)return{bytesValue:Wx(o.serializer,i._byteString)};if(i instanceof Un){const s=o.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw o.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Vm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof eg)return function(a,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return Mm(c.serializer,u)})}}}}}}(i,o);throw o.Bu(`Unsupported field value: ${ih(i)}`)}(e,t)}function E1(e,t){const n={};return yx(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ss(e,(i,o)=>{const s=Rc(o,t.Mu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function T1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ze||e instanceof tg||e instanceof Ra||e instanceof Un||e instanceof ah||e instanceof eg)}function og(e,t,n){if(!T1(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const i=ih(n);throw i==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+i)}}function Rp(e,t,n){if((t=en(t))instanceof sh)return t._internalPath;if(typeof t=="string")return rg(e,t);throw dd("Field path arguments must be of type string or ",e,!1,void 0,n)}const RN=new RegExp("[~\\*/\\[\\]]");function rg(e,t,n){if(t.search(RN)>=0)throw dd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new sh(...t.split("."))._internalPath}catch{throw dd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function dd(e,t,n,i,o){const s=i&&!i.isEmpty(),a=o!==void 0;let c=`Function ${t}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${o}`),u+=")"),new Et(it.INVALID_ARGUMENT,c+e+u)}function k1(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(t,n,i,o,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(uh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LN extends I1{data(){return super.data()}}function uh(e,t){return typeof t=="string"?rg(e,t):t instanceof sh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Et(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sg{}class A1 extends sg{}function hd(e,t,...n){let i=[];t instanceof sg&&i.push(t),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof ag).length,c=s.filter(u=>u instanceof dh).length;if(a>1||a>0&&c>0)throw new Et(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)e=o._apply(e);return e}class dh extends A1{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new dh(t,n,i)}_apply(t){const n=this._parse(t);return P1(t._query,n),new Br(t.firestore,t.converter,wp(t._query,n))}_parse(t){const n=lh(t.firestore);return function(s,a,c,u,f,p,m){let b;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Et(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){V_(m,p);const w=[];for(const T of m)w.push(N_(u,s,T));b={arrayValue:{values:w}}}else b=N_(u,s,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||V_(m,p),b=PN(c,a,m,p==="in"||p==="not-in");return ln.create(f,p,b)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function C1(e,t,n){const i=t,o=uh("where",e);return dh._create(o,i,n)}class ag extends sg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new ag(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Hi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,s){let a=o;const c=s.getFlattenedFilters();for(const u of c)P1(a,u),a=wp(a,u)}(t._query,n),new Br(t.firestore,t.converter,wp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lg extends A1{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new lg(t,n)}_apply(t){const n=function(o,s,a){if(o.startAt!==null)throw new Et(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Et(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lc(s,a)}(t._query,this._field,this._direction);return new Br(t.firestore,t.converter,function(o,s){const a=o.explicitOrderBy.concat([s]);return new Va(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function ON(e,t="asc"){const n=t,i=uh("orderBy",e);return lg._create(i,n)}function N_(e,t,n){if(typeof(n=en(n))=="string"){if(n==="")throw new Et(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cx(t)&&n.indexOf("/")!==-1)throw new Et(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Oe.fromString(n));if(!Ot.isDocumentKey(i))throw new Et(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return o_(e,new Ot(i))}if(n instanceof Un)return o_(e,n._key);throw new Et(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ih(n)}.`)}function V_(e,t){if(!Array.isArray(e)||e.length===0)throw new Et(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function P1(e,t){const n=function(o,s){for(const a of o)for(const c of a.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(e.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Et(it.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Et(it.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class $N{convertValue(t,n="none"){switch(ys(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Je(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(_s(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Bt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Ss(t,(o,s)=>{i[o]=this.convertValue(s,n)}),i}convertVectorValue(t){var n,i,o;const s=(o=(i=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(a=>Je(a.doubleValue));return new eg(s)}convertGeoPoint(t){return new tg(Je(t.latitude),Je(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Rm(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(rc(t));default:return null}}convertTimestamp(t){const n=$r(t);return new Ze(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Oe.fromString(t);_e(Qx(i));const o=new sc(i.get(1),i.get(3)),s=new Ot(i.popFirst(5));return o.isEqual(n)||Xo(`Document ${s} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class L1 extends I1{constructor(t,n,i,o,s,a){super(t,n,i,o,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(uh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Au extends L1{data(t={}){return super.data(t)}}class O1{constructor(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new kl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Au(this._firestore,this._userDataWriter,i.key,i,new kl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Et(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){let a=0;return o._snapshot.docChanges.map(c=>{const u=new Au(o._firestore,o._userDataWriter,c.doc.key,c.doc,new kl(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const u=new Au(o._firestore,o._userDataWriter,c.doc.key,c.doc,new kl(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let f=-1,p=-1;return c.type!==0&&(f=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),p=a.indexOf(c.doc.key)),{type:MN(c.type),doc:u,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function MN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(e){e=fi(e,Un);const t=fi(e.firestore,Dr);return _N(rh(t),e._key).then(n=>M1(t,e,n))}class cg extends $N{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ra(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Un(this.firestore,null,n)}}function z_(e){e=fi(e,Br);const t=fi(e.firestore,Dr),n=rh(t),i=new cg(t);return S1(e._query),yN(n,e._query).then(o=>new O1(t,i,e,o))}function F_(e,t,n){e=fi(e,Un);const i=fi(e.firestore,Dr),o=R1(e.converter,t,n);return ug(i,[x1(lh(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,zi.none())])}function Lp(e,t,n,...i){e=fi(e,Un);const o=fi(e.firestore,Dr),s=lh(o);let a;return a=typeof(t=en(t))=="string"||t instanceof sh?CN(s,"updateDoc",e._key,t,n,i):AN(s,"updateDoc",e._key,t),ug(o,[a.toMutation(e._key,zi.exists(!0))])}function DN(e,t){const n=fi(e.firestore,Dr),i=ma(e),o=R1(e.converter,t);return ug(n,[x1(lh(e.firestore),"addDoc",i._key,o,e.converter!==null,{}).toMutation(i._key,zi.exists(!1))]).then(()=>i)}function $1(e,...t){var n,i,o;e=en(e);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||D_(t[a])||(s=t[a],a++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(D_(t[a])){const m=t[a];t[a]=(n=m.next)===null||n===void 0?void 0:n.bind(m),t[a+1]=(i=m.error)===null||i===void 0?void 0:i.bind(m),t[a+2]=(o=m.complete)===null||o===void 0?void 0:o.bind(m)}let u,f,p;if(e instanceof Un)f=fi(e.firestore,Dr),p=Kd(e._key.path),u={next:m=>{t[a]&&t[a](M1(f,e,m))},error:t[a+1],complete:t[a+2]};else{const m=fi(e,Br);f=fi(m.firestore,Dr),p=m._query;const b=new cg(f);u={next:w=>{t[a]&&t[a](new O1(f,b,m,w))},error:t[a+1],complete:t[a+2]},S1(e._query)}return function(b,w,T,k){const $=new Jm(k),M=new Xm(w,$,T);return b.asyncQueue.enqueueAndForget(async()=>Km(await ud(b),M)),()=>{$.Za(),b.asyncQueue.enqueueAndForget(async()=>Zm(await ud(b),M))}}(rh(f),p,c,u)}function ug(e,t){return function(i,o){const s=new Ho;return i.asyncQueue.enqueueAndForget(async()=>lN(await bN(i),o,s)),s.promise}(rh(e),t)}function M1(e,t,n){const i=n.docs.get(t._key),o=new cg(e);return new L1(e,o,t._key,i,new kl(n.hasPendingWrites,n.fromCache),t.converter)}function NN(){return new ig("serverTimestamp")}(function(t,n=!0){(function(o){Na=o})(Da),uo(new ji("firestore",(i,{instanceIdentifier:o,options:s})=>{const a=i.getProvider("app").getImmediate(),c=new Dr(new zM(i.getProvider("auth-internal")),new HM(i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Et(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(f.options.projectId,p)}(a,o),a);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Ti(Jb,"4.7.3",t),Ti(Jb,"4.7.3","esm2017")})();function dg(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n}function D1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VN=D1,N1=new Is("auth","Firebase",D1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=new km("@firebase/auth");function BN(e,...t){fd.logLevel<=re.WARN&&fd.warn(`Auth (${Da}): ${e}`,...t)}function Cu(e,...t){fd.logLevel<=re.ERROR&&fd.error(`Auth (${Da}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(e,...t){throw hg(e,...t)}function ao(e,...t){return hg(e,...t)}function V1(e,t,n){const i=Object.assign(Object.assign({},VN()),{[t]:n});return new Is("auth","Firebase",i).create(t,{appName:e.name})}function Cr(e){return V1(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hg(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return N1.create(e,...t)}function Dt(e,t,...n){if(!e)throw hg(t,...n)}function Vo(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Cu(t),new Error(t)}function Jo(e,t){e||Vo(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function zN(){return U_()==="http:"||U_()==="https:"}function U_(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zN()||b$()||"connection"in navigator)?navigator.onLine:!0}function UN(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Jo(n>t,"Short delay should be less than long delay!"),this.isMobile=m$()||_$()}get(){return FN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(e,t){Jo(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=new Lc(3e4,6e4);function Cs(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function zr(e,t,n,i,o={}){return z1(e,o,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const c=Tc(Object.assign({key:e.config.apiKey},a)).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const f=Object.assign({method:t,headers:u},s);return v$()||(f.referrerPolicy="no-referrer"),B1.fetch()(F1(e,e.config.apiHost,n,c),f)})}async function z1(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},jN),t);try{const o=new WN(e),s=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw gu(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[u,f]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw gu(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw gu(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw gu(e,"user-disabled",a);const p=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw V1(e,p,f);qi(e,p)}}catch(o){if(o instanceof fo)throw o;qi(e,"network-request-failed",{message:String(o)})}}async function hh(e,t,n,i,o={}){const s=await zr(e,t,n,i,o);return"mfaPendingCredential"in s&&qi(e,"multi-factor-auth-required",{_serverResponse:s}),s}function F1(e,t,n,i){const o=`${t}${n}?${i}`;return e.config.emulator?fg(e.config,o):`${e.config.apiScheme}://${o}`}function qN(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WN{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ao(this.auth,"network-request-failed")),HN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gu(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=ao(e,t,i);return o.customData._tokenResponse=n,o}function j_(e){return e!==void 0&&e.enterprise!==void 0}class GN{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return qN(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function KN(e,t){return zr(e,"GET","/v2/recaptchaConfig",Cs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(e,t){return zr(e,"POST","/v1/accounts:delete",t)}async function U1(e,t){return zr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function YN(e,t=!1){const n=en(e),i=await n.getIdToken(t),o=pg(i);Dt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s=typeof o.firebase=="object"?o.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:o,token:i,authTime:Fl(gf(o.auth_time)),issuedAtTime:Fl(gf(o.iat)),expirationTime:Fl(gf(o.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function gf(e){return Number(e)*1e3}function pg(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Cu("JWT malformed, contained fewer than 3 sections"),null;try{const o=ex(n);return o?JSON.parse(o):(Cu("Failed to decode base64 JWT payload"),null)}catch(o){return Cu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function H_(e){const t=pg(e);return Dt(t,"internal-error"),Dt(typeof t.exp<"u","internal-error"),Dt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof fo&&XN(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function XN({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pd(e){var t;const n=e.auth,i=await e.getIdToken(),o=await hc(e,U1(n,{idToken:i}));Dt(o==null?void 0:o.users.length,n,"internal-error");const s=o.users[0];e._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?j1(s.providerUserInfo):[],c=t6(e.providerData,a),u=e.isAnonymous,f=!(e.email&&s.passwordHash)&&!(c!=null&&c.length),p=u?f:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new $p(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(e,m)}async function JN(e){const t=en(e);await pd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function t6(e,t){return[...e.filter(i=>!t.some(o=>o.providerId===i.providerId)),...t]}function j1(e){return e.map(t=>{var{providerId:n}=t,i=dg(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(e,t){const n=await z1(e,{},async()=>{const i=Tc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:s}=e.config,a=F1(e,o,"/v1/token",`key=${s}`),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",B1.fetch()(a,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function n6(e,t){return zr(e,"POST","/v2/accounts:revokeToken",Cs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Dt(t.idToken,"internal-error"),Dt(typeof t.idToken<"u","internal-error"),Dt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):H_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Dt(t.length!==0,"internal-error");const n=H_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Dt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:o,expiresIn:s}=await e6(t,n);this.updateTokensAndExpiration(i,o,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:o,expirationTime:s}=n,a=new ga;return i&&(Dt(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),o&&(Dt(typeof o=="string","internal-error",{appName:t}),a.accessToken=o),s&&(Dt(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ga,this.toJSON())}_performRefresh(){return Vo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(e,t){Dt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Bo{constructor(t){var{uid:n,auth:i,stsTokenManager:o}=t,s=dg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $p(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await hc(this,this.stsTokenManager.getToken(this.auth,t));return Dt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return YN(this,t)}reload(){return JN(this)}_assign(t){this!==t&&(Dt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Bo(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await pd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(No(this.auth.app))return Promise.reject(Cr(this.auth));const t=await this.getIdToken();return await hc(this,ZN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,o,s,a,c,u,f,p;const m=(i=n.displayName)!==null&&i!==void 0?i:void 0,b=(o=n.email)!==null&&o!==void 0?o:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,T=(a=n.photoURL)!==null&&a!==void 0?a:void 0,k=(c=n.tenantId)!==null&&c!==void 0?c:void 0,$=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,M=(f=n.createdAt)!==null&&f!==void 0?f:void 0,F=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:B,emailVerified:z,isAnonymous:U,providerData:W,stsTokenManager:S}=n;Dt(B&&S,t,"internal-error");const E=ga.fromJSON(this.name,S);Dt(typeof B=="string",t,"internal-error"),pr(m,t.name),pr(b,t.name),Dt(typeof z=="boolean",t,"internal-error"),Dt(typeof U=="boolean",t,"internal-error"),pr(w,t.name),pr(T,t.name),pr(k,t.name),pr($,t.name),pr(M,t.name),pr(F,t.name);const A=new Bo({uid:B,auth:t,email:b,emailVerified:z,displayName:m,isAnonymous:U,photoURL:T,phoneNumber:w,tenantId:k,stsTokenManager:E,createdAt:M,lastLoginAt:F});return W&&Array.isArray(W)&&(A.providerData=W.map(O=>Object.assign({},O))),$&&(A._redirectEventId=$),A}static async _fromIdTokenResponse(t,n,i=!1){const o=new ga;o.updateFromServerResponse(n);const s=new Bo({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:i});return await pd(s),s}static async _fromGetAccountInfoResponse(t,n,i){const o=n.users[0];Dt(o.localId!==void 0,"internal-error");const s=o.providerUserInfo!==void 0?j1(o.providerUserInfo):[],a=!(o.email&&o.passwordHash)&&!(s!=null&&s.length),c=new ga;c.updateFromIdToken(i);const u=new Bo({uid:o.localId,auth:t,stsTokenManager:c,isAnonymous:a}),f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new $p(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;function zo(e){Jo(e instanceof Function,"Expected a class definition");let t=q_.get(e);return t?(Jo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,q_.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}H1.type="NONE";const W_=H1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(e,t,n){return`firebase:${e}:${t}:${n}`}class va{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:o,name:s}=this.auth;this.fullUserKey=Pu(this.userKey,o.apiKey,s),this.fullPersistenceKey=Pu("persistence",o.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Bo._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new va(zo(W_),t,i);const o=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=o[0]||zo(W_);const a=Pu(i,t.config.apiKey,t.name);let c=null;for(const f of n)try{const p=await f._get(a);if(p){const m=Bo._fromJSON(t,p);f!==s&&(c=m),s=f;break}}catch{}const u=o.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new va(s,t,i):(s=u[0],c&&await s._set(a,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new va(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(K1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(q1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Y1(t))return"Blackberry";if(X1(t))return"Webos";if(W1(t))return"Safari";if((t.includes("chrome/")||G1(t))&&!t.includes("edge/"))return"Chrome";if(Z1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function q1(e=Hn()){return/firefox\//i.test(e)}function W1(e=Hn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function G1(e=Hn()){return/crios\//i.test(e)}function K1(e=Hn()){return/iemobile/i.test(e)}function Z1(e=Hn()){return/android/i.test(e)}function Y1(e=Hn()){return/blackberry/i.test(e)}function X1(e=Hn()){return/webos/i.test(e)}function mg(e=Hn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function i6(e=Hn()){var t;return mg(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function o6(){return y$()&&document.documentMode===10}function Q1(e=Hn()){return mg(e)||Z1(e)||X1(e)||Y1(e)||/windows phone/i.test(e)||K1(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(e,t=[]){let n;switch(e){case"Browser":n=G_(Hn());break;case"Worker":n=`${G_(Hn())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Da}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,c)=>{try{const u=t(s);a(u)}catch(u){c(u)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s6(e,t={}){return zr(e,"GET","/v2/passwordPolicy",Cs(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=6;class l6{constructor(t){var n,i,o,s;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:a6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,o,s,a,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsLowercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<t.length;o++)i=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,o,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(t,n,i,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K_(this),this.idTokenSubscription=new K_(this),this.beforeStateQueue=new r6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=zo(n)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await va.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await U1(this,{idToken:t}),i=await Bo._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(No(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=o==null?void 0:o._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===c)&&(u!=null&&u.user)&&(o=u.user,s=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(o)}catch(a){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await pd(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=UN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(No(this.app))return Promise.reject(Cr(this));const n=t?en(t):null;return n&&Dt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Dt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return No(this.app)?Promise.reject(Cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return No(this.app)?Promise.reject(Cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zo(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await s6(this),n=new l6(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Is("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await n6(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&zo(t)||this._popupRedirectResolver;Dt(n,this,"argument-error"),this.redirectPersistenceManager=await va.create(this,[zo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,o){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Dt(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,o);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=J1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&BN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fa(e){return en(e)}class K_{constructor(t){this.auth=t,this.observer=null,this.addObserver=S$(n=>this.observer=n)}get next(){return Dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u6(e){fh=e}function tE(e){return fh.loadJS(e)}function d6(){return fh.recaptchaEnterpriseScript}function h6(){return fh.gapiScript}function f6(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const p6="recaptcha-enterprise",m6="NO_RECAPTCHA";class g6{constructor(t){this.type=p6,this.auth=Fa(t)}async verify(t="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,c)=>{KN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new GN(u);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,a(f.siteKey)}}).catch(u=>{c(u)})})}function o(s,a,c){const u=window.grecaptcha;j_(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(f=>{a(f)}).catch(()=>{a(m6)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{i(this.auth).then(c=>{if(!n&&j_(window.grecaptcha))o(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=d6();u.length!==0&&(u+=c),tE(u).then(()=>{o(c,s,a)}).catch(f=>{a(f)})}}).catch(c=>{a(c)})})}}async function Z_(e,t,n,i=!1){const o=new g6(e);let s;try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a=Object.assign({},t);return i?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Y_(e,t,n,i){var o;if(!((o=e._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Z_(e,t,n,n==="getOobCode");return i(e,s)}else return i(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Z_(e,t,n,n==="getOobCode");return i(e,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(e,t){const n=Ma(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),s=n.getOptions();if(nd(s,t??{}))return o;qi(o,"already-initialized")}return n.initialize({options:t})}function b6(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(zo);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function _6(e,t,n){const i=Fa(e);Dt(i._canInitEmulator,i,"emulator-config-failed"),Dt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const o=!!(n!=null&&n.disableWarnings),s=eE(t),{host:a,port:c}=y6(t),u=c===null?"":`:${c}`;i.config.emulator={url:`${s}//${a}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||w6()}function eE(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function y6(e){const t=eE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const s=o[1];return{host:s,port:X_(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:X_(a)}}}function X_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function w6(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Vo("not implemented")}_getIdTokenResponse(t){return Vo("not implemented")}_linkToIdToken(t,n){return Vo("not implemented")}_getReauthenticationResolver(t){return Vo("not implemented")}}async function x6(e,t){return zr(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E6(e,t){return hh(e,"POST","/v1/accounts:signInWithPassword",Cs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T6(e,t){return hh(e,"POST","/v1/accounts:signInWithEmailLink",Cs(e,t))}async function k6(e,t){return hh(e,"POST","/v1/accounts:signInWithEmailLink",Cs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends gg{constructor(t,n,i,o=null){super("password",i),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new fc(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new fc(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Y_(t,n,"signInWithPassword",E6);case"emailLink":return T6(t,{email:this._email,oobCode:this._password});default:qi(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Y_(t,i,"signUpPassword",x6);case"emailLink":return k6(t,{idToken:n,email:this._email,oobCode:this._password});default:qi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(e,t){return hh(e,"POST","/v1/accounts:signInWithIdp",Cs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6="http://localhost";class ws extends gg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ws(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:o}=n,s=dg(n,["providerId","signInMethod"]);if(!i||!o)return null;const a=new ws(i,o);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return ba(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,ba(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ba(t,n)}buildRequest(){const t={requestUri:I6,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Tc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function A6(e){const t=yl(wl(e)).link,n=t?yl(wl(t)).deep_link_id:null,i=yl(wl(e)).deep_link_id;return(i?yl(wl(i)).link:null)||i||n||t||e}class vg{constructor(t){var n,i,o,s,a,c;const u=yl(wl(t)),f=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(i=u.oobCode)!==null&&i!==void 0?i:null,m=S6((o=u.mode)!==null&&o!==void 0?o:null);Dt(f&&p&&m,"argument-error"),this.apiKey=f,this.operation=m,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(t){const n=A6(t);try{return new vg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.providerId=Ua.PROVIDER_ID}static credential(t,n){return fc._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=vg.parseLink(n);return Dt(i,"argument-error"),fc._fromEmailAndCode(t,i.code,i.tenantId)}}Ua.PROVIDER_ID="password";Ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends nE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends Oc{constructor(){super("facebook.com")}static credential(t){return ws._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _r.credentialFromTaggedObject(t)}static credentialFromError(t){return _r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _r.credential(t.oauthAccessToken)}catch{return null}}}_r.FACEBOOK_SIGN_IN_METHOD="facebook.com";_r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Oc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ws._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return yr.credentialFromTaggedObject(t)}static credentialFromError(t){return yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return yr.credential(n,i)}catch{return null}}}yr.GOOGLE_SIGN_IN_METHOD="google.com";yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Oc{constructor(){super("github.com")}static credential(t){return ws._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wr.credential(t.oauthAccessToken)}catch{return null}}}wr.GITHUB_SIGN_IN_METHOD="github.com";wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Oc{constructor(){super("twitter.com")}static credential(t,n){return ws._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return xr.credential(n,i)}catch{return null}}}xr.TWITTER_SIGN_IN_METHOD="twitter.com";xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,o=!1){const s=await Bo._fromIdTokenResponse(t,i,o),a=Q_(i);return new La({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const o=Q_(i);return new La({user:t,providerId:o,_tokenResponse:i,operationType:n})}}function Q_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md extends fo{constructor(t,n,i,o){var s;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,md.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,o){return new md(t,n,i,o)}}function iE(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?md._fromErrorAndOperation(e,s,t,i):s})}async function C6(e,t,n=!1){const i=await hc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return La._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(e,t,n=!1){const{auth:i}=e;if(No(i.app))return Promise.reject(Cr(i));const o="reauthenticate";try{const s=await hc(e,iE(i,o,t,e),n);Dt(s.idToken,i,"internal-error");const a=pg(s.idToken);Dt(a,i,"internal-error");const{sub:c}=a;return Dt(e.uid===c,i,"user-mismatch"),La._forOperation(e,o,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&qi(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oE(e,t,n=!1){if(No(e.app))return Promise.reject(Cr(e));const i="signIn",o=await iE(e,i,t),s=await La._fromIdTokenResponse(e,i,o);return n||await e._updateCurrentUser(s.user),s}async function R6(e,t){return oE(Fa(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L6(e){const t=Fa(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function O6(e,t,n){return No(e.app)?Promise.reject(Cr(e)):R6(en(e),Ua.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&L6(e),i})}function $6(e,t,n,i){return en(e).onIdTokenChanged(t,n,i)}function M6(e,t,n){return en(e).beforeAuthStateChanged(t,n)}function D6(e,t,n,i){return en(e).onAuthStateChanged(t,n,i)}const gd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gd,"1"),this.storage.removeItem(gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=1e3,V6=10;class sE extends rE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Q1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&t(n,o,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);o6()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,V6):o()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},N6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}sE.type="LOCAL";const B6=sE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE extends rE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}aE.type="SESSION";const lE=aE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const i=new ph(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:o,data:s}=n.data,a=this.handlersMap[o];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const c=Array.from(a).map(async f=>f(n.origin,s)),u=await z6(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const f=bg("",20);o.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:o,onMessage(m){const b=m;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(b.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),o.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:f,data:n},[o.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(){return window}function U6(e){lo().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(){return typeof lo().WorkerGlobalScope<"u"&&typeof lo().importScripts=="function"}async function j6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H6(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function q6(){return cE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="firebaseLocalStorageDb",W6=1,vd="firebaseLocalStorage",dE="fbase_key";class $c{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mh(e,t){return e.transaction([vd],t?"readwrite":"readonly").objectStore(vd)}function G6(){const e=indexedDB.deleteDatabase(uE);return new $c(e).toPromise()}function Mp(){const e=indexedDB.open(uE,W6);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(vd,{keyPath:dE})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(vd)?t(i):(i.close(),await G6(),t(await Mp()))})})}async function J_(e,t,n){const i=mh(e,!0).put({[dE]:t,value:n});return new $c(i).toPromise()}async function K6(e,t){const n=mh(e,!1).get(t),i=await new $c(n).toPromise();return i===void 0?null:i.value}function t0(e,t){const n=mh(e,!0).delete(t);return new $c(n).toPromise()}const Z6=800,Y6=3;class hE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>Y6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(q6()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await j6(),!this.activeServiceWorker)return;this.sender=new F6(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||H6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Mp();return await J_(t,gd,"1"),await t0(t,gd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>J_(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>K6(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>t0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const s=mh(o,!1).getAll();return new $c(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hE.type="LOCAL";const X6=hE;new Lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(e,t){return t?zo(t):(Dt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g extends gg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ba(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ba(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ba(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function J6(e){return oE(e.auth,new _g(e),e.bypassAuthState)}function t5(e){const{auth:t,user:n}=e;return Dt(n,t,"internal-error"),P6(n,new _g(e),e.bypassAuthState)}async function e5(e){const{auth:t,user:n}=e;return Dt(n,t,"internal-error"),C6(n,new _g(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(t,n,i,o,s=!1){this.auth=t,this.resolver=i,this.user=o,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return J6;case"linkViaPopup":case"linkViaRedirect":return e5;case"reauthViaPopup":case"reauthViaRedirect":return t5;default:qi(this.auth,"internal-error")}}resolve(t){Jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=new Lc(2e3,1e4);class aa extends fE{constructor(t,n,i,o,s){super(t,n,o,s),this.provider=i,this.authWindow=null,this.pollId=null,aa.currentPopupAction&&aa.currentPopupAction.cancel(),aa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Dt(t,this.auth,"internal-error"),t}async onExecution(){Jo(this.filter.length===1,"Popup operations only handle one event");const t=bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ao(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ao(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,aa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ao(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,n5.get())};t()}}aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5="pendingRedirect",Ru=new Map;class o5 extends fE{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Ru.get(this.auth._key());if(!t){try{const i=await r5(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Ru.set(this.auth._key(),t)}return this.bypassAuthState||Ru.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function r5(e,t){const n=l5(t),i=a5(e);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function s5(e,t){Ru.set(e._key(),t)}function a5(e){return zo(e._redirectPersistence)}function l5(e){return Pu(i5,e.config.apiKey,e.name)}async function c5(e,t,n=!1){if(No(e.app))return Promise.reject(Cr(e));const i=Fa(e),o=Q6(i,t),a=await new o5(i,o,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=10*60*1e3;class d5{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!h5(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!pE(t)){const o=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ao(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=u5&&this.cachedEventUids.clear(),this.cachedEventUids.has(e0(t))}saveEventToCache(t){this.cachedEventUids.add(e0(t)),this.lastProcessedEventTime=Date.now()}}function e0(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function pE({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function h5(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pE(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(e,t={}){return zr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m5=/^https?/;async function g5(e){if(e.config.emulator)return;const{authorizedDomains:t}=await f5(e);for(const n of t)try{if(v5(n))return}catch{}qi(e,"unauthorized-domain")}function v5(e){const t=Op(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!m5.test(n))return!1;if(p5.test(e))return i===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=new Lc(3e4,6e4);function n0(){const e=lo().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function _5(e){return new Promise((t,n)=>{var i,o,s;function a(){n0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{n0(),n(ao(e,"network-request-failed"))},timeout:b5.get()})}if(!((o=(i=lo().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((s=lo().gapi)===null||s===void 0)&&s.load)a();else{const c=f6("iframefcb");return lo()[c]=()=>{gapi.load?a():n(ao(e,"network-request-failed"))},tE(`${h6()}?onload=${c}`).catch(u=>n(u))}}).catch(t=>{throw Lu=null,t})}let Lu=null;function y5(e){return Lu=Lu||_5(e),Lu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=new Lc(5e3,15e3),x5="__/auth/iframe",E5="emulator/auth/iframe",T5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I5(e){const t=e.config;Dt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?fg(t,E5):`https://${e.config.authDomain}/${x5}`,i={apiKey:t.apiKey,appName:e.name,v:Da},o=k5.get(e.config.apiHost);o&&(i.eid=o);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Tc(i).slice(1)}`}async function S5(e){const t=await y5(e),n=lo().gapi;return Dt(n,e,"internal-error"),t.open({where:document.body,url:I5(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T5,dontclear:!0},i=>new Promise(async(o,s)=>{await i.restyle({setHideOnLeave:!1});const a=ao(e,"network-request-failed"),c=lo().setTimeout(()=>{s(a)},w5.get());function u(){lo().clearTimeout(c),o(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C5=500,P5=600,R5="_blank",L5="http://localhost";class i0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function O5(e,t,n,i=C5,o=P5){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},A5),{width:i.toString(),height:o.toString(),top:s,left:a}),f=Hn().toLowerCase();n&&(c=G1(f)?R5:n),q1(f)&&(t=t||L5,u.scrollbars="yes");const p=Object.entries(u).reduce((b,[w,T])=>`${b}${w}=${T},`,"");if(i6(f)&&c!=="_self")return $5(t||"",c),new i0(null);const m=window.open(t||"",c,p);Dt(m,e,"popup-blocked");try{m.focus()}catch{}return new i0(m)}function $5(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5="__/auth/handler",D5="emulator/auth/handler",N5=encodeURIComponent("fac");async function o0(e,t,n,i,o,s){Dt(e.config.authDomain,e,"auth-domain-config-required"),Dt(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Da,eventId:o};if(t instanceof nE){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",I$(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,m]of Object.entries(s||{}))a[p]=m}if(t instanceof Oc){const p=t.getScopes().filter(m=>m!=="");p.length>0&&(a.scopes=p.join(","))}e.tenantId&&(a.tid=e.tenantId);const c=a;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await e._getAppCheckToken(),f=u?`#${N5}=${encodeURIComponent(u)}`:"";return`${V5(e)}?${Tc(c).slice(1)}${f}`}function V5({config:e}){return e.emulator?fg(e,D5):`https://${e.authDomain}/${M5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="webStorageSupport";class B5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lE,this._completeRedirectFn=c5,this._overrideRedirectResult=s5}async _openPopup(t,n,i,o){var s;Jo((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await o0(t,n,i,Op(),o);return O5(t,a,bg())}async _openRedirect(t,n,i,o){await this._originValidation(t);const s=await o0(t,n,i,Op(),o);return U6(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:s}=this.eventManagers[n];return o?Promise.resolve(o):(Jo(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await S5(t),i=new d5(t);return n.register("authEvent",o=>(Dt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(vf,{type:vf},o=>{var s;const a=(s=o==null?void 0:o[0])===null||s===void 0?void 0:s[vf];a!==void 0&&n(!!a),qi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=g5(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Q1()||W1()||mg()}}const z5=B5;var r0="@firebase/auth",s0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j5(e){uo(new ji("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=i.options;Dt(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:J1(e)},f=new c6(i,o,s,u);return b6(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),uo(new ji("auth-internal",t=>{const n=Fa(t.getProvider("auth").getImmediate());return(i=>new F5(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(r0,s0,U5(e)),Ti(r0,s0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=5*60,q5=ox("authIdTokenMaxAge")||H5;let a0=null;const W5=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>q5)return;const o=n==null?void 0:n.token;a0!==o&&(a0=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function G5(e=Sm()){const t=Ma(e,"auth");if(t.isInitialized())return t.getImmediate();const n=v6(e,{popupRedirectResolver:z5,persistence:[X6,B6,lE]}),i=ox("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=W5(s.toString());M6(n,a,()=>a(n.currentUser)),$6(n,c=>a(c))}}const o=nx("auth");return o&&_6(n,`http://${o}`),n}function K5(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}u6({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=o=>{const s=ao("internal-error");s.customData=o,n(s)},i.type="text/javascript",i.charset="UTF-8",K5().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j5("Browser");const Z5={apiKey:"AIzaSyBroRMMRCSVdqAzpuivp7PSSP9X1WIk3VY",authDomain:"projet-cloud-s5-routier.firebaseapp.com",projectId:"projet-cloud-s5-routier",storageBucket:"projet-cloud-s5-routier.firebasestorage.app",messagingSenderId:"792049548362",appId:"1:792049548362:web:6ab3ce65b1584730c63ab3"},mE=cx(Z5),io=EN(mE),cs=G5(mE),ee=gc({user:null,signalements:[],loading:!0}),Y5=e=>{ee.signalements=e},Ul=e=>{ee.user=e},X5=_n({__name:"App",setup(e){return _c(()=>{const t=hd(zl(io,"signalements"),ON("dateSignalement","desc"));$1(t,i=>{const o=i.docs.map(s=>({id:s.id,...s.data()}));Y5(o)});const n=localStorage.getItem("app_user");if(n){const i=JSON.parse(n);i.expiresAt&&new Date(i.expiresAt)<new Date?(console.log("Session expire, dconnexion..."),localStorage.removeItem("app_user"),Ul(null)):Ul(i)}}),(t,n)=>(Yt(),ci(ut(Xw),null,{default:le(()=>[Pt(ut(Kw))]),_:1}))}});const Q5=()=>{const e=[],t={},n=k=>{switch(k.routerAction){case"pop":o(k);break;default:s(k);break}k.routerDirection==="root"&&(a(),s(k))},i=k=>{const $=e.findIndex(F=>F.id===k.id);$>-1&&e.splice($,1,k);const M=t[k.tab||""];if(M){const F=M.findIndex(B=>B.id===k.id);F>-1?M.splice(F,1,k):M.push(k)}else k.tab&&(t[k.tab]=[k])},o=k=>{const $=c(k.tab);let M;if($){for(M=$[$.length-1];M&&M.id!==k.id;)$.pop(),M=$[$.length-1];$.pop(),$.push(k)}for(M=e[e.length-1];M&&M.id!==k.id;)e.pop(),M=e[e.length-1];e.pop(),e.push(k)},s=k=>{const $=c(k.tab);$&&($[$.length-1]&&$[$.length-1].id===k.id&&$.pop(),$.push(k)),e.push(k)},a=k=>{if(k){const{position:$,tab:M}=k,F=e.findIndex(U=>U.position===$);if(F===-1)return;e.splice(F);const B=U=>{const W=t[U].findIndex(S=>S.position===$);W!==-1&&t[U].splice(W)},z=t[M];if(M&&z)B(M);else for(const U in t)B(U)}else{for(const $ in t)t[$]=[];e.length=0}},c=k=>{let $;return k&&($=t[k],$||($=t[k]=[])),$},u=()=>e.length,f=(k,$)=>{const M=$-k;return e[M]||p()},p=()=>e[e.length-1];return{current:f,size:u,last:p,add:n,canGoBack:(k=1,$,M)=>M-k>=$,update:i,getFirstRouteInfoForTab:k=>{const $=c(k);if($)return $[0]},getCurrentRouteInfoForTab:k=>{const $=c(k);if($)return $[$.length-1]},findLastLocation:(k,$=-1)=>{const M=c(k.tab);if(M){if($<-1)return M[M.length-1+$];for(let F=M.length-2;F>=0;F--){const B=M[F];if(B&&B.pathname===k.pushedByRoute)return B}}if($<-1)return e[e.length-1+$];for(let F=e.length-2;F>=0;F--){const B=e[F];if(B&&B.pathname===k.pushedByRoute)return B}},clearHistory:a}},l0={main:0},gE=(e="main")=>{var t;const n=((t=l0[e])!==null&&t!==void 0?t:0)+1;return l0[e]=n,n.toString()},J5=(e,t)=>{let n={direction:void 0,action:void 0,delta:void 0};t.afterEach((S,E,A)=>{if(A)return;const{direction:O,action:C,delta:V}=n;s=e.history.state.position;const P=e.history.state.replaced?"replace":void 0;m(S,C||P,O,V),n={direction:void 0,action:void 0,delta:void 0}});const i=Q5();let o=e.history.state.position,s=e.history.state.position,a,c;const u=[];typeof document<"u"&&document.addEventListener("ionBackButton",S=>{S.detail.register(0,E=>{e.history.go(-1),E()})}),e.history.listen((S,E,A)=>{n={delta:A.delta,action:A.type==="pop"&&A.delta>=1?"push":A.type,direction:A.direction===""?"forward":A.direction}});const f=(S,E)=>{const A=i.current(o,s);if(A&&A.pushedByRoute){const O=i.findLastLocation(A);O?(c=Object.assign(Object.assign({},O),{routerAction:"pop",routerDirection:"back",routerAnimation:E||A.routerAnimation}),A.lastPathname===A.pushedByRoute||O.pathname===A.pushedByRoute&&!A.tab&&!O.tab?t.back():t.go(O.position-A.position)):p(S,"pop","back",E)}else p(S,"pop","back",E)},p=(S,E,A,O,C)=>{B(E,A,O,C),E==="push"?t.push(S):t.replace(S)},m=(S,E,A,O)=>{let C;if(c)if(c.routerAction==="replace")C=i.current(o,s);else if(c.routerAction==="pop")C=i.current(o,s+1),E==="replace"&&i.clearHistory();else{const P=c.routerDirection==="root"?s:s-1;C=i.current(o,P)}else C=a;if(C||(C={pathname:"",search:""}),C.pathname+C.search!==S.fullPath){if(!c){if(E==="replace")c={routerAction:"replace",routerDirection:"none"};else if(E==="pop"){const xt=i.current(o,s-O);if(xt&&xt.pushedByRoute){const tt=i.findLastLocation(xt,O);c=Object.assign(Object.assign({},tt),{routerAction:"pop",routerDirection:"back"})}else c={routerAction:"pop",routerDirection:"none"}}c||(c={routerAction:"push",routerDirection:A||"forward"})}let P;if(c!=null&&c.id)P=Object.assign(Object.assign({},c),{lastPathname:C.pathname});else{const xt=c.routerAction==="push"&&c.routerDirection==="forward";if(P=Object.assign(Object.assign({id:gE("routeInfo")},c),{lastPathname:C.pathname,pathname:S.path,search:S.fullPath&&S.fullPath.split("?")[1]||"",params:S.params&&S.params,prevRouteLastPathname:C.lastPathname}),xt)P.pushedByRoute=C.pathname!==""?C.pathname:void 0;else if(P.routerAction==="pop"){const tt=i.findLastLocation(P);P.pushedByRoute=tt==null?void 0:tt.pushedByRoute}else if(P.routerAction==="push"&&P.tab!==C.tab){const tt=i.getCurrentRouteInfoForTab(P.tab);P.pushedByRoute=tt==null?void 0:tt.pushedByRoute}else if(P.routerAction==="replace"){const tt=i.current(o,s),Ie=tt==null?void 0:tt.pushedByRoute,St=Ie!==void 0&&Ie!==P.pathname?Ie:P.pushedByRoute;P.lastPathname=(tt==null?void 0:tt.pathname)||P.lastPathname,P.pushedByRoute=St,P.routerDirection=(tt==null?void 0:tt.routerDirection)||P.routerDirection,P.routerAnimation=(tt==null?void 0:tt.routerAnimation)||P.routerAnimation,P.prevRouteLastPathname=tt==null?void 0:tt.lastPathname}}P.position=s,P.delta=O;const $t=i.size(),ne=s-o,Nt=$t===ne&&$t>0&&E==="replace";$t>ne||Nt?(P.routerAction==="push"||P.routerAction==="replace")&&O===void 0&&(i.clearHistory(P),i.add(P)):i.add(P),i.size()===1&&(o=P.position),a=P}c=void 0,u.forEach(P=>P(a))},b=()=>a,w=(S=1)=>i.canGoBack(S,o,s),T=S=>{const{routerAnimation:E,routerDirection:A,routerLink:O}=S;B("push",A,E),t.push(O)},k=S=>{const E=i.getFirstRouteInfoForTab(S);E&&t.go(E.position-s)},$=(S,E)=>{if(!E)return;const A=i.getCurrentRouteInfoForTab(S),[O]=E.split("?");A?(c=Object.assign(Object.assign({},c),{routerAction:"push",routerDirection:"none",tab:S}),A.pathname===O?t.push({path:A.pathname,query:ap(A.search)}):t.push({path:O,query:ap(A.search)})):p(O,"push","none",void 0,S)},M=S=>{const E=Object.assign({},i.current(o,s));E.tab!==S&&(E.tab=S,i.update(E));const A=i.findLastLocation(E);E.pushedByRoute!==E.lastPathname&&(A==null?void 0:A.tab)!==S&&(E.pushedByRoute=void 0,i.update(E))},F=S=>{u.push(S)},B=(S="push",E="forward",A,O)=>{c={routerAction:S,routerDirection:E,routerAnimation:A,tab:O}};return{handleNavigate:p,getLeavingRouteInfo:()=>i.current(o,s),handleNavigateBack:f,handleSetCurrentTab:M,getCurrentRouteInfo:b,canGoBack:w,navigate:T,resetTab:k,changeTab:$,registerHistoryChangeListener:F,goBack:S=>{B("pop","back",S),t.back()},goForward:S=>{B("push","forward",S),t.forward()}}},t3=e=>{const t={},n=()=>Object.keys(t).length,i=M=>{delete t[M]},o=M=>t[M],s=(M,F)=>{M.ionPageElement=F,M.ionRoute=!0,M.matchedRoute.instances={default:M.vueComponentRef.value}},a=(M,F)=>p(M.pathname,F,!1),c=(M,F,B=!0)=>p(M.lastPathname,F,B),u=(M,F)=>p(M,F,!1),f=(M,F)=>F.find(B=>{if(B.pathname===M)return B}),p=(M,F,B=!1)=>{const z=U=>{if(B&&!U.ionRoute||M==="")return!1;const S=e.resolve(M).matched.find(E=>E===U.matchedRoute);if(S)return S.path.includes(":")&&M!==U.pathname?!1:U};if(F){const U=t[F];if(!U)return;const W=e?U.find(z):f(M,U);if(W)return W}else for(const U in t){const W=t[U],S=f(M,W);if(S)return S}};return{unmountLeavingViews:(M,F,B=1)=>{const z=t[M];if(!z)return;const U=z.findIndex(W=>W===F);for(let W=U+1;W<U-B;W++){const S=z[W];S.mount=!1,S.ionPageElement=void 0,S.ionRoute=!1,S.matchedRoute.instances={}}},mountIntermediaryViews:(M,F,B=1)=>{const z=t[M];if(!z)return;const U=z.findIndex(W=>W===F);for(let W=U+1;W<U+B;W++)z[W].mount=!0},clear:i,findViewItemByRouteInfo:a,findLeavingViewItemByRouteInfo:c,findViewItemByPathname:u,createViewItem:(M,F,B,z,U)=>({id:gE("viewItem"),pathname:z.pathname,outletId:M,matchedRoute:B,ionPageElement:U,vueComponent:F,vueComponentRef:vc(),ionRoute:!1,mount:!1,exact:z.pathname===B.path,params:z.params,vueComponentData:{}}),getChildrenToRender:M=>t[M]?t[M].filter(z=>z.mount):[],add:M=>{const{outletId:F}=M;t[F]?t[F].push(M):t[F]=[M]},remove:(M,F)=>{if(!F)throw Error("outletId required");const B=t[F];B&&(t[F]=B.filter(z=>z.id!==M.id))},registerIonPage:s,getViewStack:o,size:n}},e3=e=>{const t=Object.assign({},e);delete t.tabsPrefix;const n=RL(t),i=J5(e,n),o=t3(n),s=n.install.bind(n);n.install=c=>{c.provide("navManager",i),c.provide("viewStacks",o),s(c)};const a=n.isReady.bind(n);return n.isReady=()=>a(),n},n3=e=>cL(e),bf="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M250.26 166.05L256 288l5.73-121.95a5.74 5.74 0 00-5.79-6h0a5.74 5.74 0 00-5.68 6z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 367.91a20 20 0 1120-20 20 20 0 01-20 20z'/></svg>",vE="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M350.54 148.68l-26.62-42.06C318.31 100.08 310.62 96 302 96h-92c-8.62 0-16.31 4.08-21.92 10.62l-26.62 42.06C155.85 155.23 148.62 160 140 160H80a32 32 0 00-32 32v192a32 32 0 0032 32h352a32 32 0 0032-32V192a32 32 0 00-32-32h-59c-8.65 0-16.85-4.77-22.46-11.32z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='272' r='80' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M124 158v-22h-24v22' class='ionicon-fill-none ionicon-stroke-width'/></svg>",i3="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M352 176L217.6 336 160 272' class='ionicon-fill-none ionicon-stroke-width'/></svg>",o3="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",r3="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M320 320L192 192M192 320l128-128' class='ionicon-fill-none ionicon-stroke-width'/></svg>",bE="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M368 368L144 144M368 144L144 368' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Dp="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M436.67 184.11a27.17 27.17 0 01-38.3 0l-22.48-22.49a27.15 27.15 0 010-38.29l50.89-50.89a.85.85 0 00-.26-1.38C393.68 57 351.09 64.15 324.05 91c-25.88 25.69-27.35 64.27-17.87 98a27 27 0 01-7.67 27.14l-173 160.76a40.76 40.76 0 1057.57 57.54l162.15-173.3a27 27 0 0126.77-7.7c33.46 8.94 71.49 7.26 97.07-17.94 27.49-27.08 33.42-74.94 20.1-102.33a.85.85 0 00-1.36-.22z' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M224 284c-17.48-17-25.49-24.91-31-30.29a18.24 18.24 0 01-3.33-21.35 20.76 20.76 0 013.5-4.62l15.68-15.29a18.66 18.66 0 015.63-3.87 18.11 18.11 0 0120 3.62c5.45 5.29 15.43 15 33.41 32.52M317.07 291.3c40.95 38.1 90.62 83.27 110 99.41a13.46 13.46 0 01.94 19.92L394.63 444a14 14 0 01-20.29-.76c-16.53-19.18-61.09-67.11-99.27-107' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M17.34 193.5l29.41-28.74a4.71 4.71 0 013.41-1.35 4.85 4.85 0 013.41 1.35h0a9.86 9.86 0 008.19 2.77c3.83-.42 7.92-1.6 10.57-4.12 6-5.8-.94-17.23 4.34-24.54a207 207 0 0119.78-22.6c6-5.88 29.84-28.32 69.9-44.45A107.31 107.31 0 01206.67 64c22.59 0 40 10 46.26 15.67a89.54 89.54 0 0110.28 11.64 78.92 78.92 0 00-9.21-2.77 68.82 68.82 0 00-20-1.26c-13.33 1.09-29.41 7.26-38 14-13.9 11-19.87 25.72-20.81 44.71-.68 14.12 2.72 22.1 36.1 55.49a6.6 6.6 0 01-.34 9.16l-18.22 18a6.88 6.88 0 01-9.54.09c-21.94-21.94-36.65-33.09-45-38.16s-15.07-6.5-18.3-6.85a30.85 30.85 0 00-18.27 3.87 11.39 11.39 0 00-2.64 2 14.14 14.14 0 00.42 20.08l1.71 1.6a4.63 4.63 0 010 6.64L71.73 246.6a4.71 4.71 0 01-3.41 1.4 4.86 4.86 0 01-3.41-1.35l-47.57-46.43a4.88 4.88 0 010-6.72z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",_E="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 00-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 000-17.47C428.89 172.28 347.8 112 255.66 112z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='256' r='80' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",s3="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M160 144h288M160 256h288M160 368h288' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='144' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='256' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='368' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",a3="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M256 96V56M256 456v-40' class='ionicon-fill-none'/><path d='M256 112a144 144 0 10144 144 144 144 0 00-144-144z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M416 256h40M56 256h40' class='ionicon-fill-none'/></svg>",l3="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48c-79.5 0-144 61.39-144 137 0 87 96 224.87 131.25 272.49a15.77 15.77 0 0025.5 0C304 409.89 400 272.07 400 185c0-75.61-64.5-137-144-137z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='192' r='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",c3="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M304 336v40a40 40 0 01-40 40H104a40 40 0 01-40-40V136a40 40 0 0140-40h152c22.09 0 48 17.91 48 40v40M368 336l80-80-80-80M176 256h256' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",u3="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M313.27 124.64L198.73 51.36a32 32 0 00-29.28.35L56.51 127.49A16 16 0 0048 141.63v295.8a16 16 0 0023.49 14.14l97.82-63.79a32 32 0 0129.5-.24l111.86 73a32 32 0 0029.27-.11l115.43-75.94a16 16 0 008.63-14.2V74.57a16 16 0 00-23.49-14.14l-98 63.86a32 32 0 01-29.24.35zM328 128v336M184 48v336' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",d3="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M128.51 204.59q-.37 6.15-.37 12.76C128.14 304 110 320 84.33 351.43 73.69 364.45 83 384 101.62 384H320M414.5 335.3c-18.48-23.45-30.62-47.05-30.62-118 0-79.3-40.52-107.57-73.88-121.3-4.43-1.82-8.6-6-9.95-10.55C294.21 65.54 277.82 48 256 48s-38.2 17.55-44 37.47c-1.35 4.6-5.52 8.71-10 10.53a149.57 149.57 0 00-18 8.79M320 384v16a64 64 0 01-128 0v-16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M448 448L64 64' class='ionicon-fill-none ionicon-stroke-width'/></svg>",h3="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M427.68 351.43C402 320 383.87 304 383.87 217.35 383.87 138 343.35 109.73 310 96c-4.43-1.82-8.6-6-9.95-10.55C294.2 65.54 277.8 48 256 48s-38.21 17.55-44 37.47c-1.35 4.6-5.52 8.71-9.95 10.53-33.39 13.75-73.87 41.92-73.87 121.35C128.13 304 110 320 84.32 351.43 73.68 364.45 83 384 101.61 384h308.88c18.51 0 27.77-19.61 17.19-32.57zM320 384v16a64 64 0 01-128 0v-16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Np="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",f3="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M470.3 271.15L43.16 447.31a7.83 7.83 0 01-11.16-7V327a8 8 0 016.51-7.86l247.62-47c17.36-3.29 17.36-28.15 0-31.44l-247.63-47a8 8 0 01-6.5-7.85V72.59c0-5.74 5.88-10.26 11.16-8L470.3 241.76a16 16 0 010 29.39z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",p3="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 128v144h96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",m3="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 400v64M256 208v64M256 48v32M416 208H102.63a16 16 0 01-11.32-4.69L32 144l59.31-59.31A16 16 0 01102.63 80H416a16 16 0 0116 16v96a16 16 0 01-16 16zM96 400h313.37a16 16 0 0011.32-4.69L480 336l-59.31-59.31a16 16 0 00-11.32-4.69H96a16 16 0 00-16 16v96a16 16 0 0016 16z' class='ionicon-fill-none ionicon-stroke-width'/></svg>",yE="@firebase/installations",yg="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=1e4,xE=`w:${yg}`,EE="FIS_v2",g3="https://firebaseinstallations.googleapis.com/v1",v3=60*60*1e3,b3="installations",_3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xs=new Is(b3,_3,y3);function TE(e){return e instanceof fo&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE({projectId:e}){return`${g3}/projects/${e}/installations`}function IE(e){return{token:e.token,requestStatus:2,expiresIn:x3(e.expiresIn),creationTime:Date.now()}}async function SE(e,t){const i=(await t.json()).error;return xs.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function AE({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function w3(e,{refreshToken:t}){const n=AE(e);return n.append("Authorization",E3(t)),n}async function CE(e){const t=await e();return t.status>=500&&t.status<600?e():t}function x3(e){return Number(e.replace("s","000"))}function E3(e){return`${EE} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T3({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=kE(e),o=AE(e),s=t.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}const a={fid:n,authVersion:EE,appId:e.appId,sdkVersion:xE},c={method:"POST",headers:o,body:JSON.stringify(a)},u=await CE(()=>fetch(i,c));if(u.ok){const f=await u.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:IE(f.authToken)}}else throw await SE("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=/^[cdef][\w-]{21}$/,Vp="";function S3(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=A3(e);return I3.test(n)?n:Vp}catch{return Vp}}function A3(e){return k3(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;function LE(e,t){const n=gh(e);OE(n,t),C3(n,t)}function OE(e,t){const n=RE.get(e);if(n)for(const i of n)i(t)}function C3(e,t){const n=P3();n&&n.postMessage({key:e,fid:t}),R3()}let us=null;function P3(){return!us&&"BroadcastChannel"in self&&(us=new BroadcastChannel("[Firebase] FID Change"),us.onmessage=e=>{OE(e.data.key,e.data.fid)}),us}function R3(){RE.size===0&&us&&(us.close(),us=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3="firebase-installations-database",O3=1,Es="firebase-installations-store";let _f=null;function wg(){return _f||(_f=Wd(L3,O3,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Es)}}})),_f}async function bd(e,t){const n=gh(e),o=(await wg()).transaction(Es,"readwrite"),s=o.objectStore(Es),a=await s.get(n);return await s.put(t,n),await o.done,(!a||a.fid!==t.fid)&&LE(e,t.fid),t}async function $E(e){const t=gh(e),i=(await wg()).transaction(Es,"readwrite");await i.objectStore(Es).delete(t),await i.done}async function vh(e,t){const n=gh(e),o=(await wg()).transaction(Es,"readwrite"),s=o.objectStore(Es),a=await s.get(n),c=t(a);return c===void 0?await s.delete(n):await s.put(c,n),await o.done,c&&(!a||a.fid!==c.fid)&&LE(e,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xg(e){let t;const n=await vh(e.appConfig,i=>{const o=$3(i),s=M3(e,o);return t=s.registrationPromise,s.installationEntry});return n.fid===Vp?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function $3(e){const t=e||{fid:S3(),registrationStatus:0};return ME(t)}function M3(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(xs.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=D3(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:N3(e)}:{installationEntry:t}}async function D3(e,t){try{const n=await T3(e,t);return bd(e.appConfig,n)}catch(n){throw TE(n)&&n.customData.serverCode===409?await $E(e.appConfig):await bd(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function N3(e){let t=await c0(e.appConfig);for(;t.registrationStatus===1;)await PE(100),t=await c0(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await xg(e);return i||n}return t}function c0(e){return vh(e,t=>{if(!t)throw xs.create("installation-not-found");return ME(t)})}function ME(e){return V3(e)?{fid:e.fid,registrationStatus:0}:e}function V3(e){return e.registrationStatus===1&&e.registrationTime+wE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B3({appConfig:e,heartbeatServiceProvider:t},n){const i=z3(e,n),o=w3(e,n),s=t.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}const a={installation:{sdkVersion:xE,appId:e.appId}},c={method:"POST",headers:o,body:JSON.stringify(a)},u=await CE(()=>fetch(i,c));if(u.ok){const f=await u.json();return IE(f)}else throw await SE("Generate Auth Token",u)}function z3(e,{fid:t}){return`${kE(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eg(e,t=!1){let n;const i=await vh(e.appConfig,s=>{if(!DE(s))throw xs.create("not-registered");const a=s.authToken;if(!t&&j3(a))return s;if(a.requestStatus===1)return n=F3(e,t),s;{if(!navigator.onLine)throw xs.create("app-offline");const c=q3(s);return n=U3(e,c),c}});return n?await n:i.authToken}async function F3(e,t){let n=await u0(e.appConfig);for(;n.authToken.requestStatus===1;)await PE(100),n=await u0(e.appConfig);const i=n.authToken;return i.requestStatus===0?Eg(e,t):i}function u0(e){return vh(e,t=>{if(!DE(t))throw xs.create("not-registered");const n=t.authToken;return W3(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function U3(e,t){try{const n=await B3(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await bd(e.appConfig,i),n}catch(n){if(TE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await $E(e.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await bd(e.appConfig,i)}throw n}}function DE(e){return e!==void 0&&e.registrationStatus===2}function j3(e){return e.requestStatus===2&&!H3(e)}function H3(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+v3}function q3(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function W3(e){return e.requestStatus===1&&e.requestTime+wE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(e){const t=e,{installationEntry:n,registrationPromise:i}=await xg(t);return i?i.catch(console.error):Eg(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(e,t=!1){const n=e;return await Z3(n),(await Eg(n,t)).token}async function Z3(e){const{registrationPromise:t}=await xg(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(e){if(!e||!e.options)throw yf("App Configuration");if(!e.name)throw yf("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw yf(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function yf(e){return xs.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="installations",X3="installations-internal",Q3=e=>{const t=e.getProvider("app").getImmediate(),n=Y3(t),i=Ma(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},J3=e=>{const t=e.getProvider("app").getImmediate(),n=Ma(t,NE).getImmediate();return{getId:()=>G3(n),getToken:o=>K3(n,o)}};function tV(){uo(new ji(NE,Q3,"PUBLIC")),uo(new ji(X3,J3,"PRIVATE"))}tV();Ti(yE,yg);Ti(yE,yg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV="/firebase-messaging-sw.js",nV="/firebase-cloud-messaging-push-scope",VE="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",iV="https://fcmregistrations.googleapis.com/v1",BE="google.c.a.c_id",oV="google.c.a.c_l",rV="google.c.a.ts",sV="google.c.a.e";var d0;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(d0||(d0={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var pc;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(pc||(pc={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function aV(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="fcm_token_details_db",lV=5,h0="fcm_token_object_Store";async function cV(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(wf))return null;let t=null;return(await Wd(wf,lV,{upgrade:async(i,o,s,a)=>{var c;if(o<2||!i.objectStoreNames.contains(h0))return;const u=a.objectStore(h0),f=await u.index("fcmSenderId").get(e);if(await u.clear(),!!f){if(o===2){const p=f;if(!p.auth||!p.p256dh||!p.endpoint)return;t={token:p.fcmToken,createTime:(c=p.createTime)!==null&&c!==void 0?c:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:Lo(p.vapidKey)}}}else if(o===3){const p=f;t={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Lo(p.auth),p256dh:Lo(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Lo(p.vapidKey)}}}else if(o===4){const p=f;t={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Lo(p.auth),p256dh:Lo(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Lo(p.vapidKey)}}}}}})).close(),await cf(wf),await cf("fcm_vapid_details_db"),await cf("undefined"),uV(t)?t:null}function uV(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV="firebase-messaging-database",hV=1,mc="firebase-messaging-store";let xf=null;function zE(){return xf||(xf=Wd(dV,hV,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(mc)}}})),xf}async function fV(e){const t=FE(e),i=await(await zE()).transaction(mc).objectStore(mc).get(t);if(i)return i;{const o=await cV(e.appConfig.senderId);if(o)return await Tg(e,o),o}}async function Tg(e,t){const n=FE(e),o=(await zE()).transaction(mc,"readwrite");return await o.objectStore(mc).put(t,n),await o.done,t}function FE({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},jn=new Is("messaging","Messaging",pV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mV(e,t){const n=await Ig(e),i=UE(t),o={method:"POST",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(kg(e.appConfig),o)).json()}catch(a){throw jn.create("token-subscribe-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw jn.create("token-subscribe-failed",{errorInfo:a})}if(!s.token)throw jn.create("token-subscribe-no-token");return s.token}async function gV(e,t){const n=await Ig(e),i=UE(t.subscriptionOptions),o={method:"PATCH",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(`${kg(e.appConfig)}/${t.token}`,o)).json()}catch(a){throw jn.create("token-update-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw jn.create("token-update-failed",{errorInfo:a})}if(!s.token)throw jn.create("token-update-no-token");return s.token}async function vV(e,t){const i={method:"DELETE",headers:await Ig(e)};try{const s=await(await fetch(`${kg(e.appConfig)}/${t}`,i)).json();if(s.error){const a=s.error.message;throw jn.create("token-unsubscribe-failed",{errorInfo:a})}}catch(o){throw jn.create("token-unsubscribe-failed",{errorInfo:o==null?void 0:o.toString()})}}function kg({projectId:e}){return`${iV}/projects/${e}/registrations`}async function Ig({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function UE({p256dh:e,auth:t,endpoint:n,vapidKey:i}){const o={web:{endpoint:n,auth:t,p256dh:e}};return i!==VE&&(o.web.applicationPubKey=i),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=7*24*60*60*1e3;async function _V(e){const t=await wV(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Lo(t.getKey("auth")),p256dh:Lo(t.getKey("p256dh"))},i=await fV(e.firebaseDependencies);if(i){if(xV(i.subscriptionOptions,n))return Date.now()>=i.createTime+bV?yV(e,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await vV(e.firebaseDependencies,i.token)}catch(o){console.warn(o)}return f0(e.firebaseDependencies,n)}else return f0(e.firebaseDependencies,n)}async function yV(e,t){try{const n=await gV(e.firebaseDependencies,t),i=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await Tg(e.firebaseDependencies,i),n}catch(n){throw n}}async function f0(e,t){const i={token:await mV(e,t),createTime:Date.now(),subscriptionOptions:t};return await Tg(e,i),i.token}async function wV(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:aV(t)})}function xV(e,t){const n=t.vapidKey===e.vapidKey,i=t.endpoint===e.endpoint,o=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&i&&o&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return EV(t,e),TV(t,e),kV(t,e),t}function EV(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const i=t.notification.body;i&&(e.notification.body=i);const o=t.notification.image;o&&(e.notification.image=o);const s=t.notification.icon;s&&(e.notification.icon=s)}function TV(e,t){t.data&&(e.data=t.data)}function kV(e,t){var n,i,o,s,a;if(!t.fcmOptions&&!(!((n=t.notification)===null||n===void 0)&&n.click_action))return;e.fcmOptions={};const c=(o=(i=t.fcmOptions)===null||i===void 0?void 0:i.link)!==null&&o!==void 0?o:(s=t.notification)===null||s===void 0?void 0:s.click_action;c&&(e.fcmOptions.link=c);const u=(a=t.fcmOptions)===null||a===void 0?void 0:a.analytics_label;u&&(e.fcmOptions.analyticsLabel=u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(e){return typeof e=="object"&&!!e&&BE in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */SV("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function SV(e,t){const n=[];for(let i=0;i<e.length;i++)n.push(e.charAt(i)),i<t.length&&n.push(t.charAt(i));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(e){if(!e||!e.options)throw Ef("App Configuration Object");if(!e.name)throw Ef("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const i of t)if(!n[i])throw Ef(i);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Ef(e){return jn.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(t,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=AV(t);this.firebaseDependencies={app:t,appConfig:o,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PV(e){try{e.swRegistration=await navigator.serviceWorker.register(eV,{scope:nV}),e.swRegistration.update().catch(()=>{})}catch(t){throw jn.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(e,t){if(!t&&!e.swRegistration&&await PV(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw jn.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=VE)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jE(e,t){if(!navigator)throw jn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw jn.create("permission-blocked");return await LV(e,t==null?void 0:t.vapidKey),await RV(e,t==null?void 0:t.serviceWorkerRegistration),_V(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(e,t,n){const i=$V(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[BE],message_name:n[oV],message_time:n[rV],message_device_time:Math.floor(Date.now()/1e3)})}function $V(e){switch(e){case pc.NOTIFICATION_CLICKED:return"notification_open";case pc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===pc.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(p0(n)):e.onMessageHandler.next(p0(n)));const i=n.data;IV(i)&&i[sV]==="1"&&await OV(e,n.messageType,i)}const m0="@firebase/messaging",g0="0.12.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=e=>{const t=new CV(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>MV(t,n)),t},NV=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:i=>jE(t,i)}};function VV(){uo(new ji("messaging",DV,"PUBLIC")),uo(new ji("messaging-internal",NV,"PRIVATE")),Ti(m0,g0),Ti(m0,g0,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(){try{await sx()}catch{return!1}return typeof window<"u"&&rx()&&x$()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(e,t){if(!navigator)throw jn.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(e=Sm()){return BV().then(t=>{if(!t)throw jn.create("unsupported-browser")},t=>{throw jn.create("indexed-db-unsupported")}),Ma(en(e),"messaging").getImmediate()}async function UV(e,t){return e=en(e),jE(e,t)}function jV(e,t){return e=en(e),zV(e,t)}VV();class HV{constructor(){this.messaging=null,this.unsubscribeSnapshot=null,this.notifications=fe([]),this.unreadCount=fe(0)}async initialize(){try{this.messaging=FV(),await window.Notification.requestPermission()==="granted"?(console.log(" Permission de notification accorde"),await this.saveFCMToken(),this.setupMessageListener()):console.warn(" Permission de notification refuse")}catch(t){console.error(" Erreur lors de l'initialisation des notifications:",t)}}async saveFCMToken(){var t,n,i,o,s,a,c,u,f,p,m;try{if(!this.messaging){console.warn(" Messaging non initialis");return}const b=((t=ee.user)==null?void 0:t.email)||((n=cs.currentUser)==null?void 0:n.email),w=((i=ee.user)==null?void 0:i.firebaseUid)||((o=ee.user)==null?void 0:o.postgresId)||((s=cs.currentUser)==null?void 0:s.uid);if(!b||!w){console.warn(" Utilisateur non identifi (email ou ID manquant), impossible de sauvegarder le token");return}console.log(" Utilisateur:",b),console.log(" ID document utilis:",w);try{const T=ma(io,"utilisateurs",w),k={email:b,postgresId:((a=ee.user)==null?void 0:a.postgresId)||null,firebaseUid:((c=ee.user)==null?void 0:c.firebaseUid)||w,role:((u=ee.user)==null?void 0:u.role)||"UTILISATEUR",statut:((f=ee.user)==null?void 0:f.statut)||"ACTIF",derniereConnexion:new Date().toISOString(),date_deblocage_automatique:null,tentatives_connexion:0,date_derniere_modification:Ze.now(),lastTokenUpdate:Ze.now()};await F_(T,k,{merge:!0}),console.log(" Document utilisateur mis  jour dans la collection utilisateurs avec tous les champs")}catch(T){console.error(" Erreur lors de la mise  jour du document utilisateur:",T)}console.log(" Tentative d'obtention du FCM token...");try{const T=await UV(this.messaging,{vapidKey:"BMjmtEyox-Cq7673l2i68KbFeQQNRF6trQeuN4tfYHvwMBFbPoMtMgUL2FdX4MDd0XLm-PdCQLM-mZunRByy9tI"});if(T){console.log(" FCM Token obtenu:",T);const k=ma(io,"utilisateurs",w);await F_(k,{fcmToken:T,lastTokenUpdate:Ze.now(),email:b,firebaseUid:((p=ee.user)==null?void 0:p.firebaseUid)||null,postgresId:((m=ee.user)==null?void 0:m.postgresId)||null},{merge:!0}),console.log(" FCM Token sauvegard dans le document utilisateur:",w)}else console.warn(" Impossible d'obtenir le FCM token"),console.warn(" Cela peut tre normal en dveloppement local (localhost)")}catch(T){console.warn(" Erreur lors de l'obtention du FCM token (normal en localhost):",T.message||T),console.warn(" L'email est quand mme sauvegard, donc les notifications Firestore fonctionneront.")}}catch(b){console.error(" Erreur globale dans saveFCMToken:",b.code||b.message)}}setupMessageListener(){this.messaging&&jV(this.messaging,t=>{console.log(" Message FCM reu en premier plan:",t),t.notification?(console.log(" Affichage notification locale:",t.notification.title),new window.Notification(t.notification.title||"Nouvelle notification",{body:t.notification.body,icon:"/assets/icon/favicon.png"})):console.log(" Message FCM reu sans contenu de notification"),this.loadNotifications()})}async loadNotifications(){var t,n,i;try{const o=((t=ee.user)==null?void 0:t.firebaseUid)||((n=ee.user)==null?void 0:n.postgresId)||((i=cs.currentUser)==null?void 0:i.uid);if(!o){console.warn(" Utilisateur non identifi, impossible de charger les notifications"),this.notifications.value=[],this.unreadCount.value=0;return}this.unsubscribeSnapshot&&this.unsubscribeSnapshot(),console.log(" Chargement des notifications pour:",o);const s=zl(io,"notifications"),a=hd(s,C1("userId","==",o));console.log(" coute des changements Firestore active pour les notifications..."),this.unsubscribeSnapshot=$1(a,c=>{console.log(` Changement dtect dans Firestore (snapshot size: ${c.size})`);const u=[];let f=0;c.forEach(p=>{const m=p.data();console.log(`   Notif ID: ${p.id}, lu: ${m.lu}, titre: ${m.titre}`);const b={id:p.id,userId:m.userId,signalementId:m.signalementId,titre:m.titre,message:m.message,type:m.type||"other",oldStatus:m.oldStatus,newStatus:m.newStatus,dateCreation:m.dateCreation,lu:m.lu||!1};u.push(b),b.lu||f++}),u.sort((p,m)=>{var T,k,$,M;const b=((k=(T=p.dateCreation)==null?void 0:T.toDate)==null?void 0:k.call(T))||new Date(p.dateCreation);return(((M=($=m.dateCreation)==null?void 0:$.toDate)==null?void 0:M.call($))||new Date(m.dateCreation)).getTime()-b.getTime()}),this.notifications.value=u,this.unreadCount.value=f,console.log(` ${u.length} notifications charges (${f} non lues)`)},c=>{var u;console.error(" Erreur lors de l'coute des notifications:",c),c.code==="failed-precondition"&&((u=c.message)!=null&&u.includes("index"))&&(console.warn(" Index Firestore manquant"),console.warn(" Cliquez sur le lien dans l'erreur pour crer l'index automatiquement"),console.warn(" Ou crez l'index manuellement dans Firebase Console"),console.warn(" En attendant, les notifications fonctionnent sans tri par date"))})}catch(o){console.error(" Erreur lors du chargement des notifications:",o)}}async markAsRead(t){try{const n=ma(io,"notifications",t);await Lp(n,{lu:!0}),console.log(` Notification ${t} marque comme lue`)}catch(n){console.error(" Erreur lors du marquage de la notification:",n)}}async markAllAsRead(){try{const t=this.notifications.value.filter(n=>!n.lu);for(const n of t)await this.markAsRead(n.id);console.log(` ${t.length} notifications marques comme lues`)}catch(t){console.error(" Erreur lors du marquage de toutes les notifications:",t)}}cleanup(){this.unsubscribeSnapshot&&(this.unsubscribeSnapshot(),this.unsubscribeSnapshot=null),this.notifications.value=[],this.unreadCount.value=0}async retryTokenSave(){(cs.currentUser||ee.user)&&this.messaging&&await this.saveFCMToken()}}const Dn=new HV,qV=_n({__name:"TabsPage",setup(e){return(t,n)=>(Yt(),ci(ut(Hd),null,{default:le(()=>[Pt(ut(QO),null,{default:le(()=>[Pt(ut(Kw)),Pt(ut(JO),{slot:"bottom",class:"border-t border-slate-100 h-16 backdrop-blur-lg shadow-lg"},{default:le(()=>[Pt(ut(rf),{tab:"map",href:"/tabs/map"},{default:le(()=>[Pt(ut(Ke),{icon:ut(u3)},null,8,["icon"]),Pt(ut(nf),{class:"hidden-label"},{default:le(()=>[...n[0]||(n[0]=[zn("Carte",-1)])]),_:1})]),_:1}),Pt(ut(rf),{tab:"list",href:"/tabs/list"},{default:le(()=>[Pt(ut(Ke),{icon:ut(s3)},null,8,["icon"]),ut(ee).signalements.length>0?(Yt(),ci(ut(cp),{key:0,color:"primary",class:"custom-badge"},{default:le(()=>[zn(Le(ut(ee).signalements.length),1)]),_:1})):mn("",!0),Pt(ut(nf),{class:"hidden-label"},{default:le(()=>[...n[1]||(n[1]=[zn("Liste",-1)])]),_:1})]),_:1}),Pt(ut(rf),{tab:"notifications",href:"/tabs/notifications"},{default:le(()=>[Pt(ut(Ke),{icon:ut(h3)},null,8,["icon"]),ut(Dn).unreadCount.value>0?(Yt(),ci(ut(cp),{key:0,color:"danger",class:"custom-badge"},{default:le(()=>[zn(Le(ut(Dn).unreadCount.value),1)]),_:1})):mn("",!0),Pt(ut(nf),{class:"hidden-label"},{default:le(()=>[...n[2]||(n[2]=[zn("Notifications",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});const HE=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},WV=HE(qV,[["__scopeId","data-v-a2165785"]]);/*! Capacitor: https://capacitorjs.com/ - MIT License */var Oa;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Oa||(Oa={}));class _a extends Error{constructor(t,n,i){super(t),this.message=t,this.code=n,this.data=i}}const GV=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},KV=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},i=n.Plugins=n.Plugins||{},o=()=>t!==null?t.name:GV(e),s=()=>o()!=="web",a=m=>{const b=f.get(m);return!!(b!=null&&b.platforms.has(o())||c(m))},c=m=>{var b;return(b=n.PluginHeaders)===null||b===void 0?void 0:b.find(w=>w.name===m)},u=m=>e.console.error(m),f=new Map,p=(m,b={})=>{const w=f.get(m);if(w)return console.warn(`Capacitor plugin "${m}" already registered. Cannot register plugins twice.`),w.proxy;const T=o(),k=c(m);let $;const M=async()=>(!$&&T in b?$=typeof b[T]=="function"?$=await b[T]():$=b[T]:t!==null&&!$&&"web"in b&&($=typeof b.web=="function"?$=await b.web():$=b.web),$),F=(E,A)=>{var O,C;if(k){const V=k==null?void 0:k.methods.find(P=>A===P.name);if(V)return V.rtype==="promise"?P=>n.nativePromise(m,A.toString(),P):(P,$t)=>n.nativeCallback(m,A.toString(),P,$t);if(E)return(O=E[A])===null||O===void 0?void 0:O.bind(E)}else{if(E)return(C=E[A])===null||C===void 0?void 0:C.bind(E);throw new _a(`"${m}" plugin is not implemented on ${T}`,Oa.Unimplemented)}},B=E=>{let A;const O=(...C)=>{const V=M().then(P=>{const $t=F(P,E);if($t){const ne=$t(...C);return A=ne==null?void 0:ne.remove,ne}else throw new _a(`"${m}.${E}()" is not implemented on ${T}`,Oa.Unimplemented)});return E==="addListener"&&(V.remove=async()=>A()),V};return O.toString=()=>`${E.toString()}() { [capacitor code] }`,Object.defineProperty(O,"name",{value:E,writable:!1,configurable:!1}),O},z=B("addListener"),U=B("removeListener"),W=(E,A)=>{const O=z({eventName:E},A),C=async()=>{const P=await O;U({eventName:E,callbackId:P},A)},V=new Promise(P=>O.then(()=>P({remove:C})));return V.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await C()},V},S=new Proxy({},{get(E,A){switch(A){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return k?W:z;case"removeListener":return U;default:return B(A)}}});return i[m]=S,f.set(m,{name:m,proxy:S,platforms:new Set([...Object.keys(b),...k?[T]:[]])}),S};return n.convertFileSrc||(n.convertFileSrc=m=>m),n.getPlatform=o,n.handleError=u,n.isNativePlatform=s,n.isPluginAvailable=a,n.registerPlugin=p,n.Exception=_a,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},ZV=e=>e.Capacitor=KV(e),Bp=ZV(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),bh=Bp.registerPlugin;class _h{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let i=!1;this.listeners[t]||(this.listeners[t]=[],i=!0),this.listeners[t].push(n);const s=this.windowListeners[t];s&&!s.registered&&this.addWindowListener(s),i&&this.sendRetainedArgumentsForEvent(t);const a=async()=>this.removeListener(t,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,i){const o=this.listeners[t];if(!o){if(i){let s=this.retainedEventArguments[t];s||(s=[]),s.push(n),this.retainedEventArguments[t]=s}return}o.forEach(s=>s(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:i=>{this.notifyListeners(n,i)}}}unimplemented(t="not implemented"){return new Bp.Exception(t,Oa.Unimplemented)}unavailable(t="not available"){return new Bp.Exception(t,Oa.Unavailable)}async removeListener(t,n){const i=this.listeners[t];if(!i)return;const o=i.indexOf(n);this.listeners[t].splice(o,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(i=>{this.notifyListeners(t,i)}))}}const v0=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),b0=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class YV extends _h{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(i=>{if(i.length<=0)return;let[o,s]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=b0(o).trim(),s=b0(s).trim(),n[o]=s}),n}async setCookie(t){try{const n=v0(t.key),i=v0(t.value),o=`; expires=${(t.expires||"").replace("expires=","")}`,s=(t.path||"/").replace("path=",""),a=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${i||""}${o}; path=${s}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}bh("CapacitorCookies",{web:()=>new YV});const XV=async e=>new Promise((t,n)=>{const i=new FileReader;i.onload=()=>{const o=i.result;t(o.indexOf(",")>=0?o.split(",")[1]:o)},i.onerror=o=>n(o),i.readAsDataURL(e)}),QV=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(o=>o.toLocaleLowerCase()).reduce((o,s,a)=>(o[s]=e[t[a]],o),{})},JV=(e,t=!0)=>e?Object.entries(e).reduce((i,o)=>{const[s,a]=o;let c,u;return Array.isArray(a)?(u="",a.forEach(f=>{c=t?encodeURIComponent(f):f,u+=`${s}=${c}&`}),u.slice(0,-1)):(c=t?encodeURIComponent(a):a,u=`${s}=${c}`),`${i}&${u}`},"").substr(1):null,tB=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),o=QV(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(o.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[a,c]of Object.entries(e.data||{}))s.set(a,c);n.body=s.toString()}else if(o.includes("multipart/form-data")||e.data instanceof FormData){const s=new FormData;if(e.data instanceof FormData)e.data.forEach((c,u)=>{s.append(u,c)});else for(const c of Object.keys(e.data))s.append(c,e.data[c]);n.body=s;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(o.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class eB extends _h{async request(t){const n=tB(t,t.webFetchExtra),i=JV(t.params,t.shouldEncodeUrlParams),o=i?`${t.url}?${i}`:t.url,s=await fetch(o,n),a=s.headers.get("content-type")||"";let{responseType:c="text"}=s.ok?t:{};a.includes("application/json")&&(c="json");let u,f;switch(c){case"arraybuffer":case"blob":f=await s.blob(),u=await XV(f);break;case"json":u=await s.json();break;case"document":case"text":default:u=await s.text()}const p={};return s.headers.forEach((m,b)=>{p[b]=m}),{data:u,headers:p,status:s.status,url:s.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}bh("CapacitorHttp",{web:()=>new eB});var _0;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(_0||(_0={}));var y0;(function(e){e.StatusBar="StatusBar",e.NavigationBar="NavigationBar"})(y0||(y0={}));class nB extends _h{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}bh("SystemBars",{web:()=>new nB});var ds;(function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"})(ds||(ds={}));var jl;(function(e){e.Rear="REAR",e.Front="FRONT"})(jl||(jl={}));var zp;(function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"})(zp||(zp={}));class iB extends _h{async getPhoto(t){return new Promise(async(n,i)=>{if(t.webUseInput||t.source===ds.Photos)this.fileInputExperience(t,n,i);else if(t.source===ds.Prompt){let o=document.querySelector("pwa-action-sheet");o||(o=document.createElement("pwa-action-sheet"),document.body.appendChild(o)),o.header=t.promptLabelHeader||"Photo",o.cancelable=!1,o.options=[{title:t.promptLabelPhoto||"From Photos"},{title:t.promptLabelPicture||"Take Picture"}],o.addEventListener("onSelection",async s=>{s.detail===0?this.fileInputExperience(t,n,i):this.cameraExperience(t,n,i)})}else this.cameraExperience(t,n,i)})}async pickImages(t){return new Promise(async(n,i)=>{this.multipleFileInputExperience(n,i)})}async cameraExperience(t,n,i){if(customElements.get("pwa-camera-modal")){const o=document.createElement("pwa-camera-modal");o.facingMode=t.direction===jl.Front?"user":"environment",document.body.appendChild(o);try{await o.componentOnReady(),o.addEventListener("onPhoto",async s=>{const a=s.detail;a===null?i(new _a("User cancelled photos app")):a instanceof Error?i(a):n(await this._getCameraPhoto(a,t)),o.dismiss(),document.body.removeChild(o)}),o.present()}catch{this.fileInputExperience(t,n,i)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(t,n,i)}fileInputExperience(t,n,i){let o=document.querySelector("#_capacitor-camera-input");const s=()=>{var a;(a=o.parentNode)===null||a===void 0||a.removeChild(o)};o||(o=document.createElement("input"),o.id="_capacitor-camera-input",o.type="file",o.hidden=!0,document.body.appendChild(o),o.addEventListener("change",a=>{const c=o.files[0];let u="jpeg";if(c.type==="image/png"?u="png":c.type==="image/gif"&&(u="gif"),t.resultType==="dataUrl"||t.resultType==="base64"){const f=new FileReader;f.addEventListener("load",()=>{if(t.resultType==="dataUrl")n({dataUrl:f.result,format:u});else if(t.resultType==="base64"){const p=f.result.split(",")[1];n({base64String:p,format:u})}s()}),f.readAsDataURL(c)}else n({webPath:URL.createObjectURL(c),format:u}),s()}),o.addEventListener("cancel",a=>{i(new _a("User cancelled photos app")),s()})),o.accept="image/*",o.capture=!0,t.source===ds.Photos||t.source===ds.Prompt?o.removeAttribute("capture"):t.direction===jl.Front?o.capture="user":t.direction===jl.Rear&&(o.capture="environment"),o.click()}multipleFileInputExperience(t,n){let i=document.querySelector("#_capacitor-camera-input-multiple");const o=()=>{var s;(s=i.parentNode)===null||s===void 0||s.removeChild(i)};i||(i=document.createElement("input"),i.id="_capacitor-camera-input-multiple",i.type="file",i.hidden=!0,i.multiple=!0,document.body.appendChild(i),i.addEventListener("change",s=>{const a=[];for(let c=0;c<i.files.length;c++){const u=i.files[c];let f="jpeg";u.type==="image/png"?f="png":u.type==="image/gif"&&(f="gif"),a.push({webPath:URL.createObjectURL(u),format:f})}t({photos:a}),o()}),i.addEventListener("cancel",s=>{n(new _a("User cancelled photos app")),o()})),i.accept="image/*",i.click()}_getCameraPhoto(t,n){return new Promise((i,o)=>{const s=new FileReader,a=t.type.split("/")[1];n.resultType==="uri"?i({webPath:URL.createObjectURL(t),format:a,saved:!1}):(s.readAsDataURL(t),s.onloadend=()=>{const c=s.result;n.resultType==="dataUrl"?i({dataUrl:c,format:a,saved:!1}):i({base64String:c.split(",")[1],format:a,saved:!1})},s.onerror=c=>{o(c)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const oB=bh("Camera",{web:()=>new iB});var rB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fp={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,i){i(t)})(rB,function(n){var i="1.9.4";function o(r){var l,h,g,_;for(h=1,g=arguments.length;h<g;h++){_=arguments[h];for(l in _)r[l]=_[l]}return r}var s=Object.create||function(){function r(){}return function(l){return r.prototype=l,new r}}();function a(r,l){var h=Array.prototype.slice;if(r.bind)return r.bind.apply(r,h.call(arguments,1));var g=h.call(arguments,2);return function(){return r.apply(l,g.length?g.concat(h.call(arguments)):arguments)}}var c=0;function u(r){return"_leaflet_id"in r||(r._leaflet_id=++c),r._leaflet_id}function f(r,l,h){var g,_,x,N;return N=function(){g=!1,_&&(x.apply(h,_),_=!1)},x=function(){g?_=arguments:(r.apply(h,arguments),setTimeout(N,l),g=!0)},x}function p(r,l,h){var g=l[1],_=l[0],x=g-_;return r===g&&h?r:((r-_)%x+x)%x+_}function m(){return!1}function b(r,l){if(l===!1)return r;var h=Math.pow(10,l===void 0?6:l);return Math.round(r*h)/h}function w(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function T(r){return w(r).split(/\s+/)}function k(r,l){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?s(r.options):{});for(var h in l)r.options[h]=l[h];return r.options}function $(r,l,h){var g=[];for(var _ in r)g.push(encodeURIComponent(h?_.toUpperCase():_)+"="+encodeURIComponent(r[_]));return(!l||l.indexOf("?")===-1?"?":"&")+g.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function F(r,l){return r.replace(M,function(h,g){var _=l[g];if(_===void 0)throw new Error("No value provided for variable "+h);return typeof _=="function"&&(_=_(l)),_})}var B=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function z(r,l){for(var h=0;h<r.length;h++)if(r[h]===l)return h;return-1}var U="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function W(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var S=0;function E(r){var l=+new Date,h=Math.max(0,16-(l-S));return S=l+h,window.setTimeout(r,h)}var A=window.requestAnimationFrame||W("RequestAnimationFrame")||E,O=window.cancelAnimationFrame||W("CancelAnimationFrame")||W("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function C(r,l,h){if(h&&A===E)r.call(l);else return A.call(window,a(r,l))}function V(r){r&&O.call(window,r)}var P={__proto__:null,extend:o,create:s,bind:a,get lastId(){return c},stamp:u,throttle:f,wrapNum:p,falseFn:m,formatNum:b,trim:w,splitWords:T,setOptions:k,getParamString:$,template:F,isArray:B,indexOf:z,emptyImageUrl:U,requestFn:A,cancelFn:O,requestAnimFrame:C,cancelAnimFrame:V};function $t(){}$t.extend=function(r){var l=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,g=s(h);g.constructor=l,l.prototype=g;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(l[_]=this[_]);return r.statics&&o(l,r.statics),r.includes&&(ne(r.includes),o.apply(null,[g].concat(r.includes))),o(g,r),delete g.statics,delete g.includes,g.options&&(g.options=h.options?s(h.options):{},o(g.options,r.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var x=0,N=g._initHooks.length;x<N;x++)g._initHooks[x].call(this)}},l},$t.include=function(r){var l=this.prototype.options;return o(this.prototype,r),r.options&&(this.prototype.options=l,this.mergeOptions(r.options)),this},$t.mergeOptions=function(r){return o(this.prototype.options,r),this},$t.addInitHook=function(r){var l=Array.prototype.slice.call(arguments,1),h=typeof r=="function"?r:function(){this[r].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function ne(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=B(r)?r:[r];for(var l=0;l<r.length;l++)r[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Nt={on:function(r,l,h){if(typeof r=="object")for(var g in r)this._on(g,r[g],l);else{r=T(r);for(var _=0,x=r.length;_<x;_++)this._on(r[_],l,h)}return this},off:function(r,l,h){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var g in r)this._off(g,r[g],l);else{r=T(r);for(var _=arguments.length===1,x=0,N=r.length;x<N;x++)_?this._off(r[x]):this._off(r[x],l,h)}return this},_on:function(r,l,h,g){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(r,l,h)===!1){h===this&&(h=void 0);var _={fn:l,ctx:h};g&&(_.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(_)}},_off:function(r,l,h){var g,_,x;if(this._events&&(g=this._events[r],!!g)){if(arguments.length===1){if(this._firingCount)for(_=0,x=g.length;_<x;_++)g[_].fn=m;delete this._events[r];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var N=this._listens(r,l,h);if(N!==!1){var H=g[N];this._firingCount&&(H.fn=m,this._events[r]=g=g.slice()),g.splice(N,1)}}},fire:function(r,l,h){if(!this.listens(r,h))return this;var g=o({},l,{type:r,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var _=this._events[r];if(_){this._firingCount=this._firingCount+1||1;for(var x=0,N=_.length;x<N;x++){var H=_[x],Z=H.fn;H.once&&this.off(r,Z,H.ctx),Z.call(H.ctx||this,g)}this._firingCount--}}return h&&this._propagateEvent(g),this},listens:function(r,l,h,g){typeof r!="string"&&console.warn('"string" type argument expected');var _=l;typeof l!="function"&&(g=!!l,_=void 0,h=void 0);var x=this._events&&this._events[r];if(x&&x.length&&this._listens(r,_,h)!==!1)return!0;if(g){for(var N in this._eventParents)if(this._eventParents[N].listens(r,l,h,g))return!0}return!1},_listens:function(r,l,h){if(!this._events)return!1;var g=this._events[r]||[];if(!l)return!!g.length;h===this&&(h=void 0);for(var _=0,x=g.length;_<x;_++)if(g[_].fn===l&&g[_].ctx===h)return _;return!1},once:function(r,l,h){if(typeof r=="object")for(var g in r)this._on(g,r[g],l,!0);else{r=T(r);for(var _=0,x=r.length;_<x;_++)this._on(r[_],l,h,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[u(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[u(r)],this},_propagateEvent:function(r){for(var l in this._eventParents)this._eventParents[l].fire(r.type,o({layer:r.target,propagatedFrom:r.target},r),!0)}};Nt.addEventListener=Nt.on,Nt.removeEventListener=Nt.clearAllEventListeners=Nt.off,Nt.addOneTimeEventListener=Nt.once,Nt.fireEvent=Nt.fire,Nt.hasEventListeners=Nt.listens;var xt=$t.extend(Nt);function tt(r,l,h){this.x=h?Math.round(r):r,this.y=h?Math.round(l):l}var Ie=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};tt.prototype={clone:function(){return new tt(this.x,this.y)},add:function(r){return this.clone()._add(St(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(St(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new tt(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new tt(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ie(this.x),this.y=Ie(this.y),this},distanceTo:function(r){r=St(r);var l=r.x-this.x,h=r.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(r){return r=St(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=St(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function St(r,l,h){return r instanceof tt?r:B(r)?new tt(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new tt(r.x,r.y):new tt(r,l,h)}function Ft(r,l){if(r)for(var h=l?[r,l]:r,g=0,_=h.length;g<_;g++)this.extend(h[g])}Ft.prototype={extend:function(r){var l,h;if(!r)return this;if(r instanceof tt||typeof r[0]=="number"||"x"in r)l=h=St(r);else if(r=Gt(r),l=r.min,h=r.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(r){return St((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return St(this.min.x,this.max.y)},getTopRight:function(){return St(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var l,h;return typeof r[0]=="number"||r instanceof tt?r=St(r):r=Gt(r),r instanceof Ft?(l=r.min,h=r.max):l=h=r,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(r){r=Gt(r);var l=this.min,h=this.max,g=r.min,_=r.max,x=_.x>=l.x&&g.x<=h.x,N=_.y>=l.y&&g.y<=h.y;return x&&N},overlaps:function(r){r=Gt(r);var l=this.min,h=this.max,g=r.min,_=r.max,x=_.x>l.x&&g.x<h.x,N=_.y>l.y&&g.y<h.y;return x&&N},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var l=this.min,h=this.max,g=Math.abs(l.x-h.x)*r,_=Math.abs(l.y-h.y)*r;return Gt(St(l.x-g,l.y-_),St(h.x+g,h.y+_))},equals:function(r){return r?(r=Gt(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function Gt(r,l){return!r||r instanceof Ft?r:new Ft(r,l)}function Kt(r,l){if(r)for(var h=l?[r,l]:r,g=0,_=h.length;g<_;g++)this.extend(h[g])}Kt.prototype={extend:function(r){var l=this._southWest,h=this._northEast,g,_;if(r instanceof X)g=r,_=r;else if(r instanceof Kt){if(g=r._southWest,_=r._northEast,!g||!_)return this}else return r?this.extend(et(r)||J(r)):this;return!l&&!h?(this._southWest=new X(g.lat,g.lng),this._northEast=new X(_.lat,_.lng)):(l.lat=Math.min(g.lat,l.lat),l.lng=Math.min(g.lng,l.lng),h.lat=Math.max(_.lat,h.lat),h.lng=Math.max(_.lng,h.lng)),this},pad:function(r){var l=this._southWest,h=this._northEast,g=Math.abs(l.lat-h.lat)*r,_=Math.abs(l.lng-h.lng)*r;return new Kt(new X(l.lat-g,l.lng-_),new X(h.lat+g,h.lng+_))},getCenter:function(){return new X((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new X(this.getNorth(),this.getWest())},getSouthEast:function(){return new X(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof X||"lat"in r?r=et(r):r=J(r);var l=this._southWest,h=this._northEast,g,_;return r instanceof Kt?(g=r.getSouthWest(),_=r.getNorthEast()):g=_=r,g.lat>=l.lat&&_.lat<=h.lat&&g.lng>=l.lng&&_.lng<=h.lng},intersects:function(r){r=J(r);var l=this._southWest,h=this._northEast,g=r.getSouthWest(),_=r.getNorthEast(),x=_.lat>=l.lat&&g.lat<=h.lat,N=_.lng>=l.lng&&g.lng<=h.lng;return x&&N},overlaps:function(r){r=J(r);var l=this._southWest,h=this._northEast,g=r.getSouthWest(),_=r.getNorthEast(),x=_.lat>l.lat&&g.lat<h.lat,N=_.lng>l.lng&&g.lng<h.lng;return x&&N},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,l){return r?(r=J(r),this._southWest.equals(r.getSouthWest(),l)&&this._northEast.equals(r.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function J(r,l){return r instanceof Kt?r:new Kt(r,l)}function X(r,l,h){if(isNaN(r)||isNaN(l))throw new Error("Invalid LatLng object: ("+r+", "+l+")");this.lat=+r,this.lng=+l,h!==void 0&&(this.alt=+h)}X.prototype={equals:function(r,l){if(!r)return!1;r=et(r);var h=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return h<=(l===void 0?1e-9:l)},toString:function(r){return"LatLng("+b(this.lat,r)+", "+b(this.lng,r)+")"},distanceTo:function(r){return ft.distance(this,et(r))},wrap:function(){return ft.wrapLatLng(this)},toBounds:function(r){var l=180*r/40075017,h=l/Math.cos(Math.PI/180*this.lat);return J([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new X(this.lat,this.lng,this.alt)}};function et(r,l,h){return r instanceof X?r:B(r)&&typeof r[0]!="object"?r.length===3?new X(r[0],r[1],r[2]):r.length===2?new X(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new X(r.lat,"lng"in r?r.lng:r.lon,r.alt):l===void 0?null:new X(r,l,h)}var K={latLngToPoint:function(r,l){var h=this.projection.project(r),g=this.scale(l);return this.transformation._transform(h,g)},pointToLatLng:function(r,l){var h=this.scale(l),g=this.transformation.untransform(r,h);return this.projection.unproject(g)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(r),g=this.transformation.transform(l.min,h),_=this.transformation.transform(l.max,h);return new Ft(g,_)},infinite:!1,wrapLatLng:function(r){var l=this.wrapLng?p(r.lng,this.wrapLng,!0):r.lng,h=this.wrapLat?p(r.lat,this.wrapLat,!0):r.lat,g=r.alt;return new X(h,l,g)},wrapLatLngBounds:function(r){var l=r.getCenter(),h=this.wrapLatLng(l),g=l.lat-h.lat,_=l.lng-h.lng;if(g===0&&_===0)return r;var x=r.getSouthWest(),N=r.getNorthEast(),H=new X(x.lat-g,x.lng-_),Z=new X(N.lat-g,N.lng-_);return new Kt(H,Z)}},ft=o({},K,{wrapLng:[-180,180],R:6371e3,distance:function(r,l){var h=Math.PI/180,g=r.lat*h,_=l.lat*h,x=Math.sin((l.lat-r.lat)*h/2),N=Math.sin((l.lng-r.lng)*h/2),H=x*x+Math.cos(g)*Math.cos(_)*N*N,Z=2*Math.atan2(Math.sqrt(H),Math.sqrt(1-H));return this.R*Z}}),dt=6378137,gt={R:dt,MAX_LATITUDE:85.0511287798,project:function(r){var l=Math.PI/180,h=this.MAX_LATITUDE,g=Math.max(Math.min(h,r.lat),-h),_=Math.sin(g*l);return new tt(this.R*r.lng*l,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(r){var l=180/Math.PI;return new X((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*l,r.x*l/this.R)},bounds:function(){var r=dt*Math.PI;return new Ft([-r,-r],[r,r])}()};function Tt(r,l,h,g){if(B(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=l,this._c=h,this._d=g}Tt.prototype={transform:function(r,l){return this._transform(r.clone(),l)},_transform:function(r,l){return l=l||1,r.x=l*(this._a*r.x+this._b),r.y=l*(this._c*r.y+this._d),r},untransform:function(r,l){return l=l||1,new tt((r.x/l-this._b)/this._a,(r.y/l-this._d)/this._c)}};function Ut(r,l,h,g){return new Tt(r,l,h,g)}var R=o({},ft,{code:"EPSG:3857",projection:gt,transformation:function(){var r=.5/(Math.PI*gt.R);return Ut(r,.5,-r,.5)}()}),D=o({},R,{code:"EPSG:900913"});function q(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function ot(r,l){var h="",g,_,x,N,H,Z;for(g=0,x=r.length;g<x;g++){for(H=r[g],_=0,N=H.length;_<N;_++)Z=H[_],h+=(_?"L":"M")+Z.x+" "+Z.y;h+=l?It.svg?"z":"x":""}return h||"M0 0"}var Q=document.documentElement.style,nt="ActiveXObject"in window,bt=nt&&!document.addEventListener,mt="msLaunchUri"in navigator&&!("documentMode"in document),pt=dn("webkit"),st=dn("android"),Ct=dn("android 2")||dn("android 3"),_t=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),kt=st&&dn("Google")&&_t<537&&!("AudioNode"in window),Lt=!!window.opera,Rt=!mt&&dn("chrome"),Vt=dn("gecko")&&!pt&&!Lt&&!nt,Jt=!Rt&&dn("safari"),qe=dn("phantom"),ye="OTransition"in Q,We=navigator.platform.indexOf("Win")===0,we=nt&&"transition"in Q,Ne="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ct,Tn="MozPerspective"in Q,Se=!window.L_DISABLE_3D&&(we||Ne||Tn)&&!ye&&!qe,nn=typeof orientation<"u"||dn("mobile"),nr=nn&&pt,Wi=nn&&Ne,Ur=!window.PointerEvent&&window.MSPointerEvent,jr=!!(window.PointerEvent||Ur),Gi="ontouchstart"in window||!!window.TouchEvent,Hr=!window.L_NO_TOUCH&&(Gi||jr),qr=nn&&Lt,ki=nn&&Vt,Ps=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ir=function(){var r=!1;try{var l=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",m,l),window.removeEventListener("testPassiveEventSupport",m,l)}catch{}return r}(),Rs=function(){return!!document.createElement("canvas").getContext}(),Ii=!!(document.createElementNS&&q("svg").createSVGRect),Ls=!!Ii&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ve=!Ii&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var l=r.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),Wr=navigator.platform.indexOf("Mac")===0,po=navigator.platform.indexOf("Linux")===0;function dn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var It={ie:nt,ielt9:bt,edge:mt,webkit:pt,android:st,android23:Ct,androidStock:kt,opera:Lt,chrome:Rt,gecko:Vt,safari:Jt,phantom:qe,opera12:ye,win:We,ie3d:we,webkit3d:Ne,gecko3d:Tn,any3d:Se,mobile:nn,mobileWebkit:nr,mobileWebkit3d:Wi,msPointer:Ur,pointer:jr,touch:Hr,touchNative:Gi,mobileOpera:qr,mobileGecko:ki,retina:Ps,passiveEvents:ir,canvas:Rs,svg:Ii,vml:Ve,inlineSvg:Ls,mac:Wr,linux:po},Gr=It.msPointer?"MSPointerDown":"pointerdown",mi=It.msPointer?"MSPointerMove":"pointermove",kn=It.msPointer?"MSPointerUp":"pointerup",Os=It.msPointer?"MSPointerCancel":"pointercancel",Ki={touchstart:Gr,touchmove:mi,touchend:kn,touchcancel:Os},Kr={touchstart:ja,touchmove:Zi,touchend:Zi,touchcancel:Zi},ri={},mo=!1;function gi(r,l,h){return l==="touchstart"&&Ms(),Kr[l]?(h=Kr[l].bind(this,h),r.addEventListener(Ki[l],h,!1),h):(console.warn("wrong event specified:",l),m)}function or(r,l,h){if(!Ki[l]){console.warn("wrong event specified:",l);return}r.removeEventListener(Ki[l],h,!1)}function $s(r){ri[r.pointerId]=r}function Zr(r){ri[r.pointerId]&&(ri[r.pointerId]=r)}function rr(r){delete ri[r.pointerId]}function Ms(){mo||(document.addEventListener(Gr,$s,!0),document.addEventListener(mi,Zr,!0),document.addEventListener(kn,rr,!0),document.addEventListener(Os,rr,!0),mo=!0)}function Zi(r,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in ri)l.touches.push(ri[h]);l.changedTouches=[l],r(l)}}function ja(r,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&rn(l),Zi(r,l)}function go(r){var l={},h,g;for(g in r)h=r[g],l[g]=h&&h.bind?h.bind(r):h;return r=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Ha=200;function Ds(r,l){r.addEventListener("dblclick",l);var h=0,g;function _(x){if(x.detail!==1){g=x.detail;return}if(!(x.pointerType==="mouse"||x.sourceCapabilities&&!x.sourceCapabilities.firesTouchEvents)){var N=lr(x);if(!(N.some(function(Z){return Z instanceof HTMLLabelElement&&Z.attributes.for})&&!N.some(function(Z){return Z instanceof HTMLInputElement||Z instanceof HTMLSelectElement}))){var H=Date.now();H-h<=Ha?(g++,g===2&&l(go(x))):g=1,h=H}}}return r.addEventListener("click",_),{dblclick:l,simDblclick:_}}function G(r,l){r.removeEventListener("dblclick",l.dblclick),r.removeEventListener("click",l.simDblclick)}var ht=_o(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),yt=_o(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),he=yt==="webkitTransition"||yt==="OTransition"?yt+"End":"transitionend";function Pe(r){return typeof r=="string"?document.getElementById(r):r}function Ye(r,l){var h=r.style[l]||r.currentStyle&&r.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(r,null);h=g?g[l]:null}return h==="auto"?null:h}function Zt(r,l,h){var g=document.createElement(r);return g.className=l||"",h&&h.appendChild(g),g}function Ee(r){var l=r.parentNode;l&&l.removeChild(r)}function sr(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function vo(r){var l=r.parentNode;l&&l.lastChild!==r&&l.appendChild(r)}function bo(r){var l=r.parentNode;l&&l.firstChild!==r&&l.insertBefore(r,l.firstChild)}function qa(r,l){if(r.classList!==void 0)return r.classList.contains(l);var h=Vs(r);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function Xt(r,l){if(r.classList!==void 0)for(var h=T(l),g=0,_=h.length;g<_;g++)r.classList.add(h[g]);else if(!qa(r,l)){var x=Vs(r);Ns(r,(x?x+" ":"")+l)}}function Be(r,l){r.classList!==void 0?r.classList.remove(l):Ns(r,w((" "+Vs(r)+" ").replace(" "+l+" "," ")))}function Ns(r,l){r.className.baseVal===void 0?r.className=l:r.className.baseVal=l}function Vs(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function on(r,l){"opacity"in r.style?r.style.opacity=l:"filter"in r.style&&Si(r,l)}function Si(r,l){var h=!1,g="DXImageTransform.Microsoft.Alpha";try{h=r.filters.item(g)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):r.style.filter+=" progid:"+g+"(opacity="+l+")"}function _o(r){for(var l=document.documentElement.style,h=0;h<r.length;h++)if(r[h]in l)return r[h];return!1}function vi(r,l,h){var g=l||new tt(0,0);r.style[ht]=(It.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(h?" scale("+h+")":"")}function Ue(r,l){r._leaflet_pos=l,It.any3d?vi(r,l):(r.style.left=l.x+"px",r.style.top=l.y+"px")}function ae(r){return r._leaflet_pos||new tt(0,0)}var Yi,Ai,yo;if("onselectstart"in document)Yi=function(){zt(window,"selectstart",rn)},Ai=function(){xe(window,"selectstart",rn)};else{var Yr=_o(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Yi=function(){if(Yr){var r=document.documentElement.style;yo=r[Yr],r[Yr]="none"}},Ai=function(){Yr&&(document.documentElement.style[Yr]=yo,yo=void 0)}}function Bs(){zt(window,"dragstart",rn)}function Wa(){xe(window,"dragstart",rn)}var zs,Ga;function Ka(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Xi(),zs=r,Ga=r.style.outlineStyle,r.style.outlineStyle="none",zt(window,"keydown",Xi))}function Xi(){zs&&(zs.style.outlineStyle=Ga,zs=void 0,Ga=void 0,xe(window,"keydown",Xi))}function Ci(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Fs(r){var l=r.getBoundingClientRect();return{x:l.width/r.offsetWidth||1,y:l.height/r.offsetHeight||1,boundingClientRect:l}}var Mc={__proto__:null,TRANSFORM:ht,TRANSITION:yt,TRANSITION_END:he,get:Pe,getStyle:Ye,create:Zt,remove:Ee,empty:sr,toFront:vo,toBack:bo,hasClass:qa,addClass:Xt,removeClass:Be,setClass:Ns,getClass:Vs,setOpacity:on,testProp:_o,setTransform:vi,setPosition:Ue,getPosition:ae,get disableTextSelection(){return Yi},get enableTextSelection(){return Ai},disableImageDrag:Bs,enableImageDrag:Wa,preventOutline:Ka,restoreOutline:Xi,getSizedParentNode:Ci,getScale:Fs};function zt(r,l,h,g){if(l&&typeof l=="object")for(var _ in l)bi(r,_,l[_],h);else{l=T(l);for(var x=0,N=l.length;x<N;x++)bi(r,l[x],h,g)}return this}var In="_leaflet_events";function xe(r,l,h,g){if(arguments.length===1)Dc(r),delete r[In];else if(l&&typeof l=="object")for(var _ in l)Ya(r,_,l[_],h);else if(l=T(l),arguments.length===2)Dc(r,function(H){return z(l,H)!==-1});else for(var x=0,N=l.length;x<N;x++)Ya(r,l[x],h,g);return this}function Dc(r,l){for(var h in r[In]){var g=h.split(/\d/)[0];(!l||l(g))&&Ya(r,g,null,null,h)}}var Za={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function bi(r,l,h,g){var _=l+u(h)+(g?"_"+u(g):"");if(r[In]&&r[In][_])return this;var x=function(H){return h.call(g||r,H||window.event)},N=x;!It.touchNative&&It.pointer&&l.indexOf("touch")===0?x=gi(r,l,x):It.touch&&l==="dblclick"?x=Ds(r,x):"addEventListener"in r?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?r.addEventListener(Za[l]||l,x,It.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(x=function(H){H=H||window.event,Ja(r,H)&&N(H)},r.addEventListener(Za[l],x,!1)):r.addEventListener(l,N,!1):r.attachEvent("on"+l,x),r[In]=r[In]||{},r[In][_]=x}function Ya(r,l,h,g,_){_=_||l+u(h)+(g?"_"+u(g):"");var x=r[In]&&r[In][_];if(!x)return this;!It.touchNative&&It.pointer&&l.indexOf("touch")===0?or(r,l,x):It.touch&&l==="dblclick"?G(r,x):"removeEventListener"in r?r.removeEventListener(Za[l]||l,x,!1):r.detachEvent("on"+l,x),r[In][_]=null}function wo(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function ar(r){return bi(r,"wheel",wo),this}function Qi(r){return zt(r,"mousedown touchstart dblclick contextmenu",wo),r._leaflet_disable_click=!0,this}function rn(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function si(r){return rn(r),wo(r),this}function lr(r){if(r.composedPath)return r.composedPath();for(var l=[],h=r.target;h;)l.push(h),h=h.parentNode;return l}function Xa(r,l){if(!l)return new tt(r.clientX,r.clientY);var h=Fs(l),g=h.boundingClientRect;return new tt((r.clientX-g.left)/h.x-l.clientLeft,(r.clientY-g.top)/h.y-l.clientTop)}var Qa=It.linux&&It.chrome?window.devicePixelRatio:It.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Re(r){return It.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Qa:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Ja(r,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==r;)h=h.parentNode}catch{return!1}return h!==r}var xh={__proto__:null,on:zt,off:xe,stopPropagation:wo,disableScrollPropagation:ar,disableClickPropagation:Qi,preventDefault:rn,stop:si,getPropagationPath:lr,getMousePosition:Xa,getWheelDelta:Re,isExternalTarget:Ja,addListener:zt,removeListener:xe},tl=xt.extend({run:function(r,l,h,g){this.stop(),this._el=r,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=ae(r),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=C(this._animate,this),this._step()},_step:function(r){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),r):(this._runFrame(1),this._complete())},_runFrame:function(r,l){var h=this._startPos.add(this._offset.multiplyBy(r));l&&h._round(),Ue(this._el,h),this.fire("step")},_complete:function(){V(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),ie=xt.extend({options:{crs:R,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,l){l=k(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(et(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=yt&&It.any3d&&!It.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),zt(this._proxy,he,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),r=this._limitCenter(et(r),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=o({animate:h.animate},h.zoom),h.pan=o({animate:h.animate,duration:h.duration},h.pan));var g=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,l,h.zoom):this._tryAnimatedPan(r,h.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(r,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(r,l){return this._loaded?this.setView(this.getCenter(),r,{zoom:l}):(this._zoom=r,this)},zoomIn:function(r,l){return r=r||(It.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,l)},zoomOut:function(r,l){return r=r||(It.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,l)},setZoomAround:function(r,l,h){var g=this.getZoomScale(l),_=this.getSize().divideBy(2),x=r instanceof tt?r:this.latLngToContainerPoint(r),N=x.subtract(_).multiplyBy(1-1/g),H=this.containerPointToLatLng(_.add(N));return this.setView(H,l,{zoom:h})},_getBoundsCenterZoom:function(r,l){l=l||{},r=r.getBounds?r.getBounds():J(r);var h=St(l.paddingTopLeft||l.padding||[0,0]),g=St(l.paddingBottomRight||l.padding||[0,0]),_=this.getBoundsZoom(r,!1,h.add(g));if(_=typeof l.maxZoom=="number"?Math.min(l.maxZoom,_):_,_===1/0)return{center:r.getCenter(),zoom:_};var x=g.subtract(h).divideBy(2),N=this.project(r.getSouthWest(),_),H=this.project(r.getNorthEast(),_),Z=this.unproject(N.add(H).divideBy(2).add(x),_);return{center:Z,zoom:_}},fitBounds:function(r,l){if(r=J(r),!r.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(r,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,l){return this.setView(r,this._zoom,{pan:l})},panBy:function(r,l){if(r=St(r).round(),l=l||{},!r.x&&!r.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Xt(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,l,h){if(h=h||{},h.animate===!1||!It.any3d)return this.setView(r,l,h);this._stop();var g=this.project(this.getCenter()),_=this.project(r),x=this.getSize(),N=this._zoom;r=et(r),l=l===void 0?N:l;var H=Math.max(x.x,x.y),Z=H*this.getZoomScale(N,l),at=_.distanceTo(g)||1,wt=1.42,Mt=wt*wt;function te(sn){var tu=sn?-1:1,RT=sn?Z:H,LT=Z*Z-H*H+tu*Mt*Mt*at*at,OT=2*RT*Mt*at,Sh=LT/OT,Jg=Math.sqrt(Sh*Sh+1)-Sh,$T=Jg<1e-9?-18:Math.log(Jg);return $T}function qn(sn){return(Math.exp(sn)-Math.exp(-sn))/2}function wn(sn){return(Math.exp(sn)+Math.exp(-sn))/2}function wi(sn){return qn(sn)/wn(sn)}var Jn=te(0);function Ys(sn){return H*(wn(Jn)/wn(Jn+wt*sn))}function ST(sn){return H*(wn(Jn)*wi(Jn+wt*sn)-qn(Jn))/Mt}function AT(sn){return 1-Math.pow(1-sn,1.5)}var CT=Date.now(),Xg=(te(1)-Jn)/wt,PT=h.duration?1e3*h.duration:1e3*Xg*.8;function Qg(){var sn=(Date.now()-CT)/PT,tu=AT(sn)*Xg;sn<=1?(this._flyToFrame=C(Qg,this),this._move(this.unproject(g.add(_.subtract(g).multiplyBy(ST(tu)/at)),N),this.getScaleZoom(H/Ys(tu),N),{flyTo:!0})):this._move(r,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Qg.call(this),this},flyToBounds:function(r,l){var h=this._getBoundsCenterZoom(r,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(r){return r=J(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var l=this.options.minZoom;return this.options.minZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var l=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,l){this._enforcingBounds=!0;var h=this.getCenter(),g=this._limitCenter(h,this._zoom,J(r));return h.equals(g)||this.panTo(g,l),this._enforcingBounds=!1,this},panInside:function(r,l){l=l||{};var h=St(l.paddingTopLeft||l.padding||[0,0]),g=St(l.paddingBottomRight||l.padding||[0,0]),_=this.project(this.getCenter()),x=this.project(r),N=this.getPixelBounds(),H=Gt([N.min.add(h),N.max.subtract(g)]),Z=H.getSize();if(!H.contains(x)){this._enforcingBounds=!0;var at=x.subtract(H.getCenter()),wt=H.extend(x).getSize().subtract(Z);_.x+=at.x<0?-wt.x:wt.x,_.y+=at.y<0?-wt.y:wt.y,this.panTo(this.unproject(_),l),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=o({animate:!1,pan:!0},r===!0?{animate:!0}:r);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),g=l.divideBy(2).round(),_=h.divideBy(2).round(),x=g.subtract(_);return!x.x&&!x.y?this:(r.animate&&r.pan?this.panBy(x):(r.pan&&this._rawPanBy(x),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=o({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),h=a(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,r):navigator.geolocation.getCurrentPosition(l,h,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var l=r.code,h=r.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var l=r.coords.latitude,h=r.coords.longitude,g=new X(l,h),_=g.toBounds(r.coords.accuracy*2),x=this._locateOptions;if(x.setView){var N=this.getBoundsZoom(_);this.setView(g,x.maxZoom?Math.min(N,x.maxZoom):N)}var H={latlng:g,bounds:_,timestamp:r.timestamp};for(var Z in r.coords)typeof r.coords[Z]=="number"&&(H[Z]=r.coords[Z]);this.fire("locationfound",H)}},addHandler:function(r,l){if(!l)return this;var h=this[r]=new l(this);return this._handlers.push(h),this.options[r]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ee(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(V(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Ee(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,l){var h="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),g=Zt("div",h,l||this._mapPane);return r&&(this._panes[r]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),l=this.unproject(r.getBottomLeft()),h=this.unproject(r.getTopRight());return new Kt(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,l,h){r=J(r),h=St(h||[0,0]);var g=this.getZoom()||0,_=this.getMinZoom(),x=this.getMaxZoom(),N=r.getNorthWest(),H=r.getSouthEast(),Z=this.getSize().subtract(h),at=Gt(this.project(H,g),this.project(N,g)).getSize(),wt=It.any3d?this.options.zoomSnap:1,Mt=Z.x/at.x,te=Z.y/at.y,qn=l?Math.max(Mt,te):Math.min(Mt,te);return g=this.getScaleZoom(qn,g),wt&&(g=Math.round(g/(wt/100))*(wt/100),g=l?Math.ceil(g/wt)*wt:Math.floor(g/wt)*wt),Math.max(_,Math.min(x,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new tt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,l){var h=this._getTopLeftPoint(r,l);return new Ft(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(r)/h.scale(l)},getScaleZoom:function(r,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var g=h.zoom(r*h.scale(l));return isNaN(g)?1/0:g},project:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(et(r),l)},unproject:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(St(r),l)},layerPointToLatLng:function(r){var l=St(r).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(r){var l=this.project(et(r))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(et(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(J(r))},distance:function(r,l){return this.options.crs.distance(et(r),et(l))},containerPointToLayerPoint:function(r){return St(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return St(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var l=this.containerPointToLayerPoint(St(r));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(et(r)))},mouseEventToContainerPoint:function(r){return Xa(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var l=this._container=Pe(r);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");zt(l,"scroll",this._onScroll,this),this._containerId=u(l)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&It.any3d,Xt(r,"leaflet-container"+(It.touch?" leaflet-touch":"")+(It.retina?" leaflet-retina":"")+(It.ielt9?" leaflet-oldie":"")+(It.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Ye(r,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ue(this._mapPane,new tt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Xt(r.markerPane,"leaflet-zoom-hide"),Xt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,l,h){Ue(this._mapPane,new tt(0,0));var g=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var _=this._zoom!==l;this._moveStart(_,h)._move(r,l)._moveEnd(_),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(r,l){return r&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(r,l,h,g){l===void 0&&(l=this._zoom);var _=this._zoom!==l;return this._zoom=l,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),g?h&&h.pinch&&this.fire("zoom",h):((_||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return V(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Ue(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[u(this._container)]=this;var l=r?xe:zt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),It.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){V(this._resizeRequest),this._resizeRequest=C(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,l){for(var h=[],g,_=l==="mouseout"||l==="mouseover",x=r.target||r.srcElement,N=!1;x;){if(g=this._targets[u(x)],g&&(l==="click"||l==="preclick")&&this._draggableMoved(g)){N=!0;break}if(g&&g.listens(l,!0)&&(_&&!Ja(x,r)||(h.push(g),_))||x===this._container)break;x=x.parentNode}return!h.length&&!N&&!_&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var l=r.target||r.srcElement;if(!(!this._loaded||l._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(l))){var h=r.type;h==="mousedown"&&Ka(l),this._fireDOMEvent(r,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,l,h){if(r.type==="click"){var g=o({},r);g.type="preclick",this._fireDOMEvent(g,g.type,h)}var _=this._findEventTargets(r,l);if(h){for(var x=[],N=0;N<h.length;N++)h[N].listens(l,!0)&&x.push(h[N]);_=x.concat(_)}if(_.length){l==="contextmenu"&&rn(r);var H=_[0],Z={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var at=H.getLatLng&&(!H._radius||H._radius<=10);Z.containerPoint=at?this.latLngToContainerPoint(H.getLatLng()):this.mouseEventToContainerPoint(r),Z.layerPoint=this.containerPointToLayerPoint(Z.containerPoint),Z.latlng=at?H.getLatLng():this.layerPointToLatLng(Z.layerPoint)}for(N=0;N<_.length;N++)if(_[N].fire(l,Z,!0),Z.originalEvent._stopped||_[N].options.bubblingMouseEvents===!1&&z(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,l=this._handlers.length;r<l;r++)this._handlers[r].disable()},whenReady:function(r,l){return this._loaded?r.call(l||this,{target:this}):this.on("load",r,l),this},_getMapPanePos:function(){return ae(this._mapPane)||new tt(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,l){var h=r&&l!==void 0?this._getNewPixelOrigin(r,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,l){var h=this.getSize()._divideBy(2);return this.project(r,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,l,h){var g=this._getNewPixelOrigin(h,l);return this.project(r,l)._subtract(g)},_latLngBoundsToNewLayerBounds:function(r,l,h){var g=this._getNewPixelOrigin(h,l);return Gt([this.project(r.getSouthWest(),l)._subtract(g),this.project(r.getNorthWest(),l)._subtract(g),this.project(r.getSouthEast(),l)._subtract(g),this.project(r.getNorthEast(),l)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,l,h){if(!h)return r;var g=this.project(r,l),_=this.getSize().divideBy(2),x=new Ft(g.subtract(_),g.add(_)),N=this._getBoundsOffset(x,h,l);return Math.abs(N.x)<=1&&Math.abs(N.y)<=1?r:this.unproject(g.add(N),l)},_limitOffset:function(r,l){if(!l)return r;var h=this.getPixelBounds(),g=new Ft(h.min.add(r),h.max.add(r));return r.add(this._getBoundsOffset(g,l))},_getBoundsOffset:function(r,l,h){var g=Gt(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),_=g.min.subtract(r.min),x=g.max.subtract(r.max),N=this._rebound(_.x,-x.x),H=this._rebound(_.y,-x.y);return new tt(N,H)},_rebound:function(r,l){return r+l>0?Math.round(r-l)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(l))},_limitZoom:function(r){var l=this.getMinZoom(),h=this.getMaxZoom(),g=It.any3d?this.options.zoomSnap:1;return g&&(r=Math.round(r/g)*g),Math.max(l,Math.min(h,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Be(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,l){var h=this._getCenterOffset(r)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var r=this._proxy=Zt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(l){var h=ht,g=this._proxy.style[h];vi(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),g===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ee(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),l=this.getZoom();vi(this._proxy,this.project(r,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(l),_=this._getCenterOffset(r)._divideBy(1-1/g);return h.animate!==!0&&!this.getSize().contains(_)?!1:(C(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(r,l,!0)},this),!0)},_animateZoom:function(r,l,h,g){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=l,Xt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:l,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Be(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Nc(r,l){return new ie(r,l)}var Ln=$t.extend({options:{position:"topright"},initialize:function(r){k(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var l=this._map;return l&&l.removeControl(this),this.options.position=r,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var l=this._container=this.onAdd(r),h=this.getPosition(),g=r._controlCorners[h];return Xt(l,"leaflet-control"),h.indexOf("bottom")!==-1?g.insertBefore(l,g.firstChild):g.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ee(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),cr=function(r){return new Ln(r)};ie.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},l="leaflet-",h=this._controlContainer=Zt("div",l+"control-container",this._container);function g(_,x){var N=l+_+" "+l+x;r[_+x]=Zt("div",N,h)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Ee(this._controlCorners[r]);Ee(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var _i=Ln.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,l,h,g){return h<g?-1:g<h?1:0}},initialize:function(r,l,h){k(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in r)this._addLayer(r[g],g);for(g in l)this._addLayer(l[g],g,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Ln.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,l){return this._addLayer(r,l),this._map?this._update():this},addOverlay:function(r,l){return this._addLayer(r,l,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var l=this._getLayer(u(r));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Xt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Xt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Be(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Be(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",l=this._container=Zt("div",r),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Qi(l),ar(l);var g=this._section=Zt("section",r+"-list");h&&(this._map.on("click",this.collapse,this),zt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=Zt("a",r+"-toggle",l);_.href="#",_.title="Layers",_.setAttribute("role","button"),zt(_,{keydown:function(x){x.keyCode===13&&this._expandSafely()},click:function(x){rn(x),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=Zt("div",r+"-base",g),this._separator=Zt("div",r+"-separator",g),this._overlaysList=Zt("div",r+"-overlays",g),l.appendChild(g)},_getLayer:function(r){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&u(this._layers[l].layer)===r)return this._layers[l]},_addLayer:function(r,l,h){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(a(function(g,_){return this.options.sortFunction(g.layer,_.layer,g.name,_.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;sr(this._baseLayersList),sr(this._overlaysList),this._layerControlInputs=[];var r,l,h,g,_=0;for(h=0;h<this._layers.length;h++)g=this._layers[h],this._addItem(g),l=l||g.overlay,r=r||!g.overlay,_+=g.overlay?0:1;return this.options.hideSingleBase&&(r=r&&_>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=l&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var l=this._getLayer(u(r.target)),h=l.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(r,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(l?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=h,g.firstChild},_addItem:function(r){var l=document.createElement("label"),h=this._map.hasLayer(r.layer),g;r.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=h):g=this._createRadioElement("leaflet-base-layers_"+u(this),h),this._layerControlInputs.push(g),g.layerId=u(r.layer),zt(g,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+r.name;var x=document.createElement("span");l.appendChild(x),x.appendChild(g),x.appendChild(_);var N=r.overlay?this._overlaysList:this._baseLayersList;return N.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,l,h,g=[],_=[];this._handlingClick=!0;for(var x=r.length-1;x>=0;x--)l=r[x],h=this._getLayer(l.layerId).layer,l.checked?g.push(h):l.checked||_.push(h);for(x=0;x<_.length;x++)this._map.hasLayer(_[x])&&this._map.removeLayer(_[x]);for(x=0;x<g.length;x++)this._map.hasLayer(g[x])||this._map.addLayer(g[x]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,l,h,g=this._map.getZoom(),_=r.length-1;_>=0;_--)l=r[_],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&g<h.options.minZoom||h.options.maxZoom!==void 0&&g>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,zt(r,"click",rn),this.expand();var l=this;setTimeout(function(){xe(r,"click",rn),l._preventClick=!1})}}),Vc=function(r,l,h){return new _i(r,l,h)},el=Ln.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var l="leaflet-control-zoom",h=Zt("div",l+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,l,h,g,_){var x=Zt("a",h,g);return x.innerHTML=r,x.href="#",x.title=l,x.setAttribute("role","button"),x.setAttribute("aria-label",l),Qi(x),zt(x,"click",si),zt(x,"click",_,this),zt(x,"click",this._refocusOnMap,this),x},_updateDisabled:function(){var r=this._map,l="leaflet-disabled";Be(this._zoomInButton,l),Be(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Xt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Xt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});ie.mergeOptions({zoomControl:!0}),ie.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new el,this.addControl(this.zoomControl))});var Xr=function(r){return new el(r)},nl=Ln.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var l="leaflet-control-scale",h=Zt("div",l),g=this.options;return this._addScales(g,l+"-line",h),r.on(g.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),h},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,l,h){r.metric&&(this._mScale=Zt("div",l,h)),r.imperial&&(this._iScale=Zt("div",l,h))},_update:function(){var r=this._map,l=r.getSize().y/2,h=r.distance(r.containerPointToLatLng([0,l]),r.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var l=this._getRoundNum(r),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/r)},_updateImperial:function(r){var l=r*3.2808399,h,g,_;l>5280?(h=l/5280,g=this._getRoundNum(h),this._updateScale(this._iScale,g+" mi",g/h)):(_=this._getRoundNum(l),this._updateScale(this._iScale,_+" ft",_/l))},_updateScale:function(r,l,h){r.style.width=Math.round(this.options.maxWidth*h)+"px",r.innerHTML=l},_getRoundNum:function(r){var l=Math.pow(10,(Math.floor(r)+"").length-1),h=r/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),il=function(r){return new nl(r)},Us='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',js=Ln.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(It.inlineSvg?Us+" ":"")+"Leaflet</a>"},initialize:function(r){k(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Zt("div","leaflet-control-attribution"),Qi(this._container);for(var l in r._layers)r._layers[l].getAttribution&&this.addAttribution(r._layers[l].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var l in this._attributions)this._attributions[l]&&r.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),r.length&&h.push(r.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});ie.mergeOptions({attributionControl:!0}),ie.addInitHook(function(){this.options.attributionControl&&new js().addTo(this)});var Hs=function(r){return new js(r)};Ln.Layers=_i,Ln.Zoom=el,Ln.Scale=nl,Ln.Attribution=js,cr.layers=Vc,cr.zoom=Xr,cr.scale=il,cr.attribution=Hs;var yi=$t.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});yi.addTo=function(r,l){return r.addHandler(l,this),this};var Bc={Events:Nt},ur=It.touch?"touchstart mousedown":"mousedown",Pi=xt.extend({options:{clickTolerance:3},initialize:function(r,l,h,g){k(this,g),this._element=r,this._dragStartTarget=l||r,this._preventOutline=h},enable:function(){this._enabled||(zt(this._dragStartTarget,ur,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Pi._dragging===this&&this.finishDrag(!0),xe(this._dragStartTarget,ur,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!qa(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Pi._dragging===this&&this.finishDrag();return}if(!(Pi._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Pi._dragging=this,this._preventOutline&&Ka(this._element),Bs(),Yi(),!this._moving)){this.fire("down");var l=r.touches?r.touches[0]:r,h=Ci(this._element);this._startPoint=new tt(l.clientX,l.clientY),this._startPos=ae(this._element),this._parentScale=Fs(h);var g=r.type==="mousedown";zt(document,g?"mousemove":"touchmove",this._onMove,this),zt(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var l=r.touches&&r.touches.length===1?r.touches[0]:r,h=new tt(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,rn(r),this._moved||(this.fire("dragstart"),this._moved=!0,Xt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Xt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Ue(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Be(document.body,"leaflet-dragging"),this._lastTarget&&(Be(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),xe(document,"mousemove touchmove",this._onMove,this),xe(document,"mouseup touchend touchcancel",this._onUp,this),Wa(),Ai();var l=this._moved&&this._moving;this._moving=!1,Pi._dragging=!1,l&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function ol(r,l,h){var g,_=[1,4,2,8],x,N,H,Z,at,wt,Mt,te;for(x=0,wt=r.length;x<wt;x++)r[x]._code=Xe(r[x],l);for(H=0;H<4;H++){for(Mt=_[H],g=[],x=0,wt=r.length,N=wt-1;x<wt;N=x++)Z=r[x],at=r[N],Z._code&Mt?at._code&Mt||(te=Eo(at,Z,Mt,l,h),te._code=Xe(te,l),g.push(te)):(at._code&Mt&&(te=Eo(at,Z,Mt,l,h),te._code=Xe(te,l),g.push(te)),g.push(Z));r=g}return r}function qs(r,l){var h,g,_,x,N,H,Z,at,wt;if(!r||r.length===0)throw new Error("latlngs not passed");hn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Mt=et([0,0]),te=J(r),qn=te.getNorthWest().distanceTo(te.getSouthWest())*te.getNorthEast().distanceTo(te.getNorthWest());qn<1700&&(Mt=Qr(r));var wn=r.length,wi=[];for(h=0;h<wn;h++){var Jn=et(r[h]);wi.push(l.project(et([Jn.lat-Mt.lat,Jn.lng-Mt.lng])))}for(H=Z=at=0,h=0,g=wn-1;h<wn;g=h++)_=wi[h],x=wi[g],N=_.y*x.x-x.y*_.x,Z+=(_.x+x.x)*N,at+=(_.y+x.y)*N,H+=N*3;H===0?wt=wi[0]:wt=[Z/H,at/H];var Ys=l.unproject(St(wt));return et([Ys.lat+Mt.lat,Ys.lng+Mt.lng])}function Qr(r){for(var l=0,h=0,g=0,_=0;_<r.length;_++){var x=et(r[_]);l+=x.lat,h+=x.lng,g++}return et([l/g,h/g])}var zc={__proto__:null,clipPolygon:ol,polygonCenter:qs,centroid:Qr};function Jr(r,l){if(!l||!r.length)return r.slice();var h=l*l;return r=Uc(r,h),r=xo(r,h),r}function rl(r,l,h){return Math.sqrt(dr(r,l,h,!0))}function Fc(r,l,h){return dr(r,l,h)}function xo(r,l){var h=r.length,g=typeof Uint8Array!=void 0+""?Uint8Array:Array,_=new g(h);_[0]=_[h-1]=1,Ws(r,_,l,0,h-1);var x,N=[];for(x=0;x<h;x++)_[x]&&N.push(r[x]);return N}function Ws(r,l,h,g,_){var x=0,N,H,Z;for(H=g+1;H<=_-1;H++)Z=dr(r[H],r[g],r[_],!0),Z>x&&(N=H,x=Z);x>h&&(l[N]=1,Ws(r,l,h,g,N),Ws(r,l,h,N,_))}function Uc(r,l){for(var h=[r[0]],g=1,_=0,x=r.length;g<x;g++)jc(r[g],r[_])>l&&(h.push(r[g]),_=g);return _<x-1&&h.push(r[x-1]),h}var sl;function al(r,l,h,g,_){var x=g?sl:Xe(r,h),N=Xe(l,h),H,Z,at;for(sl=N;;){if(!(x|N))return[r,l];if(x&N)return!1;H=x||N,Z=Eo(r,l,H,h,_),at=Xe(Z,h),H===x?(r=Z,x=at):(l=Z,N=at)}}function Eo(r,l,h,g,_){var x=l.x-r.x,N=l.y-r.y,H=g.min,Z=g.max,at,wt;return h&8?(at=r.x+x*(Z.y-r.y)/N,wt=Z.y):h&4?(at=r.x+x*(H.y-r.y)/N,wt=H.y):h&2?(at=Z.x,wt=r.y+N*(Z.x-r.x)/x):h&1&&(at=H.x,wt=r.y+N*(H.x-r.x)/x),new tt(at,wt,_)}function Xe(r,l){var h=0;return r.x<l.min.x?h|=1:r.x>l.max.x&&(h|=2),r.y<l.min.y?h|=4:r.y>l.max.y&&(h|=8),h}function jc(r,l){var h=l.x-r.x,g=l.y-r.y;return h*h+g*g}function dr(r,l,h,g){var _=l.x,x=l.y,N=h.x-_,H=h.y-x,Z=N*N+H*H,at;return Z>0&&(at=((r.x-_)*N+(r.y-x)*H)/Z,at>1?(_=h.x,x=h.y):at>0&&(_+=N*at,x+=H*at)),N=r.x-_,H=r.y-x,g?N*N+H*H:new tt(_,x)}function hn(r){return!B(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function d(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),hn(r)}function v(r,l){var h,g,_,x,N,H,Z,at;if(!r||r.length===0)throw new Error("latlngs not passed");hn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var wt=et([0,0]),Mt=J(r),te=Mt.getNorthWest().distanceTo(Mt.getSouthWest())*Mt.getNorthEast().distanceTo(Mt.getNorthWest());te<1700&&(wt=Qr(r));var qn=r.length,wn=[];for(h=0;h<qn;h++){var wi=et(r[h]);wn.push(l.project(et([wi.lat-wt.lat,wi.lng-wt.lng])))}for(h=0,g=0;h<qn-1;h++)g+=wn[h].distanceTo(wn[h+1])/2;if(g===0)at=wn[0];else for(h=0,x=0;h<qn-1;h++)if(N=wn[h],H=wn[h+1],_=N.distanceTo(H),x+=_,x>g){Z=(x-g)/_,at=[H.x-Z*(H.x-N.x),H.y-Z*(H.y-N.y)];break}var Jn=l.unproject(St(at));return et([Jn.lat+wt.lat,Jn.lng+wt.lng])}var y={__proto__:null,simplify:Jr,pointToSegmentDistance:rl,closestPointOnSegment:Fc,clipSegment:al,_getEdgeIntersection:Eo,_getBitCode:Xe,_sqClosestPointOnSegment:dr,isFlat:hn,_flat:d,polylineCenter:v},I={project:function(r){return new tt(r.lng,r.lat)},unproject:function(r){return new X(r.y,r.x)},bounds:new Ft([-180,-90],[180,90])},j={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ft([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var l=Math.PI/180,h=this.R,g=r.lat*l,_=this.R_MINOR/h,x=Math.sqrt(1-_*_),N=x*Math.sin(g),H=Math.tan(Math.PI/4-g/2)/Math.pow((1-N)/(1+N),x/2);return g=-h*Math.log(Math.max(H,1e-10)),new tt(r.lng*l*h,g)},unproject:function(r){for(var l=180/Math.PI,h=this.R,g=this.R_MINOR/h,_=Math.sqrt(1-g*g),x=Math.exp(-r.y/h),N=Math.PI/2-2*Math.atan(x),H=0,Z=.1,at;H<15&&Math.abs(Z)>1e-7;H++)at=_*Math.sin(N),at=Math.pow((1-at)/(1+at),_/2),Z=Math.PI/2-2*Math.atan(x*at)-N,N+=Z;return new X(N*l,r.x*l/h)}},Y={__proto__:null,LonLat:I,Mercator:j,SphericalMercator:gt},vt=o({},ft,{code:"EPSG:3395",projection:j,transformation:function(){var r=.5/(Math.PI*j.R);return Ut(r,.5,-r,.5)}()}),pe=o({},ft,{code:"EPSG:4326",projection:I,transformation:Ut(1/180,1,-1/180,.5)}),fn=o({},K,{projection:I,transformation:Ut(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,l){var h=l.lng-r.lng,g=l.lat-r.lat;return Math.sqrt(h*h+g*g)},infinite:!0});K.Earth=ft,K.EPSG3395=vt,K.EPSG3857=R,K.EPSG900913=D,K.EPSG4326=pe,K.Simple=fn;var jt=xt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[u(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[u(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var l=r.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});ie.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var l=u(r);return this._layers[l]?this:(this._layers[l]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var l=u(r);return this._layers[l]?(this._loaded&&r.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return u(r)in this._layers},eachLayer:function(r,l){for(var h in this._layers)r.call(l,this._layers[h]);return this},_addLayers:function(r){r=r?B(r)?r:[r]:[];for(var l=0,h=r.length;l<h;l++)this.addLayer(r[l])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[u(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var l=u(r);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,l=-1/0,h=this._getZoomSpan();for(var g in this._zoomBoundLayers){var _=this._zoomBoundLayers[g].options;r=_.minZoom===void 0?r:Math.min(r,_.minZoom),l=_.maxZoom===void 0?l:Math.max(l,_.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=r===1/0?void 0:r,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var je=jt.extend({initialize:function(r,l){k(this,l),this._layers={};var h,g;if(r)for(h=0,g=r.length;h<g;h++)this.addLayer(r[h])},addLayer:function(r){var l=this.getLayerId(r);return this._layers[l]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var l=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(r){var l=typeof r=="number"?r:this.getLayerId(r);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var l=Array.prototype.slice.call(arguments,1),h,g;for(h in this._layers)g=this._layers[h],g[r]&&g[r].apply(g,l);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,l){for(var h in this._layers)r.call(l,this._layers[h]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return u(r)}}),yn=function(r,l){return new je(r,l)},On=je.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),je.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),je.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Kt;for(var l in this._layers){var h=this._layers[l];r.extend(h.getBounds?h.getBounds():h.getLatLng())}return r}}),ai=function(r,l){return new On(r,l)},Ri=$t.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){k(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,l){var h=this._getIconUrl(r);if(!h){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(g,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(r,l){var h=this.options,g=h[l+"Size"];typeof g=="number"&&(g=[g,g]);var _=St(g),x=St(l==="shadow"&&h.shadowAnchor||h.iconAnchor||_&&_.divideBy(2,!0));r.className="leaflet-marker-"+l+" "+(h.className||""),x&&(r.style.marginLeft=-x.x+"px",r.style.marginTop=-x.y+"px"),_&&(r.style.width=_.x+"px",r.style.height=_.y+"px")},_createImg:function(r,l){return l=l||document.createElement("img"),l.src=r,l},_getIconUrl:function(r){return It.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function ll(r){return new Ri(r)}var cl=Ri.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof cl.imagePath!="string"&&(cl.imagePath=this._detectIconPath()),(this.options.imagePath||cl.imagePath)+Ri.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var l=function(h,g,_){var x=g.exec(h);return x&&x[_]};return r=l(r,/^url\((['"])?(.+)\1\)$/,2),r&&l(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Zt("div","leaflet-default-icon-path",document.body),l=Ye(r,"background-image")||Ye(r,"backgroundImage");if(document.body.removeChild(r),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Lg=yi.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Pi(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Xt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Be(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var l=this._marker,h=l._map,g=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,x=ae(l._icon),N=h.getPixelBounds(),H=h.getPixelOrigin(),Z=Gt(N.min._subtract(H).add(_),N.max._subtract(H).subtract(_));if(!Z.contains(x)){var at=St((Math.max(Z.max.x,x.x)-Z.max.x)/(N.max.x-Z.max.x)-(Math.min(Z.min.x,x.x)-Z.min.x)/(N.min.x-Z.min.x),(Math.max(Z.max.y,x.y)-Z.max.y)/(N.max.y-Z.max.y)-(Math.min(Z.min.y,x.y)-Z.min.y)/(N.min.y-Z.min.y)).multiplyBy(g);h.panBy(at,{animate:!1}),this._draggable._newPos._add(at),this._draggable._startPos._add(at),Ue(l._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=C(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(V(this._panRequest),this._panRequest=C(this._adjustPan.bind(this,r)))},_onDrag:function(r){var l=this._marker,h=l._shadow,g=ae(l._icon),_=l._map.layerPointToLatLng(g);h&&Ue(h,g),l._latlng=_,r.latlng=_,r.oldLatLng=this._oldLatLng,l.fire("move",r).fire("drag",r)},_onDragEnd:function(r){V(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Hc=jt.extend({options:{icon:new cl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,l){k(this,l),this._latlng=et(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var l=this._latlng;return this._latlng=et(r),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=r.icon.createIcon(this._icon),g=!1;h!==this._icon&&(this._icon&&this._removeIcon(),g=!0,r.title&&(h.title=r.title),h.tagName==="IMG"&&(h.alt=r.alt||"")),Xt(h,l),r.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&zt(h,"focus",this._panOnFocus,this);var _=r.icon.createShadow(this._shadow),x=!1;_!==this._shadow&&(this._removeShadow(),x=!0),_&&(Xt(_,l),_.alt=""),this._shadow=_,r.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&x&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xe(this._icon,"focus",this._panOnFocus,this),Ee(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ee(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Ue(this._icon,r),this._shadow&&Ue(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Xt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Lg)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Lg(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&on(this._icon,r),this._shadow&&on(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var l=this.options.icon.options,h=l.iconSize?St(l.iconSize):St(0,0),g=l.iconAnchor?St(l.iconAnchor):St(0,0);r.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:h.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function cT(r,l){return new Hc(r,l)}var hr=jt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return k(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),qc=hr.extend({options:{fill:!0,radius:10},initialize:function(r,l){k(this,l),this._latlng=et(r),this._radius=this.options.radius},setLatLng:function(r){var l=this._latlng;return this._latlng=et(r),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var l=r&&r.radius||this._radius;return hr.prototype.setStyle.call(this,r),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,l=this._radiusY||r,h=this._clickTolerance(),g=[r+h,l+h];this._pxBounds=new Ft(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function uT(r,l){return new qc(r,l)}var Eh=qc.extend({initialize:function(r,l,h){if(typeof l=="number"&&(l=o({},h,{radius:l})),k(this,l),this._latlng=et(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Kt(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:hr.prototype.setStyle,_project:function(){var r=this._latlng.lng,l=this._latlng.lat,h=this._map,g=h.options.crs;if(g.distance===ft.distance){var _=Math.PI/180,x=this._mRadius/ft.R/_,N=h.project([l+x,r]),H=h.project([l-x,r]),Z=N.add(H).divideBy(2),at=h.unproject(Z).lat,wt=Math.acos((Math.cos(x*_)-Math.sin(l*_)*Math.sin(at*_))/(Math.cos(l*_)*Math.cos(at*_)))/_;(isNaN(wt)||wt===0)&&(wt=x/Math.cos(Math.PI/180*l)),this._point=Z.subtract(h.getPixelOrigin()),this._radius=isNaN(wt)?0:Z.x-h.project([at,r-wt]).x,this._radiusY=Z.y-N.y}else{var Mt=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Mt).x}this._updateBounds()}});function dT(r,l,h){return new Eh(r,l,h)}var To=hr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,l){k(this,l),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var l=1/0,h=null,g=dr,_,x,N=0,H=this._parts.length;N<H;N++)for(var Z=this._parts[N],at=1,wt=Z.length;at<wt;at++){_=Z[at-1],x=Z[at];var Mt=g(r,_,x,!0);Mt<l&&(l=Mt,h=g(r,_,x))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return v(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,l){return l=l||this._defaultShape(),r=et(r),l.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Kt,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return hn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var l=[],h=hn(r),g=0,_=r.length;g<_;g++)h?(l[g]=et(r[g]),this._bounds.extend(l[g])):l[g]=this._convertLatLngs(r[g]);return l},_project:function(){var r=new Ft;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),l=new tt(r,r);this._rawPxBounds&&(this._pxBounds=new Ft([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(r,l,h){var g=r[0]instanceof X,_=r.length,x,N;if(g){for(N=[],x=0;x<_;x++)N[x]=this._map.latLngToLayerPoint(r[x]),h.extend(N[x]);l.push(N)}else for(x=0;x<_;x++)this._projectLatlngs(r[x],l,h)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,g,_,x,N,H,Z;for(h=0,_=0,x=this._rings.length;h<x;h++)for(Z=this._rings[h],g=0,N=Z.length;g<N-1;g++)H=al(Z[g],Z[g+1],r,g,!0),H&&(l[_]=l[_]||[],l[_].push(H[0]),(H[1]!==Z[g+1]||g===N-2)&&(l[_].push(H[1]),_++))}},_simplifyPoints:function(){for(var r=this._parts,l=this.options.smoothFactor,h=0,g=r.length;h<g;h++)r[h]=Jr(r[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,l){var h,g,_,x,N,H,Z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(h=0,x=this._parts.length;h<x;h++)for(H=this._parts[h],g=0,N=H.length,_=N-1;g<N;_=g++)if(!(!l&&g===0)&&rl(r,H[_],H[g])<=Z)return!0;return!1}});function hT(r,l){return new To(r,l)}To._flat=d;var Gs=To.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return qs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var l=To.prototype._convertLatLngs.call(this,r),h=l.length;return h>=2&&l[0]instanceof X&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(r){To.prototype._setLatLngs.call(this,r),hn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return hn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,l=this.options.weight,h=new tt(l,l);if(r=new Ft(r.min.subtract(h),r.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,_=this._rings.length,x;g<_;g++)x=ol(this._rings[g],r,!0),x.length&&this._parts.push(x)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var l=!1,h,g,_,x,N,H,Z,at;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(x=0,Z=this._parts.length;x<Z;x++)for(h=this._parts[x],N=0,at=h.length,H=at-1;N<at;H=N++)g=h[N],_=h[H],g.y>r.y!=_.y>r.y&&r.x<(_.x-g.x)*(r.y-g.y)/(_.y-g.y)+g.x&&(l=!l);return l||To.prototype._containsPoint.call(this,r,!0)}});function fT(r,l){return new Gs(r,l)}var ko=On.extend({initialize:function(r,l){k(this,l),this._layers={},r&&this.addData(r)},addData:function(r){var l=B(r)?r:r.features,h,g,_;if(l){for(h=0,g=l.length;h<g;h++)_=l[h],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var x=this.options;if(x.filter&&!x.filter(r))return this;var N=Wc(r,x);return N?(N.feature=Zc(r),N.defaultOptions=N.options,this.resetStyle(N),x.onEachFeature&&x.onEachFeature(r,N),this.addLayer(N)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=o({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(l){this._setLayerStyle(l,r)},this)},_setLayerStyle:function(r,l){r.setStyle&&(typeof l=="function"&&(l=l(r.feature)),r.setStyle(l))}});function Wc(r,l){var h=r.type==="Feature"?r.geometry:r,g=h?h.coordinates:null,_=[],x=l&&l.pointToLayer,N=l&&l.coordsToLatLng||Th,H,Z,at,wt;if(!g&&!h)return null;switch(h.type){case"Point":return H=N(g),Og(x,r,H,l);case"MultiPoint":for(at=0,wt=g.length;at<wt;at++)H=N(g[at]),_.push(Og(x,r,H,l));return new On(_);case"LineString":case"MultiLineString":return Z=Gc(g,h.type==="LineString"?0:1,N),new To(Z,l);case"Polygon":case"MultiPolygon":return Z=Gc(g,h.type==="Polygon"?1:2,N),new Gs(Z,l);case"GeometryCollection":for(at=0,wt=h.geometries.length;at<wt;at++){var Mt=Wc({geometry:h.geometries[at],type:"Feature",properties:r.properties},l);Mt&&_.push(Mt)}return new On(_);case"FeatureCollection":for(at=0,wt=h.features.length;at<wt;at++){var te=Wc(h.features[at],l);te&&_.push(te)}return new On(_);default:throw new Error("Invalid GeoJSON object.")}}function Og(r,l,h,g){return r?r(l,h):new Hc(h,g&&g.markersInheritOptions&&g)}function Th(r){return new X(r[1],r[0],r[2])}function Gc(r,l,h){for(var g=[],_=0,x=r.length,N;_<x;_++)N=l?Gc(r[_],l-1,h):(h||Th)(r[_]),g.push(N);return g}function kh(r,l){return r=et(r),r.alt!==void 0?[b(r.lng,l),b(r.lat,l),b(r.alt,l)]:[b(r.lng,l),b(r.lat,l)]}function Kc(r,l,h,g){for(var _=[],x=0,N=r.length;x<N;x++)_.push(l?Kc(r[x],hn(r[x])?0:l-1,h,g):kh(r[x],g));return!l&&h&&_.length>0&&_.push(_[0].slice()),_}function Ks(r,l){return r.feature?o({},r.feature,{geometry:l}):Zc(l)}function Zc(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Ih={toGeoJSON:function(r){return Ks(this,{type:"Point",coordinates:kh(this.getLatLng(),r)})}};Hc.include(Ih),Eh.include(Ih),qc.include(Ih),To.include({toGeoJSON:function(r){var l=!hn(this._latlngs),h=Kc(this._latlngs,l?1:0,!1,r);return Ks(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),Gs.include({toGeoJSON:function(r){var l=!hn(this._latlngs),h=l&&!hn(this._latlngs[0]),g=Kc(this._latlngs,h?2:l?1:0,!0,r);return l||(g=[g]),Ks(this,{type:(h?"Multi":"")+"Polygon",coordinates:g})}}),je.include({toMultiPoint:function(r){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(r).geometry.coordinates)}),Ks(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(r){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(r);var h=l==="GeometryCollection",g=[];return this.eachLayer(function(_){if(_.toGeoJSON){var x=_.toGeoJSON(r);if(h)g.push(x.geometry);else{var N=Zc(x);N.type==="FeatureCollection"?g.push.apply(g,N.features):g.push(N)}}}),h?Ks(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function $g(r,l){return new ko(r,l)}var pT=$g,Yc=jt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,l,h){this._url=r,this._bounds=J(l),k(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Xt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ee(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&vo(this._image),this},bringToBack:function(){return this._map&&bo(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=J(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",l=this._image=r?this._url:Zt("img");if(Xt(l,"leaflet-image-layer"),this._zoomAnimated&&Xt(l,"leaflet-zoom-animated"),this.options.className&&Xt(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(r){var l=this._map.getZoomScale(r.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;vi(this._image,h,l)},_reset:function(){var r=this._image,l=new Ft(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();Ue(r,l.min),r.style.width=h.x+"px",r.style.height=h.y+"px"},_updateOpacity:function(){on(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),mT=function(r,l,h){return new Yc(r,l,h)},Mg=Yc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",l=this._image=r?this._url:Zt("video");if(Xt(l,"leaflet-image-layer"),this._zoomAnimated&&Xt(l,"leaflet-zoom-animated"),this.options.className&&Xt(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onloadeddata=a(this.fire,this,"load"),r){for(var h=l.getElementsByTagName("source"),g=[],_=0;_<h.length;_++)g.push(h[_].src);this._url=h.length>0?g:[l.src];return}B(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var x=0;x<this._url.length;x++){var N=Zt("source");N.src=this._url[x],l.appendChild(N)}}});function gT(r,l,h){return new Mg(r,l,h)}var Dg=Yc.extend({_initImage:function(){var r=this._image=this._url;Xt(r,"leaflet-image-layer"),this._zoomAnimated&&Xt(r,"leaflet-zoom-animated"),this.options.className&&Xt(r,this.options.className),r.onselectstart=m,r.onmousemove=m}});function vT(r,l,h){return new Dg(r,l,h)}var Ji=jt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,l){r&&(r instanceof X||B(r))?(this._latlng=et(r),k(this,l)):(k(this,r),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&on(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&on(this._container,1),this.bringToFront(),this.options.interactive&&(Xt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(on(this._container,0),this._removeTimeout=setTimeout(a(Ee,void 0,this._container),200)):Ee(this._container),this.options.interactive&&(Be(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=et(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&vo(this._container),this},bringToBack:function(){return this._map&&bo(this._container),this},_prepareOpen:function(r){var l=this._source;if(!l._map)return!1;if(l instanceof On){l=null;var h=this._source._layers;for(var g in h)if(h[g]._map){l=h[g];break}if(!l)return!1;this._source=l}if(!r)if(l.getCenter)r=l.getCenter();else if(l.getLatLng)r=l.getLatLng();else if(l.getBounds)r=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")r.innerHTML=l;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),l=St(this.options.offset),h=this._getAnchor();this._zoomAnimated?Ue(this._container,r.add(h)):l=l.add(r).add(h);var g=this._containerBottom=-l.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=g+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});ie.include({_initOverlay:function(r,l,h,g){var _=l;return _ instanceof r||(_=new r(g).setContent(l)),h&&_.setLatLng(h),_}}),jt.include({_initOverlay:function(r,l,h,g){var _=h;return _ instanceof r?(k(_,g),_._source=this):(_=l&&!g?l:new r(g,this),_.setContent(h)),_}});var Xc=Ji.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Ji.prototype.openOn.call(this,r)},onAdd:function(r){Ji.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof hr||this._source.on("preclick",wo))},onRemove:function(r){Ji.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof hr||this._source.off("preclick",wo))},getEvents:function(){var r=Ji.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",l=this._container=Zt("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Zt("div",r+"-content-wrapper",l);if(this._contentNode=Zt("div",r+"-content",h),Qi(l),ar(this._contentNode),zt(l,"contextmenu",wo),this._tipContainer=Zt("div",r+"-tip-container",l),this._tip=Zt("div",r+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=Zt("a",r+"-close-button",l);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',zt(g,"click",function(_){rn(_),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,l=r.style;l.width="",l.whiteSpace="nowrap";var h=r.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var g=r.offsetHeight,_=this.options.maxHeight,x="leaflet-popup-scrolled";_&&g>_?(l.height=_+"px",Xt(r,x)):Be(r,x),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),h=this._getAnchor();Ue(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,l=parseInt(Ye(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,g=this._containerWidth,_=new tt(this._containerLeft,-h-this._containerBottom);_._add(ae(this._container));var x=r.layerPointToContainerPoint(_),N=St(this.options.autoPanPadding),H=St(this.options.autoPanPaddingTopLeft||N),Z=St(this.options.autoPanPaddingBottomRight||N),at=r.getSize(),wt=0,Mt=0;x.x+g+Z.x>at.x&&(wt=x.x+g-at.x+Z.x),x.x-wt-H.x<0&&(wt=x.x-H.x),x.y+h+Z.y>at.y&&(Mt=x.y+h-at.y+Z.y),x.y-Mt-H.y<0&&(Mt=x.y-H.y),(wt||Mt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([wt,Mt]))}},_getAnchor:function(){return St(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),bT=function(r,l){return new Xc(r,l)};ie.mergeOptions({closePopupOnClick:!0}),ie.include({openPopup:function(r,l,h){return this._initOverlay(Xc,r,l,h).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),jt.include({bindPopup:function(r,l){return this._popup=this._initOverlay(Xc,this._popup,r,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof On||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){si(r);var l=r.layer||r.target;if(this._popup._source===l&&!(l instanceof hr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=l,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Qc=Ji.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Ji.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Ji.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Ji.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",l=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Zt("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var l,h,g=this._map,_=this._container,x=g.latLngToContainerPoint(g.getCenter()),N=g.layerPointToContainerPoint(r),H=this.options.direction,Z=_.offsetWidth,at=_.offsetHeight,wt=St(this.options.offset),Mt=this._getAnchor();H==="top"?(l=Z/2,h=at):H==="bottom"?(l=Z/2,h=0):H==="center"?(l=Z/2,h=at/2):H==="right"?(l=0,h=at/2):H==="left"?(l=Z,h=at/2):N.x<x.x?(H="right",l=0,h=at/2):(H="left",l=Z+(wt.x+Mt.x)*2,h=at/2),r=r.subtract(St(l,h,!0)).add(wt).add(Mt),Be(_,"leaflet-tooltip-right"),Be(_,"leaflet-tooltip-left"),Be(_,"leaflet-tooltip-top"),Be(_,"leaflet-tooltip-bottom"),Xt(_,"leaflet-tooltip-"+H),Ue(_,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&on(this._container,r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(l)},_getAnchor:function(){return St(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),_T=function(r,l){return new Qc(r,l)};ie.include({openTooltip:function(r,l,h){return this._initOverlay(Qc,r,l,h).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),jt.include({bindTooltip:function(r,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Qc,this._tooltip,r,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var l=r?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof On||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&(zt(l,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),zt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var l=r.latlng,h,g;this._tooltip.options.sticky&&r.originalEvent&&(h=this._map.mouseEventToContainerPoint(r.originalEvent),g=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(l)}});var Ng=Ri.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var l=r&&r.tagName==="DIV"?r:document.createElement("div"),h=this.options;if(h.html instanceof Element?(sr(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var g=St(h.bgPos);l.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function yT(r){return new Ng(r)}Ri.Default=cl;var ul=jt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:It.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){k(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Ee(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(vo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(bo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof tt?r:new tt(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var l=this.getPane().children,h=-r(-1/0,1/0),g=0,_=l.length,x;g<_;g++)x=l[g].style.zIndex,l[g]!==this._container&&x&&(h=r(h,+x));isFinite(h)&&(this.options.zIndex=h+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!It.ielt9){on(this._container,this.options.opacity);var r=+new Date,l=!1,h=!1;for(var g in this._tiles){var _=this._tiles[g];if(!(!_.current||!_.loaded)){var x=Math.min(1,(r-_.loaded)/200);on(_.el,x),x<1?l=!0:(_.active?h=!0:this._onOpaqueTile(_),_.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(V(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Zt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,l=this.options.maxZoom;if(r!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===r?(this._levels[h].el.style.zIndex=l-Math.abs(r-h),this._onUpdateLevel(h)):(Ee(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var g=this._levels[r],_=this._map;return g||(g=this._levels[r]={},g.el=Zt("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=l,g.origin=_.project(_.unproject(_.getPixelOrigin()),r).round(),g.zoom=r,this._setZoomTransform(g,_.getCenter(),_.getZoom()),m(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var r,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)l=this._tiles[r],l.retain=l.current;for(r in this._tiles)if(l=this._tiles[r],l.current&&!l.active){var g=l.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var l in this._tiles)this._tiles[l].coords.z===r&&this._removeTile(l)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Ee(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,l,h,g){var _=Math.floor(r/2),x=Math.floor(l/2),N=h-1,H=new tt(+_,+x);H.z=+N;var Z=this._tileCoordsToKey(H),at=this._tiles[Z];return at&&at.active?(at.retain=!0,!0):(at&&at.loaded&&(at.retain=!0),N>g?this._retainParent(_,x,N,g):!1)},_retainChildren:function(r,l,h,g){for(var _=2*r;_<2*r+2;_++)for(var x=2*l;x<2*l+2;x++){var N=new tt(_,x);N.z=h+1;var H=this._tileCoordsToKey(N),Z=this._tiles[H];if(Z&&Z.active){Z.retain=!0;continue}else Z&&Z.loaded&&(Z.retain=!0);h+1<g&&this._retainChildren(_,x,h+1,g)}},_resetView:function(r){var l=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var l=this.options;return l.minNativeZoom!==void 0&&r<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<r?l.maxNativeZoom:r},_setView:function(r,l,h,g){var _=Math.round(l);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var x=this.options.updateWhenZooming&&_!==this._tileZoom;(!g||x)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(r),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(r,l)},_setZoomTransforms:function(r,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],r,l)},_setZoomTransform:function(r,l,h){var g=this._map.getZoomScale(h,r.zoom),_=r.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(l,h)).round();It.any3d?vi(r.el,_,g):Ue(r.el,_)},_resetGrid:function(){var r=this._map,l=r.options.crs,h=this._tileSize=this.getTileSize(),g=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,l.wrapLng[0]],g).x/h.x),Math.ceil(r.project([0,l.wrapLng[1]],g).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([l.wrapLat[0],0],g).y/h.x),Math.ceil(r.project([l.wrapLat[1],0],g).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),g=l.getZoomScale(h,this._tileZoom),_=l.project(r,this._tileZoom).floor(),x=l.getSize().divideBy(g*2);return new Ft(_.subtract(x),_.add(x))},_update:function(r){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(r===void 0&&(r=l.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(r),_=this._pxBoundsToTileRange(g),x=_.getCenter(),N=[],H=this.options.keepBuffer,Z=new Ft(_.getBottomLeft().subtract([H,-H]),_.getTopRight().add([H,-H]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var at in this._tiles){var wt=this._tiles[at].coords;(wt.z!==this._tileZoom||!Z.contains(new tt(wt.x,wt.y)))&&(this._tiles[at].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(r,h);return}for(var Mt=_.min.y;Mt<=_.max.y;Mt++)for(var te=_.min.x;te<=_.max.x;te++){var qn=new tt(te,Mt);if(qn.z=this._tileZoom,!!this._isValidTile(qn)){var wn=this._tiles[this._tileCoordsToKey(qn)];wn?wn.current=!0:N.push(qn)}}if(N.sort(function(Jn,Ys){return Jn.distanceTo(x)-Ys.distanceTo(x)}),N.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var wi=document.createDocumentFragment();for(te=0;te<N.length;te++)this._addTile(N[te],wi);this._level.el.appendChild(wi)}}}},_isValidTile:function(r){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(r.x<h.min.x||r.x>h.max.x)||!l.wrapLat&&(r.y<h.min.y||r.y>h.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(r);return J(this.options.bounds).overlaps(g)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var l=this._map,h=this.getTileSize(),g=r.scaleBy(h),_=g.add(h),x=l.unproject(g,r.z),N=l.unproject(_,r.z);return[x,N]},_tileCoordsToBounds:function(r){var l=this._tileCoordsToNwSe(r),h=new Kt(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var l=r.split(":"),h=new tt(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(r){var l=this._tiles[r];l&&(Ee(l.el),delete this._tiles[r],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Xt(r,"leaflet-tile");var l=this.getTileSize();r.style.width=l.x+"px",r.style.height=l.y+"px",r.onselectstart=m,r.onmousemove=m,It.ielt9&&this.options.opacity<1&&on(r,this.options.opacity)},_addTile:function(r,l){var h=this._getTilePos(r),g=this._tileCoordsToKey(r),_=this.createTile(this._wrapCoords(r),a(this._tileReady,this,r));this._initTile(_),this.createTile.length<2&&C(a(this._tileReady,this,r,null,_)),Ue(_,h),this._tiles[g]={el:_,coords:r,current:!0},l.appendChild(_),this.fire("tileloadstart",{tile:_,coords:r})},_tileReady:function(r,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:r});var g=this._tileCoordsToKey(r);h=this._tiles[g],h&&(h.loaded=+new Date,this._map._fadeAnimated?(on(h.el,0),V(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(Xt(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),It.ielt9||!this._map._fadeAnimated?C(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var l=new tt(this._wrapX?p(r.x,this._wrapX):r.x,this._wrapY?p(r.y,this._wrapY):r.y);return l.z=r.z,l},_pxBoundsToTileRange:function(r){var l=this.getTileSize();return new Ft(r.min.unscaleBy(l).floor(),r.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function wT(r){return new ul(r)}var Zs=ul.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,l){this._url=r,l=k(this,l),l.detectRetina&&It.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,l){return this._url===r&&l===void 0&&(l=!0),this._url=r,l||this.redraw(),this},createTile:function(r,l){var h=document.createElement("img");return zt(h,"load",a(this._tileOnLoad,this,l,h)),zt(h,"error",a(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(r),h},getTileUrl:function(r){var l={r:It.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-r.y;this.options.tms&&(l.y=h),l["-y"]=h}return F(this._url,o(l,this.options))},_tileOnLoad:function(r,l){It.ielt9?setTimeout(a(r,this,null,l),0):r(null,l)},_tileOnError:function(r,l,h){var g=this.options.errorTileUrl;g&&l.getAttribute("src")!==g&&(l.src=g),r(h,l)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,g=this.options.zoomOffset;return h&&(r=l-r),r+g},_getSubdomain:function(r){var l=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var r,l;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(l=this._tiles[r].el,l.onload=m,l.onerror=m,!l.complete)){l.src=U;var h=this._tiles[r].coords;Ee(l),delete this._tiles[r],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(r){var l=this._tiles[r];if(l)return l.el.setAttribute("src",U),ul.prototype._removeTile.call(this,r)},_tileReady:function(r,l,h){if(!(!this._map||h&&h.getAttribute("src")===U))return ul.prototype._tileReady.call(this,r,l,h)}});function Vg(r,l){return new Zs(r,l)}var Bg=Zs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,l){this._url=r;var h=o({},this.defaultWmsParams);for(var g in l)g in this.options||(h[g]=l[g]);l=k(this,l);var _=l.detectRetina&&It.retina?2:1,x=this.getTileSize();h.width=x.x*_,h.height=x.y*_,this.wmsParams=h},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Zs.prototype.onAdd.call(this,r)},getTileUrl:function(r){var l=this._tileCoordsToNwSe(r),h=this._crs,g=Gt(h.project(l[0]),h.project(l[1])),_=g.min,x=g.max,N=(this._wmsVersion>=1.3&&this._crs===pe?[_.y,_.x,x.y,x.x]:[_.x,_.y,x.x,x.y]).join(","),H=Zs.prototype.getTileUrl.call(this,r);return H+$(this.wmsParams,H,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+N},setParams:function(r,l){return o(this.wmsParams,r),l||this.redraw(),this}});function xT(r,l){return new Bg(r,l)}Zs.WMS=Bg,Vg.wms=xT;var Io=jt.extend({options:{padding:.1},initialize:function(r){k(this,r),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Xt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,l){var h=this._map.getZoomScale(l,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,l),x=g.multiplyBy(-h).add(_).subtract(this._map._getNewPixelOrigin(r,l));It.any3d?vi(this._container,x,h):Ue(this._container,x)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-r)).round();this._bounds=new Ft(h,h.add(l.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),zg=Io.extend({options:{tolerance:0},getEvents:function(){var r=Io.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Io.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");zt(r,"mousemove",this._onMouseMove,this),zt(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),zt(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){V(this._redrawRequest),delete this._ctx,Ee(this._container),xe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var l in this._layers)r=this._layers[l],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Io.prototype._update.call(this);var r=this._bounds,l=this._container,h=r.getSize(),g=It.retina?2:1;Ue(l,r.min),l.width=g*h.x,l.height=g*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",It.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Io.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[u(r)]=r;var l=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var l=r._order,h=l.next,g=l.prev;h?h.prev=g:this._drawLast=g,g?g.next=h:this._drawFirst=h,delete r._order,delete this._layers[u(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var l=r.options.dashArray.split(/[, ]+/),h=[],g,_;for(_=0;_<l.length;_++){if(g=Number(l[_]),isNaN(g))return;h.push(g)}r.options._dashArray=h}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||C(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var l=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ft,this._redrawBounds.extend(r._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(r._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var l=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)r=g.layer,(!l||r._pxBounds&&r._pxBounds.intersects(l))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,l){if(this._drawing){var h,g,_,x,N=r._parts,H=N.length,Z=this._ctx;if(H){for(Z.beginPath(),h=0;h<H;h++){for(g=0,_=N[h].length;g<_;g++)x=N[h][g],Z[g?"lineTo":"moveTo"](x.x,x.y);l&&Z.closePath()}this._fillStroke(Z,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var l=r._point,h=this._ctx,g=Math.max(Math.round(r._radius),1),_=(Math.max(Math.round(r._radiusY),1)||g)/g;_!==1&&(h.save(),h.scale(1,_)),h.beginPath(),h.arc(l.x,l.y/_,g,0,Math.PI*2,!1),_!==1&&h.restore(),this._fillStroke(h,r)}},_fillStroke:function(r,l){var h=l.options;h.fill&&(r.globalAlpha=h.fillOpacity,r.fillStyle=h.fillColor||h.color,r.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(r.setLineDash&&r.setLineDash(l.options&&l.options._dashArray||[]),r.globalAlpha=h.opacity,r.lineWidth=h.weight,r.strokeStyle=h.color,r.lineCap=h.lineCap,r.lineJoin=h.lineJoin,r.stroke())},_onClick:function(r){for(var l=this._map.mouseEventToLayerPoint(r),h,g,_=this._drawFirst;_;_=_.next)h=_.layer,h.options.interactive&&h._containsPoint(l)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(h))&&(g=h);this._fireEvent(g?[g]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,l)}},_handleMouseOut:function(r){var l=this._hoveredLayer;l&&(Be(this._container,"leaflet-interactive"),this._fireEvent([l],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,l){if(!this._mouseHoverThrottled){for(var h,g,_=this._drawFirst;_;_=_.next)h=_.layer,h.options.interactive&&h._containsPoint(l)&&(g=h);g!==this._hoveredLayer&&(this._handleMouseOut(r),g&&(Xt(this._container,"leaflet-interactive"),this._fireEvent([g],r,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,l,h){this._map._fireDOMEvent(l,h||l.type,r)},_bringToFront:function(r){var l=r._order;if(l){var h=l.next,g=l.prev;if(h)h.prev=g;else return;g?g.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(r)}},_bringToBack:function(r){var l=r._order;if(l){var h=l.next,g=l.prev;if(g)g.next=h;else return;h?h.prev=g:g&&(this._drawLast=g),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(r)}}});function Fg(r){return It.canvas?new zg(r):null}var dl=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ET={_initContainer:function(){this._container=Zt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Io.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var l=r._container=dl("shape");Xt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",r._path=dl("path"),l.appendChild(r._path),this._updateStyle(r),this._layers[u(r)]=r},_addPath:function(r){var l=r._container;this._container.appendChild(l),r.options.interactive&&r.addInteractiveTarget(l)},_removePath:function(r){var l=r._container;Ee(l),r.removeInteractiveTarget(l),delete this._layers[u(r)]},_updateStyle:function(r){var l=r._stroke,h=r._fill,g=r.options,_=r._container;_.stroked=!!g.stroke,_.filled=!!g.fill,g.stroke?(l||(l=r._stroke=dl("stroke")),_.appendChild(l),l.weight=g.weight+"px",l.color=g.color,l.opacity=g.opacity,g.dashArray?l.dashStyle=B(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=g.lineCap.replace("butt","flat"),l.joinstyle=g.lineJoin):l&&(_.removeChild(l),r._stroke=null),g.fill?(h||(h=r._fill=dl("fill")),_.appendChild(h),h.color=g.fillColor||g.color,h.opacity=g.fillOpacity):h&&(_.removeChild(h),r._fill=null)},_updateCircle:function(r){var l=r._point.round(),h=Math.round(r._radius),g=Math.round(r._radiusY||h);this._setPath(r,r._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+g+" 0,"+65535*360)},_setPath:function(r,l){r._path.v=l},_bringToFront:function(r){vo(r._container)},_bringToBack:function(r){bo(r._container)}},Jc=It.vml?dl:q,hl=Io.extend({_initContainer:function(){this._container=Jc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Jc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ee(this._container),xe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Io.prototype._update.call(this);var r=this._bounds,l=r.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),Ue(h,r.min),h.setAttribute("viewBox",[r.min.x,r.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(r){var l=r._path=Jc("path");r.options.className&&Xt(l,r.options.className),r.options.interactive&&Xt(l,"leaflet-interactive"),this._updateStyle(r),this._layers[u(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Ee(r._path),r.removeInteractiveTarget(r._path),delete this._layers[u(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var l=r._path,h=r.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(r,l){this._setPath(r,ot(r._parts,l))},_updateCircle:function(r){var l=r._point,h=Math.max(Math.round(r._radius),1),g=Math.max(Math.round(r._radiusY),1)||h,_="a"+h+","+g+" 0 1,0 ",x=r._empty()?"M0 0":"M"+(l.x-h)+","+l.y+_+h*2+",0 "+_+-h*2+",0 ";this._setPath(r,x)},_setPath:function(r,l){r._path.setAttribute("d",l)},_bringToFront:function(r){vo(r._path)},_bringToBack:function(r){bo(r._path)}});It.vml&&hl.include(ET);function Ug(r){return It.svg||It.vml?new hl(r):null}ie.include({getRenderer:function(r){var l=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var l=this._paneRenderers[r];return l===void 0&&(l=this._createRenderer({pane:r}),this._paneRenderers[r]=l),l},_createRenderer:function(r){return this.options.preferCanvas&&Fg(r)||Ug(r)}});var jg=Gs.extend({initialize:function(r,l){Gs.prototype.initialize.call(this,this._boundsToLatLngs(r),l)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=J(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function TT(r,l){return new jg(r,l)}hl.create=Jc,hl.pointsToPath=ot,ko.geometryToLayer=Wc,ko.coordsToLatLng=Th,ko.coordsToLatLngs=Gc,ko.latLngToCoords=kh,ko.latLngsToCoords=Kc,ko.getFeature=Ks,ko.asFeature=Zc,ie.mergeOptions({boxZoom:!0});var Hg=yi.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){zt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){xe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ee(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Yi(),Bs(),this._startPoint=this._map.mouseEventToContainerPoint(r),zt(document,{contextmenu:si,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Zt("div","leaflet-zoom-box",this._container),Xt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var l=new Ft(this._point,this._startPoint),h=l.getSize();Ue(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Ee(this._box),Be(this._container,"leaflet-crosshair")),Ai(),Wa(),xe(document,{contextmenu:si,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new Kt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ie.addInitHook("addHandler","boxZoom",Hg),ie.mergeOptions({doubleClickZoom:!0});var qg=yi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var l=this._map,h=l.getZoom(),g=l.options.zoomDelta,_=r.originalEvent.shiftKey?h-g:h+g;l.options.doubleClickZoom==="center"?l.setZoom(_):l.setZoomAround(r.containerPoint,_)}});ie.addInitHook("addHandler","doubleClickZoom",qg),ie.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Wg=yi.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Pi(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Xt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Be(this._map._container,"leaflet-grab"),Be(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=J(this._map.options.maxBounds);this._offsetLimit=Gt(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,l){return r-(r-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;r.x<l.min.x&&(r.x=this._viscousLimit(r.x,l.min.x)),r.y<l.min.y&&(r.y=this._viscousLimit(r.y,l.min.y)),r.x>l.max.x&&(r.x=this._viscousLimit(r.x,l.max.x)),r.y>l.max.y&&(r.y=this._viscousLimit(r.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,l=Math.round(r/2),h=this._initialWorldOffset,g=this._draggable._newPos.x,_=(g-l+h)%r+l-h,x=(g+l+h)%r-l-h,N=Math.abs(_+h)<Math.abs(x+h)?_:x;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=N},_onDragEnd:function(r){var l=this._map,h=l.options,g=!h.inertia||r.noInertia||this._times.length<2;if(l.fire("dragend",r),g)l.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),x=(this._lastTime-this._times[0])/1e3,N=h.easeLinearity,H=_.multiplyBy(N/x),Z=H.distanceTo([0,0]),at=Math.min(h.inertiaMaxSpeed,Z),wt=H.multiplyBy(at/Z),Mt=at/(h.inertiaDeceleration*N),te=wt.multiplyBy(-Mt/2).round();!te.x&&!te.y?l.fire("moveend"):(te=l._limitOffset(te,l.options.maxBounds),C(function(){l.panBy(te,{duration:Mt,easeLinearity:N,noMoveStart:!0,animate:!0})}))}}});ie.addInitHook("addHandler","dragging",Wg),ie.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Gg=yi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),zt(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),xe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,l=document.documentElement,h=r.scrollTop||l.scrollTop,g=r.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(g,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var l=this._panKeys={},h=this.keyCodes,g,_;for(g=0,_=h.left.length;g<_;g++)l[h.left[g]]=[-1*r,0];for(g=0,_=h.right.length;g<_;g++)l[h.right[g]]=[r,0];for(g=0,_=h.down.length;g<_;g++)l[h.down[g]]=[0,r];for(g=0,_=h.up.length;g<_;g++)l[h.up[g]]=[0,-1*r]},_setZoomDelta:function(r){var l=this._zoomKeys={},h=this.keyCodes,g,_;for(g=0,_=h.zoomIn.length;g<_;g++)l[h.zoomIn[g]]=r;for(g=0,_=h.zoomOut.length;g<_;g++)l[h.zoomOut[g]]=-r},_addHooks:function(){zt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){xe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var l=r.keyCode,h=this._map,g;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(g=this._panKeys[l],r.shiftKey&&(g=St(g).multiplyBy(3)),h.options.maxBounds&&(g=h._limitOffset(St(g),h.options.maxBounds)),h.options.worldCopyJump){var _=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(g)));h.panTo(_)}else h.panBy(g)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;si(r)}}});ie.addInitHook("addHandler","keyboard",Gg),ie.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Kg=yi.extend({addHooks:function(){zt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){xe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var l=Re(r),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var g=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),g),si(r)},_performZoom:function(){var r=this._map,l=r.getZoom(),h=this._map.options.zoomSnap||0;r._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,x=h?Math.ceil(_/h)*h:_,N=r._limitZoom(l+(this._delta>0?x:-x))-l;this._delta=0,this._startTime=null,N&&(r.options.scrollWheelZoom==="center"?r.setZoom(l+N):r.setZoomAround(this._lastMousePos,l+N))}});ie.addInitHook("addHandler","scrollWheelZoom",Kg);var kT=600;ie.mergeOptions({tapHold:It.touchNative&&It.safari&&It.mobile,tapTolerance:15});var Zg=yi.extend({addHooks:function(){zt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){xe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var l=r.touches[0];this._startPos=this._newPos=new tt(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(zt(document,"touchend",rn),zt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),kT),zt(document,"touchend touchcancel contextmenu",this._cancel,this),zt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){xe(document,"touchend",rn),xe(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),xe(document,"touchend touchcancel contextmenu",this._cancel,this),xe(document,"touchmove",this._onMove,this)},_onMove:function(r){var l=r.touches[0];this._newPos=new tt(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,l){var h=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});ie.addInitHook("addHandler","tapHold",Zg),ie.mergeOptions({touchZoom:It.touch,bounceAtZoomLimits:!0});var Yg=yi.extend({addHooks:function(){Xt(this._map._container,"leaflet-touch-zoom"),zt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Be(this._map._container,"leaflet-touch-zoom"),xe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var l=this._map;if(!(!r.touches||r.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(r.touches[0]),g=l.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(g)._divideBy(2))),this._startDist=h.distanceTo(g),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),zt(document,"touchmove",this._onTouchMove,this),zt(document,"touchend touchcancel",this._onTouchEnd,this),rn(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(r.touches[0]),g=l.mouseEventToContainerPoint(r.touches[1]),_=h.distanceTo(g)/this._startDist;if(this._zoom=l.getScaleZoom(_,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&_<1||this._zoom>l.getMaxZoom()&&_>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var x=h._add(g)._divideBy(2)._subtract(this._centerPoint);if(_===1&&x.x===0&&x.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(x),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),V(this._animRequest);var N=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=C(N,this,!0),rn(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,V(this._animRequest),xe(document,"touchmove",this._onTouchMove,this),xe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ie.addInitHook("addHandler","touchZoom",Yg),ie.BoxZoom=Hg,ie.DoubleClickZoom=qg,ie.Drag=Wg,ie.Keyboard=Gg,ie.ScrollWheelZoom=Kg,ie.TapHold=Zg,ie.TouchZoom=Yg,n.Bounds=Ft,n.Browser=It,n.CRS=K,n.Canvas=zg,n.Circle=Eh,n.CircleMarker=qc,n.Class=$t,n.Control=Ln,n.DivIcon=Ng,n.DivOverlay=Ji,n.DomEvent=xh,n.DomUtil=Mc,n.Draggable=Pi,n.Evented=xt,n.FeatureGroup=On,n.GeoJSON=ko,n.GridLayer=ul,n.Handler=yi,n.Icon=Ri,n.ImageOverlay=Yc,n.LatLng=X,n.LatLngBounds=Kt,n.Layer=jt,n.LayerGroup=je,n.LineUtil=y,n.Map=ie,n.Marker=Hc,n.Mixin=Bc,n.Path=hr,n.Point=tt,n.PolyUtil=zc,n.Polygon=Gs,n.Polyline=To,n.Popup=Xc,n.PosAnimation=tl,n.Projection=Y,n.Rectangle=jg,n.Renderer=Io,n.SVG=hl,n.SVGOverlay=Dg,n.TileLayer=Zs,n.Tooltip=Qc,n.Transformation=Tt,n.Util=P,n.VideoOverlay=Mg,n.bind=a,n.bounds=Gt,n.canvas=Fg,n.circle=dT,n.circleMarker=uT,n.control=cr,n.divIcon=yT,n.extend=o,n.featureGroup=ai,n.geoJSON=$g,n.geoJson=pT,n.gridLayer=wT,n.icon=ll,n.imageOverlay=mT,n.latLng=et,n.latLngBounds=J,n.layerGroup=yn,n.map=Nc,n.marker=cT,n.point=St,n.polygon=fT,n.polyline=hT,n.popup=bT,n.rectangle=TT,n.setOptions=k,n.stamp=u,n.svg=Ug,n.svgOverlay=vT,n.tileLayer=Vg,n.tooltip=_T,n.transformation=Ut,n.version=i,n.videoOverlay=gT;var IT=window.L;n.noConflict=function(){return window.L=IT,this},window.L=n})})(Fp,Fp.exports);var Po=Fp.exports;const sB={key:0,class:"absolute inset-0 z-[100] bg-slate-900/40 backdrop-blur-md flex items-center justify-center p-6"},aB={class:"w-full max-w-md bg-white rounded-3xl shadow-2xl p-8 border border-slate-100 relative animate-in zoom-in duration-200"},lB={class:"text-center mb-8"},cB={class:"w-20 h-20 bg-blue-600 rounded-2xl shadow-xl shadow-blue-200 flex items-center justify-center mx-auto mb-4"},uB={class:"space-y-4"},dB={key:0,class:"text-red-500 text-xs font-medium bg-red-50 p-3 rounded-xl border border-red-100"},hB=["disabled"],fB={key:0,class:"animate-spin mr-2"},pB={class:"absolute top-0 left-0 right-0 p-4 z-20 flex flex-col gap-3"},mB={class:"bg-white/20 backdrop-blur-md rounded-2xl shadow-xl border border-white/20 p-4 flex items-center justify-between"},gB={key:0,class:"text-[10px] font-bold text-blue-600 uppercase tracking-widest"},vB={key:1,class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest"},bB={class:"flex gap-2"},_B={class:"flex gap-2 overflow-x-auto no-scrollbar pb-2"},yB={class:"bg-white/30 backdrop-blur-md px-4 py-2 rounded-full shadow-lg border border-white/20 whitespace-nowrap flex items-center gap-2"},wB={class:"text-sm font-semibold text-slate-700"},xB={class:"absolute bottom-24 right-4 z-20"},EB={key:0,class:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm"},TB={class:"w-full max-w-sm bg-white rounded-3xl shadow-2xl flex flex-col max-h-[90vh] animate-in zoom-in duration-200"},kB={class:"bg-blue-600 p-5 text-white text-center flex-shrink-0"},IB={class:"text-3xl mb-1 flex justify-center"},SB={class:"p-5 space-y-4 overflow-y-auto flex-1"},AB={class:"relative group"},CB=["onClick"],PB=["d"],RB={class:"text-[9px] font-bold text-center leading-tight text-slate-700 uppercase tracking-tighter line-clamp-2"},LB={class:"flex justify-between items-center mb-2 ml-1"},OB={class:"block text-[10px] font-bold text-slate-400 uppercase"},$B={class:"grid grid-cols-3 gap-2"},MB=["src"],DB=["onClick"],NB={class:"p-5 bg-slate-50/50 border-t border-slate-100 flex gap-3 flex-shrink-0"},VB=["disabled"],BB={key:0,class:"animate-spin mr-2"},zB=_n({__name:"MapView",setup(e){const t=fe(!1),n=fe(!1),i=fe(""),o=fe(""),s=fe(""),a=fe(!1),c=fe(null),u=fe(""),f=fe([]),p=fe(null),m=fe(null),b=fe([]),w=fe(!1),T=fe(!1),k=fe(!1),$=fe(""),M=fe("success"),F=fe(null);let B=null;const z=new Map;let U=null;const W=Qn(()=>n.value&&ee.user?ee.signalements.filter(J=>{var X,et;return J.firebase_uid_utilisateur&&J.firebase_uid_utilisateur===((X=ee.user)==null?void 0:X.firebaseUid)||!J.firebase_uid_utilisateur&&J.email===((et=ee.user)==null?void 0:et.email)}):ee.signalements),S=()=>{var J;(J=p.value)==null||J.click()},E=J=>{const X=J.target;if(!X.files)return;Array.from(X.files).forEach(K=>{const ft=new FileReader;ft.onload=async dt=>{var gt;if((gt=dt.target)!=null&&gt.result){const Tt=await C(dt.target.result);f.value.push(Tt)}},ft.readAsDataURL(K)}),X.value=""},A=async()=>{console.log("Tentative de prise de photo...");try{const J=await oB.getPhoto({quality:60,allowEditing:!1,resultType:zp.Base64,source:ds.Camera});if(J.base64String){const et=`data:${J.format==="png"?"image/png":"image/jpeg"};base64,${J.base64String}`,K=await C(et);f.value.push(K)}}catch(J){console.error("Erreur Camera:",J)}},O=J=>{f.value.splice(J,1)},C=(J,X=800,et=800,K=.6)=>new Promise(ft=>{const dt=new Image;dt.src=J,dt.onload=()=>{let gt=dt.width,Tt=dt.height;gt>Tt?gt>X&&(Tt*=X/gt,gt=X):Tt>et&&(gt*=et/Tt,Tt=et);const Ut=document.createElement("canvas");Ut.width=gt,Ut.height=Tt;const R=Ut.getContext("2d");R==null||R.drawImage(dt,0,0,gt,Tt),ft(Ut.toDataURL("image/jpeg",K))}}),V=async()=>{if(!i.value||!o.value){s.value="Veuillez remplir tous les champs";return}a.value=!0,s.value="";try{const J=i.value.trim(),X=o.value.trim(),et=await B_(ma(io,"configurations","max_tentatives_connexion")),K=et.exists()?parseInt(et.data().valeur):3,ft=zl(io,"utilisateurs"),dt=hd(ft,C1("email","==",J)),gt=await z_(dt);if(gt.empty){s.value="Email ou mot de passe incorrect";return}const Tt=gt.docs[0],Ut=Tt.ref,R=Tt.data();console.log("Utilisateur trouv dans Firestore:",R.email),console.log("MDP Firestore:",R.motDePasse,"| MDP saisi:",X);const D=await B_(ma(io,"configurations","duree_session_heures")),q=D.exists()?parseFloat(D.data().valeur):24;if(R.statut==="BLOQUE"){s.value="Votre compte est bloqu. Contactez un administrateur.";return}const ot={email:R.email,role:R.role,statut:R.statut,postgresId:R.id};if(R.motDePasse===X){await Lp(Ut,{tentatives_connexion:0,derniereConnexion:new Date().toISOString()});const Q=new Date(Date.now()+q*3600*1e3).toISOString(),nt={email:R.email,role:R.role,statut:R.statut,postgresId:R.postgresId,firebaseUid:Tt.id,expiresAt:Q};Ul(nt),localStorage.setItem("app_user",JSON.stringify(nt)),console.log(" Connexion russie, authentification Firebase Auth...");try{await O6(cs,J,X),console.log(" Firebase Auth russie"),console.log(" Les notifications vont s'initialiser automatiquement...")}catch(bt){console.warn(" Erreur Firebase Auth (normal si le compte n'existe pas dans Firebase Auth):",bt.message),console.log(" Tentative d'initialisation manuelle des notifications...");try{await Dn.initialize(),await Dn.loadNotifications(),console.log(" Service de notifications initialis manuellement")}catch(mt){console.error(" Erreur lors de l'initialisation manuelle des notifications:",mt)}}t.value=!1,i.value="",o.value=""}else{const Q=(R.tentatives_connexion||0)+1,nt={tentatives_connexion:Q};Q>=K?(nt.statut="BLOQUE",s.value=`Compte bloqu aprs ${Q} tentatives infructueuses.`):s.value=`Email ou mot de passe incorrect (${Q}/${K} tentatives)`,await Lp(Ut,nt)}}catch(J){console.error("Erreur Auth Firestore:",J),s.value="Une erreur est survenue lors de l'authentification"}finally{a.value=!1}},P=async()=>{Ul(null),localStorage.removeItem("app_user"),n.value=!1,Dn.cleanup();try{await cs.signOut()}catch(J){console.warn(" Erreur lors de la dconnexion Firebase Auth:",J)}},$t=()=>{if(B)return;const J={lat:-18.8792,lng:47.5079};B=Po.map("map",{zoomControl:!1,attributionControl:!1}).setView([J.lat,J.lng],13),Po.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(B),B.on("click",et=>{ee.user?c.value={lat:et.latlng.lat,lng:et.latlng.lng}:t.value=!0});const X=Po.icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41]});Po.Marker.prototype.options.icon=X,setTimeout(()=>B==null?void 0:B.invalidateSize(),500)},ne=async()=>{var J;if(!(!c.value||!ee.user)){if(!m.value){alert("Veuillez slectionner un type de signalement");return}w.value=!0;try{const X=f.value.map(dt=>({url:String(dt)})),et={latitude:Number(c.value.lat),longitude:Number(c.value.lng),description:String(u.value||""),galerie:X,firebase_uid_utilisateur:ee.user.firebaseUid||null,email_utilisateur:String(ee.user.email),id_type_signalement:Number(m.value),statut:"nouveau",dateSignalement:new Date().toISOString(),createdAt:NN()};console.log("Envoi du signalement avec",X.length,"photos");const K=await DN(zl(io,"signalements"),et);console.log("Signalement ajout avec ID:",K.id);const ft=c.value;c.value=null,u.value="",f.value=[],m.value=null,$.value="Signalement envoy avec succs !",M.value="success",k.value=!0}catch(X){console.error("Erreur lors de l'envoi:",X),M.value="danger",(J=X.message)!=null&&J.includes("too large")?$.value="Erreur : Le signalement est trop lourd.":$.value="Erreur lors de l'envoi du signalement",k.value=!0}finally{w.value=!1}}},Nt=()=>{if(B){if(T.value){const J={lat:-18.8792,lng:47.5079};B.setView([J.lat,J.lng],13),U&&(B.removeLayer(U),U=null),T.value=!1;return}"geolocation"in navigator?(T.value=!0,navigator.geolocation.getCurrentPosition(J=>{const{latitude:X,longitude:et}=J.coords;B==null||B.setView([X,et],16),U&&(B==null||B.removeLayer(U)),U=Po.layerGroup().addTo(B),Po.circle([X,et],{color:"#3b82f6",fillColor:"#3b82f6",fillOpacity:.15,radius:100,weight:1}).addTo(U),Po.circleMarker([X,et],{radius:8,fillColor:"#3b82f6",color:"#fff",weight:3,opacity:1,fillOpacity:1}).addTo(U)},J=>{T.value=!1,console.error("Erreur de golocalisation:",J);let X="Impossible de vous localiser";J.code===J.PERMISSION_DENIED&&(X="Permission de golocalisation refuse"),alert(X)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})):alert("La golocalisation n'est pas supporte par votre appareil")}},xt=J=>{const X=String(J||"").toLowerCase();return X.includes("nouveau")?"#3b82f6":X.includes("cours")?"#f59e0b":X.includes("termin")?"#10b981":"#64748b"},tt=J=>J==="#3b82f6"?"#1d4ed8":J==="#f59e0b"?"#b45309":J==="#10b981"?"#047857":"#334155",Ie=(J,X=!1)=>{const et=String(J.statut||"nouveau").toLowerCase(),K=J.type_couleur||xt(et);let ft="";J.type_icone_path?ft=`
      <g transform="translate(7.5, 5.5) scale(0.4)">
        <path d="${J.type_icone_path}" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
      </g>
    `:et.includes("nouveau")?ft='<g transform="translate(7.5, 5.5) scale(0.4)"><path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/></g>':et.includes("cours")?ft='<g transform="translate(7.5, 5.5) scale(0.4)"><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/><circle cx="12" cy="12" r="3" stroke="white" stroke-width="3" fill="none"/></g>':ft='<g transform="translate(7.5, 5.5) scale(0.4)"><path d="M5 13l4 4L19 7" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" fill="none"/></g>';let dt="",gt="white",Tt="1.5";return et.includes("termin")?(gt="#10b981",Tt="2.5",dt=`
      <div class="absolute -top-1 -right-1 w-4 h-4 bg-emerald-500 rounded-full border-2 border-white flex items-center justify-center shadow-lg z-10">
        <svg class="w-2.5 h-2.5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M5 13l4 4L19 7" />
        </svg>
      </div>
    `):et.includes("cours")?(gt="#f59e0b",Tt="2.5",dt=`
      <div class="absolute -top-1 -right-1 w-4 h-4 bg-amber-500 rounded-full border-2 border-white flex items-center justify-center shadow-lg z-10">
        <svg class="w-2.5 h-2.5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
        </svg>
      </div>
    `):dt=`
      <div class="absolute -top-1 -right-1 w-4 h-4 bg-blue-500 rounded-full border-2 border-white flex items-center justify-center shadow-lg z-10">
        <div class="w-1 h-1 bg-white rounded-full"></div>
      </div>
    `,Po.divIcon({className:`custom-div-icon ${X?"marker-selected":""}`,html:`
      <div class="marker-container relative flex items-center justify-center">
        ${X?`<div class="ping-animation absolute w-10 h-10 rounded-full opacity-20 animate-ping" style="background-color: ${K}"></div>`:""}
        ${dt}
        <svg class="pin-svg relative w-8 h-8 drop-shadow-2xl transition-all duration-300" viewBox="0 0 24 24" fill="none">
          <defs>
            <linearGradient id="grad-${K.replace("#","")}" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:${K};stop-opacity:1" />
              <stop offset="100%" style="stop-color:${tt(K)};stop-opacity:1" />
            </linearGradient>
          </defs>
          <path d="M12 21C15.5 17.4 19 14.1764 19 10.2C19 6.22355 15.866 3 12 3C8.13401 3 5 6.22355 5 10.2C5 14.1764 8.5 17.4 12 21Z" 
                fill="url(#grad-${K.replace("#","")})" 
                stroke="${gt}" 
                stroke-width="${Tt}"/>
          ${ft}
        </svg>
      </div>
    `,iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]})},St=J=>{if(!J)return"";try{const X=new Date(J);return new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"short"}).format(X)}catch{return""}},Ft=()=>{B&&(z.forEach(J=>J.remove()),z.clear(),W.value.forEach(J=>{if(J.latitude&&J.longitude){const X=Po.marker([J.latitude,J.longitude],{icon:Ie(J,F.value===J.id)}).on("click",()=>{F.value=J.id;const et=B.project([J.latitude,J.longitude],16);et.y-=150;const K=B.unproject(et,16);B==null||B.flyTo(K,16,{duration:1})}).addTo(B).bindPopup(`
        <div class="p-3 font-sans min-w-[220px] max-w-[280px]">
          <div class="flex items-center justify-between mb-2">
            <div class="flex items-center gap-2">
              <div class="w-2 h-2 rounded-full" style="background-color: ${xt(J.statut)}"></div>
              <p class="text-[10px] font-black text-slate-800 uppercase">${J.statut}</p>
            </div>
            <span class="text-[9px] font-bold text-blue-600 uppercase tracking-tighter">${J.type_nom||""}</span>
          </div>
          
          <div class="flex gap-2 overflow-x-auto no-scrollbar pb-2 mb-3">
            ${J.galerie&&J.galerie.length>0?J.galerie.map(et=>`<img src="${et.url}" class="w-40 h-28 object-cover rounded-xl flex-shrink-0 shadow-sm border border-slate-100">`).join(""):`<div class="w-full h-28 bg-slate-50 rounded-xl flex items-center justify-center text-slate-300 text-[10px] uppercase font-bold">Pas d'image</div>`}
          </div>

          <div class="space-y-2">
            <h3 class="font-bold text-slate-800 text-sm leading-tight">${J.description||"Sans description"}</h3>
            
            <div class="grid grid-cols-2 gap-2 mt-2 pt-2 border-t border-slate-50">
              ${J.surface_m2?`
                <div class="flex flex-col">
                  <span class="text-[8px] font-bold text-slate-400 uppercase tracking-wider">Surface</span>
                  <span class="text-[11px] font-bold text-slate-700">${J.surface_m2} m</span>
                </div>
              `:""}
              ${J.budget?`
                <div class="flex flex-col">
                  <span class="text-[8px] font-bold text-slate-400 uppercase tracking-wider">Budget</span>
                  <span class="text-[11px] font-bold text-emerald-600">${new Intl.NumberFormat("fr-FR",{style:"currency",currency:"MGA"}).format(J.budget)}</span>
                </div>
              `:""}
            </div>

            ${J.entreprise?`
              <div class="mt-2 p-2 bg-blue-50/50 rounded-lg border border-blue-100/50">
                <span class="text-[8px] font-bold text-blue-400 uppercase tracking-wider block mb-0.5">Entreprise concerne</span>
                <span class="text-[10px] font-bold text-blue-700">${J.entreprise}</span>
              </div>
            `:""}
          </div>
          
          <div class="flex justify-between items-center text-[9px] text-slate-400 mt-3 pt-2 border-t border-slate-50">
            <div class="flex items-center gap-1">
              <ion-icon :icon="locationOutline" class="text-[10px]" />
              <span>${J.latitude.toFixed(4)}, ${J.longitude.toFixed(4)}</span>
            </div>
            <span>${St(J.dateSignalement)}</span>
          </div>
        </div>
      `,{className:"custom-leaflet-popup",maxWidth:300});z.set(J.id,X)}}))};Fo(()=>F.value,()=>{Ft()}),Fo(()=>ee.signalements,()=>{Ft()},{deep:!0}),Fo(()=>n.value,()=>{Ft()});const Gt=async()=>{try{const J=hd(zl(io,"types_signalement")),X=await z_(J);b.value=X.docs.map(et=>({...et.data()})).sort((et,K)=>et.id-K.id)}catch(J){console.error("Erreur lors de la rcupration des types:",J)}},Kt=fe(null);return _c(()=>{setTimeout(()=>{$t(),Ft(),Gt()},100)}),(J,X)=>(Yt(),ci(ut(Hd),null,{default:le(()=>[t.value?(Yt(),ge("div",sB,[lt("div",aB,[lt("button",{onClick:X[0]||(X[0]=et=>t.value=!1),class:"absolute top-4 right-4 w-8 h-8 flex items-center justify-center bg-slate-100 rounded-full text-slate-400 hover:text-slate-600"},"  "),lt("div",lB,[lt("div",cB,[Pt(ut(Ke),{icon:ut(m3),class:"text-4xl text-white"},null,8,["icon"])]),X[9]||(X[9]=lt("h2",{class:"text-2xl font-bold text-slate-800"},"Se connecter",-1)),X[10]||(X[10]=lt("p",{class:"text-slate-500 text-sm mt-1"},"Accs rserv aux agents",-1))]),lt("div",uB,[lt("div",null,[X[11]||(X[11]=lt("label",{class:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1.5 ml-1"},"Email",-1)),_u(lt("input",{"onUpdate:modelValue":X[1]||(X[1]=et=>i.value=et),type:"email",placeholder:"votre@email.com",class:"w-full px-5 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-slate-700"},null,512),[[zh,i.value]])]),lt("div",null,[X[12]||(X[12]=lt("label",{class:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1.5 ml-1"},"Mot de passe",-1)),_u(lt("input",{"onUpdate:modelValue":X[2]||(X[2]=et=>o.value=et),type:"password",placeholder:"",class:"w-full px-5 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-slate-700"},null,512),[[zh,o.value]])]),s.value?(Yt(),ge("p",dB,Le(s.value),1)):mn("",!0),lt("button",{onClick:V,disabled:a.value,class:"w-full py-4 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 text-white rounded-2xl font-bold shadow-lg shadow-blue-500/30 transition-all transform active:scale-[0.98] flex items-center justify-center"},[a.value?(Yt(),ge("span",fB,[Pt(ut(Ke),{icon:ut(Dp)},null,8,["icon"])])):mn("",!0),zn(" "+Le(a.value?"Connexion...":"Se connecter"),1)],8,hB)]),X[13]||(X[13]=lt("p",{class:"text-center text-[10px] text-slate-400 mt-8 leading-relaxed uppercase tracking-widest font-bold"}," L'inscription se fait uniquement via le Manager sur l'application Web ",-1))])])):mn("",!0),Pt(ut(Tm),{fullscreen:!0,class:"ion-no-padding"},{default:le(()=>[X[23]||(X[23]=lt("div",{id:"map",class:"absolute inset-0 z-0 h-full w-full"},null,-1)),X[24]||(X[24]=lt("div",{class:"absolute inset-0 pointer-events-none bg-gradient-to-b from-black/10 via-transparent to-black/30 z-10"},null,-1)),lt("div",pB,[lt("div",mB,[lt("div",null,[X[14]||(X[14]=lt("h1",{class:"text-xl font-bold text-slate-800 tracking-tight"},"Signalement Routier",-1)),ut(ee).user?(Yt(),ge("p",gB,Le(ut(ee).user.email),1)):(Yt(),ge("p",vB,"Mode Visiteur"))]),lt("div",bB,[ut(ee).user?(Yt(),ge("button",{key:1,onClick:P,class:"bg-red-50 p-2.5 rounded-xl text-red-500 hover:bg-red-100 transition-colors active:scale-95 border border-red-100 shadow-sm"},[Pt(ut(Ke),{icon:ut(c3),class:"text-xl"},null,8,["icon"])])):(Yt(),ge("button",{key:0,onClick:X[3]||(X[3]=et=>t.value=!0),class:"bg-blue-600 px-4 py-2 rounded-xl text-white text-xs font-bold shadow-lg shadow-blue-500/20 active:scale-95 transition-all"}," Se connecter "))])]),lt("div",_B,[ut(ee).user?(Yt(),ge("button",{key:0,onClick:X[4]||(X[4]=et=>n.value=!n.value),class:ui([n.value?"bg-blue-600 text-white shadow-blue-500/30":"bg-white/30 text-slate-700 border-white/20","backdrop-blur-md px-4 py-2 rounded-full shadow-lg border whitespace-nowrap flex items-center gap-2 font-bold text-sm transition-all"])},[Pt(ut(Ke),{icon:ut(Np)},null,8,["icon"]),X[15]||(X[15]=zn(" Mes signalements ",-1))],2)):mn("",!0),lt("div",yB,[X[16]||(X[16]=lt("span",{class:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"},null,-1)),lt("span",wB,Le(W.value.length)+" Signalements",1)])])]),lt("div",xB,[lt("button",{onClick:Nt,class:ui([T.value?"bg-blue-600 text-white":"bg-white text-blue-600","w-11 h-11 rounded-xl shadow-2xl flex items-center justify-center active:scale-95 transition-all border border-slate-100"])},[Pt(ut(Ke),{icon:ut(a3),class:"text-xl"},null,8,["icon"])],2)]),Pt(ut(o$),{"is-open":k.value,message:$.value,duration:3e3,color:M.value,position:"bottom",onDidDismiss:X[5]||(X[5]=et=>k.value=!1),class:"custom-toast"},null,8,["is-open","message","color"]),c.value?(Yt(),ge("div",EB,[lt("div",TB,[lt("div",kB,[lt("div",IB,[Pt(ut(Ke),{icon:ut(Dp)},null,8,["icon"])]),X[17]||(X[17]=lt("h3",{class:"text-lg font-bold"},"Signaler un problme",-1)),X[18]||(X[18]=lt("p",{class:"text-blue-100 text-[10px]"},"Aidez-nous  amliorer les routes",-1))]),lt("div",SB,[lt("div",null,[X[19]||(X[19]=lt("label",{class:"block text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-2 ml-1"},"Description",-1)),_u(lt("textarea",{"onUpdate:modelValue":X[6]||(X[6]=et=>u.value=et),rows:"2",placeholder:"Dcrivez le problme...",class:"w-full px-4 py-3 bg-slate-50 border border-slate-100 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-sm text-slate-700 resize-none"},null,512),[[zh,u.value]])]),lt("div",null,[X[20]||(X[20]=lt("label",{class:"block text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-2 ml-1"},"Type de problme",-1)),lt("div",AB,[lt("div",{ref_key:"carouselRef",ref:Kt,class:"flex gap-2 overflow-x-auto no-scrollbar scroll-smooth pb-1 px-1"},[(Yt(!0),ge(Yn,null,Gl(b.value,et=>(Yt(),ge("div",{key:et.id,onClick:K=>m.value=et.id,class:ui(["flex-shrink-0 w-24 h-24 rounded-2xl p-2 flex flex-col items-center justify-between cursor-pointer transition-all border-2",m.value===et.id?"border-blue-500 scale-95 bg-blue-50/50":"border-transparent bg-slate-50"])},[lt("div",{class:"w-10 h-10 rounded-xl flex items-center justify-center shadow-sm",style:ya({backgroundColor:et.couleur+"20"})},[(Yt(),ge("svg",{viewBox:"0 0 24 24",class:"w-6 h-6",style:ya({fill:et.couleur})},[lt("path",{d:et.icone_path},null,8,PB)],4))],4),lt("span",RB,Le(et.nom),1)],10,CB))),128))],512)])]),lt("div",null,[lt("div",LB,[lt("label",OB,"Photos ("+Le(f.value.length)+")",1),f.value.length>0?(Yt(),ge("button",{key:0,onClick:X[7]||(X[7]=et=>f.value=[]),class:"text-[10px] font-bold text-red-500 uppercase hover:underline"},"Tout effacer")):mn("",!0)]),lt("div",$B,[(Yt(!0),ge(Yn,null,Gl(f.value,(et,K)=>(Yt(),ge("div",{key:K,class:"relative aspect-square rounded-xl overflow-hidden group border border-slate-100 shadow-sm"},[lt("img",{src:et,class:"w-full h-full object-cover"},null,8,MB),lt("button",{onClick:ft=>O(K),class:"absolute top-1 right-1 z-10 bg-red-500/80 backdrop-blur-sm text-white w-6 h-6 rounded-full flex items-center justify-center shadow-lg active:scale-90 transition-transform"},[Pt(ut(Ke),{icon:ut(bE),class:"text-sm"},null,8,["icon"])],8,DB)]))),128)),lt("div",{onClick:A,class:"aspect-square bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl flex flex-col items-center justify-center text-slate-400 cursor-pointer hover:bg-slate-100 hover:border-blue-200 transition-colors"},[Pt(ut(Ke),{icon:ut(vE),class:"text-xl"},null,8,["icon"]),X[21]||(X[21]=lt("span",{class:"text-[8px] font-bold mt-1 uppercase"},"Camra",-1))]),lt("div",{onClick:S,class:"aspect-square bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl flex flex-col items-center justify-center text-slate-400 cursor-pointer hover:bg-slate-100 hover:border-blue-200 transition-colors"},[Pt(ut(Ke),{icon:ut(_E),class:"text-xl"},null,8,["icon"]),X[22]||(X[22]=lt("span",{class:"text-[8px] font-bold mt-1 uppercase"},"Galerie",-1))]),lt("input",{type:"file",ref_key:"fileInputRef",ref:p,multiple:"",accept:"image/*",class:"hidden",onChange:E},null,544)])])]),lt("div",NB,[lt("button",{onClick:X[8]||(X[8]=et=>c.value=null),class:"flex-1 py-3.5 bg-white text-slate-600 font-bold rounded-2xl border border-slate-200 active:scale-95 transition-all text-sm"},"Annuler"),lt("button",{onClick:ne,disabled:w.value,class:"flex-1 py-3.5 bg-blue-600 text-white font-bold rounded-2xl shadow-lg shadow-blue-500/30 active:scale-95 transition-all flex items-center justify-center text-sm"},[w.value?(Yt(),ge("span",BB,[Pt(ut(Ke),{icon:ut(f3)},null,8,["icon"])])):mn("",!0),zn(" "+Le(w.value?"Envoi...":"Envoyer"),1)],8,VB)])])])):mn("",!0)]),_:1})]),_:1}))}});const FB={key:0,class:"absolute inset-0 z-[100] bg-black/90 backdrop-blur-xl flex flex-col items-center justify-center p-4 animate-in fade-in duration-200"},UB=["src"],jB={class:"p-6 pb-32"},HB={class:"flex items-center justify-between mb-6 pt-4"},qB={class:"text-slate-500 text-sm mt-1 font-medium"},WB={class:"flex gap-2 overflow-x-auto no-scrollbar mb-8 pb-1"},GB=["onClick"],KB={key:0,class:"flex flex-col items-center justify-center py-20 text-center"},ZB={class:"w-24 h-24 bg-slate-100 rounded-full flex items-center justify-center mb-4 grayscale opacity-50"},YB={key:1,class:"space-y-4"},XB={class:"flex justify-between items-start mb-3"},QB={class:"text-[10px] font-bold text-slate-300"},JB={class:"font-bold text-slate-800 text-base mb-2 line-clamp-2"},tz={key:0,class:"grid grid-cols-2 gap-2 mb-3"},ez={key:0,class:"bg-slate-50 p-2 rounded-lg border border-slate-100"},nz={class:"text-[10px] font-medium text-slate-600 truncate"},iz={key:1,class:"bg-slate-50 p-2 rounded-lg border border-slate-100"},oz={class:"text-[10px] font-medium text-slate-600"},rz={class:"flex items-center justify-between pt-3 border-t border-slate-50"},sz={class:"flex items-center gap-2"},az={class:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center"},lz={class:"text-xs font-medium text-slate-500 truncate max-w-[120px]"},cz={class:"flex gap-2"},uz=["onClick"],dz=["onClick"],hz=_n({__name:"ListView",setup(e){const t=jw(),n=fe(!1),i=fe("all"),o=fe(null),s=[{id:"all",label:"Tous"},{id:"nouveau",label:"Nouveaux"},{id:"en cours",label:"En cours"},{id:"termine",label:"Termins"}],a=Qn(()=>{let m=ee.signalements;return n.value&&ee.user&&(m=m.filter(b=>b.email===ee.user.email)),i.value!=="all"&&(m=m.filter(b=>{var T;const w=((T=b.statut)==null?void 0:T.toLowerCase())||"nouveau";return i.value==="termine"?w.includes("fini")||w.includes("termine"):w.includes(i.value)})),m}),c=()=>{n.value=!n.value},u=m=>{t.push("/tabs/map")},f=m=>{const b=(m==null?void 0:m.toLowerCase())||"nouveau";return b.includes("cours")?{bg:"#fff7ed",text:"#c2410c"}:b.includes("fini")||b.includes("termine")?{bg:"#f0fdf4",text:"#15803d"}:{bg:"#eff6ff",text:"#1d4ed8"}},p=m=>m?(m.toDate?m.toDate():new Date(m)).toLocaleDateString("fr-FR",{day:"numeric",month:"short"}):"";return(m,b)=>(Yt(),ci(ut(Hd),null,{default:le(()=>[o.value?(Yt(),ge("div",FB,[lt("button",{onClick:b[0]||(b[0]=w=>o.value=null),class:"absolute top-6 right-6 w-12 h-12 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center text-white transition-all"},[Pt(ut(Ke),{icon:ut(bE),class:"text-2xl"},null,8,["icon"])]),lt("img",{src:o.value,class:"max-w-full max-h-[80vh] rounded-2xl shadow-2xl object-contain"},null,8,UB)])):mn("",!0),Pt(ut(Tm),{fullscreen:!0,class:"bg-slate-50"},{default:le(()=>[lt("div",jB,[lt("div",HB,[lt("div",null,[b[1]||(b[1]=lt("h1",{class:"text-2xl font-bold text-slate-800 tracking-tight"},"Travaux",-1)),lt("p",qB,Le(a.value.length)+" signalement"+Le(a.value.length>1?"s":""),1)]),ut(ee).user?(Yt(),ge("button",{key:0,onClick:c,class:ui(["p-3 rounded-2xl transition-all border shadow-sm flex items-center justify-center",n.value?"bg-blue-600 text-white border-blue-500 shadow-blue-500/30":"bg-white text-slate-400 border-slate-100"])},[Pt(ut(Ke),{icon:ut(Np),class:"text-xl"},null,8,["icon"])],2)):mn("",!0)]),lt("div",WB,[(Yt(),ge(Yn,null,Gl(s,w=>lt("button",{key:w.id,onClick:T=>i.value=w.id,class:ui(["px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap transition-all border",i.value===w.id?"bg-slate-800 text-white border-slate-800 shadow-lg shadow-slate-200":"bg-white text-slate-500 border-slate-100"])},Le(w.label),11,GB)),64))]),a.value.length===0?(Yt(),ge("div",KB,[lt("div",ZB,[Pt(ut(Ke),{icon:ut(Dp),class:"text-4xl text-slate-400"},null,8,["icon"])]),b[2]||(b[2]=lt("h3",{class:"text-lg font-bold text-slate-700"},"Aucun travaux",-1)),b[3]||(b[3]=lt("p",{class:"text-slate-400 text-sm mt-2 max-w-[200px]"},"Il n'y a aucun signalement correspondant  vos critres.",-1))])):(Yt(),ge("div",YB,[(Yt(!0),ge(Yn,null,Gl(a.value,w=>(Yt(),ge("div",{key:w.id,class:"bg-white rounded-2xl p-4 shadow-sm border border-slate-100 active:scale-[0.99] transition-transform"},[lt("div",XB,[lt("div",{class:"px-3 py-1 rounded-lg text-[10px] font-bold uppercase tracking-wider",style:ya({backgroundColor:f(w.statut).bg,color:f(w.statut).text})},Le(w.statut||"Nouveau"),5),lt("span",QB,Le(p(w.dateSignalement)),1)]),lt("h3",JB,Le(w.description||"Signalement sans description"),1),w.entreprise||w.budget||w.surface_m2?(Yt(),ge("div",tz,[w.entreprise?(Yt(),ge("div",ez,[b[4]||(b[4]=lt("p",{class:"text-[8px] font-bold text-slate-400 uppercase"},"Entreprise",-1)),lt("p",nz,Le(w.entreprise),1)])):mn("",!0),w.surface_m2?(Yt(),ge("div",iz,[b[5]||(b[5]=lt("p",{class:"text-[8px] font-bold text-slate-400 uppercase"},"Surface",-1)),lt("p",oz,Le(w.surface_m2)+" m",1)])):mn("",!0)])):mn("",!0),lt("div",rz,[lt("div",sz,[lt("div",az,[Pt(ut(Ke),{icon:ut(ee).user&&w.email===ut(ee).user.email?ut(Np):ut(_E),class:"text-[10px]"},null,8,["icon"])]),lt("span",lz,Le(ut(ee).user&&w.email===ut(ee).user.email?"Moi":w.email),1)]),lt("div",cz,[w.galerie&&w.galerie.length>0?(Yt(),ge("button",{key:0,onClick:T=>o.value=w.galerie[0].url,class:"text-slate-600 text-xs font-bold flex items-center gap-1 bg-slate-100 px-3 py-1.5 rounded-lg hover:bg-slate-200 transition-colors"},[Pt(ut(Ke),{icon:ut(vE)},null,8,["icon"]),b[6]||(b[6]=zn(" Photo ",-1))],8,uz)):mn("",!0),lt("button",{onClick:T=>u(w),class:"text-blue-600 text-xs font-bold flex items-center gap-1 bg-blue-50 px-3 py-1.5 rounded-lg hover:bg-blue-100 transition-colors"},[Pt(ut(Ke),{icon:ut(l3)},null,8,["icon"]),b[7]||(b[7]=zn(" Voir ",-1))],8,dz)])])]))),128))]))])]),_:1})]),_:1}))}}),fz={class:"px-4 py-2 flex gap-2 overflow-x-auto no-scrollbar bg-white border-b border-slate-100"},pz={key:0,class:"flex flex-col items-center justify-center h-full px-6 text-center"},mz={class:"bg-slate-100 p-6 rounded-full mb-4"},gz={class:"text-slate-500 max-w-[250px]"},vz={class:"w-full py-3 flex gap-4 items-start"},bz={class:"flex-1 min-w-0"},_z={class:"flex items-center justify-between gap-2 mb-1"},yz={class:"text-[10px] font-medium text-slate-400 whitespace-nowrap"},wz={class:"flex items-center gap-2"},xz={class:"flex items-center gap-1"},Ez={class:"text-[10px] font-bold text-slate-400 uppercase tracking-wider"},Tz={key:0,class:"w-2.5 h-2.5 bg-blue-600 rounded-full mt-2 shrink-0"},kz={class:"flex flex-col items-center gap-1"},Iz=_n({__name:"NotificationsView",setup(e){const t=jw(),n=fe("all"),i=Qn(()=>n.value==="unread"?Dn.notifications.value.filter(m=>!m.lu):Dn.notifications.value);_c(async()=>{await Dn.loadNotifications()}),Sd(()=>{});const o=async m=>{m.lu||await Dn.markAsRead(m.id),t.push("/tabs/list")},s=async m=>{await Dn.markAsRead(m)},a=async()=>{await Dn.markAllAsRead()},c=m=>{if(!m)return bf;switch(m.toLowerCase()){case"valid":case"rsolu":return i3;case"en cours":return p3;case"nouveau":return bf;case"rejet":return r3;default:return bf}},u=m=>{if(!m)return"bg-yellow-500";switch(m.toLowerCase()){case"valid":case"rsolu":return"bg-green-500";case"en cours":return"bg-blue-500";case"rejet":return"bg-red-500";default:return"bg-yellow-500"}},f=m=>{if(!m)return"bg-yellow-500";switch(m.toLowerCase()){case"valid":case"rsolu":return"bg-green-500";case"en cours":return"bg-blue-500";case"rejet":return"bg-red-500";default:return"bg-yellow-500"}},p=m=>{if(!m)return"";let b;m.toDate?b=m.toDate():m instanceof Date?b=m:b=new Date(m);const w=new Date,T=w.getTime()-b.getTime(),k=Math.floor(T/6e4),$=Math.floor(T/36e5),M=Math.floor(T/864e5);return k<1?" l'instant":k<60?`Il y a ${k} min`:$<24?`Il y a ${$}h`:M<7?`Il y a ${M}j`:b.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:b.getFullYear()!==w.getFullYear()?"numeric":void 0})};return(m,b)=>(Yt(),ci(ut(Hd),null,{default:le(()=>[Pt(ut(NO),null,{default:le(()=>[Pt(ut(HO),{class:"bg-gradient-to-r from-blue-600 to-blue-700"},{default:le(()=>[Pt(ut(jO),{class:"text-white font-bold"},{default:le(()=>[...b[2]||(b[2]=[zn("Notifications",-1)])]),_:1}),ut(Dn).unreadCount.value>0?(Yt(),ci(ut(DO),{key:0,slot:"end"},{default:le(()=>[Pt(ut(MO),{onClick:a,class:"text-white"},{default:le(()=>[...b[3]||(b[3]=[zn(" Tout marquer comme lu ",-1)])]),_:1})]),_:1})):mn("",!0)]),_:1})]),_:1}),Pt(ut(Tm),{class:"bg-slate-50"},{default:le(()=>[lt("div",fz,[Pt(ut(Mb),{onClick:b[0]||(b[0]=w=>n.value="all"),outline:n.value!=="all",color:"primary",class:"m-0"},{default:le(()=>[...b[4]||(b[4]=[zn("Tous",-1)])]),_:1},8,["outline"]),Pt(ut(Mb),{onClick:b[1]||(b[1]=w=>n.value="unread"),outline:n.value!=="unread",color:"primary",class:"m-0"},{default:le(()=>[...b[5]||(b[5]=[zn("Non lus",-1)])]),_:1},8,["outline"])]),i.value.length===0?(Yt(),ge("div",pz,[lt("div",mz,[Pt(ut(Ke),{icon:ut(d3),class:"text-6xl text-slate-400"},null,8,["icon"])]),b[6]||(b[6]=lt("h2",{class:"text-xl font-bold text-slate-800 mb-2"},"Aucune notification",-1)),lt("p",gz,Le(n.value==="unread"?"Vous n'avez aucun message non lu.":"Vous serez notifi ici lorsque le statut de vos signalements changera."),1)])):(Yt(),ci(ut(UO),{key:1,class:"bg-transparent py-0"},{default:le(()=>[(Yt(!0),ge(Yn,null,Gl(i.value,w=>(Yt(),ci(ut(FO),{key:w.id},{default:le(()=>[Pt(ut(VO),{onClick:T=>o(w),class:ui(["notification-item",{unread:!w.lu}]),lines:"none",button:""},{default:le(()=>[lt("div",vz,[lt("div",{class:ui(["p-3 rounded-2xl flex items-center justify-center shrink-0 shadow-sm",u(w.newStatus)])},[Pt(ut(Ke),{icon:c(w.newStatus),class:"text-2xl text-white"},null,8,["icon"])],2),lt("div",bz,[lt("div",_z,[lt("h3",{class:ui(["font-bold truncate",w.lu?"text-slate-600":"text-slate-900"])},Le(w.titre),3),lt("span",yz,Le(p(w.dateCreation)),1)]),lt("p",{class:ui(["text-sm leading-snug line-clamp-2 mb-2",w.lu?"text-slate-500":"text-slate-700 font-medium"])},Le(w.message),3),lt("div",wz,[w.typeSignalement?(Yt(),ci(ut(cp),{key:0,class:"rounded-lg bg-slate-100 text-slate-600 font-bold px-2 py-1 text-[10px]"},{default:le(()=>[zn(Le(w.typeSignalement),1)]),_:2},1024)):mn("",!0),lt("div",xz,[lt("div",{class:ui(["w-2 h-2 rounded-full",f(w.newStatus)])},null,2),lt("span",Ez,Le(w.newStatus),1)])])]),w.lu?mn("",!0):(Yt(),ge("div",Tz))])]),_:2},1032,["onClick","class"]),Pt(ut(zO),{side:"end"},{default:le(()=>[w.lu?mn("",!0):(Yt(),ci(ut(BO),{key:0,color:"primary",onClick:T=>s(w.id),class:"rounded-l-2xl"},{default:le(()=>[lt("div",kz,[Pt(ut(Ke),{slot:"icon-only",icon:ut(o3),class:"text-2xl"},null,8,["icon"]),b[7]||(b[7]=lt("span",{class:"text-[10px]"},"Lu",-1))])]),_:1},8,["onClick"]))]),_:2},1024)]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1}))}});const Sz=HE(Iz,[["__scopeId","data-v-4760e986"]]),Az=[{path:"/",redirect:"/tabs/map"},{path:"/tabs",component:WV,children:[{path:"",redirect:"/tabs/map"},{path:"map",component:zB},{path:"list",component:hz},{path:"notifications",component:Sz}]}],qE=e3({history:n3("/"),routes:Az});var Cz=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),WE=globalThis&&globalThis.__awaiter||function(e,t,n,i){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(p){try{f(i.next(p))}catch(m){a(m)}}function u(p){try{f(i.throw(p))}catch(m){a(m)}}function f(p){p.done?s(p.value):o(p.value).then(c,u)}f((i=i.apply(e,t||[])).next())})},GE=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,o,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(f){return function(p){return u([f,p])}}function u(f){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(n=0)),n;)try{if(i=1,o&&(s=f[0]&2?o.return:f[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,f[1])).done)return s;switch(o=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(p){f=[6,p],o=0}finally{i=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},w0=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,s;i<o;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))},Pz="ionicpwaelements",Ou,KE,li=!1,Up=!1,tr=function(e,t){return function(){}},Rz=function(e,t){return function(){}},Lz="{visibility:hidden}.hydrated{visibility:inherit}",x0={},Oz="http://www.w3.org/2000/svg",$z="http://www.w3.org/1999/xhtml",Mz=function(e){return e!=null},Sg=function(e){return e=typeof e,e==="object"||e==="function"};function ZE(e){var t,n,i;return(i=(n=(t=e.head)===null||t===void 0?void 0:t.querySelector('meta[name="csp-nonce"]'))===null||n===void 0?void 0:n.getAttribute("content"))!==null&&i!==void 0?i:void 0}var Dz=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=null,s=!1,a=!1,c=[],u=function(m){for(var b=0;b<m.length;b++)o=m[b],Array.isArray(o)?u(o):o!=null&&typeof o!="boolean"&&((s=typeof e!="function"&&!Sg(o))&&(o=String(o)),s&&a?c[c.length-1].$text$+=o:c.push(s?jp(null,o):o),a=s)};if(u(n),t){var f=t.className||t.class;f&&(t.class=typeof f!="object"?f:Object.keys(f).filter(function(m){return f[m]}).join(" "))}var p=jp(e,null);return p.$attrs$=t,c.length>0&&(p.$children$=c),p},jp=function(e,t){var n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return n.$attrs$=null,n},Nz={},Vz=function(e){return e&&e.$tag$===Nz},Bz=function(e,t){return e!=null&&!Sg(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e},zz=function(e){return Fr(e).$hostElement$},ZF=function(e,t,n){var i=zz(e);return{emit:function(o){return YE(i,t,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:o})}}},YE=function(e,t,n){var i=En.ce(t,n);return e.dispatchEvent(i),i},E0=new WeakMap,Fz=function(e,t,n){var i=_d.get(e);uF&&n?(i=i||new CSSStyleSheet,typeof i=="string"?i=t:i.replaceSync(t)):i=t,_d.set(e,i)},Uz=function(e,t,n,i){var o,s=XE(t),a=_d.get(s);if(e=e.nodeType===11?e:Di,a)if(typeof a=="string"){e=e.head||e;var c=E0.get(e),u=void 0;if(c||E0.set(e,c=new Set),!c.has(s)){{u=Di.createElement("style"),u.innerHTML=a;var f=(o=En.$nonce$)!==null&&o!==void 0?o:ZE(Di);f!=null&&u.setAttribute("nonce",f),e.insertBefore(u,e.querySelector("link"))}c&&c.add(s)}}else e.adoptedStyleSheets.includes(a)||(e.adoptedStyleSheets=w0(w0([],e.adoptedStyleSheets,!0),[a],!1));return s},jz=function(e){var t=e.$cmpMeta$,n=e.$hostElement$,i=t.$flags$,o=tr("attachStyles",t.$tagName$),s=Uz(n.shadowRoot?n.shadowRoot:n.getRootNode(),t);i&10&&(n["s-sc"]=s,n.classList.add(s+"-h")),o()},XE=function(e,t){return"sc-"+e.$tagName$},T0=function(e,t,n,i,o,s){if(n!==i){var a=I0(e,t),c=t.toLowerCase();if(t==="class"){var u=e.classList,f=k0(n),p=k0(i);u.remove.apply(u,f.filter(function(T){return T&&!p.includes(T)})),u.add.apply(u,p.filter(function(T){return T&&!f.includes(T)}))}else if(t==="style"){for(var m in n)(!i||i[m]==null)&&(m.includes("-")?e.style.removeProperty(m):e.style[m]="");for(var m in i)(!n||i[m]!==n[m])&&(m.includes("-")?e.style.setProperty(m,i[m]):e.style[m]=i[m])}else if(t==="ref")i&&i(e);else if(!a&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):I0(wh,c)?t=c.slice(2):t=c[2]+t.slice(3),n&&En.rel(e,t,n,!1),i&&En.ael(e,t,i,!1);else{var b=Sg(i);if((a||b&&i!==null)&&!o)try{if(e.tagName.includes("-"))e[t]=i;else{var w=i??"";t==="list"?a=!1:(n==null||e[t]!=w)&&(e[t]=w)}}catch{}i==null||i===!1?(i!==!1||e.getAttribute(t)==="")&&e.removeAttribute(t):(!a||s&4||o)&&!b&&(i=i===!0?"":i,e.setAttribute(t,i))}}},Hz=/\s/,k0=function(e){return e?e.split(Hz):[]},QE=function(e,t,n,i){var o=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,s=e&&e.$attrs$||x0,a=t.$attrs$||x0;for(i in s)i in a||T0(o,i,s[i],void 0,n,t.$flags$);for(i in a)T0(o,i,s[i],a[i],n,t.$flags$)},Ag=function(e,t,n,i){var o=t.$children$[n],s=0,a,c;if(o.$text$!==null)a=o.$elm$=Di.createTextNode(o.$text$);else{if(li||(li=o.$tag$==="svg"),a=o.$elm$=Di.createElementNS(li?Oz:$z,o.$tag$),li&&o.$tag$==="foreignObject"&&(li=!1),QE(null,o,li),Mz(Ou)&&a["s-si"]!==Ou&&a.classList.add(a["s-si"]=Ou),o.$children$)for(s=0;s<o.$children$.length;++s)c=Ag(e,o,s),c&&a.appendChild(c);o.$tag$==="svg"?li=!1:a.tagName==="foreignObject"&&(li=!0)}return a},JE=function(e,t,n,i,o,s){var a=e,c;for(a.shadowRoot&&a.tagName===KE&&(a=a.shadowRoot);o<=s;++o)i[o]&&(c=Ag(null,n,o),c&&(i[o].$elm$=c,a.insertBefore(c,t)))},tT=function(e,t,n){for(var i=t;i<=n;++i){var o=e[i];if(o){var s=o.$elm$;eT(o),s&&s.remove()}}},qz=function(e,t,n,i){for(var o=0,s=0,a=t.length-1,c=t[0],u=t[a],f=i.length-1,p=i[0],m=i[f],b;o<=a&&s<=f;)c==null?c=t[++o]:u==null?u=t[--a]:p==null?p=i[++s]:m==null?m=i[--f]:vu(c,p)?(Il(c,p),c=t[++o],p=i[++s]):vu(u,m)?(Il(u,m),u=t[--a],m=i[--f]):vu(c,m)?(Il(c,m),e.insertBefore(c.$elm$,u.$elm$.nextSibling),c=t[++o],m=i[--f]):vu(u,p)?(Il(u,p),e.insertBefore(u.$elm$,c.$elm$),u=t[--a],p=i[++s]):(b=Ag(t&&t[s],n,s),p=i[++s],b&&c.$elm$.parentNode.insertBefore(b,c.$elm$));o>a?JE(e,i[f+1]==null?null:i[f+1].$elm$,n,i,s,f):s>f&&tT(t,o,a)},vu=function(e,t){return e.$tag$===t.$tag$},Il=function(e,t){var n=t.$elm$=e.$elm$,i=e.$children$,o=t.$children$,s=t.$tag$,a=t.$text$;a===null?(li=s==="svg"?!0:s==="foreignObject"?!1:li,QE(e,t,li),i!==null&&o!==null?qz(n,i,t,o):o!==null?(e.$text$!==null&&(n.textContent=""),JE(n,null,t,o,0,o.length-1)):i!==null&&tT(i,0,i.length-1),li&&s==="svg"&&(li=!1)):e.$text$!==a&&(n.data=a)},eT=function(e){e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(eT)},Wz=function(e,t){var n=e.$hostElement$,i=e.$vnode$||jp(null,null),o=Vz(t)?t:Dz(null,null,t);KE=n.tagName,o.$tag$=null,o.$flags$|=4,e.$vnode$=o,o.$elm$=i.$elm$=n.shadowRoot||n,Ou=n["s-sc"],Il(i,o)},nT=function(e,t){t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(function(n){return e.$onRenderResolve$=n}))},yh=function(e,t){if(e.$flags$|=16,e.$flags$&4){e.$flags$|=512;return}nT(e,e.$ancestorComponent$);var n=function(){return Gz(e,t)};return hF(n)},Gz=function(e,t){var n=tr("scheduleUpdate",e.$cmpMeta$.$tagName$),i=e.$lazyInstance$,o;return t&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map(function(s){var a=s[0],c=s[1];return Cg(i,a,c)}),e.$queuedListeners$=void 0)),n(),Kz(o,function(){return Yz(e,i,t)})},Kz=function(e,t){return Zz(e)?e.then(t):t()},Zz=function(e){return e instanceof Promise||e&&e.then&&typeof e.then=="function"},Yz=function(e,t,n){return WE(void 0,void 0,void 0,function(){var i,o,s,a,c,u,f;return GE(this,function(p){return o=e.$hostElement$,s=tr("update",e.$cmpMeta$.$tagName$),a=o["s-rc"],n&&jz(e),c=tr("render",e.$cmpMeta$.$tagName$),Xz(e,t),a&&(a.map(function(m){return m()}),o["s-rc"]=void 0),c(),s(),u=(i=o["s-p"])!==null&&i!==void 0?i:[],f=function(){return Qz(e)},u.length===0?f():(Promise.all(u).then(f),e.$flags$|=4,u.length=0),[2]})})},Xz=function(e,t,n){try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,Wz(e,t)}catch(i){$i(i,e.$hostElement$)}return null},Qz=function(e){e.$cmpMeta$.$tagName$;var t=e.$hostElement$,n=tr(),i=e.$lazyInstance$,o=e.$ancestorComponent$;e.$flags$&64?n():(e.$flags$|=64,oT(t),Cg(i,"componentDidLoad"),n(),e.$onReadyResolve$(t),o||iT()),e.$onInstanceResolve$(t),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),e.$flags$&512&&Rg(function(){return yh(e,!1)}),e.$flags$&=-517},YF=function(e){{var t=Fr(e),n=t.$hostElement$.isConnected;return n&&(t.$flags$&18)===2&&yh(t,!1),n}},iT=function(e){oT(Di.documentElement),Rg(function(){return YE(wh,"appload",{detail:{namespace:Pz}})})},Cg=function(e,t,n){if(e&&e[t])try{return e[t](n)}catch(i){$i(i)}},oT=function(e){return e.classList.add("hydrated")},Jz=function(e,t){return Fr(e).$instanceValues$.get(t)},tF=function(e,t,n,i){var o=Fr(e),s=o.$instanceValues$.get(t),a=o.$flags$,c=o.$lazyInstance$;n=Bz(n,i.$members$[t][0]);var u=Number.isNaN(s)&&Number.isNaN(n),f=n!==s&&!u;(!(a&8)||s===void 0)&&f&&(o.$instanceValues$.set(t,n),c&&(a&18)===2&&yh(o,!1))},rT=function(e,t,n){if(t.$members$){var i=Object.entries(t.$members$),o=e.prototype;if(i.map(function(a){var c=a[0],u=a[1][0];u&31||n&2&&u&32?Object.defineProperty(o,c,{get:function(){return Jz(this,c)},set:function(f){tF(this,c,f,t)},configurable:!0,enumerable:!0}):n&1&&u&64&&Object.defineProperty(o,c,{value:function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];var m=Fr(this);return m.$onInstancePromise$.then(function(){var b;return(b=m.$lazyInstance$)[c].apply(b,f)})}})}),n&1){var s=new Map;o.attributeChangedCallback=function(a,c,u){var f=this;En.jmp(function(){var p=s.get(a);if(f.hasOwnProperty(p))u=f[p],delete f[p];else if(o.hasOwnProperty(p)&&typeof f[p]=="number"&&f[p]==u)return;f[p]=u===null&&typeof f[p]=="boolean"?!1:u})},e.observedAttributes=i.filter(function(a){a[0];var c=a[1];return c[0]&15}).map(function(a){var c=a[0],u=a[1],f=u[1]||c;return s.set(f,c),f})}}return e},eF=function(e,t,n,i,o){return WE(void 0,void 0,void 0,function(){var s,a,c,u,f,p,m;return GE(this,function(b){switch(b.label){case 0:return t.$flags$&32?[3,3]:(t.$flags$|=32,o=cF(n),o.then?(s=Rz(),[4,o]):[3,2]);case 1:o=b.sent(),s(),b.label=2;case 2:o.isProxied||(rT(o,n,2),o.isProxied=!0),a=tr("createInstance",n.$tagName$),t.$flags$|=8;try{new o(t)}catch(w){$i(w)}t.$flags$&=-9,a(),o.style&&(c=o.style,u=XE(n),_d.has(u)||(f=tr("registerStyles",n.$tagName$),Fz(u,c,!!(n.$flags$&1)),f())),b.label=3;case 3:return p=t.$ancestorComponent$,m=function(){return yh(t,!0)},p&&p["s-rc"]?p["s-rc"].push(m):m(),[2]}})})},nF=function(e){if(!(En.$flags$&1)){var t=Fr(e),n=t.$cmpMeta$,i=tr("connectedCallback",n.$tagName$);if(t.$flags$&1)sT(e,t,n.$listeners$);else{t.$flags$|=1;for(var o=e;o=o.parentNode||o.host;)if(o["s-p"]){nT(t,t.$ancestorComponent$=o);break}n.$members$&&Object.entries(n.$members$).map(function(s){var a=s[0],c=s[1][0];if(c&31&&e.hasOwnProperty(a)){var u=e[a];delete e[a],e[a]=u}}),eF(e,t,n)}i()}},iF=function(e){if(!(En.$flags$&1)){var t=Fr(e),n=t.$lazyInstance$;t.$rmListeners$&&(t.$rmListeners$.map(function(i){return i()}),t.$rmListeners$=void 0),Cg(n,"disconnectedCallback")}},oF=function(e,t){t===void 0&&(t={});var n,i=tr(),o=[],s=t.exclude||[],a=wh.customElements,c=Di.head,u=c.querySelector("meta[charset]"),f=Di.createElement("style"),p=[],m,b=!0;Object.assign(En,t),En.$resourcesUrl$=new URL(t.resourcesUrl||"./",Di.baseURI).href,e.map(function(T){T[1].map(function(k){var $={$flags$:k[0],$tagName$:k[1],$members$:k[2],$listeners$:k[3]};$.$members$=k[2],$.$listeners$=k[3];var M=$.$tagName$,F=function(B){Cz(z,B);function z(U){var W=B.call(this,U)||this;return U=W,lF(U,$),$.$flags$&1&&U.attachShadow({mode:"open"}),W}return z.prototype.connectedCallback=function(){var U=this;m&&(clearTimeout(m),m=null),b?p.push(this):En.jmp(function(){return nF(U)})},z.prototype.disconnectedCallback=function(){var U=this;En.jmp(function(){return iF(U)})},z.prototype.componentOnReady=function(){return Fr(this).$onReadyPromise$},z}(HTMLElement);$.$lazyBundleId$=T[0],!s.includes(M)&&!a.get(M)&&(o.push(M),a.define(M,rT(F,$,1)))})});{f.innerHTML=o+Lz,f.setAttribute("data-styles","");var w=(n=En.$nonce$)!==null&&n!==void 0?n:ZE(Di);w!=null&&f.setAttribute("nonce",w),c.insertBefore(f,u?u.nextSibling:c.firstChild)}b=!1,p.length?p.map(function(T){return T.connectedCallback()}):En.jmp(function(){return m=setTimeout(iT,30)}),i()},sT=function(e,t,n,i){n&&n.map(function(o){var s=o[0],a=o[1],c=o[2],u=sF(e,s),f=rF(t,c),p=aF(s);En.ael(u,a,f,p),(t.$rmListeners$=t.$rmListeners$||[]).push(function(){return En.rel(u,a,f,p)})})},rF=function(e,t){return function(n){try{e.$flags$&256?e.$lazyInstance$[t](n):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,n])}catch(i){$i(i)}}},sF=function(e,t){return t&16?Di.body:e},aF=function(e){return(e&2)!==0},Pg=new WeakMap,Fr=function(e){return Pg.get(e)},XF=function(e,t){return Pg.set(t.$lazyInstance$=e,t)},lF=function(e,t){var n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return n.$onInstancePromise$=new Promise(function(i){return n.$onInstanceResolve$=i}),n.$onReadyPromise$=new Promise(function(i){return n.$onReadyResolve$=i}),e["s-p"]=[],e["s-rc"]=[],sT(e,n,t.$listeners$),Pg.set(e,n)},I0=function(e,t){return t in e},$i=function(e,t){return(0,console.error)(e,t)},Tf=new Map,cF=function(e,t,n){var i=e.$tagName$.replace(/-/g,"_"),o=e.$lazyBundleId$,s=Tf.get(o);if(s)return s[i];if(!n||!BUILD.hotModuleReplacement){var a=function(c){return Tf.set(o,c),c[i]};switch(o){case"pwa-action-sheet":return An(()=>import("./pwa-action-sheet.entry-a40b38b5.js"),[]).then(a,$i);case"pwa-camera-modal":return An(()=>import("./pwa-camera-modal.entry-9ac29db8.js"),[]).then(a,$i);case"pwa-toast":return An(()=>import("./pwa-toast.entry-ecb01e71.js"),[]).then(a,$i);case"pwa-camera-modal-instance":return An(()=>import("./pwa-camera-modal-instance.entry-255da146.js"),[]).then(a,$i);case"pwa-camera":return An(()=>import("./pwa-camera.entry-b81fef82.js"),[]).then(a,$i)}}return An(()=>import("./".concat(o,".entry.js").concat("")),[]).then(function(c){return Tf.set(o,c),c[i]},$i)},_d=new Map,wh=typeof window<"u"?window:{},Di=wh.document||{head:{}},En={$flags$:0,$resourcesUrl$:"",jmp:function(e){return e()},raf:function(e){return requestAnimationFrame(e)},ael:function(e,t,n,i){return e.addEventListener(t,n,i)},rel:function(e,t,n,i){return e.removeEventListener(t,n,i)},ce:function(e,t){return new CustomEvent(e,t)}},aT=function(e){return Promise.resolve(e)},uF=function(){try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1}(),S0=[],lT=[],dF=function(e,t){return function(n){e.push(n),Up||(Up=!0,t&&En.$flags$&4?Rg(Hp):En.raf(Hp))}},A0=function(e){for(var t=0;t<e.length;t++)try{e[t](performance.now())}catch(n){$i(n)}e.length=0},Hp=function(){A0(S0),A0(lT),(Up=S0.length>0)&&En.raf(Hp)},Rg=function(e){return aT().then(e)},hF=dF(lT,!0),fF=function(){return aT()},pF=function(e,t){return typeof window>"u"?Promise.resolve():fF().then(function(){return oF([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],t)})};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}})();pF();const mF=GI(X5).use(ZO).use(qE);D6(cs,async e=>{e?(console.log(" Utilisateur connect, initialisation des notifications..."),await Dn.initialize(),await Dn.retryTokenSave(),await Dn.loadNotifications()):(console.log(" Utilisateur dconnect, nettoyage des notifications..."),Dn.cleanup())});qE.isReady().then(()=>{mF.mount("#app")});export{Nz as H,jP as K,Qy as a,Zo as b,Sw as c,Uo as d,Jl as e,zP as f,AF as g,QS as h,EC as i,JS as j,tp as k,Qe as l,Oi as m,gF as n,nb as o,vF as p,PF as q,Yl as r,CF as s,Dz as t,zz as u,XF as v,Lr as w,ZF as x,YF as y};
