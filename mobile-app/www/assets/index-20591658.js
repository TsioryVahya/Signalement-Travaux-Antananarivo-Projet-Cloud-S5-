(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();/**
* @vue/shared v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function am(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Se={},va=[],Bi=()=>{},X0=()=>!1,Ld=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),lm=e=>e.startsWith("onUpdate:"),nn=Object.assign,cm=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},lk=Object.prototype.hasOwnProperty,ye=(e,t)=>lk.call(e,t),Ht=Array.isArray,ba=e=>Od(e)==="[object Map]",Q0=e=>Od(e)==="[object Set]",Qt=e=>typeof e=="function",Xe=e=>typeof e=="string",Ur=e=>typeof e=="symbol",Pe=e=>e!==null&&typeof e=="object",J0=e=>(Pe(e)||Qt(e))&&Qt(e.then)&&Qt(e.catch),ty=Object.prototype.toString,Od=e=>ty.call(e),ck=e=>Od(e).slice(8,-1),ey=e=>Od(e)==="[object Object]",um=e=>Xe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Dl=am(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$d=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},uk=/-\w/g,Mr=$d(e=>e.replace(uk,t=>t.slice(1).toUpperCase())),dk=/\B([A-Z])/g,Os=$d(e=>e.replace(dk,"-$1").toLowerCase()),ny=$d(e=>e.charAt(0).toUpperCase()+e.slice(1)),Uh=$d(e=>e?`on${ny(e)}`:""),Rr=(e,t)=>!Object.is(e,t),Pu=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},iy=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},dm=e=>{const t=parseFloat(e);return isNaN(t)?e:t},hk=e=>{const t=Xe(e)?Number(e):NaN;return isNaN(t)?e:t};let gv;const Md=()=>gv||(gv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Es(e){if(Ht(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=Xe(i)?gk(i):Es(i);if(o)for(const s in o)t[s]=o[s]}return t}else if(Xe(e)||Pe(e))return e}const fk=/;(?![^(]*\))/g,pk=/:([^]+)/,mk=/\/\*[^]*?\*\//g;function gk(e){const t={};return e.replace(mk,"").split(fk).forEach(n=>{if(n){const i=n.split(pk);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Vn(e){let t="";if(Xe(e))t=e;else if(Ht(e))for(let n=0;n<e.length;n++){const i=Vn(e[n]);i&&(t+=i+" ")}else if(Pe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const vk="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",bk=am(vk);function oy(e){return!!e||e===""}const ry=e=>!!(e&&e.__v_isRef===!0),ke=e=>Xe(e)?e:e==null?"":Ht(e)||Pe(e)&&(e.toString===ty||!Qt(e.toString))?ry(e)?ke(e.value):JSON.stringify(e,sy,2):String(e),sy=(e,t)=>ry(t)?sy(e,t.value):ba(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,o],s)=>(n[jh(i,s)+" =>"]=o,n),{})}:Q0(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>jh(n))}:Ur(t)?jh(t):Pe(t)&&!Ht(t)&&!ey(t)?String(t):t,jh=(e,t="")=>{var n;return Ur(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ii;class _k{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ii,!t&&ii&&(this.index=(ii.scopes||(ii.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ii;try{return ii=this,t()}finally{ii=n}}}on(){++this._on===1&&(this.prevScope=ii,ii=this)}off(){this._on>0&&--this._on===0&&(ii=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function yk(){return ii}let Ce;const Hh=new WeakSet;class ay{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ii&&ii.active&&ii.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Hh.has(this)&&(Hh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||cy(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,vv(this),uy(this);const t=Ce,n=Fi;Ce=this,Fi=!0;try{return this.fn()}finally{dy(this),Ce=t,Fi=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)pm(t);this.deps=this.depsTail=void 0,vv(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Hh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Vf(this)&&this.run()}get dirty(){return Vf(this)}}let ly=0,Nl,Vl;function cy(e,t=!1){if(e.flags|=8,t){e.next=Vl,Vl=e;return}e.next=Nl,Nl=e}function hm(){ly++}function fm(){if(--ly>0)return;if(Vl){let t=Vl;for(Vl=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Nl;){let t=Nl;for(Nl=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function uy(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function dy(e){let t,n=e.depsTail,i=n;for(;i;){const o=i.prevDep;i.version===-1?(i===n&&(n=o),pm(i),wk(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=o}e.deps=t,e.depsTail=n}function Vf(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(hy(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function hy(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ql)||(e.globalVersion=Ql,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Vf(e))))return;e.flags|=2;const t=e.dep,n=Ce,i=Fi;Ce=e,Fi=!0;try{uy(e);const o=e.fn(e._value);(t.version===0||Rr(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{Ce=n,Fi=i,dy(e),e.flags&=-3}}function pm(e,t=!1){const{dep:n,prevSub:i,nextSub:o}=e;if(i&&(i.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)pm(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function wk(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Fi=!0;const fy=[];function Zo(){fy.push(Fi),Fi=!1}function Yo(){const e=fy.pop();Fi=e===void 0?!0:e}function vv(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ce;Ce=void 0;try{t()}finally{Ce=n}}}let Ql=0;class xk{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class mm{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ce||!Fi||Ce===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ce)n=this.activeLink=new xk(Ce,this),Ce.deps?(n.prevDep=Ce.depsTail,Ce.depsTail.nextDep=n,Ce.depsTail=n):Ce.deps=Ce.depsTail=n,py(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Ce.depsTail,n.nextDep=void 0,Ce.depsTail.nextDep=n,Ce.depsTail=n,Ce.deps===n&&(Ce.deps=i)}return n}trigger(t){this.version++,Ql++,this.notify(t)}notify(t){hm();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{fm()}}}function py(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)py(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Bf=new WeakMap,ys=Symbol(""),Ff=Symbol(""),Jl=Symbol("");function Bn(e,t,n){if(Fi&&Ce){let i=Bf.get(e);i||Bf.set(e,i=new Map);let o=i.get(n);o||(i.set(n,o=new mm),o.map=i,o.key=n),o.track()}}function Vo(e,t,n,i,o,s){const a=Bf.get(e);if(!a){Ql++;return}const c=u=>{u&&u.trigger()};if(hm(),t==="clear")a.forEach(c);else{const u=Ht(e),f=u&&um(n);if(u&&n==="length"){const p=Number(i);a.forEach((m,v)=>{(v==="length"||v===Jl||!Ur(v)&&v>=p)&&c(m)})}else switch((n!==void 0||a.has(void 0))&&c(a.get(n)),f&&c(a.get(Jl)),t){case"add":u?f&&c(a.get("length")):(c(a.get(ys)),ba(e)&&c(a.get(Ff)));break;case"delete":u||(c(a.get(ys)),ba(e)&&c(a.get(Ff)));break;case"set":ba(e)&&c(a.get(ys));break}}fm()}function sa(e){const t=pe(e);return t===e?t:(Bn(t,"iterate",Jl),Ti(e)?t:t.map(Ui))}function Dd(e){return Bn(e=pe(e),"iterate",Jl),e}function yr(e,t){return Xo(e)?Ca(ws(e)?Ui(t):t):Ui(t)}const Ek={__proto__:null,[Symbol.iterator](){return qh(this,Symbol.iterator,e=>yr(this,e))},concat(...e){return sa(this).concat(...e.map(t=>Ht(t)?sa(t):t))},entries(){return qh(this,"entries",e=>(e[1]=yr(this,e[1]),e))},every(e,t){return Co(this,"every",e,t,void 0,arguments)},filter(e,t){return Co(this,"filter",e,t,n=>n.map(i=>yr(this,i)),arguments)},find(e,t){return Co(this,"find",e,t,n=>yr(this,n),arguments)},findIndex(e,t){return Co(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Co(this,"findLast",e,t,n=>yr(this,n),arguments)},findLastIndex(e,t){return Co(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Co(this,"forEach",e,t,void 0,arguments)},includes(...e){return Wh(this,"includes",e)},indexOf(...e){return Wh(this,"indexOf",e)},join(e){return sa(this).join(e)},lastIndexOf(...e){return Wh(this,"lastIndexOf",e)},map(e,t){return Co(this,"map",e,t,void 0,arguments)},pop(){return xl(this,"pop")},push(...e){return xl(this,"push",e)},reduce(e,...t){return bv(this,"reduce",e,t)},reduceRight(e,...t){return bv(this,"reduceRight",e,t)},shift(){return xl(this,"shift")},some(e,t){return Co(this,"some",e,t,void 0,arguments)},splice(...e){return xl(this,"splice",e)},toReversed(){return sa(this).toReversed()},toSorted(e){return sa(this).toSorted(e)},toSpliced(...e){return sa(this).toSpliced(...e)},unshift(...e){return xl(this,"unshift",e)},values(){return qh(this,"values",e=>yr(this,e))}};function qh(e,t,n){const i=Dd(e),o=i[t]();return i!==e&&!Ti(e)&&(o._next=o.next,o.next=()=>{const s=o._next();return s.done||(s.value=n(s.value)),s}),o}const Tk=Array.prototype;function Co(e,t,n,i,o,s){const a=Dd(e),c=a!==e&&!Ti(e),u=a[t];if(u!==Tk[t]){const m=u.apply(e,s);return c?Ui(m):m}let f=n;a!==e&&(c?f=function(m,v){return n.call(this,yr(e,m),v,e)}:n.length>2&&(f=function(m,v){return n.call(this,m,v,e)}));const p=u.call(a,f,i);return c&&o?o(p):p}function bv(e,t,n,i){const o=Dd(e);let s=n;return o!==e&&(Ti(e)?n.length>3&&(s=function(a,c,u){return n.call(this,a,c,u,e)}):s=function(a,c,u){return n.call(this,a,yr(e,c),u,e)}),o[t](s,...i)}function Wh(e,t,n){const i=pe(e);Bn(i,"iterate",Jl);const o=i[t](...n);return(o===-1||o===!1)&&bm(n[0])?(n[0]=pe(n[0]),i[t](...n)):o}function xl(e,t,n=[]){Zo(),hm();const i=pe(e)[t].apply(e,n);return fm(),Yo(),i}const kk=am("__proto__,__v_isRef,__isVue"),my=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ur));function Ik(e){Ur(e)||(e=String(e));const t=pe(this);return Bn(t,"has",e),t.hasOwnProperty(e)}class gy{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(o?s?Dk:yy:s?_y:by).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const a=Ht(t);if(!o){let u;if(a&&(u=Ek[n]))return u;if(n==="hasOwnProperty")return Ik}const c=Reflect.get(t,n,jn(t)?t:i);if((Ur(n)?my.has(n):kk(n))||(o||Bn(t,"get",n),s))return c;if(jn(c)){const u=a&&um(n)?c:c.value;return o&&Pe(u)?Uf(u):u}return Pe(c)?o?Uf(c):Ic(c):c}}class vy extends gy{constructor(t=!1){super(!1,t)}set(t,n,i,o){let s=t[n];const a=Ht(t)&&um(n);if(!this._isShallow){const f=Xo(s);if(!Ti(i)&&!Xo(i)&&(s=pe(s),i=pe(i)),!a&&jn(s)&&!jn(i))return f||(s.value=i),!0}const c=a?Number(n)<t.length:ye(t,n),u=Reflect.set(t,n,i,jn(t)?t:o);return t===pe(o)&&(c?Rr(i,s)&&Vo(t,"set",n,i):Vo(t,"add",n,i)),u}deleteProperty(t,n){const i=ye(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&i&&Vo(t,"delete",n,void 0),o}has(t,n){const i=Reflect.has(t,n);return(!Ur(n)||!my.has(n))&&Bn(t,"has",n),i}ownKeys(t){return Bn(t,"iterate",Ht(t)?"length":ys),Reflect.ownKeys(t)}}class Sk extends gy{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Ak=new vy,Ck=new Sk,Pk=new vy(!0);const zf=e=>e,hu=e=>Reflect.getPrototypeOf(e);function Rk(e,t,n){return function(...i){const o=this.__v_raw,s=pe(o),a=ba(s),c=e==="entries"||e===Symbol.iterator&&a,u=e==="keys"&&a,f=o[e](...i),p=n?zf:t?Ca:Ui;return!t&&Bn(s,"iterate",u?Ff:ys),nn(Object.create(f),{next(){const{value:m,done:v}=f.next();return v?{value:m,done:v}:{value:c?[p(m[0]),p(m[1])]:p(m),done:v}}})}}function fu(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Lk(e,t){const n={get(o){const s=this.__v_raw,a=pe(s),c=pe(o);e||(Rr(o,c)&&Bn(a,"get",o),Bn(a,"get",c));const{has:u}=hu(a),f=t?zf:e?Ca:Ui;if(u.call(a,o))return f(s.get(o));if(u.call(a,c))return f(s.get(c));s!==a&&s.get(o)},get size(){const o=this.__v_raw;return!e&&Bn(pe(o),"iterate",ys),o.size},has(o){const s=this.__v_raw,a=pe(s),c=pe(o);return e||(Rr(o,c)&&Bn(a,"has",o),Bn(a,"has",c)),o===c?s.has(o):s.has(o)||s.has(c)},forEach(o,s){const a=this,c=a.__v_raw,u=pe(c),f=t?zf:e?Ca:Ui;return!e&&Bn(u,"iterate",ys),c.forEach((p,m)=>o.call(s,f(p),f(m),a))}};return nn(n,e?{add:fu("add"),set:fu("set"),delete:fu("delete"),clear:fu("clear")}:{add(o){!t&&!Ti(o)&&!Xo(o)&&(o=pe(o));const s=pe(this);return hu(s).has.call(s,o)||(s.add(o),Vo(s,"add",o,o)),this},set(o,s){!t&&!Ti(s)&&!Xo(s)&&(s=pe(s));const a=pe(this),{has:c,get:u}=hu(a);let f=c.call(a,o);f||(o=pe(o),f=c.call(a,o));const p=u.call(a,o);return a.set(o,s),f?Rr(s,p)&&Vo(a,"set",o,s):Vo(a,"add",o,s),this},delete(o){const s=pe(this),{has:a,get:c}=hu(s);let u=a.call(s,o);u||(o=pe(o),u=a.call(s,o)),c&&c.call(s,o);const f=s.delete(o);return u&&Vo(s,"delete",o,void 0),f},clear(){const o=pe(this),s=o.size!==0,a=o.clear();return s&&Vo(o,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=Rk(o,e,t)}),n}function gm(e,t){const n=Lk(e,t);return(i,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?i:Reflect.get(ye(n,o)&&o in i?n:i,o,s)}const Ok={get:gm(!1,!1)},$k={get:gm(!1,!0)},Mk={get:gm(!0,!1)};const by=new WeakMap,_y=new WeakMap,yy=new WeakMap,Dk=new WeakMap;function Nk(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Vk(e){return e.__v_skip||!Object.isExtensible(e)?0:Nk(ck(e))}function Ic(e){return Xo(e)?e:vm(e,!1,Ak,Ok,by)}function wy(e){return vm(e,!1,Pk,$k,_y)}function Uf(e){return vm(e,!0,Ck,Mk,yy)}function vm(e,t,n,i,o){if(!Pe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=Vk(e);if(s===0)return e;const a=o.get(e);if(a)return a;const c=new Proxy(e,s===2?i:n);return o.set(e,c),c}function ws(e){return Xo(e)?ws(e.__v_raw):!!(e&&e.__v_isReactive)}function Xo(e){return!!(e&&e.__v_isReadonly)}function Ti(e){return!!(e&&e.__v_isShallow)}function bm(e){return e?!!e.__v_raw:!1}function pe(e){const t=e&&e.__v_raw;return t?pe(t):e}function Bk(e){return!ye(e,"__v_skip")&&Object.isExtensible(e)&&iy(e,"__v_skip",!0),e}const Ui=e=>Pe(e)?Ic(e):e,Ca=e=>Pe(e)?Uf(e):e;function jn(e){return e?e.__v_isRef===!0:!1}function me(e){return xy(e,!1)}function Sc(e){return xy(e,!0)}function xy(e,t){return jn(e)?e:new Fk(e,t)}class Fk{constructor(t,n){this.dep=new mm,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:pe(t),this._value=n?t:Ui(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||Ti(t)||Xo(t);t=i?t:pe(t),Rr(t,n)&&(this._rawValue=t,this._value=i?t:Ui(t),this.dep.trigger())}}function et(e){return jn(e)?e.value:e}const zk={get:(e,t,n)=>t==="__v_raw"?e:et(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const o=e[t];return jn(o)&&!jn(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function Ey(e){return ws(e)?e:new Proxy(e,zk)}class Uk{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new mm(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ql-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Ce!==this)return cy(this,!0),!0}get value(){const t=this.dep.track();return hy(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function jk(e,t,n=!1){let i,o;return Qt(e)?i=e:(i=e.get,o=e.set),new Uk(i,o,n)}const pu={},Wu=new WeakMap;let us;function Hk(e,t=!1,n=us){if(n){let i=Wu.get(n);i||Wu.set(n,i=[]),i.push(e)}}function qk(e,t,n=Se){const{immediate:i,deep:o,once:s,scheduler:a,augmentJob:c,call:u}=n,f=B=>o?B:Ti(B)||o===!1||o===0?Bo(B,1):Bo(B);let p,m,v,w,E=!1,I=!1;if(jn(e)?(m=()=>e.value,E=Ti(e)):ws(e)?(m=()=>f(e),E=!0):Ht(e)?(I=!0,E=e.some(B=>ws(B)||Ti(B)),m=()=>e.map(B=>{if(jn(B))return B.value;if(ws(B))return f(B);if(Qt(B))return u?u(B,2):B()})):Qt(e)?t?m=u?()=>u(e,2):e:m=()=>{if(v){Zo();try{v()}finally{Yo()}}const B=us;us=p;try{return u?u(e,3,[w]):e(w)}finally{us=B}}:m=Bi,t&&o){const B=m,U=o===!0?1/0:o;m=()=>Bo(B(),U)}const R=yk(),D=()=>{p.stop(),R&&R.active&&cm(R.effects,p)};if(s&&t){const B=t;t=(...U)=>{B(...U),D()}}let F=I?new Array(e.length).fill(pu):pu;const z=B=>{if(!(!(p.flags&1)||!p.dirty&&!B))if(t){const U=p.run();if(o||E||(I?U.some((H,C)=>Rr(H,F[C])):Rr(U,F))){v&&v();const H=us;us=p;try{const C=[U,F===pu?void 0:I&&F[0]===pu?[]:F,w];F=U,u?u(t,3,C):t(...C)}finally{us=H}}}else p.run()};return c&&c(z),p=new ay(m),p.scheduler=a?()=>a(z,!1):z,w=B=>Hk(B,!1,p),v=p.onStop=()=>{const B=Wu.get(p);if(B){if(u)u(B,4);else for(const U of B)U();Wu.delete(p)}},t?i?z(!0):F=p.run():a?a(z.bind(null,!0),!0):p.run(),D.pause=p.pause.bind(p),D.resume=p.resume.bind(p),D.stop=D,D}function Bo(e,t=1/0,n){if(t<=0||!Pe(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,jn(e))Bo(e.value,t,n);else if(Ht(e))for(let i=0;i<e.length;i++)Bo(e[i],t,n);else if(Q0(e)||ba(e))e.forEach(i=>{Bo(i,t,n)});else if(ey(e)){for(const i in e)Bo(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Bo(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ac(e,t,n,i){try{return i?e(...i):e()}catch(o){Nd(o,t,n)}}function ji(e,t,n,i){if(Qt(e)){const o=Ac(e,t,n,i);return o&&J0(o)&&o.catch(s=>{Nd(s,t,n)}),o}if(Ht(e)){const o=[];for(let s=0;s<e.length;s++)o.push(ji(e[s],t,n,i));return o}}function Nd(e,t,n,i=!0){const o=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Se;if(t){let c=t.parent;const u=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const p=c.ec;if(p){for(let m=0;m<p.length;m++)if(p[m](e,u,f)===!1)return}c=c.parent}if(s){Zo(),Ac(s,null,10,[e,u,f]),Yo();return}}Wk(e,n,o,i,a)}function Wk(e,t,n,i=!0,o=!1){if(o)throw e;console.error(e)}const Xn=[];let io=-1;const _a=[];let wr=null,aa=0;const Ty=Promise.resolve();let Gu=null;function ky(e){const t=Gu||Ty;return e?t.then(this?e.bind(this):e):t}function Gk(e){let t=io+1,n=Xn.length;for(;t<n;){const i=t+n>>>1,o=Xn[i],s=tc(o);s<e||s===e&&o.flags&2?t=i+1:n=i}return t}function _m(e){if(!(e.flags&1)){const t=tc(e),n=Xn[Xn.length-1];!n||!(e.flags&2)&&t>=tc(n)?Xn.push(e):Xn.splice(Gk(t),0,e),e.flags|=1,Iy()}}function Iy(){Gu||(Gu=Ty.then(Ay))}function Kk(e){Ht(e)?_a.push(...e):wr&&e.id===-1?wr.splice(aa+1,0,e):e.flags&1||(_a.push(e),e.flags|=1),Iy()}function _v(e,t,n=io+1){for(;n<Xn.length;n++){const i=Xn[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;Xn.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Sy(e){if(_a.length){const t=[...new Set(_a)].sort((n,i)=>tc(n)-tc(i));if(_a.length=0,wr){wr.push(...t);return}for(wr=t,aa=0;aa<wr.length;aa++){const n=wr[aa];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}wr=null,aa=0}}const tc=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ay(e){const t=Bi;try{for(io=0;io<Xn.length;io++){const n=Xn[io];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),Ac(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;io<Xn.length;io++){const n=Xn[io];n&&(n.flags&=-2)}io=-1,Xn.length=0,Sy(),Gu=null,(Xn.length||_a.length)&&Ay()}}let Ei=null,Cy=null;function Ku(e){const t=Ei;return Ei=e,Cy=e&&e.type.__scopeId||null,t}function ue(e,t=Ei,n){if(!t||e._n)return e;const i=(...o)=>{i._d&&Qu(-1);const s=Ku(t);let a;try{a=e(...o)}finally{Ku(s),i._d&&Qu(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Zu(e,t){if(Ei===null)return e;const n=jd(Ei),i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[s,a,c,u=Se]=t[o];s&&(Qt(s)&&(s={mounted:s,updated:s}),s.deep&&Bo(a),i.push({dir:s,instance:n,value:a,oldValue:void 0,arg:c,modifiers:u}))}return e}function rs(e,t,n,i){const o=e.dirs,s=t&&t.dirs;for(let a=0;a<o.length;a++){const c=o[a];s&&(c.oldValue=s[a].value);let u=c.dir[i];u&&(Zo(),ji(u,n,8,[e.el,c,e,t]),Yo())}}function ya(e,t){if(Jn){let n=Jn.provides;const i=Jn.parent&&Jn.parent.provides;i===n&&(n=Jn.provides=Object.create(i)),n[e]=t}}function dn(e,t,n=!1){const i=Cc();if(i||wa){let o=wa?wa._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Qt(t)?t.call(i&&i.proxy):t}}const Zk=Symbol.for("v-scx"),Yk=()=>dn(Zk);function qo(e,t,n){return Py(e,t,n)}function Py(e,t,n=Se){const{immediate:i,deep:o,flush:s,once:a}=n,c=nn({},n),u=t&&i||!t&&s!=="post";let f;if(ic){if(s==="sync"){const w=Yk();f=w.__watcherHandles||(w.__watcherHandles=[])}else if(!u){const w=()=>{};return w.stop=Bi,w.resume=Bi,w.pause=Bi,w}}const p=Jn;c.call=(w,E,I)=>ji(w,p,E,I);let m=!1;s==="post"?c.scheduler=w=>{Zn(w,p&&p.suspense)}:s!=="sync"&&(m=!0,c.scheduler=(w,E)=>{E?w():_m(w)}),c.augmentJob=w=>{t&&(w.flags|=4),m&&(w.flags|=2,p&&(w.id=p.uid,w.i=p))};const v=qk(e,t,c);return ic&&(f?f.push(v):u&&v()),v}function Xk(e,t,n){const i=this.proxy,o=Xe(e)?e.includes(".")?Ry(i,e):()=>i[e]:e.bind(i,i);let s;Qt(t)?s=t:(s=t.handler,n=t);const a=Pc(this),c=Py(o,s.bind(i),n);return a(),c}function Ry(e,t){const n=t.split(".");return()=>{let i=e;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}const Ly=Symbol("_vte"),Oy=e=>e.__isTeleport,Bl=e=>e&&(e.disabled||e.disabled===""),yv=e=>e&&(e.defer||e.defer===""),wv=e=>typeof SVGElement<"u"&&e instanceof SVGElement,xv=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,jf=(e,t)=>{const n=e&&e.to;return Xe(n)?t?t(n):null:n},$y={name:"Teleport",__isTeleport:!0,process(e,t,n,i,o,s,a,c,u,f){const{mc:p,pc:m,pbc:v,o:{insert:w,querySelector:E,createText:I,createComment:R}}=f,D=Bl(t.props);let{shapeFlag:F,children:z,dynamicChildren:B}=t;if(e==null){const U=t.el=I(""),H=t.anchor=I("");w(U,n,i),w(H,n,i);const C=(T,O)=>{F&16&&p(z,T,O,o,s,a,c,u)},k=()=>{const T=t.target=jf(t.props,E),O=My(T,t,I,w);T&&(a!=="svg"&&wv(T)?a="svg":a!=="mathml"&&xv(T)&&(a="mathml"),o&&o.isCE&&(o.ce._teleportTargets||(o.ce._teleportTargets=new Set)).add(T),D||(C(T,O),Ru(t,!1)))};D&&(C(n,H),Ru(t,!0)),yv(t.props)?(t.el.__isMounted=!1,Zn(()=>{k(),delete t.el.__isMounted},s)):k()}else{if(yv(t.props)&&e.el.__isMounted===!1){Zn(()=>{$y.process(e,t,n,i,o,s,a,c,u,f)},s);return}t.el=e.el,t.targetStart=e.targetStart;const U=t.anchor=e.anchor,H=t.target=e.target,C=t.targetAnchor=e.targetAnchor,k=Bl(e.props),T=k?n:H,O=k?U:C;if(a==="svg"||wv(H)?a="svg":(a==="mathml"||xv(H))&&(a="mathml"),B?(v(e.dynamicChildren,B,T,o,s,a,c),Em(e,t,!0)):u||m(e,t,T,O,o,s,a,c,!1),D)k?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):mu(t,n,U,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const A=t.target=jf(t.props,E);A&&mu(t,A,null,f,0)}else k&&mu(t,H,C,f,1);Ru(t,D)}},remove(e,t,n,{um:i,o:{remove:o}},s){const{shapeFlag:a,children:c,anchor:u,targetStart:f,targetAnchor:p,target:m,props:v}=e;if(m&&(o(f),o(p)),s&&o(u),a&16){const w=s||!Bl(v);for(let E=0;E<c.length;E++){const I=c[E];i(I,t,n,w,!!I.dynamicChildren)}}},move:mu,hydrate:Qk};function mu(e,t,n,{o:{insert:i},m:o},s=2){s===0&&i(e.targetAnchor,t,n);const{el:a,anchor:c,shapeFlag:u,children:f,props:p}=e,m=s===2;if(m&&i(a,t,n),(!m||Bl(p))&&u&16)for(let v=0;v<f.length;v++)o(f[v],t,n,2);m&&i(c,t,n)}function Qk(e,t,n,i,o,s,{o:{nextSibling:a,parentNode:c,querySelector:u,insert:f,createText:p}},m){function v(I,R,D,F){R.anchor=m(a(I),R,c(I),n,i,o,s),R.targetStart=D,R.targetAnchor=F}const w=t.target=jf(t.props,u),E=Bl(t.props);if(w){const I=w._lpa||w.firstChild;if(t.shapeFlag&16)if(E)v(e,t,I,I&&a(I));else{t.anchor=a(e);let R=I;for(;R;){if(R&&R.nodeType===8){if(R.data==="teleport start anchor")t.targetStart=R;else if(R.data==="teleport anchor"){t.targetAnchor=R,w._lpa=t.targetAnchor&&a(t.targetAnchor);break}}R=a(R)}t.targetAnchor||My(w,t,p,f),m(I&&a(I),t,w,n,i,o,s)}Ru(t,E)}else E&&t.shapeFlag&16&&v(e,t,e,a(e));return t.anchor&&a(t.anchor)}const Jk=$y;function Ru(e,t){const n=e.ctx;if(n&&n.ut){let i,o;for(t?(i=e.el,o=e.anchor):(i=e.targetStart,o=e.targetAnchor);i&&i!==o;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function My(e,t,n,i){const o=t.targetStart=n(""),s=t.targetAnchor=n("");return o[Ly]=s,e&&(i(o,e),i(s,e)),s}const Do=Symbol("_leaveCb"),gu=Symbol("_enterCb");function tI(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ua(()=>{e.isMounted=!0}),jy(()=>{e.isUnmounting=!0}),e}const xi=[Function,Array],Dy={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xi,onEnter:xi,onAfterEnter:xi,onEnterCancelled:xi,onBeforeLeave:xi,onLeave:xi,onAfterLeave:xi,onLeaveCancelled:xi,onBeforeAppear:xi,onAppear:xi,onAfterAppear:xi,onAppearCancelled:xi},Ny=e=>{const t=e.subTree;return t.component?Ny(t.component):t},eI={name:"BaseTransition",props:Dy,setup(e,{slots:t}){const n=Cc(),i=tI();return()=>{const o=t.default&&Fy(t.default(),!0);if(!o||!o.length)return;const s=Vy(o),a=pe(e),{mode:c}=a;if(i.isLeaving)return Gh(s);const u=Ev(s);if(!u)return Gh(s);let f=Hf(u,a,i,n,m=>f=m);u.type!==Qn&&ec(u,f);let p=n.subTree&&Ev(n.subTree);if(p&&p.type!==Qn&&!hs(p,u)&&Ny(n).type!==Qn){let m=Hf(p,a,i,n);if(ec(p,m),c==="out-in"&&u.type!==Qn)return i.isLeaving=!0,m.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete m.afterLeave,p=void 0},Gh(s);c==="in-out"&&u.type!==Qn?m.delayLeave=(v,w,E)=>{const I=By(i,p);I[String(p.key)]=p,v[Do]=()=>{w(),v[Do]=void 0,delete f.delayedLeave,p=void 0},f.delayedLeave=()=>{E(),delete f.delayedLeave,p=void 0}}:p=void 0}else p&&(p=void 0);return s}}};function Vy(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Qn){t=n;break}}return t}const nI=eI;function By(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function Hf(e,t,n,i,o){const{appear:s,mode:a,persisted:c=!1,onBeforeEnter:u,onEnter:f,onAfterEnter:p,onEnterCancelled:m,onBeforeLeave:v,onLeave:w,onAfterLeave:E,onLeaveCancelled:I,onBeforeAppear:R,onAppear:D,onAfterAppear:F,onAppearCancelled:z}=t,B=String(e.key),U=By(n,e),H=(T,O)=>{T&&ji(T,i,9,O)},C=(T,O)=>{const A=O[1];H(T,O),Ht(T)?T.every($=>$.length<=1)&&A():T.length<=1&&A()},k={mode:a,persisted:c,beforeEnter(T){let O=u;if(!n.isMounted)if(s)O=R||u;else return;T[Do]&&T[Do](!0);const A=U[B];A&&hs(e,A)&&A.el[Do]&&A.el[Do](),H(O,[T])},enter(T){let O=f,A=p,$=m;if(!n.isMounted)if(s)O=D||f,A=F||p,$=z||m;else return;let P=!1;const Ct=T[gu]=Gt=>{P||(P=!0,Gt?H($,[T]):H(A,[T]),k.delayedLeave&&k.delayedLeave(),T[gu]=void 0)};O?C(O,[T,Ct]):Ct()},leave(T,O){const A=String(e.key);if(T[gu]&&T[gu](!0),n.isUnmounting)return O();H(v,[T]);let $=!1;const P=T[Do]=Ct=>{$||($=!0,O(),Ct?H(I,[T]):H(E,[T]),T[Do]=void 0,U[A]===e&&delete U[A])};U[A]=e,w?C(w,[T,P]):P()},clone(T){const O=Hf(T,t,n,i,o);return o&&o(O),O}};return k}function Gh(e){if(Vd(e))return e=Dr(e),e.children=null,e}function Ev(e){if(!Vd(e))return Oy(e.type)&&e.children?Vy(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Qt(n.default))return n.default()}}function ec(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ec(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Fy(e,t=!1,n){let i=[],o=0;for(let s=0;s<e.length;s++){let a=e[s];const c=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===An?(a.patchFlag&128&&o++,i=i.concat(Fy(a.children,t,c))):(t||a.type!==Qn)&&i.push(c!=null?Dr(a,{key:c}):a)}if(o>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function fn(e,t){return Qt(e)?(()=>nn({name:e.name},t,{setup:e}))():e}function zy(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Yu=new WeakMap;function Fl(e,t,n,i,o=!1){if(Ht(e)){e.forEach((E,I)=>Fl(E,t&&(Ht(t)?t[I]:t),n,i,o));return}if(zl(i)&&!o){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Fl(e,t,n,i.component.subTree);return}const s=i.shapeFlag&4?jd(i.component):i.el,a=o?null:s,{i:c,r:u}=e,f=t&&t.r,p=c.refs===Se?c.refs={}:c.refs,m=c.setupState,v=pe(m),w=m===Se?X0:E=>ye(v,E);if(f!=null&&f!==u){if(Tv(t),Xe(f))p[f]=null,w(f)&&(m[f]=null);else if(jn(f)){f.value=null;const E=t;E.k&&(p[E.k]=null)}}if(Qt(u))Ac(u,c,12,[a,p]);else{const E=Xe(u),I=jn(u);if(E||I){const R=()=>{if(e.f){const D=E?w(u)?m[u]:p[u]:u.value;if(o)Ht(D)&&cm(D,s);else if(Ht(D))D.includes(s)||D.push(s);else if(E)p[u]=[s],w(u)&&(m[u]=p[u]);else{const F=[s];u.value=F,e.k&&(p[e.k]=F)}}else E?(p[u]=a,w(u)&&(m[u]=a)):I&&(u.value=a,e.k&&(p[e.k]=a))};if(a){const D=()=>{R(),Yu.delete(e)};D.id=-1,Yu.set(e,D),Zn(D,n)}else Tv(e),R()}}}function Tv(e){const t=Yu.get(e);t&&(t.flags|=8,Yu.delete(e))}Md().requestIdleCallback;Md().cancelIdleCallback;const zl=e=>!!e.type.__asyncLoader,Vd=e=>e.type.__isKeepAlive;function iI(e,t){Uy(e,"a",t)}function oI(e,t){Uy(e,"da",t)}function Uy(e,t,n=Jn){const i=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Bd(t,i,n),n){let o=n.parent;for(;o&&o.parent;)Vd(o.parent.vnode)&&rI(i,t,n,o),o=o.parent}}function rI(e,t,n,i){const o=Bd(t,e,i,!0);Fd(()=>{cm(i[t],o)},n)}function Bd(e,t,n=Jn,i=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{Zo();const c=Pc(n),u=ji(t,n,e,a);return c(),Yo(),u});return i?o.unshift(s):o.push(s),s}}const rr=e=>(t,n=Jn)=>{(!ic||e==="sp")&&Bd(e,(...i)=>t(...i),n)},sI=rr("bm"),Ua=rr("m"),aI=rr("bu"),lI=rr("u"),jy=rr("bum"),Fd=rr("um"),cI=rr("sp"),uI=rr("rtg"),dI=rr("rtc");function hI(e,t=Jn){Bd("ec",e,t)}const fI=Symbol.for("v-ndc");function Pa(e,t,n,i){let o;const s=n&&n[i],a=Ht(e);if(a||Xe(e)){const c=a&&ws(e);let u=!1,f=!1;c&&(u=!Ti(e),f=Xo(e),e=Dd(e)),o=new Array(e.length);for(let p=0,m=e.length;p<m;p++)o[p]=t(u?f?Ca(Ui(e[p])):Ui(e[p]):e[p],p,void 0,s&&s[p])}else if(typeof e=="number"){o=new Array(e);for(let c=0;c<e;c++)o[c]=t(c+1,c,void 0,s&&s[c])}else if(Pe(e))if(e[Symbol.iterator])o=Array.from(e,(c,u)=>t(c,u,void 0,s&&s[u]));else{const c=Object.keys(e);o=new Array(c.length);for(let u=0,f=c.length;u<f;u++){const p=c[u];o[u]=t(e[p],p,u,s&&s[u])}}else o=[];return n&&(n[i]=o),o}const qf=e=>e?sw(e)?jd(e):qf(e.parent):null,Ul=nn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>qf(e.parent),$root:e=>qf(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ym(e),$forceUpdate:e=>e.f||(e.f=()=>{_m(e.update)}),$nextTick:e=>e.n||(e.n=ky.bind(e.proxy)),$watch:e=>Xk.bind(e)}),Kh=(e,t)=>e!==Se&&!e.__isScriptSetup&&ye(e,t),pI={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:o,props:s,accessCache:a,type:c,appContext:u}=e;if(t[0]!=="$"){const v=a[t];if(v!==void 0)switch(v){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(Kh(i,t))return a[t]=1,i[t];if(o!==Se&&ye(o,t))return a[t]=2,o[t];if(ye(s,t))return a[t]=3,s[t];if(n!==Se&&ye(n,t))return a[t]=4,n[t];Wf&&(a[t]=0)}}const f=Ul[t];let p,m;if(f)return t==="$attrs"&&Bn(e.attrs,"get",""),f(e);if((p=c.__cssModules)&&(p=p[t]))return p;if(n!==Se&&ye(n,t))return a[t]=4,n[t];if(m=u.config.globalProperties,ye(m,t))return m[t]},set({_:e},t,n){const{data:i,setupState:o,ctx:s}=e;return Kh(o,t)?(o[t]=n,!0):i!==Se&&ye(i,t)?(i[t]=n,!0):ye(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,props:s,type:a}},c){let u;return!!(n[c]||e!==Se&&c[0]!=="$"&&ye(e,c)||Kh(t,c)||ye(s,c)||ye(i,c)||ye(Ul,c)||ye(o.config.globalProperties,c)||(u=a.__cssModules)&&u[c])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ye(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function kv(e){return Ht(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Wf=!0;function mI(e){const t=ym(e),n=e.proxy,i=e.ctx;Wf=!1,t.beforeCreate&&Iv(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:a,watch:c,provide:u,inject:f,created:p,beforeMount:m,mounted:v,beforeUpdate:w,updated:E,activated:I,deactivated:R,beforeDestroy:D,beforeUnmount:F,destroyed:z,unmounted:B,render:U,renderTracked:H,renderTriggered:C,errorCaptured:k,serverPrefetch:T,expose:O,inheritAttrs:A,components:$,directives:P,filters:Ct}=t;if(f&&gI(f,i,null),a)for(const wt in a){const tt=a[wt];Qt(tt)&&(i[wt]=tt.bind(n))}if(o){const wt=o.call(n,n);Pe(wt)&&(e.data=Ic(wt))}if(Wf=!0,s)for(const wt in s){const tt=s[wt],nt=Qt(tt)?tt.bind(n,n):Qt(tt.get)?tt.get.bind(n,n):Bi,G=!Qt(tt)&&Qt(tt.set)?tt.set.bind(n):Bi,ut=ti({get:nt,set:G});Object.defineProperty(i,wt,{enumerable:!0,configurable:!0,get:()=>ut.value,set:St=>ut.value=St})}if(c)for(const wt in c)Hy(c[wt],i,n,wt);if(u){const wt=Qt(u)?u.call(n):u;Reflect.ownKeys(wt).forEach(tt=>{ya(tt,wt[tt])})}p&&Iv(p,e,"c");function Vt(wt,tt){Ht(tt)?tt.forEach(nt=>wt(nt.bind(n))):tt&&wt(tt.bind(n))}if(Vt(sI,m),Vt(Ua,v),Vt(aI,w),Vt(lI,E),Vt(iI,I),Vt(oI,R),Vt(hI,k),Vt(dI,H),Vt(uI,C),Vt(jy,F),Vt(Fd,B),Vt(cI,T),Ht(O))if(O.length){const wt=e.exposed||(e.exposed={});O.forEach(tt=>{Object.defineProperty(wt,tt,{get:()=>n[tt],set:nt=>n[tt]=nt,enumerable:!0})})}else e.exposed||(e.exposed={});U&&e.render===Bi&&(e.render=U),A!=null&&(e.inheritAttrs=A),$&&(e.components=$),P&&(e.directives=P),T&&zy(e)}function gI(e,t,n=Bi){Ht(e)&&(e=Gf(e));for(const i in e){const o=e[i];let s;Pe(o)?"default"in o?s=dn(o.from||i,o.default,!0):s=dn(o.from||i):s=dn(o),jn(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[i]=s}}function Iv(e,t,n){ji(Ht(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function Hy(e,t,n,i){let o=i.includes(".")?Ry(n,i):()=>n[i];if(Xe(e)){const s=t[e];Qt(s)&&qo(o,s)}else if(Qt(e))qo(o,e.bind(n));else if(Pe(e))if(Ht(e))e.forEach(s=>Hy(s,t,n,i));else{const s=Qt(e.handler)?e.handler.bind(n):t[e.handler];Qt(s)&&qo(o,s,e)}}function ym(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,c=s.get(t);let u;return c?u=c:!o.length&&!n&&!i?u=t:(u={},o.length&&o.forEach(f=>Xu(u,f,a,!0)),Xu(u,t,a)),Pe(t)&&s.set(t,u),u}function Xu(e,t,n,i=!1){const{mixins:o,extends:s}=t;s&&Xu(e,s,n,!0),o&&o.forEach(a=>Xu(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const c=vI[a]||n&&n[a];e[a]=c?c(e[a],t[a]):t[a]}return e}const vI={data:Sv,props:Av,emits:Av,methods:Sl,computed:Sl,beforeCreate:Kn,created:Kn,beforeMount:Kn,mounted:Kn,beforeUpdate:Kn,updated:Kn,beforeDestroy:Kn,beforeUnmount:Kn,destroyed:Kn,unmounted:Kn,activated:Kn,deactivated:Kn,errorCaptured:Kn,serverPrefetch:Kn,components:Sl,directives:Sl,watch:_I,provide:Sv,inject:bI};function Sv(e,t){return t?e?function(){return nn(Qt(e)?e.call(this,this):e,Qt(t)?t.call(this,this):t)}:t:e}function bI(e,t){return Sl(Gf(e),Gf(t))}function Gf(e){if(Ht(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Kn(e,t){return e?[...new Set([].concat(e,t))]:t}function Sl(e,t){return e?nn(Object.create(null),e,t):t}function Av(e,t){return e?Ht(e)&&Ht(t)?[...new Set([...e,...t])]:nn(Object.create(null),kv(e),kv(t??{})):t}function _I(e,t){if(!e)return t;if(!t)return e;const n=nn(Object.create(null),e);for(const i in t)n[i]=Kn(e[i],t[i]);return n}function qy(){return{app:null,config:{isNativeTag:X0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yI=0;function wI(e,t){return function(i,o=null){Qt(i)||(i=nn({},i)),o!=null&&!Pe(o)&&(o=null);const s=qy(),a=new WeakSet,c=[];let u=!1;const f=s.app={_uid:yI++,_component:i,_props:o,_container:null,_context:s,_instance:null,version:QI,get config(){return s.config},set config(p){},use(p,...m){return a.has(p)||(p&&Qt(p.install)?(a.add(p),p.install(f,...m)):Qt(p)&&(a.add(p),p(f,...m))),f},mixin(p){return s.mixins.includes(p)||s.mixins.push(p),f},component(p,m){return m?(s.components[p]=m,f):s.components[p]},directive(p,m){return m?(s.directives[p]=m,f):s.directives[p]},mount(p,m,v){if(!u){const w=f._ceVNode||At(i,o);return w.appContext=s,v===!0?v="svg":v===!1&&(v=void 0),m&&t?t(w,p):e(w,p,v),u=!0,f._container=p,p.__vue_app__=f,jd(w.component)}},onUnmount(p){c.push(p)},unmount(){u&&(ji(c,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(p,m){return s.provides[p]=m,f},runWithContext(p){const m=wa;wa=f;try{return p()}finally{wa=m}}};return f}}let wa=null;const xI=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Mr(t)}Modifiers`]||e[`${Os(t)}Modifiers`];function EI(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Se;let o=n;const s=t.startsWith("update:"),a=s&&xI(i,t.slice(7));a&&(a.trim&&(o=n.map(p=>Xe(p)?p.trim():p)),a.number&&(o=n.map(dm)));let c,u=i[c=Uh(t)]||i[c=Uh(Mr(t))];!u&&s&&(u=i[c=Uh(Os(t))]),u&&ji(u,e,6,o);const f=i[c+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,ji(f,e,6,o)}}const TI=new WeakMap;function Wy(e,t,n=!1){const i=n?TI:t.emitsCache,o=i.get(e);if(o!==void 0)return o;const s=e.emits;let a={},c=!1;if(!Qt(e)){const u=f=>{const p=Wy(f,t,!0);p&&(c=!0,nn(a,p))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!s&&!c?(Pe(e)&&i.set(e,null),null):(Ht(s)?s.forEach(u=>a[u]=null):nn(a,s),Pe(e)&&i.set(e,a),a)}function zd(e,t){return!e||!Ld(t)?!1:(t=t.slice(2).replace(/Once$/,""),ye(e,t[0].toLowerCase()+t.slice(1))||ye(e,Os(t))||ye(e,t))}function Zh(e){const{type:t,vnode:n,proxy:i,withProxy:o,propsOptions:[s],slots:a,attrs:c,emit:u,render:f,renderCache:p,props:m,data:v,setupState:w,ctx:E,inheritAttrs:I}=e,R=Ku(e);let D,F;try{if(n.shapeFlag&4){const B=o||i,U=B;D=oo(f.call(U,B,p,m,w,v,E)),F=c}else{const B=t;D=oo(B.length>1?B(m,{attrs:c,slots:a,emit:u}):B(m,null)),F=t.props?c:kI(c)}}catch(B){jl.length=0,Nd(B,e,1),D=At(Qn)}let z=D;if(F&&I!==!1){const B=Object.keys(F),{shapeFlag:U}=z;B.length&&U&7&&(s&&B.some(lm)&&(F=II(F,s)),z=Dr(z,F,!1,!0))}return n.dirs&&(z=Dr(z,null,!1,!0),z.dirs=z.dirs?z.dirs.concat(n.dirs):n.dirs),n.transition&&ec(z,n.transition),D=z,Ku(R),D}const kI=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ld(n))&&((t||(t={}))[n]=e[n]);return t},II=(e,t)=>{const n={};for(const i in e)(!lm(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function SI(e,t,n){const{props:i,children:o,component:s}=e,{props:a,children:c,patchFlag:u}=t,f=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return i?Cv(i,a,f):!!a;if(u&8){const p=t.dynamicProps;for(let m=0;m<p.length;m++){const v=p[m];if(a[v]!==i[v]&&!zd(f,v))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:i===a?!1:i?a?Cv(i,a,f):!0:!!a;return!1}function Cv(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let o=0;o<i.length;o++){const s=i[o];if(t[s]!==e[s]&&!zd(n,s))return!0}return!1}function AI({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const Gy={},Ky=()=>Object.create(Gy),Zy=e=>Object.getPrototypeOf(e)===Gy;function CI(e,t,n,i=!1){const o={},s=Ky();e.propsDefaults=Object.create(null),Yy(e,t,o,s);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=i?o:wy(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function PI(e,t,n,i){const{props:o,attrs:s,vnode:{patchFlag:a}}=e,c=pe(o),[u]=e.propsOptions;let f=!1;if((i||a>0)&&!(a&16)){if(a&8){const p=e.vnode.dynamicProps;for(let m=0;m<p.length;m++){let v=p[m];if(zd(e.emitsOptions,v))continue;const w=t[v];if(u)if(ye(s,v))w!==s[v]&&(s[v]=w,f=!0);else{const E=Mr(v);o[E]=Kf(u,c,E,w,e,!1)}else w!==s[v]&&(s[v]=w,f=!0)}}}else{Yy(e,t,o,s)&&(f=!0);let p;for(const m in c)(!t||!ye(t,m)&&((p=Os(m))===m||!ye(t,p)))&&(u?n&&(n[m]!==void 0||n[p]!==void 0)&&(o[m]=Kf(u,c,m,void 0,e,!0)):delete o[m]);if(s!==c)for(const m in s)(!t||!ye(t,m))&&(delete s[m],f=!0)}f&&Vo(e.attrs,"set","")}function Yy(e,t,n,i){const[o,s]=e.propsOptions;let a=!1,c;if(t)for(let u in t){if(Dl(u))continue;const f=t[u];let p;o&&ye(o,p=Mr(u))?!s||!s.includes(p)?n[p]=f:(c||(c={}))[p]=f:zd(e.emitsOptions,u)||(!(u in i)||f!==i[u])&&(i[u]=f,a=!0)}if(s){const u=pe(n),f=c||Se;for(let p=0;p<s.length;p++){const m=s[p];n[m]=Kf(o,u,m,f[m],e,!ye(f,m))}}return a}function Kf(e,t,n,i,o,s){const a=e[n];if(a!=null){const c=ye(a,"default");if(c&&i===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&Qt(u)){const{propsDefaults:f}=o;if(n in f)i=f[n];else{const p=Pc(o);i=f[n]=u.call(null,t),p()}}else i=u;o.ce&&o.ce._setProp(n,i)}a[0]&&(s&&!c?i=!1:a[1]&&(i===""||i===Os(n))&&(i=!0))}return i}const RI=new WeakMap;function Xy(e,t,n=!1){const i=n?RI:t.propsCache,o=i.get(e);if(o)return o;const s=e.props,a={},c=[];let u=!1;if(!Qt(e)){const p=m=>{u=!0;const[v,w]=Xy(m,t,!0);nn(a,v),w&&c.push(...w)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!s&&!u)return Pe(e)&&i.set(e,va),va;if(Ht(s))for(let p=0;p<s.length;p++){const m=Mr(s[p]);Pv(m)&&(a[m]=Se)}else if(s)for(const p in s){const m=Mr(p);if(Pv(m)){const v=s[p],w=a[m]=Ht(v)||Qt(v)?{type:v}:nn({},v),E=w.type;let I=!1,R=!0;if(Ht(E))for(let D=0;D<E.length;++D){const F=E[D],z=Qt(F)&&F.name;if(z==="Boolean"){I=!0;break}else z==="String"&&(R=!1)}else I=Qt(E)&&E.name==="Boolean";w[0]=I,w[1]=R,(I||ye(w,"default"))&&c.push(m)}}const f=[a,c];return Pe(e)&&i.set(e,f),f}function Pv(e){return e[0]!=="$"&&!Dl(e)}const wm=e=>e==="_"||e==="_ctx"||e==="$stable",xm=e=>Ht(e)?e.map(oo):[oo(e)],LI=(e,t,n)=>{if(t._n)return t;const i=ue((...o)=>xm(t(...o)),n);return i._c=!1,i},Qy=(e,t,n)=>{const i=e._ctx;for(const o in e){if(wm(o))continue;const s=e[o];if(Qt(s))t[o]=LI(o,s,i);else if(s!=null){const a=xm(s);t[o]=()=>a}}},Jy=(e,t)=>{const n=xm(t);e.slots.default=()=>n},tw=(e,t,n)=>{for(const i in t)(n||!wm(i))&&(e[i]=t[i])},OI=(e,t,n)=>{const i=e.slots=Ky();if(e.vnode.shapeFlag&32){const o=t._;o?(tw(i,t,n),n&&iy(i,"_",o,!0)):Qy(t,i)}else t&&Jy(e,t)},$I=(e,t,n)=>{const{vnode:i,slots:o}=e;let s=!0,a=Se;if(i.shapeFlag&32){const c=t._;c?n&&c===1?s=!1:tw(o,t,n):(s=!t.$stable,Qy(t,o)),a=t}else t&&(Jy(e,t),a={default:1});if(s)for(const c in o)!wm(c)&&a[c]==null&&delete o[c]},Zn=BI;function MI(e){return DI(e)}function DI(e,t){const n=Md();n.__VUE__=!0;const{insert:i,remove:o,patchProp:s,createElement:a,createText:c,createComment:u,setText:f,setElementText:p,parentNode:m,nextSibling:v,setScopeId:w=Bi,insertStaticContent:E}=e,I=(M,N,W,ot=null,J=null,rt=null,gt=void 0,ft=null,ht=!!N.dynamicChildren)=>{if(M===N)return;M&&!hs(M,N)&&(ot=Q(M),St(M,J,rt,!0),M=null),N.patchFlag===-2&&(ht=!1,N.dynamicChildren=null);const{type:at,ref:Lt,shapeFlag:bt}=N;switch(at){case Ud:R(M,N,W,ot);break;case Qn:D(M,N,W,ot);break;case Xh:M==null&&F(N,W,ot,gt);break;case An:$(M,N,W,ot,J,rt,gt,ft,ht);break;default:bt&1?U(M,N,W,ot,J,rt,gt,ft,ht):bt&6?P(M,N,W,ot,J,rt,gt,ft,ht):(bt&64||bt&128)&&at.process(M,N,W,ot,J,rt,gt,ft,ht,Tt)}Lt!=null&&J?Fl(Lt,M&&M.ref,rt,N||M,!N):Lt==null&&M&&M.ref!=null&&Fl(M.ref,null,rt,M,!0)},R=(M,N,W,ot)=>{if(M==null)i(N.el=c(N.children),W,ot);else{const J=N.el=M.el;N.children!==M.children&&f(J,N.children)}},D=(M,N,W,ot)=>{M==null?i(N.el=u(N.children||""),W,ot):N.el=M.el},F=(M,N,W,ot)=>{[M.el,M.anchor]=E(M.children,N,W,ot,M.el,M.anchor)},z=({el:M,anchor:N},W,ot)=>{let J;for(;M&&M!==N;)J=v(M),i(M,W,ot),M=J;i(N,W,ot)},B=({el:M,anchor:N})=>{let W;for(;M&&M!==N;)W=v(M),o(M),M=W;o(N)},U=(M,N,W,ot,J,rt,gt,ft,ht)=>{if(N.type==="svg"?gt="svg":N.type==="math"&&(gt="mathml"),M==null)H(N,W,ot,J,rt,gt,ft,ht);else{const at=M.el&&M.el._isVueCE?M.el:null;try{at&&at._beginPatch(),T(M,N,J,rt,gt,ft,ht)}finally{at&&at._endPatch()}}},H=(M,N,W,ot,J,rt,gt,ft)=>{let ht,at;const{props:Lt,shapeFlag:bt,transition:kt,dirs:Mt}=M;if(ht=M.el=a(M.type,rt,Lt&&Lt.is,Lt),bt&8?p(ht,M.children):bt&16&&k(M.children,ht,null,ot,J,Yh(M,rt),gt,ft),Mt&&rs(M,null,ot,"created"),C(ht,M,M.scopeId,gt,ot),Lt){for(const jt in Lt)jt!=="value"&&!Dl(jt)&&s(ht,jt,null,Lt[jt],rt,ot);"value"in Lt&&s(ht,"value",null,Lt.value,rt),(at=Lt.onVnodeBeforeMount)&&no(at,ot,M)}Mt&&rs(M,null,ot,"beforeMount");const $t=NI(J,kt);$t&&kt.beforeEnter(ht),i(ht,N,W),((at=Lt&&Lt.onVnodeMounted)||$t||Mt)&&Zn(()=>{at&&no(at,ot,M),$t&&kt.enter(ht),Mt&&rs(M,null,ot,"mounted")},J)},C=(M,N,W,ot,J)=>{if(W&&w(M,W),ot)for(let rt=0;rt<ot.length;rt++)w(M,ot[rt]);if(J){let rt=J.subTree;if(N===rt||iw(rt.type)&&(rt.ssContent===N||rt.ssFallback===N)){const gt=J.vnode;C(M,gt,gt.scopeId,gt.slotScopeIds,J.parent)}}},k=(M,N,W,ot,J,rt,gt,ft,ht=0)=>{for(let at=ht;at<M.length;at++){const Lt=M[at]=ft?xr(M[at]):oo(M[at]);I(null,Lt,N,W,ot,J,rt,gt,ft)}},T=(M,N,W,ot,J,rt,gt)=>{const ft=N.el=M.el;let{patchFlag:ht,dynamicChildren:at,dirs:Lt}=N;ht|=M.patchFlag&16;const bt=M.props||Se,kt=N.props||Se;let Mt;if(W&&ss(W,!1),(Mt=kt.onVnodeBeforeUpdate)&&no(Mt,W,N,M),Lt&&rs(N,M,W,"beforeUpdate"),W&&ss(W,!0),(bt.innerHTML&&kt.innerHTML==null||bt.textContent&&kt.textContent==null)&&p(ft,""),at?O(M.dynamicChildren,at,ft,W,ot,Yh(N,J),rt):gt||tt(M,N,ft,null,W,ot,Yh(N,J),rt,!1),ht>0){if(ht&16)A(ft,bt,kt,W,J);else if(ht&2&&bt.class!==kt.class&&s(ft,"class",null,kt.class,J),ht&4&&s(ft,"style",bt.style,kt.style,J),ht&8){const $t=N.dynamicProps;for(let jt=0;jt<$t.length;jt++){const te=$t[jt],We=bt[te],xe=kt[te];(xe!==We||te==="value")&&s(ft,te,We,xe,J,W)}}ht&1&&M.children!==N.children&&p(ft,N.children)}else!gt&&at==null&&A(ft,bt,kt,W,J);((Mt=kt.onVnodeUpdated)||Lt)&&Zn(()=>{Mt&&no(Mt,W,N,M),Lt&&rs(N,M,W,"updated")},ot)},O=(M,N,W,ot,J,rt,gt)=>{for(let ft=0;ft<N.length;ft++){const ht=M[ft],at=N[ft],Lt=ht.el&&(ht.type===An||!hs(ht,at)||ht.shapeFlag&198)?m(ht.el):W;I(ht,at,Lt,null,ot,J,rt,gt,!0)}},A=(M,N,W,ot,J)=>{if(N!==W){if(N!==Se)for(const rt in N)!Dl(rt)&&!(rt in W)&&s(M,rt,N[rt],null,J,ot);for(const rt in W){if(Dl(rt))continue;const gt=W[rt],ft=N[rt];gt!==ft&&rt!=="value"&&s(M,rt,ft,gt,J,ot)}"value"in W&&s(M,"value",N.value,W.value,J)}},$=(M,N,W,ot,J,rt,gt,ft,ht)=>{const at=N.el=M?M.el:c(""),Lt=N.anchor=M?M.anchor:c("");let{patchFlag:bt,dynamicChildren:kt,slotScopeIds:Mt}=N;Mt&&(ft=ft?ft.concat(Mt):Mt),M==null?(i(at,W,ot),i(Lt,W,ot),k(N.children||[],W,Lt,J,rt,gt,ft,ht)):bt>0&&bt&64&&kt&&M.dynamicChildren&&M.dynamicChildren.length===kt.length?(O(M.dynamicChildren,kt,W,J,rt,gt,ft),(N.key!=null||J&&N===J.subTree)&&Em(M,N,!0)):tt(M,N,W,Lt,J,rt,gt,ft,ht)},P=(M,N,W,ot,J,rt,gt,ft,ht)=>{N.slotScopeIds=ft,M==null?N.shapeFlag&512?J.ctx.activate(N,W,ot,gt,ht):Ct(N,W,ot,J,rt,gt,ht):Gt(M,N,ht)},Ct=(M,N,W,ot,J,rt,gt)=>{const ft=M.component=WI(M,ot,J);if(Vd(M)&&(ft.ctx.renderer=Tt),GI(ft,!1,gt),ft.asyncDep){if(J&&J.registerDep(ft,Vt,gt),!M.el){const ht=ft.subTree=At(Qn);D(null,ht,N,W),M.placeholder=ht.el}}else Vt(ft,M,N,W,J,rt,gt)},Gt=(M,N,W)=>{const ot=N.component=M.component;if(SI(M,N,W))if(ot.asyncDep&&!ot.asyncResolved){wt(ot,N,W);return}else ot.next=N,ot.update();else N.el=M.el,ot.vnode=N},Vt=(M,N,W,ot,J,rt,gt)=>{const ft=()=>{if(M.isMounted){let{next:bt,bu:kt,u:Mt,parent:$t,vnode:jt}=M;{const Ee=ew(M);if(Ee){bt&&(bt.el=jt.el,wt(M,bt,gt)),Ee.asyncDep.then(()=>{M.isUnmounted||ft()});return}}let te=bt,We;ss(M,!1),bt?(bt.el=jt.el,wt(M,bt,gt)):bt=jt,kt&&Pu(kt),(We=bt.props&&bt.props.onVnodeBeforeUpdate)&&no(We,$t,bt,jt),ss(M,!0);const xe=Zh(M),Ge=M.subTree;M.subTree=xe,I(Ge,xe,m(Ge.el),Q(Ge),M,J,rt),bt.el=xe.el,te===null&&AI(M,xe.el),Mt&&Zn(Mt,J),(We=bt.props&&bt.props.onVnodeUpdated)&&Zn(()=>no(We,$t,bt,jt),J)}else{let bt;const{el:kt,props:Mt}=N,{bm:$t,m:jt,parent:te,root:We,type:xe}=M,Ge=zl(N);if(ss(M,!1),$t&&Pu($t),!Ge&&(bt=Mt&&Mt.onVnodeBeforeMount)&&no(bt,te,N),ss(M,!0),kt&&oe){const Ee=()=>{M.subTree=Zh(M),oe(kt,M.subTree,M,J,null)};Ge&&xe.__asyncHydrate?xe.__asyncHydrate(kt,M,Ee):Ee()}else{We.ce&&We.ce._def.shadowRoot!==!1&&We.ce._injectChildStyle(xe);const Ee=M.subTree=Zh(M);I(null,Ee,W,ot,M,J,rt),N.el=Ee.el}if(jt&&Zn(jt,J),!Ge&&(bt=Mt&&Mt.onVnodeMounted)){const Ee=N;Zn(()=>no(bt,te,Ee),J)}(N.shapeFlag&256||te&&zl(te.vnode)&&te.vnode.shapeFlag&256)&&M.a&&Zn(M.a,J),M.isMounted=!0,N=W=ot=null}};M.scope.on();const ht=M.effect=new ay(ft);M.scope.off();const at=M.update=ht.run.bind(ht),Lt=M.job=ht.runIfDirty.bind(ht);Lt.i=M,Lt.id=M.uid,ht.scheduler=()=>_m(Lt),ss(M,!0),at()},wt=(M,N,W)=>{N.component=M;const ot=M.vnode.props;M.vnode=N,M.next=null,PI(M,N.props,ot,W),$I(M,N.children,W),Zo(),_v(M),Yo()},tt=(M,N,W,ot,J,rt,gt,ft,ht=!1)=>{const at=M&&M.children,Lt=M?M.shapeFlag:0,bt=N.children,{patchFlag:kt,shapeFlag:Mt}=N;if(kt>0){if(kt&128){G(at,bt,W,ot,J,rt,gt,ft,ht);return}else if(kt&256){nt(at,bt,W,ot,J,rt,gt,ft,ht);return}}Mt&8?(Lt&16&&yt(at,J,rt),bt!==at&&p(W,bt)):Lt&16?Mt&16?G(at,bt,W,ot,J,rt,gt,ft,ht):yt(at,J,rt,!0):(Lt&8&&p(W,""),Mt&16&&k(bt,W,ot,J,rt,gt,ft,ht))},nt=(M,N,W,ot,J,rt,gt,ft,ht)=>{M=M||va,N=N||va;const at=M.length,Lt=N.length,bt=Math.min(at,Lt);let kt;for(kt=0;kt<bt;kt++){const Mt=N[kt]=ht?xr(N[kt]):oo(N[kt]);I(M[kt],Mt,W,null,J,rt,gt,ft,ht)}at>Lt?yt(M,J,rt,!0,!1,bt):k(N,W,ot,J,rt,gt,ft,ht,bt)},G=(M,N,W,ot,J,rt,gt,ft,ht)=>{let at=0;const Lt=N.length;let bt=M.length-1,kt=Lt-1;for(;at<=bt&&at<=kt;){const Mt=M[at],$t=N[at]=ht?xr(N[at]):oo(N[at]);if(hs(Mt,$t))I(Mt,$t,W,null,J,rt,gt,ft,ht);else break;at++}for(;at<=bt&&at<=kt;){const Mt=M[bt],$t=N[kt]=ht?xr(N[kt]):oo(N[kt]);if(hs(Mt,$t))I(Mt,$t,W,null,J,rt,gt,ft,ht);else break;bt--,kt--}if(at>bt){if(at<=kt){const Mt=kt+1,$t=Mt<Lt?N[Mt].el:ot;for(;at<=kt;)I(null,N[at]=ht?xr(N[at]):oo(N[at]),W,$t,J,rt,gt,ft,ht),at++}}else if(at>kt)for(;at<=bt;)St(M[at],J,rt,!0),at++;else{const Mt=at,$t=at,jt=new Map;for(at=$t;at<=kt;at++){const Ae=N[at]=ht?xr(N[at]):oo(N[at]);Ae.key!=null&&jt.set(Ae.key,at)}let te,We=0;const xe=kt-$t+1;let Ge=!1,Ee=0;const Ne=new Array(xe);for(at=0;at<xe;at++)Ne[at]=0;for(at=Mt;at<=bt;at++){const Ae=M[at];if(We>=xe){St(Ae,J,rt,!0);continue}let rn;if(Ae.key!=null)rn=jt.get(Ae.key);else for(te=$t;te<=kt;te++)if(Ne[te-$t]===0&&hs(Ae,N[te])){rn=te;break}rn===void 0?St(Ae,J,rt,!0):(Ne[rn-$t]=at+1,rn>=Ee?Ee=rn:Ge=!0,I(Ae,N[rn],W,null,J,rt,gt,ft,ht),We++)}const Tn=Ge?VI(Ne):va;for(te=Tn.length-1,at=xe-1;at>=0;at--){const Ae=$t+at,rn=N[Ae],sr=N[Ae+1],Ki=Ae+1<Lt?sr.el||nw(sr):ot;Ne[at]===0?I(null,rn,W,Ki,J,rt,gt,ft,ht):Ge&&(te<0||at!==Tn[te]?ut(rn,W,Ki,2):te--)}}},ut=(M,N,W,ot,J=null)=>{const{el:rt,type:gt,transition:ft,children:ht,shapeFlag:at}=M;if(at&6){ut(M.component.subTree,N,W,ot);return}if(at&128){M.suspense.move(N,W,ot);return}if(at&64){gt.move(M,N,W,Tt);return}if(gt===An){i(rt,N,W);for(let bt=0;bt<ht.length;bt++)ut(ht[bt],N,W,ot);i(M.anchor,N,W);return}if(gt===Xh){z(M,N,W);return}if(ot!==2&&at&1&&ft)if(ot===0)ft.beforeEnter(rt),i(rt,N,W),Zn(()=>ft.enter(rt),J);else{const{leave:bt,delayLeave:kt,afterLeave:Mt}=ft,$t=()=>{M.ctx.isUnmounted?o(rt):i(rt,N,W)},jt=()=>{rt._isLeaving&&rt[Do](!0),bt(rt,()=>{$t(),Mt&&Mt()})};kt?kt(rt,$t,jt):jt()}else i(rt,N,W)},St=(M,N,W,ot=!1,J=!1)=>{const{type:rt,props:gt,ref:ft,children:ht,dynamicChildren:at,shapeFlag:Lt,patchFlag:bt,dirs:kt,cacheIndex:Mt}=M;if(bt===-2&&(J=!1),ft!=null&&(Zo(),Fl(ft,null,W,M,!0),Yo()),Mt!=null&&(N.renderCache[Mt]=void 0),Lt&256){N.ctx.deactivate(M);return}const $t=Lt&1&&kt,jt=!zl(M);let te;if(jt&&(te=gt&&gt.onVnodeBeforeUnmount)&&no(te,N,M),Lt&6)Rt(M.component,W,ot);else{if(Lt&128){M.suspense.unmount(W,ot);return}$t&&rs(M,null,N,"beforeUnmount"),Lt&64?M.type.remove(M,N,W,Tt,ot):at&&!at.hasOnce&&(rt!==An||bt>0&&bt&64)?yt(at,N,W,!1,!0):(rt===An&&bt&384||!J&&Lt&16)&&yt(ht,N,W),ot&&Dt(M)}(jt&&(te=gt&&gt.onVnodeUnmounted)||$t)&&Zn(()=>{te&&no(te,N,M),$t&&rs(M,null,N,"unmounted")},W)},Dt=M=>{const{type:N,el:W,anchor:ot,transition:J}=M;if(N===An){Ot(W,ot);return}if(N===Xh){B(M);return}const rt=()=>{o(W),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(M.shapeFlag&1&&J&&!J.persisted){const{leave:gt,delayLeave:ft}=J,ht=()=>gt(W,rt);ft?ft(M.el,rt,ht):ht()}else rt()},Ot=(M,N)=>{let W;for(;M!==N;)W=v(M),o(M),M=W;o(N)},Rt=(M,N,W)=>{const{bum:ot,scope:J,job:rt,subTree:gt,um:ft,m:ht,a:at}=M;Rv(ht),Rv(at),ot&&Pu(ot),J.stop(),rt&&(rt.flags|=8,St(gt,M,N,W)),ft&&Zn(ft,N),Zn(()=>{M.isUnmounted=!0},N)},yt=(M,N,W,ot=!1,J=!1,rt=0)=>{for(let gt=rt;gt<M.length;gt++)St(M[gt],N,W,ot,J)},Q=M=>{if(M.shapeFlag&6)return Q(M.component.subTree);if(M.shapeFlag&128)return M.suspense.next();const N=v(M.anchor||M.el),W=N&&N[Ly];return W?v(W):N};let mt=!1;const vt=(M,N,W)=>{let ot;M==null?N._vnode&&(St(N._vnode,null,null,!0),ot=N._vnode.component):I(N._vnode||null,M,N,null,null,null,W),N._vnode=M,mt||(mt=!0,_v(ot),Sy(),mt=!1)},Tt={p:I,um:St,m:ut,r:Dt,mt:Ct,mc:k,pc:tt,pbc:O,n:Q,o:e};let zt,oe;return t&&([zt,oe]=t(Tt)),{render:vt,hydrate:zt,createApp:wI(vt,zt)}}function Yh({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function ss({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function NI(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Em(e,t,n=!1){const i=e.children,o=t.children;if(Ht(i)&&Ht(o))for(let s=0;s<i.length;s++){const a=i[s];let c=o[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[s]=xr(o[s]),c.el=a.el),!n&&c.patchFlag!==-2&&Em(a,c)),c.type===Ud&&(c.patchFlag!==-1?c.el=a.el:c.__elIndex=s+(e.type===An?1:0)),c.type===Qn&&!c.el&&(c.el=a.el)}}function VI(e){const t=e.slice(),n=[0];let i,o,s,a,c;const u=e.length;for(i=0;i<u;i++){const f=e[i];if(f!==0){if(o=n[n.length-1],e[o]<f){t[i]=o,n.push(i);continue}for(s=0,a=n.length-1;s<a;)c=s+a>>1,e[n[c]]<f?s=c+1:a=c;f<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}function ew(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ew(t)}function Rv(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function nw(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?nw(t.subTree):null}const iw=e=>e.__isSuspense;function BI(e,t){t&&t.pendingBranch?Ht(e)?t.effects.push(...e):t.effects.push(e):Kk(e)}const An=Symbol.for("v-fgt"),Ud=Symbol.for("v-txt"),Qn=Symbol.for("v-cmt"),Xh=Symbol.for("v-stc"),jl=[];let di=null;function Bt(e=!1){jl.push(di=e?null:[])}function FI(){jl.pop(),di=jl[jl.length-1]||null}let nc=1;function Qu(e,t=!1){nc+=e,e<0&&di&&t&&(di.hasOnce=!0)}function ow(e){return e.dynamicChildren=nc>0?di||va:null,FI(),nc>0&&di&&di.push(e),e}function le(e,t,n,i,o,s){return ow(Z(e,t,n,i,o,s,!0))}function Fn(e,t,n,i,o){return ow(At(e,t,n,i,o,!0))}function Ju(e){return e?e.__v_isVNode===!0:!1}function hs(e,t){return e.type===t.type&&e.key===t.key}const rw=({key:e})=>e??null,Lu=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Xe(e)||jn(e)||Qt(e)?{i:Ei,r:e,k:t,f:!!n}:e:null);function Z(e,t=null,n=null,i=0,o=null,s=e===An?0:1,a=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&rw(t),ref:t&&Lu(t),scopeId:Cy,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Ei};return c?(Tm(u,n),s&128&&e.normalize(u)):n&&(u.shapeFlag|=Xe(n)?8:16),nc>0&&!a&&di&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&di.push(u),u}const At=zI;function zI(e,t=null,n=null,i=0,o=null,s=!1){if((!e||e===fI)&&(e=Qn),Ju(e)){const c=Dr(e,t,!0);return n&&Tm(c,n),nc>0&&!s&&di&&(c.shapeFlag&6?di[di.indexOf(e)]=c:di.push(c)),c.patchFlag=-2,c}if(XI(e)&&(e=e.__vccOpts),t){t=UI(t);let{class:c,style:u}=t;c&&!Xe(c)&&(t.class=Vn(c)),Pe(u)&&(bm(u)&&!Ht(u)&&(u=nn({},u)),t.style=Es(u))}const a=Xe(e)?1:iw(e)?128:Oy(e)?64:Pe(e)?4:Qt(e)?2:0;return Z(e,t,n,i,o,a,s,!0)}function UI(e){return e?bm(e)||Zy(e)?nn({},e):e:null}function Dr(e,t,n=!1,i=!1){const{props:o,ref:s,patchFlag:a,children:c,transition:u}=e,f=t?jI(o||{},t):o,p={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&rw(f),ref:t&&t.ref?n&&s?Ht(s)?s.concat(Lu(t)):[s,Lu(t)]:Lu(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==An?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Dr(e.ssContent),ssFallback:e.ssFallback&&Dr(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&i&&ec(p,u.clone(p)),p}function ri(e=" ",t=0){return At(Ud,null,e,t)}function Ze(e="",t=!1){return t?(Bt(),Fn(Qn,null,e)):At(Qn,null,e)}function oo(e){return e==null||typeof e=="boolean"?At(Qn):Ht(e)?At(An,null,e.slice()):Ju(e)?xr(e):At(Ud,null,String(e))}function xr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Dr(e)}function Tm(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Ht(t))n=16;else if(typeof t=="object")if(i&65){const o=t.default;o&&(o._c&&(o._d=!1),Tm(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!Zy(t)?t._ctx=Ei:o===3&&Ei&&(Ei.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Qt(t)?(t={default:t,_ctx:Ei},n=32):(t=String(t),i&64?(n=16,t=[ri(t)]):n=8);e.children=t,e.shapeFlag|=n}function jI(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const o in i)if(o==="class")t.class!==i.class&&(t.class=Vn([t.class,i.class]));else if(o==="style")t.style=Es([t.style,i.style]);else if(Ld(o)){const s=t[o],a=i[o];a&&s!==a&&!(Ht(s)&&s.includes(a))&&(t[o]=s?[].concat(s,a):a)}else o!==""&&(t[o]=i[o])}return t}function no(e,t,n,i=null){ji(e,t,7,[n,i])}const HI=qy();let qI=0;function WI(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||HI,s={uid:qI++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new _k(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xy(i,o),emitsOptions:Wy(i,o),emit:null,emitted:null,propsDefaults:Se,inheritAttrs:i.inheritAttrs,ctx:Se,data:Se,props:Se,attrs:Se,slots:Se,refs:Se,setupState:Se,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=EI.bind(null,s),e.ce&&e.ce(s),s}let Jn=null;const Cc=()=>Jn||Ei;let td,Zf;{const e=Md(),t=(n,i)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(i),s=>{o.length>1?o.forEach(a=>a(s)):o[0](s)}};td=t("__VUE_INSTANCE_SETTERS__",n=>Jn=n),Zf=t("__VUE_SSR_SETTERS__",n=>ic=n)}const Pc=e=>{const t=Jn;return td(e),e.scope.on(),()=>{e.scope.off(),td(t)}},Lv=()=>{Jn&&Jn.scope.off(),td(null)};function sw(e){return e.vnode.shapeFlag&4}let ic=!1;function GI(e,t=!1,n=!1){t&&Zf(t);const{props:i,children:o}=e.vnode,s=sw(e);CI(e,i,s,t),OI(e,o,n||t);const a=s?KI(e,t):void 0;return t&&Zf(!1),a}function KI(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,pI);const{setup:i}=n;if(i){Zo();const o=e.setupContext=i.length>1?YI(e):null,s=Pc(e),a=Ac(i,e,0,[e.props,o]),c=J0(a);if(Yo(),s(),(c||e.sp)&&!zl(e)&&zy(e),c){if(a.then(Lv,Lv),t)return a.then(u=>{Ov(e,u,t)}).catch(u=>{Nd(u,e,0)});e.asyncDep=a}else Ov(e,a,t)}else aw(e,t)}function Ov(e,t,n){Qt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Pe(t)&&(e.setupState=Ey(t)),aw(e,n)}let $v;function aw(e,t,n){const i=e.type;if(!e.render){if(!t&&$v&&!i.render){const o=i.template||ym(e).template;if(o){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:c,compilerOptions:u}=i,f=nn(nn({isCustomElement:s,delimiters:c},a),u);i.render=$v(o,f)}}e.render=i.render||Bi}{const o=Pc(e);Zo();try{mI(e)}finally{Yo(),o()}}}const ZI={get(e,t){return Bn(e,"get",""),e[t]}};function YI(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,ZI),slots:e.slots,emit:e.emit,expose:t}}function jd(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ey(Bk(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ul)return Ul[n](e)},has(t,n){return n in t||n in Ul}})):e.proxy}function XI(e){return Qt(e)&&"__vccOpts"in e}const ti=(e,t)=>jk(e,t,ic);function hn(e,t,n){try{Qu(-1);const i=arguments.length;return i===2?Pe(t)&&!Ht(t)?Ju(t)?At(e,null,[t]):At(e,t):At(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Ju(n)&&(n=[n]),At(e,t,n))}finally{Qu(1)}}const QI="3.5.27";/**
* @vue/runtime-dom v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Yf;const Mv=typeof window<"u"&&window.trustedTypes;if(Mv)try{Yf=Mv.createPolicy("vue",{createHTML:e=>e})}catch{}const lw=Yf?e=>Yf.createHTML(e):e=>e,JI="http://www.w3.org/2000/svg",tS="http://www.w3.org/1998/Math/MathML",$o=typeof document<"u"?document:null,Dv=$o&&$o.createElement("template"),eS={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const o=t==="svg"?$o.createElementNS(JI,e):t==="mathml"?$o.createElementNS(tS,e):n?$o.createElement(e,{is:n}):$o.createElement(e);return e==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:e=>$o.createTextNode(e),createComment:e=>$o.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>$o.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,s){const a=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{Dv.innerHTML=lw(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const c=Dv.content;if(i==="svg"||i==="mathml"){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}t.insertBefore(c,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},vr="transition",El="animation",oc=Symbol("_vtc"),cw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},nS=nn({},Dy,cw),iS=e=>(e.displayName="Transition",e.props=nS,e),oS=iS((e,{slots:t})=>hn(nI,rS(e),t)),as=(e,t=[])=>{Ht(e)?e.forEach(n=>n(...t)):e&&e(...t)},Nv=e=>e?Ht(e)?e.some(t=>t.length>1):e.length>1:!1;function rS(e){const t={};for(const $ in e)$ in cw||(t[$]=e[$]);if(e.css===!1)return t;const{name:n="v",type:i,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:u=s,appearActiveClass:f=a,appearToClass:p=c,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:v=`${n}-leave-active`,leaveToClass:w=`${n}-leave-to`}=e,E=sS(o),I=E&&E[0],R=E&&E[1],{onBeforeEnter:D,onEnter:F,onEnterCancelled:z,onLeave:B,onLeaveCancelled:U,onBeforeAppear:H=D,onAppear:C=F,onAppearCancelled:k=z}=t,T=($,P,Ct,Gt)=>{$._enterCancelled=Gt,ls($,P?p:c),ls($,P?f:a),Ct&&Ct()},O=($,P)=>{$._isLeaving=!1,ls($,m),ls($,w),ls($,v),P&&P()},A=$=>(P,Ct)=>{const Gt=$?C:F,Vt=()=>T(P,$,Ct);as(Gt,[P,Vt]),Vv(()=>{ls(P,$?u:s),Po(P,$?p:c),Nv(Gt)||Bv(P,i,I,Vt)})};return nn(t,{onBeforeEnter($){as(D,[$]),Po($,s),Po($,a)},onBeforeAppear($){as(H,[$]),Po($,u),Po($,f)},onEnter:A(!1),onAppear:A(!0),onLeave($,P){$._isLeaving=!0;const Ct=()=>O($,P);Po($,m),$._enterCancelled?(Po($,v),Uv($)):(Uv($),Po($,v)),Vv(()=>{$._isLeaving&&(ls($,m),Po($,w),Nv(B)||Bv($,i,R,Ct))}),as(B,[$,Ct])},onEnterCancelled($){T($,!1,void 0,!0),as(z,[$])},onAppearCancelled($){T($,!0,void 0,!0),as(k,[$])},onLeaveCancelled($){O($),as(U,[$])}})}function sS(e){if(e==null)return null;if(Pe(e))return[Qh(e.enter),Qh(e.leave)];{const t=Qh(e);return[t,t]}}function Qh(e){return hk(e)}function Po(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[oc]||(e[oc]=new Set)).add(t)}function ls(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const n=e[oc];n&&(n.delete(t),n.size||(e[oc]=void 0))}function Vv(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let aS=0;function Bv(e,t,n,i){const o=e._endId=++aS,s=()=>{o===e._endId&&i()};if(n!=null)return setTimeout(s,n);const{type:a,timeout:c,propCount:u}=lS(e,t);if(!a)return i();const f=a+"end";let p=0;const m=()=>{e.removeEventListener(f,v),s()},v=w=>{w.target===e&&++p>=u&&m()};setTimeout(()=>{p<u&&m()},c+1),e.addEventListener(f,v)}function lS(e,t){const n=window.getComputedStyle(e),i=E=>(n[E]||"").split(", "),o=i(`${vr}Delay`),s=i(`${vr}Duration`),a=Fv(o,s),c=i(`${El}Delay`),u=i(`${El}Duration`),f=Fv(c,u);let p=null,m=0,v=0;t===vr?a>0&&(p=vr,m=a,v=s.length):t===El?f>0&&(p=El,m=f,v=u.length):(m=Math.max(a,f),p=m>0?a>f?vr:El:null,v=p?p===vr?s.length:u.length:0);const w=p===vr&&/\b(?:transform|all)(?:,|$)/.test(i(`${vr}Property`).toString());return{type:p,timeout:m,propCount:v,hasTransform:w}}function Fv(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>zv(n)+zv(e[i])))}function zv(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Uv(e){return(e?e.ownerDocument:document).body.offsetHeight}function cS(e,t,n){const i=e[oc];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const jv=Symbol("_vod"),uS=Symbol("_vsh"),dS=Symbol(""),hS=/(?:^|;)\s*display\s*:/;function fS(e,t,n){const i=e.style,o=Xe(n);let s=!1;if(n&&!o){if(t)if(Xe(t))for(const a of t.split(";")){const c=a.slice(0,a.indexOf(":")).trim();n[c]==null&&Ou(i,c,"")}else for(const a in t)n[a]==null&&Ou(i,a,"");for(const a in n)a==="display"&&(s=!0),Ou(i,a,n[a])}else if(o){if(t!==n){const a=i[dS];a&&(n+=";"+a),i.cssText=n,s=hS.test(n)}}else t&&e.removeAttribute("style");jv in e&&(e[jv]=s?i.display:"",e[uS]&&(i.display="none"))}const Hv=/\s*!important$/;function Ou(e,t,n){if(Ht(n))n.forEach(i=>Ou(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=pS(e,t);Hv.test(n)?e.setProperty(Os(i),n.replace(Hv,""),"important"):e[i]=n}}const qv=["Webkit","Moz","ms"],Jh={};function pS(e,t){const n=Jh[t];if(n)return n;let i=Mr(t);if(i!=="filter"&&i in e)return Jh[t]=i;i=ny(i);for(let o=0;o<qv.length;o++){const s=qv[o]+i;if(s in e)return Jh[t]=s}return t}const Wv="http://www.w3.org/1999/xlink";function Gv(e,t,n,i,o,s=bk(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Wv,t.slice(6,t.length)):e.setAttributeNS(Wv,t,n):n==null||s&&!oy(n)?e.removeAttribute(t):e.setAttribute(t,s?"":Ur(n)?String(n):n)}function Kv(e,t,n,i,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?lw(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const c=s==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?e.type==="checkbox"?"on":"":String(n);(c!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=oy(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(o||t)}function la(e,t,n,i){e.addEventListener(t,n,i)}function mS(e,t,n,i){e.removeEventListener(t,n,i)}const Zv=Symbol("_vei");function gS(e,t,n,i,o=null){const s=e[Zv]||(e[Zv]={}),a=s[t];if(i&&a)a.value=i;else{const[c,u]=vS(t);if(i){const f=s[t]=yS(i,o);la(e,c,f,u)}else a&&(mS(e,c,a,u),s[t]=void 0)}}const Yv=/(?:Once|Passive|Capture)$/;function vS(e){let t;if(Yv.test(e)){t={};let i;for(;i=e.match(Yv);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Os(e.slice(2)),t]}let tf=0;const bS=Promise.resolve(),_S=()=>tf||(bS.then(()=>tf=0),tf=Date.now());function yS(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;ji(wS(i,n.value),t,5,[i])};return n.value=e,n.attached=_S(),n}function wS(e,t){if(Ht(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>o=>!o._stopped&&i&&i(o))}else return t}const Xv=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,xS=(e,t,n,i,o,s)=>{const a=o==="svg";t==="class"?cS(e,i,a):t==="style"?fS(e,n,i):Ld(t)?lm(t)||gS(e,t,n,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ES(e,t,i,a))?(Kv(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Gv(e,t,i,a,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Xe(i))?Kv(e,Mr(t),i,s,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Gv(e,t,i,a))};function ES(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&Xv(t)&&Qt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Xv(t)&&Xe(n)?!1:t in e}const Qv=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ht(t)?n=>Pu(t,n):t};function TS(e){e.target.composing=!0}function Jv(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ef=Symbol("_assign");function tb(e,t,n){return t&&(e=e.trim()),n&&(e=dm(e)),e}const Xf={created(e,{modifiers:{lazy:t,trim:n,number:i}},o){e[ef]=Qv(o);const s=i||o.props&&o.props.type==="number";la(e,t?"change":"input",a=>{a.target.composing||e[ef](tb(e.value,n,s))}),(n||s)&&la(e,"change",()=>{e.value=tb(e.value,n,s)}),t||(la(e,"compositionstart",TS),la(e,"compositionend",Jv),la(e,"change",Jv))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:o,number:s}},a){if(e[ef]=Qv(a),e.composing)return;const c=(s||e.type==="number")&&!/^0\d/.test(e.value)?dm(e.value):e.value,u=t??"";c!==u&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||o&&e.value.trim()===u)||(e.value=u))}},kS=["ctrl","shift","alt","meta"],IS={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>kS.some(n=>e[`${n}Key`]&&!t.includes(n))},SS=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(o,...s)=>{for(let a=0;a<t.length;a++){const c=IS[t[a]];if(c&&c(o,t))return}return e(o,...s)})},AS=nn({patchProp:xS},eS);let eb;function CS(){return eb||(eb=MI(AS))}const PS=(...e)=>{const t=CS().createApp(...e),{mount:n}=t;return t.mount=i=>{const o=LS(i);if(!o)return;const s=t._component;!Qt(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const a=n(o,!1,RS(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function RS(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function LS(e){return Xe(e)?document.querySelector(e):e}const OS="modulepreload",$S=function(e){return"/"+e},nb={},Cn=function(t,n,i){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=$S(s),s in nb)return;nb[s]=!0;const a=s.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(!!i)for(let p=o.length-1;p>=0;p--){const m=o[p];if(m.href===s&&(!a||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${c}`))return;const f=document.createElement("link");if(f.rel=a?"stylesheet":OS,a||(f.as="script",f.crossOrigin=""),f.href=s,document.head.appendChild(f),a)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};var _n={allRenderFn:!1,element:!0,event:!0,hasRenderFn:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,propChangeCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,devTools:!1,shadowDelegatesFocus:!0,shadowSlotAssignmentManual:!1,initializeNextTick:!1,asyncLoading:!0,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},MS="app",DS="",NS={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},VS="http://www.w3.org/2000/svg",BS="http://www.w3.org/1999/xhtml",FS=(e,t)=>{var n;const i=t.$cmpMeta$;Object.entries((n=i.$members$)!=null?n:{}).map(([s,[a]])=>{if(a&31||a&32){const c=e[s],u=zS(Object.getPrototypeOf(e),s)||Object.getOwnPropertyDescriptor(e,s);u&&Object.defineProperty(e,s,{get(){return u.get.call(this)},set(f){u.set.call(this,f)},configurable:!0,enumerable:!0}),e[s]=t.$instanceValues$.has(s)?t.$instanceValues$.get(s):c}})};function zS(e,t){for(;e;){const n=Object.getOwnPropertyDescriptor(e,t);if(n!=null&&n.get)return n;e=Object.getPrototypeOf(e)}}var Qo=e=>{if(e.__stencil__getHostRef)return e.__stencil__getHostRef()},US=(e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map,$serializerValues$:new Map};n.$onReadyPromise$=new Promise(o=>n.$onReadyResolve$=o),e["s-p"]=[],e["s-rc"]=[];const i=n;return e.__stencil__getHostRef=()=>i,t.$flags$&512&&_n.state&&FS(e,n),i},ib=(e,t)=>t in e,Rc=(e,t)=>(0,console.error)(e,t),ed=new Map,uw=[],jS="slot-fb{display:contents}slot-fb[hidden]{display:none}",ob="http://www.w3.org/1999/xlink",Me=typeof window<"u"?window:{},De=Me.HTMLElement||class{},pn={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,i)=>e.addEventListener(t,n,i),rel:(e,t,n,i)=>e.removeEventListener(t,n,i),ce:(e,t)=>new CustomEvent(e,t)},HS=e=>{Object.assign(pn,e)},qS=(()=>{var e;let t=!1;try{(e=Me.document)==null||e.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch{}return t})(),WS=e=>Promise.resolve(e),Hd=(()=>{try{return Me.document.adoptedStyleSheets?(new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"):!1}catch{}return!1})(),Qf=Hd?(()=>!!Me.document&&Object.getOwnPropertyDescriptor(Me.document.adoptedStyleSheets,"length").writable)():!1,Jf=!1,tp=[],dw=[],hw=(e,t)=>n=>{e.push(n),Jf||(Jf=!0,t&&pn.$flags$&4?km(ep):pn.raf(ep))},rb=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(n){Rc(n)}e.length=0},ep=()=>{rb(tp),rb(dw),(Jf=tp.length>0)&&pn.raf(ep)},km=e=>WS().then(e),rc=hw(tp,!1),Nr=hw(dw,!0),fw=e=>{const t=new URL(e,pn.$resourcesUrl$);return t.origin!==Me.location.origin?t.href:t.pathname};function GS(e){if(!e||!Hd)return;const t=new CSSStyleSheet;return t.replaceSync(e),t}var Tl;function KS(e){var t;const n={mode:"open"};n.delegatesFocus=!!(e.$flags$&16);const i=this.attachShadow(n);Tl===void 0&&(Tl=(t=GS(DS))!=null?t:null),Tl&&(Qf?i.adoptedStyleSheets.push(Tl):i.adoptedStyleSheets=[...i.adoptedStyleSheets,Tl])}var pw=e=>{const t=np(e,"childNodes");e.tagName&&e.tagName.includes("-")&&e["s-cr"]&&e.tagName!=="SLOT-FB"&&Im(t,e.tagName).forEach(i=>{i.nodeType===1&&i.tagName==="SLOT-FB"&&(YS(i,Lc(i),!1).length?i.hidden=!0:i.hidden=!1)});let n=0;for(n=0;n<t.length;n++){const i=t[n];i.nodeType===1&&np(i,"childNodes").length&&pw(i)}},ZS=e=>{const t=[];for(let n=0;n<e.length;n++){const i=e[n]["s-nr"]||void 0;i&&i.isConnected&&t.push(i)}return t};function Im(e,t,n){let i=0,o=[],s;for(;i<e.length;i++){if(s=e[i],s["s-sr"]&&(!t||s["s-hn"]===t)&&(n===void 0||Lc(s)===n)&&(o.push(s),typeof n<"u"))return o;o=[...o,...Im(s.childNodes,t,n)]}return o}var YS=(e,t,n=!0)=>{const i=[];(n&&e["s-sr"]||!e["s-sr"])&&i.push(e);let o=e;for(;o=o.nextSibling;)Lc(o)===t&&(n||!o["s-sr"])&&i.push(o);return i},sb=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",Lc=e=>typeof e["s-sn"]=="string"?e["s-sn"]:e.nodeType===1&&e.getAttribute("slot")||void 0;function XS(e){if(e.assignedElements||e.assignedNodes||!e["s-sr"])return;const t=n=>(function(i){const o=[],s=this["s-sn"];i!=null&&i.flatten&&console.error(`
          Flattening is not supported for Stencil non-shadow slots.
          You can use \`.childNodes\` to nested slot fallback content.
          If you have a particular use case, please open an issue on the Stencil repo.
        `);const a=this["s-cr"].parentElement;return(a.__childNodes?a.childNodes:ZS(a.childNodes)).forEach(u=>{s===Lc(u)&&o.push(u)}),n?o.filter(u=>u.nodeType===1):o}).bind(e);e.assignedElements=t(!0),e.assignedNodes=t(!1)}function QS(e){e.dispatchEvent(new CustomEvent("slotchange",{bubbles:!1,cancelable:!1,composed:!1}))}function JS(e,t){var n;if(t=t||((n=e["s-ol"])==null?void 0:n.parentElement),!t)return{slotNode:null,slotName:""};const i=e["s-sn"]=Lc(e)||"",o=np(t,"childNodes");return{slotNode:Im(o,t.tagName,i)[0],slotName:i}}function np(e,t){if("__"+t in e){const n=e["__"+t];return typeof n!="function"?n:n.bind(e)}else return typeof e[t]!="function"?e[t]:e[t].bind(e)}var Ts=(e,t="")=>()=>{};function tA(e){var t,n,i;return(i=(n=(t=e.head)==null?void 0:t.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?i:void 0}var Ar=new WeakMap,eA=(e,t,n)=>{let i=ed.get(e);Hd&&n?(i=i||new CSSStyleSheet,typeof i=="string"?i=t:i.replaceSync(t)):i=t,ed.set(e,i)},nA=(e,t,n)=>{var i,o,s;const a=mw(t,n),c=ed.get(a);if(!Me.document)return a;if(e=e.nodeType===11?e:Me.document,c)if(typeof c=="string"){e=e.head||e;let u=Ar.get(e),f;if(u||Ar.set(e,u=new Set),!u.has(a)){f=Me.document.createElement("style"),f.textContent=c;const p=(i=pn.$nonce$)!=null?i:tA(Me.document);if(p!=null&&f.setAttribute("nonce",p),!(t.$flags$&1))if(e.nodeName==="HEAD"){const m=e.querySelectorAll("link[rel=preconnect]"),v=m.length>0?m[m.length-1].nextSibling:e.querySelector("style");e.insertBefore(f,(v==null?void 0:v.parentNode)===e?v:null)}else if("host"in e)if(Hd){const m=(o=e.defaultView)!=null?o:e.ownerDocument.defaultView,v=new m.CSSStyleSheet;v.replaceSync(c),Qf?e.adoptedStyleSheets.unshift(v):e.adoptedStyleSheets=[v,...e.adoptedStyleSheets]}else{const m=e.querySelector("style");m?m.textContent=c+m.textContent:e.prepend(f)}else e.append(f);t.$flags$&1&&e.insertBefore(f,null),t.$flags$&4&&(f.textContent+=jS),u&&u.add(a)}}else{let u=Ar.get(e);if(u||Ar.set(e,u=new Set),!u.has(a)){const f=(s=e.defaultView)!=null?s:e.ownerDocument.defaultView;let p;if(c.constructor===f.CSSStyleSheet)p=c;else{p=new f.CSSStyleSheet;for(let m=0;m<c.cssRules.length;m++)p.insertRule(c.cssRules[m].cssText,m)}Qf?e.adoptedStyleSheets.push(p):e.adoptedStyleSheets=[...e.adoptedStyleSheets,p],u.add(a)}}return a},iA=e=>{const t=e.$cmpMeta$,n=e.$hostElement$,i=t.$flags$,o=Ts("attachStyles",t.$tagName$),s=nA(n.shadowRoot?n.shadowRoot:n.getRootNode(),t,e.$modeName$);i&10&&(n["s-sc"]=s,n.classList.add(s+"-h")),o()},mw=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),oA=e=>e!=null&&e!==void 0,Sm=e=>(e=typeof e,e==="object"||e==="function"),st=(e,t,...n)=>{typeof e=="string"&&(e=e);let i=null,o=null,s=null,a=!1,c=!1;const u=[],f=m=>{for(let v=0;v<m.length;v++)i=m[v],Array.isArray(i)?f(i):i!=null&&typeof i!="boolean"&&((a=typeof e!="function"&&!Sm(i))&&(i=String(i)),a&&c?u[u.length-1].$text$+=i:u.push(a?nd(null,i):i),c=a)};if(f(n),t){t.key&&(o=t.key),t.name&&(s=t.name);{const m=t.className||t.class;m&&(t.class=typeof m!="object"?m:Object.keys(m).filter(v=>m[v]).join(" "))}}if(typeof e=="function")return e(t===null?{}:t,u,sA);const p=nd(e,null);return p.$attrs$=t,u.length>0&&(p.$children$=u),p.$key$=o,p.$name$=s,p},nd=(e,t)=>{const n={$flags$:0,$tag$:e,$text$:t??null,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},qe={},rA=e=>e&&e.$tag$===qe,sA={forEach:(e,t)=>e.map(ab).forEach(t),map:(e,t)=>e.map(ab).map(t).map(aA)},ab=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),aA=e=>{if(typeof e.vtag=="function"){const n={...e.vattrs};return e.vkey&&(n.key=e.vkey),e.vname&&(n.name=e.vname),st(e.vtag,n,...e.vchildren||[])}const t=nd(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},lA=e=>uw.map(t=>t(e)).find(t=>!!t),cA=e=>uw.push(e),uA=e=>{var t;return(t=Qo(e))==null?void 0:t.$modeName$},gw=(e,t,n)=>e!=null&&!Sm(e)?t&4?e==="false"?!1:e===""||!!e:t&2?typeof e=="string"?parseFloat(e):typeof e=="number"?e:NaN:t&1?String(e):e:e,dA=e=>e,Oe=(e,t,n)=>{const i=dA(e);return{emit:o=>vw(i,t,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:o})}},vw=(e,t,n)=>{const i=pn.ce(t,n);return e.dispatchEvent(i),i},lb=(e,t,n,i,o,s,a)=>{if(n===i)return;let c=ib(e,t),u=t.toLowerCase();if(t==="class"){const f=e.classList,p=cb(n);let m=cb(i);f.remove(...p.filter(v=>v&&!m.includes(v))),f.add(...m.filter(v=>v&&!p.includes(v)))}else if(t==="style"){for(const f in n)(!i||i[f]==null)&&(f.includes("-")?e.style.removeProperty(f):e.style[f]="");for(const f in i)(!n||i[f]!==n[f])&&(f.includes("-")?e.style.setProperty(f,i[f]):e.style[f]=i[f])}else if(t!=="key")if(t==="ref")i&&mA(i,e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n"){if(t[2]==="-"?t=t.slice(3):ib(Me,u)?t=u.slice(2):t=u[2]+t.slice(3),n||i){const f=t.endsWith(bw);t=t.replace(fA,""),n&&pn.rel(e,t,n,f),i&&pn.ael(e,t,i,f)}}else{const f=Sm(i);if((c||f&&i!==null)&&!o)try{if(e.tagName.includes("-"))e[t]!==i&&(e[t]=i);else{const m=i??"";t==="list"?c=!1:(n==null||e[t]!=m)&&(typeof e.__lookupSetter__(t)=="function"?e[t]=m:e.setAttribute(t,m))}}catch{}let p=!1;u!==(u=u.replace(/^xlink\:?/,""))&&(t=u,p=!0),i==null||i===!1?(i!==!1||e.getAttribute(t)==="")&&(p?e.removeAttributeNS(ob,t):e.removeAttribute(t)):(!c||s&4||o)&&!f&&e.nodeType===1&&(i=i===!0?"":i,p?e.setAttributeNS(ob,t,i):e.setAttribute(t,i))}},hA=/\s/,cb=e=>(typeof e=="object"&&e&&"baseVal"in e&&(e=e.baseVal),!e||typeof e!="string"?[]:e.split(hA)),bw="Capture",fA=new RegExp(bw+"$"),ip=(e,t,n,i)=>{const o=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,s=e&&e.$attrs$||{},a=t.$attrs$||{};for(const c of ub(Object.keys(s)))c in a||lb(o,c,s[c],void 0,n,t.$flags$);for(const c of ub(Object.keys(a)))lb(o,c,s[c],a[c],n,t.$flags$)};function ub(e){return e.includes("ref")?[...e.filter(t=>t!=="ref"),"ref"]:e}var $u,id,ks,sc=!1,od=!1,qd=!1,oi=!1,op=[],rp=[],rd=(e,t,n)=>{var i;const o=t.$children$[n];let s=0,a,c,u;if(sc||(qd=!0,o.$tag$==="slot"&&(o.$flags$|=o.$children$?2:1)),o.$text$!=null)a=o.$elm$=Me.document.createTextNode(o.$text$);else if(o.$flags$&1)a=o.$elm$=Me.document.createTextNode(""),ip(null,o,oi);else{if(oi||(oi=o.$tag$==="svg"),!Me.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM.");if(a=o.$elm$=Me.document.createElementNS(oi?VS:BS,!sc&&_n.slotRelocation&&o.$flags$&2?"slot-fb":o.$tag$),oi&&o.$tag$==="foreignObject"&&(oi=!1),ip(null,o,oi),oA($u)&&a["s-si"]!==$u&&a.classList.add(a["s-si"]=$u),o.$children$){const f=o.$tag$==="template"?a.content:a;for(s=0;s<o.$children$.length;++s)c=rd(e,o,s),c&&f.appendChild(c)}o.$tag$==="svg"?oi=!1:a.tagName==="foreignObject"&&(oi=!0)}return a["s-hn"]=ks,o.$flags$&3&&(a["s-sr"]=!0,a["s-cr"]=id,a["s-sn"]=o.$name$||"",a["s-rf"]=(i=o.$attrs$)==null?void 0:i.ref,XS(a),u=e&&e.$children$&&e.$children$[n],u&&u.$tag$===o.$tag$&&e.$elm$&&_w(e.$elm$),Tw(id,a,t.$elm$,e==null?void 0:e.$elm$)),a},_w=e=>{pn.$flags$|=1;const t=e.closest(ks.toLowerCase());if(t!=null){const n=Array.from(t.__childNodes||t.childNodes).find(o=>o["s-cr"]),i=Array.from(e.__childNodes||e.childNodes);for(const o of n?i.reverse():i)o["s-sh"]!=null&&(Ni(t,o,n??null),o["s-sh"]=void 0,qd=!0)}pn.$flags$&=-2},sd=(e,t)=>{pn.$flags$|=1;const n=Array.from(e.__childNodes||e.childNodes);if(e["s-sr"]){let i=e;for(;i=i.nextSibling;)i&&i["s-sn"]===e["s-sn"]&&i["s-sh"]===ks&&n.push(i)}for(let i=n.length-1;i>=0;i--){const o=n[i];o["s-hn"]!==ks&&o["s-ol"]&&(Ni(ac(o).parentNode,o,ac(o)),o["s-ol"].remove(),o["s-ol"]=void 0,o["s-sh"]=void 0,qd=!0),t&&sd(o,t)}pn.$flags$&=-2},yw=(e,t,n,i,o,s)=>{let a=e["s-cr"]&&e["s-cr"].parentNode||e,c;for(a.shadowRoot&&a.tagName===ks&&(a=a.shadowRoot),n.$tag$==="template"&&(a=a.content);o<=s;++o)i[o]&&(c=rd(null,n,o),c&&(i[o].$elm$=c,Ni(a,c,ac(t))))},ww=(e,t,n)=>{for(let i=t;i<=n;++i){const o=e[i];if(o){const s=o.$elm$;Ew(o),s&&(od=!0,s["s-ol"]?s["s-ol"].remove():sd(s,!0),s.remove())}}},pA=(e,t,n,i,o=!1)=>{let s=0,a=0,c=0,u=0,f=t.length-1,p=t[0],m=t[f],v=i.length-1,w=i[0],E=i[v],I,R;const D=n.$tag$==="template"?e.content:e;for(;s<=f&&a<=v;)if(p==null)p=t[++s];else if(m==null)m=t[--f];else if(w==null)w=i[++a];else if(E==null)E=i[--v];else if(vu(p,w,o))ca(p,w,o),p=t[++s],w=i[++a];else if(vu(m,E,o))ca(m,E,o),m=t[--f],E=i[--v];else if(vu(p,E,o))(p.$tag$==="slot"||E.$tag$==="slot")&&sd(p.$elm$.parentNode,!1),ca(p,E,o),Ni(D,p.$elm$,m.$elm$.nextSibling),p=t[++s],E=i[--v];else if(vu(m,w,o))(p.$tag$==="slot"||E.$tag$==="slot")&&sd(m.$elm$.parentNode,!1),ca(m,w,o),Ni(D,m.$elm$,p.$elm$),m=t[--f],w=i[++a];else{for(c=-1,u=s;u<=f;++u)if(t[u]&&t[u].$key$!==null&&t[u].$key$===w.$key$){c=u;break}c>=0?(R=t[c],R.$tag$!==w.$tag$?I=rd(t&&t[a],n,c):(ca(R,w,o),t[c]=void 0,I=R.$elm$),w=i[++a]):(I=rd(t&&t[a],n,a),w=i[++a]),I&&Ni(ac(p.$elm$).parentNode,I,ac(p.$elm$))}s>f?yw(e,i[v+1]==null?null:i[v+1].$elm$,n,i,a,v):a>v&&ww(t,s,f)},vu=(e,t,n=!1)=>e.$tag$===t.$tag$?e.$tag$==="slot"?e.$name$===t.$name$:n?(n&&!e.$key$&&t.$key$&&(e.$key$=t.$key$),!0):e.$key$===t.$key$:!1,ac=e=>e&&e["s-ol"]||e,ca=(e,t,n=!1)=>{const i=t.$elm$=e.$elm$,o=e.$children$,s=t.$children$,a=t.$tag$,c=t.$text$;let u;c==null?(oi=a==="svg"?!0:a==="foreignObject"?!1:oi,a==="slot"&&!sc&&e.$name$!==t.$name$&&(t.$elm$["s-sn"]=t.$name$||"",_w(t.$elm$.parentElement)),ip(e,t,oi),o!==null&&s!==null?pA(i,o,t,s,n):s!==null?(e.$text$!==null&&(i.textContent=""),yw(i,null,t,s,0,s.length-1)):!n&&_n.updatable&&o!==null&&ww(o,0,o.length-1),oi&&a==="svg"&&(oi=!1)):(u=i["s-cr"])?u.parentNode.textContent=c:e.$text$!==c&&(i.data=c)},No=[],xw=e=>{let t,n,i;const o=e.__childNodes||e.childNodes;for(const s of o){if(s["s-sr"]&&(t=s["s-cr"])&&t.parentNode){n=t.parentNode.__childNodes||t.parentNode.childNodes;const a=s["s-sn"];for(i=n.length-1;i>=0;i--)if(t=n[i],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==s["s-hn"]&&(!t["s-sh"]||t["s-sh"]!==s["s-hn"]))if(sb(t,a)){let c=No.find(u=>u.$nodeToRelocate$===t);od=!0,t["s-sn"]=t["s-sn"]||a,c?(c.$nodeToRelocate$["s-sh"]=s["s-hn"],c.$slotRefNode$=s):(t["s-sh"]=s["s-hn"],No.push({$slotRefNode$:s,$nodeToRelocate$:t})),t["s-sr"]&&No.map(u=>{sb(u.$nodeToRelocate$,t["s-sn"])&&(c=No.find(f=>f.$nodeToRelocate$===t),c&&!u.$slotRefNode$&&(u.$slotRefNode$=c.$slotRefNode$))})}else No.some(c=>c.$nodeToRelocate$===t)||No.push({$nodeToRelocate$:t})}s.nodeType===1&&xw(s)}},Ew=e=>{e.$attrs$&&e.$attrs$.ref&&op.push(()=>e.$attrs$.ref(null)),e.$children$&&e.$children$.map(Ew)},mA=(e,t)=>{rp.push(()=>e(t))},gA=()=>{op.forEach(e=>e()),op.length=0,rp.forEach(e=>e()),rp.length=0},Ni=(e,t,n,i)=>{if(typeof t["s-sn"]=="string"&&t["s-sr"]&&t["s-cr"])Tw(t["s-cr"],t,e,t.parentElement);else if(typeof t["s-sn"]=="string"){e.insertBefore(t,n);const{slotNode:o}=JS(t);return o&&!i&&QS(o),t}return e.__insertBefore?e.__insertBefore(t,n):e==null?void 0:e.insertBefore(t,n)};function Tw(e,t,n,i){var o,s;let a;if(e&&typeof t["s-sn"]=="string"&&t["s-sr"]&&e.parentNode&&e.parentNode["s-sc"]&&(a=t["s-si"]||e.parentNode["s-sc"])){const c=t["s-sn"],u=t["s-hn"];if((o=n.classList)==null||o.add(a+"-s"),i&&((s=i.classList)!=null&&s.contains(a+"-s"))){let f=(i.__childNodes||i.childNodes)[0],p=!1;for(;f;){if(f["s-sn"]!==c&&f["s-hn"]===u&&f["s-sr"]){p=!0;break}f=f.nextSibling}p||i.classList.remove(a+"-s")}}}var vA=(e,t,n=!1)=>{var i,o,s,a,c;const u=e.$hostElement$,f=e.$cmpMeta$,p=e.$vnode$||nd(null,null),v=rA(t)?t:st(null,null,t);if(ks=u.tagName,f.$attrsToReflect$&&(v.$attrs$=v.$attrs$||{},f.$attrsToReflect$.forEach(([w,E])=>{_n.serializer&&e.$serializerValues$.has(w)?v.$attrs$[E]=e.$serializerValues$.get(w):v.$attrs$[E]=u[w]})),n&&v.$attrs$)for(const w of Object.keys(v.$attrs$))u.hasAttribute(w)&&!["key","ref","style","class"].includes(w)&&(v.$attrs$[w]=u[w]);v.$tag$=null,v.$flags$|=4,e.$vnode$=v,v.$elm$=p.$elm$=u.shadowRoot||u,$u=u["s-sc"],sc=!!(f.$flags$&1)&&!(f.$flags$&128),id=u["s-cr"],od=!1,ca(p,v,n);{if(pn.$flags$|=1,qd){xw(v.$elm$);for(const w of No){const E=w.$nodeToRelocate$;if(!E["s-ol"]&&Me.document){const I=Me.document.createTextNode("");I["s-nr"]=E,Ni(E.parentNode,E["s-ol"]=I,E,n)}}for(const w of No){const E=w.$nodeToRelocate$,I=w.$slotRefNode$;if(E.nodeType===1&&n&&(E["s-ih"]=(i=E.hidden)!=null?i:!1),I){const R=I.parentNode;let D=I.nextSibling;if(D&&D.nodeType===1){let B=(o=E["s-ol"])==null?void 0:o.previousSibling;for(;B;){let U=(s=B["s-nr"])!=null?s:null;if(U&&U["s-sn"]===E["s-sn"]&&R===(U.__parentNode||U.parentNode)){for(U=U.nextSibling;U===E||U!=null&&U["s-sr"];)U=U==null?void 0:U.nextSibling;if(!U||!U["s-nr"]){D=U;break}}B=B.previousSibling}}const F=E.__parentNode||E.parentNode,z=E.__nextSibling||E.nextSibling;if((!D&&R!==F||z!==D)&&E!==D){if(Ni(R,E,D,n),E.nodeType===8&&E.nodeValue.startsWith("s-nt-")){const B=Me.document.createTextNode(E.nodeValue.replace(/^s-nt-/,""));B["s-hn"]=E["s-hn"],B["s-sn"]=E["s-sn"],B["s-sh"]=E["s-sh"],B["s-sr"]=E["s-sr"],B["s-ol"]=E["s-ol"],B["s-ol"]["s-nr"]=B,Ni(E.parentNode,B,E,n),E.parentNode.removeChild(E)}E.nodeType===1&&E.tagName!=="SLOT-FB"&&(E.hidden=(a=E["s-ih"])!=null?a:!1)}E&&typeof I["s-rf"]=="function"&&I["s-rf"](I)}else E.nodeType===1&&(E.hidden=!0)}}od&&pw(v.$elm$),pn.$flags$&=-2,No.length=0}if(!sc&&!(f.$flags$&1)&&u["s-cr"]){const w=v.$elm$.__childNodes||v.$elm$.childNodes;for(const E of w)if(E["s-hn"]!==ks&&!E["s-sh"]){if(n&&E["s-ih"]==null&&(E["s-ih"]=(c=E.hidden)!=null?c:!1),E.nodeType===1)E.hidden=!0;else if(E.nodeType===3&&E.nodeValue.trim()){const I=Me.document.createComment("s-nt-"+E.nodeValue);I["s-sn"]=E["s-sn"],Ni(E.parentNode,I,E,n),E.parentNode.removeChild(E)}}}id=void 0,gA()},kw=(e,t)=>{if(t&&!e.$onRenderResolve$&&t["s-p"]){const n=t["s-p"].push(new Promise(i=>e.$onRenderResolve$=()=>{t["s-p"].splice(n-1,1),i()}))}},Wd=(e,t)=>{if(e.$flags$|=16,e.$flags$&4){e.$flags$|=512;return}kw(e,e.$ancestorComponent$);const n=()=>bA(e,t);if(t){queueMicrotask(()=>{n()});return}return Nr(n)},bA=(e,t)=>{const n=e.$hostElement$,i=Ts("scheduleUpdate",e.$cmpMeta$.$tagName$),o=n;if(!o)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let s;return t?s=xa(o,"componentWillLoad",void 0,n):s=xa(o,"componentWillUpdate",void 0,n),s=db(s,()=>xa(o,"componentWillRender",void 0,n)),i(),db(s,()=>yA(e,o,t))},db=(e,t)=>_A(e)?e.then(t).catch(n=>{console.error(n),t()}):t(),_A=e=>e instanceof Promise||e&&e.then&&typeof e.then=="function",yA=async(e,t,n)=>{var i;const o=e.$hostElement$,s=Ts("update",e.$cmpMeta$.$tagName$),a=o["s-rc"];n&&iA(e);const c=Ts("render",e.$cmpMeta$.$tagName$);wA(e,t,o,n),a&&(a.map(u=>u()),o["s-rc"]=void 0),c(),s();{const u=(i=o["s-p"])!=null?i:[],f=()=>xA(e);u.length===0?f():(Promise.all(u).then(f),e.$flags$|=4,u.length=0)}},hb=null,wA=(e,t,n,i)=>{try{hb=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(_n.hasRenderFn||_n.reflect)&&(_n.vdomRender||_n.reflect)&&(_n.hydrateServerSide||vA(e,t,i))}catch(u){Rc(u,e.$hostElement$)}return hb=null,null},xA=e=>{const t=e.$cmpMeta$.$tagName$,n=e.$hostElement$,i=Ts("postUpdate",t),o=n,s=e.$ancestorComponent$;xa(o,"componentDidRender",void 0,n),e.$flags$&64?(xa(o,"componentDidUpdate",void 0,n),i()):(e.$flags$|=64,TA(n),xa(o,"componentDidLoad",void 0,n),i(),e.$onReadyResolve$(n),s||EA()),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),e.$flags$&512&&km(()=>Wd(e,!1)),e.$flags$&=-517},ad=e=>{var t;{const n=Qo(e),i=(t=n==null?void 0:n.$hostElement$)==null?void 0:t.isConnected;return i&&(n.$flags$&18)===2&&Wd(n,!1),i}},EA=e=>{km(()=>vw(Me,"appload",{detail:{namespace:MS}}))},xa=(e,t,n,i)=>{if(e&&e[t])try{return e[t](n)}catch(o){Rc(o,i)}},TA=e=>{var t;return e.classList.add((t=_n.hydratedSelectorName)!=null?t:"hydrated")},kA=(e,t)=>Qo(e).$instanceValues$.get(t),fb=(e,t,n,i)=>{const o=Qo(e);if(!o||_n.serializer&&o.$serializerValues$.has(t)&&o.$serializerValues$.get(t)===n)return;const s=e,a=o.$instanceValues$.get(t),c=o.$flags$,u=s;n=gw(n,i.$members$[t][0]);const f=Number.isNaN(a)&&Number.isNaN(n);if(n!==a&&!f){if(o.$instanceValues$.set(t,n),_n.serializer&&_n.reflect&&i.$attrsToReflect$&&i.$serializers$&&i.$serializers$[t]){const m=v=>{let w=n;for(const E of i.$serializers$[t]){const[[I]]=Object.entries(E);w=v[I](w,t)}o.$serializerValues$.set(t,w)};u?m(u):o.$fetchedCbList$.push(()=>{m(o.$lazyInstance$)})}if(i.$watchers$){const m=i.$watchers$[t];m&&m.map(v=>{try{const[[w,E]]=Object.entries(v);(c&128||E&1)&&(u?u[w](n,a,t):o.$fetchedCbList$.push(()=>{o.$lazyInstance$[w](n,a,t)}))}catch(w){Rc(w,s)}})}if((c&18)===2){if(u.componentShouldUpdate&&u.componentShouldUpdate(n,a,t)===!1)return;Wd(o,!1)}}},IA=(e,t,n)=>{var i,o;const s=e.prototype;if(t.$members$||_n.propChangeCallback){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers),e.deserializers&&!t.$deserializers$&&(t.$deserializers$=e.deserializers),e.serializers&&!t.$serializers$&&(t.$serializers$=e.serializers);const a=Object.entries((i=t.$members$)!=null?i:{});a.map(([c,[u]])=>{if(u&31||u&32){const{get:f,set:p}=Object.getOwnPropertyDescriptor(s,c)||{};f&&(t.$members$[c][0]|=2048),p&&(t.$members$[c][0]|=4096),(n&1||!f)&&Object.defineProperty(s,c,{get(){return f?f.apply(this):kA(this,c)},configurable:!0,enumerable:!0}),Object.defineProperty(s,c,{set(m){const v=Qo(this);if(v){if(p){typeof(u&32?this[c]:v.$hostElement$[c])>"u"&&v.$instanceValues$.get(c)&&(m=v.$instanceValues$.get(c)),p.apply(this,[gw(m,u)]),m=u&32?this[c]:v.$hostElement$[c],fb(this,c,m,t);return}{fb(this,c,m,t);return}}}})}});{const c=new Map;s.attributeChangedCallback=function(u,f,p){pn.jmp(()=>{var m;const v=c.get(u),w=Qo(this);if(_n.serializer&&w.$serializerValues$.has(v)&&w.$serializerValues$.get(v)===p)return;if(this.hasOwnProperty(v)&&_n.lazyLoad&&(p=this[v],delete this[v]),_n.deserializer&&t.$deserializers$&&t.$deserializers$[v]){const R=(D,F)=>{const z=F==null?void 0:F[D](p,v);z!==this[v]&&(this[v]=z)};for(const D of t.$deserializers$[v]){const[[F]]=Object.entries(D);R(F,this)}return}else{if(s.hasOwnProperty(v)&&typeof this[v]=="number"&&this[v]==p)return;if(v==null){const R=w==null?void 0:w.$flags$;if(w&&R&&!(R&8)&&p!==f){const F=this,z=(m=t.$watchers$)==null?void 0:m[u];z==null||z.forEach(B=>{const[[U,H]]=Object.entries(B);F[U]!=null&&(R&128||H&1)&&F[U].call(F,p,f,u)})}return}}const E=a.find(([R])=>R===v);E&&E[1][0]&4&&(p=!(p===null||p==="false"));const I=Object.getOwnPropertyDescriptor(s,v);p!=this[v]&&(!I.get||I.set)&&(this[v]=p)})},e.observedAttributes=Array.from(new Set([...Object.keys((o=t.$watchers$)!=null?o:{}),...a.filter(([u,f])=>f[0]&31).map(([u,f])=>{var p;const m=f[1]||u;return c.set(m,u),f[0]&512&&((p=t.$attrsToReflect$)==null||p.push([u,m])),m})]))}}return e},SA=async(e,t,n,i)=>{let o;if(!(t.$flags$&32)){t.$flags$|=32,n.$lazyBundleId$;{o=e.constructor;const c=e.localName;customElements.whenDefined(c).then(()=>t.$flags$|=128)}if(o&&o.style){let c;typeof o.style=="string"?c=o.style:typeof o.style!="string"&&(t.$modeName$=lA(e),t.$modeName$&&(c=o.style[t.$modeName$]));const u=mw(n,t.$modeName$);if(!ed.has(u)||_n.hotModuleReplacement){const f=Ts("registerStyles",n.$tagName$);eA(u,c,!!(n.$flags$&1)),f()}}}const s=t.$ancestorComponent$,a=()=>Wd(t,!0);s&&s["s-rc"]?s["s-rc"].push(a):a()},pb=(e,t)=>{},AA=e=>{if(!(pn.$flags$&1)){const t=Qo(e);if(!t)return;const n=t.$cmpMeta$,i=Ts("connectedCallback",n.$tagName$);if(t.$flags$&1)Iw(e,t,n.$listeners$),t!=null&&t.$lazyInstance$?pb(t.$lazyInstance$):t!=null&&t.$onReadyPromise$&&t.$onReadyPromise$.then(()=>pb(t.$lazyInstance$));else{t.$flags$|=1,n.$flags$&12&&CA(e);{let o=e;for(;o=o.parentNode||o.host;)if(o["s-p"]){kw(t,t.$ancestorComponent$=o);break}}n.$members$&&Object.entries(n.$members$).map(([o,[s]])=>{if(s&31&&o in e&&e[o]!==Object.prototype[o]){const a=e[o];delete e[o],e[o]=a}}),SA(e,t,n)}i()}},CA=e=>{if(!Me.document)return;const t=e["s-cr"]=Me.document.createComment("");t["s-cn"]=!0,Ni(e,t,e.firstChild)},PA=async e=>{if(!(pn.$flags$&1)){const t=Qo(e);t!=null&&t.$rmListeners$&&(t.$rmListeners$.map(n=>n()),t.$rmListeners$=void 0)}Ar.has(e)&&Ar.delete(e),e.shadowRoot&&Ar.has(e.shadowRoot)&&Ar.delete(e.shadowRoot)},ze=(e,t)=>{const n={$flags$:t[0],$tagName$:t[1]};n.$members$=t[2],n.$listeners$=t[3],n.$watchers$=e.$watchers$,n.$deserializers$=e.$deserializers$,n.$serializers$=e.$serializers$,n.$attrsToReflect$=[],!(n.$flags$&1)&&n.$flags$&256;const i=e.prototype.connectedCallback,o=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__hasHostListenerAttached:!1,__registerHost(){US(this,n)},connectedCallback(){if(!this.__hasHostListenerAttached){const s=Qo(this);if(!s)return;Iw(this,s,n.$listeners$),this.__hasHostListenerAttached=!0}AA(this),i&&i.call(this)},disconnectedCallback(){PA(this),o&&o.call(this)},__attachShadow(){if(!this.shadowRoot)KS.call(this,n);else if(this.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${n.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}),e.is=n.$tagName$,IA(e,n,3)},Iw=(e,t,n,i)=>{n&&Me.document&&n.map(([o,s,a])=>{const c=LA(Me.document,e,o),u=RA(t,a),f=OA(o);pn.ael(c,s,u,f),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>pn.rel(c,s,u,f))})},RA=(e,t)=>n=>{var i;try{_n.lazyLoad||e.$hostElement$[t](n)}catch(o){Rc(o,e.$hostElement$)}},LA=(e,t,n)=>n&4?e:n&8?Me:n&16?e.body:t,OA=e=>qS?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lc=(e,t)=>{e.componentOnReady?e.componentOnReady().then(n=>t(n)):Mi(()=>t(e))},sp=e=>e.componentOnReady!==void 0,Am=(e,t=[])=>{const n={};return t.forEach(i=>{e.hasAttribute(i)&&(e.getAttribute(i)!==null&&(n[i]=e.getAttribute(i)),e.removeAttribute(i))}),n},$A=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Cm=(e,t)=>{let n=$A;return t&&t.length>0&&(n=n.filter(i=>!t.includes(i))),Am(e,n)},MA=(e,t,n,i)=>{var o;if(typeof window<"u"){const s=window,a=(o=s==null?void 0:s.Ionic)===null||o===void 0?void 0:o.config;if(a){const c=a.get("_ael");if(c)return c(e,t,n,i);if(a._ael)return a._ael(e,t,n,i)}}return e.addEventListener(t,n,i)},DA=(e,t,n,i)=>{var o;if(typeof window<"u"){const s=window,a=(o=s==null?void 0:s.Ionic)===null||o===void 0?void 0:o.config;if(a){const c=a.get("_rel");if(c)return c(e,t,n,i);if(a._rel)return a._rel(e,t,n,i)}}return e.removeEventListener(t,n,i)},ja=(e,t=e)=>e.shadowRoot||t,Mi=e=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(e):typeof requestAnimationFrame=="function"?requestAnimationFrame(e):setTimeout(e),NA=e=>!!e.shadowRoot&&!!e.attachShadow,VA=e=>{if(e.focus(),e.classList.contains("ion-focusable")){const t=e.closest("ion-app");t&&t.setFocus([e])}},Sw=(e,t,n)=>Math.max(e,Math.min(t,n)),ni=(e,t)=>{if(!e){const n="ASSERT: "+t;console.error(n);debugger;throw new Error(n)}},w8=e=>e.timeStamp||Date.now(),x8=e=>{if(e){const t=e.changedTouches;if(t&&t.length>0){const n=t[0];return{x:n.clientX,y:n.clientY}}if(e.pageX!==void 0)return{x:e.pageX,y:e.pageY}}return{x:0,y:0}},ap=e=>{const t=document.dir==="rtl";switch(e){case"start":return t;case"end":return!t;default:throw new Error(`"${e}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Aw=(e,t)=>{if(e??(e={}),t??(t={}),e===t)return!0;const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const i of n)if(!(i in t)||e[i]!==t[i])return!1;return!0};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const BA="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",FA="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",mb="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class zA{constructor(){this.m=new Map}reset(t){this.m=new Map(Object.entries(t))}get(t,n){const i=this.m.get(t);return i!==void 0?i:n}getBoolean(t,n=!1){const i=this.m.get(t);return i===void 0?n:typeof i=="string"?i==="true":!!i}getNumber(t,n){const i=parseFloat(this.m.get(t));return isNaN(i)?n!==void 0?n:NaN:i}set(t,n){this.m.set(t,n)}}const he=new zA,UA=e=>{try{const t=e.sessionStorage.getItem(Cw);return t!==null?JSON.parse(t):{}}catch{return{}}},jA=(e,t)=>{try{e.sessionStorage.setItem(Cw,JSON.stringify(t))}catch{return}},HA=e=>{const t={};return e.location.search.slice(1).split("&").map(n=>n.split("=")).map(([n,i])=>[decodeURIComponent(n),decodeURIComponent(i)]).filter(([n])=>qA(n,gb)).map(([n,i])=>[n.slice(gb.length),i]).forEach(([n,i])=>{t[n]=i}),t},qA=(e,t)=>e.substr(0,t.length)===t,gb="ionic:",Cw="ionic-persist-config",WA=e=>Pw(e),Cr=(e,t)=>(typeof e=="string"&&(t=e,e=void 0),WA(e).includes(t)),Pw=(e=window)=>{if(typeof e>"u")return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return t==null&&(t=e.Ionic.platforms=GA(e),t.forEach(n=>e.document.documentElement.classList.add(`plt-${n}`))),t},GA=e=>{const t=he.get("platform");return Object.keys(vb).filter(n=>{const i=t==null?void 0:t[n];return typeof i=="function"?i(e):vb[n](e)})},KA=e=>Gd(e)&&!Lw(e),Pm=e=>!!(Is(e,/iPad/i)||Is(e,/Macintosh/i)&&Gd(e)),ZA=e=>Is(e,/iPhone/i),YA=e=>Is(e,/iPhone|iPod/i)||Pm(e),Rw=e=>Is(e,/android|sink/i),XA=e=>Rw(e)&&!Is(e,/mobile/i),QA=e=>{const t=e.innerWidth,n=e.innerHeight,i=Math.min(t,n),o=Math.max(t,n);return i>390&&i<520&&o>620&&o<800},JA=e=>{const t=e.innerWidth,n=e.innerHeight,i=Math.min(t,n),o=Math.max(t,n);return Pm(e)||XA(e)||i>460&&i<820&&o>780&&o<1400},Gd=e=>iC(e,"(any-pointer:coarse)"),tC=e=>!Gd(e),Lw=e=>Ow(e)||$w(e),Ow=e=>!!(e.cordova||e.phonegap||e.PhoneGap),$w=e=>{const t=e.Capacitor;return!!(t!=null&&t.isNative)},eC=e=>Is(e,/electron/i),nC=e=>{var t;return!!(!((t=e.matchMedia)===null||t===void 0)&&t.call(e,"(display-mode: standalone)").matches||e.navigator.standalone)},Is=(e,t)=>t.test(e.navigator.userAgent),iC=(e,t)=>{var n;return(n=e.matchMedia)===null||n===void 0?void 0:n.call(e,t).matches},vb={ipad:Pm,iphone:ZA,ios:YA,android:Rw,phablet:QA,tablet:JA,cordova:Ow,capacitor:$w,electron:eC,pwa:nC,mobile:Gd,mobileweb:KA,desktop:tC,hybrid:Lw};let ua;const ve=e=>e&&uA(e)||ua,oC=(e={})=>{if(typeof window>"u")return;const t=window.document,n=window,i=n.Ionic=n.Ionic||{},o={};e._ael&&(o.ael=e._ael),e._rel&&(o.rel=e._rel),e._ce&&(o.ce=e._ce),HS(o);const s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},UA(n)),{persistConfig:!1}),i.config),HA(n)),e);he.reset(s),he.getBoolean("persistConfig")&&jA(n,s),Pw(n),i.config=he,i.mode=ua=he.get("mode",t.documentElement.getAttribute("mode")||(Cr(n,"ios")?"ios":"md")),he.set("mode",ua),t.documentElement.setAttribute("mode",ua),t.documentElement.classList.add(ua),he.getBoolean("_testing")&&he.set("animated",!1);const a=u=>{var f;return(f=u.tagName)===null||f===void 0?void 0:f.startsWith("ION-")},c=u=>["ios","md"].includes(u);cA(u=>{for(;u;){const f=u.mode||u.getAttribute("mode");if(f){if(c(f))return f;a(u)&&console.warn('Invalid ionic mode: "'+f+'", expected: "ios" or "md"')}u=u.parentElement}return ua})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let nf;const rC=()=>{if(typeof window>"u")return new Map;if(!nf){const e=window;e.Ionicons=e.Ionicons||{},nf=e.Ionicons.map=e.Ionicons.map||new Map}return nf},sC=e=>{let t=of(e.src);return t||(t=Mw(e.name,e.icon,e.mode,e.ios,e.md),t?aC(t,e):e.icon&&(t=of(e.icon),t||(t=of(e.icon[e.mode]),t))?t:null)},aC=(e,t)=>{const n=rC().get(e);if(n)return n;try{return fw(`svg/${e}.svg`)}catch{console.warn(`[Ionicons Warning]: Could not load icon with name "${e}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,t)}},Mw=(e,t,n,i,o)=>(n=(n&&bu(n))==="ios"?"ios":"md",i&&n==="ios"?e=bu(i):o&&n==="md"?e=bu(o):(!e&&t&&!Dw(t)&&(e=t),ld(e)&&(e=bu(e))),!ld(e)||e.trim()===""||e.replace(/[a-z]|-|\d/gi,"")!==""?null:e),of=e=>ld(e)&&(e=e.trim(),Dw(e))?e:null,Dw=e=>e.length>0&&/(\/|\.)/.test(e),ld=e=>typeof e=="string",bu=e=>e.toLowerCase(),lC=(e,t=[])=>{const n={};return t.forEach(i=>{e.hasAttribute(i)&&(e.getAttribute(i)!==null&&(n[i]=e.getAttribute(i)),e.removeAttribute(i))}),n},cC=e=>e&&e.dir!==""?e.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",uC=e=>{const t=document.createElement("div");t.innerHTML=e;for(let i=t.childNodes.length-1;i>=0;i--)t.childNodes[i].nodeName.toLowerCase()!=="svg"&&t.removeChild(t.childNodes[i]);const n=t.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),Nw(n))return t.innerHTML}return""},Nw=e=>{if(e.nodeType===1){if(e.nodeName.toLowerCase()==="script")return!1;for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;if(ld(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let t=0;t<e.childNodes.length;t++)if(!Nw(e.childNodes[t]))return!1}return!0},dC=e=>e.startsWith("data:image/svg+xml"),hC=e=>e.indexOf(";utf8,")!==-1,fs=new Map,bb=new Map;let rf;const fC=(e,t)=>{let n=bb.get(e);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(dC(e)&&hC(e)){rf||(rf=new DOMParser);const o=rf.parseFromString(e,"text/html").querySelector("svg");return o&&fs.set(e,o.outerHTML),Promise.resolve()}else n=fetch(e).then(i=>{if(i.ok)return i.text().then(o=>{o&&t!==!1&&(o=uC(o)),fs.set(e,o||"")});fs.set(e,"")}),bb.set(e,n);else return fs.set(e,""),Promise.resolve();return n},pC=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",mC=pC,gC=ze(class extends De{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=vC(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=lC(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(t,n,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const o=this.io=new window.IntersectionObserver(s=>{s[0].isIntersecting&&(o.disconnect(),this.io=void 0,i())},{rootMargin:n});o.observe(t)}else i()}loadIcon(){if(this.isVisible){const t=sC(this);t&&(fs.has(t)?this.svgContent=fs.get(t):fC(t,this.sanitize).then(()=>this.svgContent=fs.get(t)),this.didLoadIcon=!0)}this.iconName=Mw(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:t,iconName:n,inheritedAttributes:i,el:o}=this,s=this.mode||"md",a=n?(n.includes("arrow")||n.includes("chevron"))&&t!==!1:!1,c=t||a;return st(qe,Object.assign({role:"img",class:Object.assign(Object.assign({[s]:!0},bC(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":c,"icon-rtl":c&&cC(o)})},i),this.svgContent?st("div",{class:"icon-inner",innerHTML:this.svgContent}):st("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return mC}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),vC=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",bC=e=>e?{"ion-color":!0,[`ion-color-${e}`]:!0}:null;function Rm(){if(typeof customElements>"u")return;["ion-icon"].forEach(t=>{switch(t){case"ion-icon":customElements.get(t)||customElements.define(t,gC);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const zn=(e,...t)=>console.warn(`[Ionic Warning]: ${e}`,...t),_C=(e,...t)=>console.error(`[Ionic Error]: ${e}`,...t),yC=(e,...t)=>console.error(`<${e.tagName.toLowerCase()}> must be used inside ${t.join(" or ")}.`);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class wC{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(t){var n;return new xC(this,this.newID(),t.name,(n=t.priority)!==null&&n!==void 0?n:0,!!t.disableScroll)}createBlocker(t={}){return new EC(this,this.newID(),t.disable,!!t.disableScroll)}start(t,n,i){return this.canStart(t)?(this.requestedStart.set(n,i),!0):(this.requestedStart.delete(n),!1)}capture(t,n,i){if(!this.start(t,n,i))return!1;const o=this.requestedStart;let s=-1e4;if(o.forEach(a=>{s=Math.max(s,a)}),s===i){this.capturedId=n,o.clear();const a=new CustomEvent("ionGestureCaptured",{detail:{gestureName:t}});return document.dispatchEvent(a),!0}return o.delete(n),!1}release(t){this.requestedStart.delete(t),this.capturedId===t&&(this.capturedId=void 0)}disableGesture(t,n){let i=this.disabledGestures.get(t);i===void 0&&(i=new Set,this.disabledGestures.set(t,i)),i.add(n)}enableGesture(t,n){const i=this.disabledGestures.get(t);i!==void 0&&i.delete(n)}disableScroll(t){this.disabledScroll.add(t),this.disabledScroll.size===1&&document.body.classList.add(_b)}enableScroll(t){this.disabledScroll.delete(t),this.disabledScroll.size===0&&document.body.classList.remove(_b)}canStart(t){return!(this.capturedId!==void 0||this.isDisabled(t))}isCaptured(){return this.capturedId!==void 0}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(t){const n=this.disabledGestures.get(t);return!!(n&&n.size>0)}newID(){return this.gestureId++,this.gestureId}}class xC{constructor(t,n,i,o,s){this.id=n,this.name=i,this.disableScroll=s,this.priority=o*1e6+n,this.ctrl=t}canStart(){return this.ctrl?this.ctrl.canStart(this.name):!1}start(){return this.ctrl?this.ctrl.start(this.name,this.id,this.priority):!1}capture(){if(!this.ctrl)return!1;const t=this.ctrl.capture(this.name,this.id,this.priority);return t&&this.disableScroll&&this.ctrl.disableScroll(this.id),t}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class EC{constructor(t,n,i,o){this.id=n,this.disable=i,this.disableScroll=o,this.ctrl=t}block(){if(this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.disableGesture(t,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.enableGesture(t,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const _b="backdrop-no-scroll",Vw=new wC;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ao=(e,t)=>t.closest(e)!==null,Ii=(e,t)=>typeof e=="string"&&e.length>0?Object.assign({"ion-color":!0,[`ion-color-${e}`]:!0},t):t,TC=e=>e!==void 0?(Array.isArray(e)?e:e.split(" ")).filter(n=>n!=null).map(n=>n.trim()).filter(n=>n!==""):[],Bw=e=>{const t={};return TC(e).forEach(n=>t[n]=!0),t},kC=/^[a-z][a-z0-9+\-.]*:/,Lm=async(e,t,n,i)=>{if(e!=null&&e[0]!=="#"&&!kC.test(e)){const o=document.querySelector("ion-router");if(o)return t!=null&&t.preventDefault(),o.push(e,n,i)}return!1};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const IC=":host{--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:0.8125rem;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{border-radius:10px;font-size:max(13px, 0.8125rem)}",SC=IC,AC=":host{--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:0.8125rem;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{--padding-top:3px;--padding-end:4px;--padding-bottom:4px;--padding-start:4px;border-radius:4px}",CC=AC,PC=ze(class extends De{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const t=ve(this);return st(qe,{key:"22d41ceefb76f40dfbf739fd71483f1272a45858",class:Ii(this.color,{[t]:!0})},st("slot",{key:"e7e65463bac5903971a8f9f6be55515f42b81a83"}))}static get style(){return{ios:SC,md:CC}}},[33,"ion-badge",{color:[513]}]);function RC(){if(typeof customElements>"u")return;["ion-badge"].forEach(t=>{switch(t){case"ion-badge":customElements.get(t)||customElements.define(t,PC);break}})}const LC=RC;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const OC=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",$C=OC,MC=ze(class extends De{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(t,n){return new Promise(i=>{rc(()=>{const o=this.el.getBoundingClientRect(),s=o.width,a=o.height,c=Math.sqrt(s*s+a*a),u=Math.max(a,s),f=this.unbounded?u:c+NC,p=Math.floor(u*VC),m=f/p;let v=t-o.left,w=n-o.top;this.unbounded&&(v=s*.5,w=a*.5);const E=v-p*.5,I=w-p*.5,R=s*.5-v,D=a*.5-w;Nr(()=>{const F=document.createElement("div");F.classList.add("ripple-effect");const z=F.style;z.top=I+"px",z.left=E+"px",z.width=z.height=p+"px",z.setProperty("--final-scale",`${m}`),z.setProperty("--translate-end",`${R}px, ${D}px`),(this.el.shadowRoot||this.el).appendChild(F),setTimeout(()=>{i(()=>{DC(F)})},225+100)})})})}get unbounded(){return this.type==="unbounded"}render(){const t=ve(this);return st(qe,{key:"f1129019a6d556b008c754aeb79618c69baea9f8",role:"presentation",class:{[t]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return $C}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),DC=e=>{e.classList.add("fade-out"),setTimeout(()=>{e.remove()},200)},NC=10,VC=.5;function $s(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(t=>{switch(t){case"ion-ripple-effect":customElements.get(t)||customElements.define(t,MC);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const BC=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:14px;--padding-top:13px;--padding-bottom:13px;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:3.1em;font-size:min(1rem, 48px);font-weight:500;letter-spacing:0}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #3171e0);--background-focused:var(--ion-color-primary-shade, #3171e0);--background-hover:var(--ion-color-primary-tint, #4c8dff);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #3880ff);--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;font-size:min(1.0625rem, 51px);font-weight:normal}:host(.in-buttons){font-size:clamp(17px, 1.0625rem, 21.08px);font-weight:400}:host(.button-large){--border-radius:16px;--padding-top:17px;--padding-start:1em;--padding-end:1em;--padding-bottom:17px;min-height:3.1em;font-size:min(1.25rem, 60px)}:host(.button-small){--border-radius:6px;--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:min(0.8125rem, 39px)}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:0}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}',FC=BC,zC=`:host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:4px;--padding-top:8px;--padding-bottom:8px;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),
                background-color 15ms linear,
                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:36px;font-size:0.875rem;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:14px;--padding-start:1em;--padding-end:1em;--padding-bottom:14px;min-height:2.8em;font-size:1.25rem}:host(.button-small){--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:0.8125rem}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:0}:host(.button-strong){font-weight:bold}::slotted(ion-icon[slot=icon-only]){padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-background, var(--color));color:var(--ion-toolbar-color, var(--background), var(--ion-color-primary-contrast, #fff))}`,UC=zC,jC=ze(class extends De{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=Oe(this,"ionFocus",7),this.ionBlur=Oe(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.formButtonEl=null,this.formEl=null,this.inheritedAttributes={},this.handleClick=t=>{const{el:n}=this;this.type==="button"?Lm(this.href,t,this.routerDirection,this.routerAnimation):NA(n)&&this.submitForm(t)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.color=void 0,this.buttonType="button",this.disabled=!1,this.expand=void 0,this.fill=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.download=void 0,this.href=void 0,this.rel=void 0,this.shape=void 0,this.size=void 0,this.strong=!1,this.target=void 0,this.type="button",this.form=void 0}disabledChanged(){const{disabled:t}=this;this.formButtonEl&&(this.formButtonEl.disabled=t)}renderHiddenButton(){const t=this.formEl=this.findForm();if(t){const{formButtonEl:n}=this;if(n!==null&&t.contains(n))return;const i=this.formButtonEl=document.createElement("button");i.type=this.type,i.style.display="none",i.disabled=this.disabled,t.appendChild(i)}}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=Cm(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(this.fill===void 0||this.fill==="clear")&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:t}=this;if(t instanceof HTMLFormElement)return t;if(typeof t=="string"){const n=document.getElementById(t);return n?n instanceof HTMLFormElement?n:(zn(`Form with selector: "#${t}" could not be found. Verify that the id is attached to a <form> element.`,this.el),null):(zn(`Form with selector: "#${t}" could not be found. Verify that the id is correct and the form is rendered in the DOM.`,this.el),null)}return t!==void 0?(zn('The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',this.el),null):this.el.closest("form")}submitForm(t){this.formEl&&this.formButtonEl&&(t.preventDefault(),this.formButtonEl.click())}render(){const t=ve(this),{buttonType:n,type:i,disabled:o,rel:s,target:a,size:c,href:u,color:f,expand:p,hasIconOnly:m,shape:v,strong:w,inheritedAttributes:E}=this,I=c===void 0&&this.inItem?"small":c,R=u===void 0?"button":"a",D=R==="button"?{type:i}:{download:this.download,href:u,rel:s,target:a};let F=this.fill;return F==null&&(F=this.inToolbar||this.inListHeader?"clear":"solid"),i!=="button"&&this.renderHiddenButton(),st(qe,{key:"54569350aae49882123f0e22a720956eddee33f5",onClick:this.handleClick,"aria-disabled":o?"true":null,class:Ii(f,{[t]:!0,[n]:!0,[`${n}-${p}`]:p!==void 0,[`${n}-${I}`]:I!==void 0,[`${n}-${v}`]:v!==void 0,[`${n}-${F}`]:!0,[`${n}-strong`]:w,"in-toolbar":ao("ion-toolbar",this.el),"in-toolbar-color":ao("ion-toolbar[color]",this.el),"in-buttons":ao("ion-buttons",this.el),"button-has-icon-only":m,"button-disabled":o,"ion-activatable":!0,"ion-focusable":!0})},st(R,Object.assign({key:"95c196fc5bf080ef308532c3627e2a9d68f24996"},D,{class:"button-native",part:"native",disabled:o,onFocus:this.onFocus,onBlur:this.onBlur},E),st("span",{key:"e247013b847158187258d28f37ab23905fe49110",class:"button-inner"},st("slot",{key:"58ac0bd8f643f4392ddbe465fab26eedffe02b7a",name:"icon-only"}),st("slot",{key:"2289d37a37a64472ffe818b3b1126945cebf101e",name:"start"}),st("slot",{key:"b69a915dff465d251f0466449b91450d4a4048a9"}),st("slot",{key:"594a80d6707fd5edabc03e467f7aae3011d020f6",name:"end"})),t==="md"&&st("ion-ripple-effect",{key:"b034770cadefe74922ed6564a17147ddc6c9fdb1",type:this.rippleType})))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:FC,md:UC}}},[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1]},void 0,{disabled:["disabledChanged"]}]);function HC(){if(typeof customElements>"u")return;["ion-button","ion-ripple-effect"].forEach(t=>{switch(t){case"ion-button":customElements.get(t)||customElements.define(t,jC);break;case"ion-ripple-effect":customElements.get(t)||$s();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qC=HC;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const WC=".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-ios-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.65em;line-height:0.67}",GC=WC,KC=".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-md-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:3rem;height:3rem}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}",ZC=KC,YC=ze(class extends De{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){const t=ve(this);return st(qe,{key:"2929fd8c4469bab2953c23d47f601706acb104f1",class:{[t]:!0,"buttons-collapse":this.collapse}})}static get style(){return{ios:GC,md:ZC}}},[34,"ion-buttons",{collapse:[4]}]);function XC(){if(typeof customElements>"u")return;["ion-buttons"].forEach(t=>{switch(t){case"ion-buttons":customElements.get(t)||customElements.define(t,YC);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const QC=XC;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const JC=":host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.12);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.87);border-radius:16px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:4px;margin-inline-end:4px;margin-top:4px;margin-bottom:4px;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:6px;padding-bottom:6px;display:-ms-inline-flexbox;display:inline-flex;position:relative;-ms-flex-align:center;align-items:center;min-height:32px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);cursor:pointer;overflow:hidden;vertical-align:middle;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.chip-disabled){cursor:default;opacity:0.4;pointer-events:none}:host(.ion-color){background:rgba(var(--ion-color-base-rgb), 0.08);color:var(--ion-color-shade)}:host(.ion-color:focus){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.ion-color.ion-activated){background:rgba(var(--ion-color-base-rgb), 0.16)}:host(.chip-outline){border-width:1px;border-style:solid}:host(.chip-outline){border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.32);background:transparent}:host(.chip-outline.ion-color){border-color:rgba(var(--ion-color-base-rgb), 0.32)}:host(.chip-outline:not(.ion-color):focus){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}:host(.chip-outline.ion-activated:not(.ion-color)){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)}::slotted(ion-icon){font-size:1.4285714286em}:host(:not(.ion-color)) ::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}::slotted(ion-icon:first-child){-webkit-margin-start:-4px;margin-inline-start:-4px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-icon:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-4px;margin-inline-end:-4px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar){-ms-flex-negative:0;flex-shrink:0;width:1.7142857143em;height:1.7142857143em}::slotted(ion-avatar:first-child){-webkit-margin-start:-8px;margin-inline-start:-8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-8px;margin-inline-end:-8px;margin-top:-4px;margin-bottom:-4px}:host(:focus){outline:none}:host(:focus){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-activated){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@media (any-hover: hover){:host(:hover){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-color:hover){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.chip-outline:not(.ion-color):hover){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}}:host{font-size:clamp(13px, 0.875rem, 22px)}",tP=JC,eP=":host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.12);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.87);border-radius:16px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:4px;margin-inline-end:4px;margin-top:4px;margin-bottom:4px;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:6px;padding-bottom:6px;display:-ms-inline-flexbox;display:inline-flex;position:relative;-ms-flex-align:center;align-items:center;min-height:32px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);cursor:pointer;overflow:hidden;vertical-align:middle;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.chip-disabled){cursor:default;opacity:0.4;pointer-events:none}:host(.ion-color){background:rgba(var(--ion-color-base-rgb), 0.08);color:var(--ion-color-shade)}:host(.ion-color:focus){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.ion-color.ion-activated){background:rgba(var(--ion-color-base-rgb), 0.16)}:host(.chip-outline){border-width:1px;border-style:solid}:host(.chip-outline){border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.32);background:transparent}:host(.chip-outline.ion-color){border-color:rgba(var(--ion-color-base-rgb), 0.32)}:host(.chip-outline:not(.ion-color):focus){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}:host(.chip-outline.ion-activated:not(.ion-color)){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)}::slotted(ion-icon){font-size:1.4285714286em}:host(:not(.ion-color)) ::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}::slotted(ion-icon:first-child){-webkit-margin-start:-4px;margin-inline-start:-4px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-icon:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-4px;margin-inline-end:-4px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar){-ms-flex-negative:0;flex-shrink:0;width:1.7142857143em;height:1.7142857143em}::slotted(ion-avatar:first-child){-webkit-margin-start:-8px;margin-inline-start:-8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:-4px;margin-bottom:-4px}::slotted(ion-avatar:last-child){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-8px;margin-inline-end:-8px;margin-top:-4px;margin-bottom:-4px}:host(:focus){outline:none}:host(:focus){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-activated){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@media (any-hover: hover){:host(:hover){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-color:hover){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.chip-outline:not(.ion-color):hover){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}}:host{font-size:0.875rem}",nP=eP,iP=ze(class extends De{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.outline=!1,this.disabled=!1}render(){const t=ve(this);return st(qe,{key:"886c26b6e7b3e3ca8622a4a0926bdf6dea0a71d4","aria-disabled":this.disabled?"true":null,class:Ii(this.color,{[t]:!0,"chip-outline":this.outline,"chip-disabled":this.disabled,"ion-activatable":!0})},st("slot",{key:"d24353e79ac84013758cee1acb1b0f9b2ebb4d67"}),t==="md"&&st("ion-ripple-effect",{key:"b69bb3ce3d464251d5e11ba6a5240e4567f72f05"}))}static get style(){return{ios:tP,md:nP}}},[33,"ion-chip",{color:[513],outline:[4],disabled:[4]}]);function oP(){if(typeof customElements>"u")return;["ion-chip","ion-ripple-effect"].forEach(t=>{switch(t){case"ion-chip":customElements.get(t)||customElements.define(t,iP);break;case"ion-ripple-effect":customElements.get(t)||$s();break}})}const rP=oP;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _u=typeof window<"u"?window:void 0;_u&&(_u.CSS&&_u.CSS.supports&&_u.CSS.supports("--a: 0"));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const sP=e=>e&&e.dir!==""?e.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const aP=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.outer-content){--background:var(--ion-color-step-50, #f2f2f2)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',lP=aP,cP=ze(class extends De{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=Oe(this,"ionScrollStart",7),this.ionScroll=Oe(this,"ionScroll",7),this.ionScrollEnd=Oe(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}connectedCallback(){if(this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null,sp(this.el)){const t=this.tabsElement=this.el.closest("ion-tabs");t!==null&&(this.tabsLoadCallback=()=>this.resize(),t.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),sp(this.el)){const{tabsElement:t,tabsLoadCallback:n}=this;t!==null&&n!==void 0&&t.removeEventListener("ionTabBarLoaded",n),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:t}=this,n=ve(this);return t===void 0?n==="ios"&&Cr("ios"):t}resize(){this.fullscreen?rc(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,ad(this))}readDimensions(){const t=dP(this.el),n=Math.max(this.el.offsetTop,0),i=Math.max(t.offsetHeight-n-this.el.offsetHeight,0);(n!==this.cTop||i!==this.cBottom)&&(this.cTop=n,this.cBottom=i,ad(this))}onScroll(t){const n=Date.now(),i=!this.isScrolling;this.lastScroll=n,i&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,rc(o=>{this.queued=!1,this.detail.event=t,hP(this.detail,this.scrollEl,o,i),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(t=>lc(this.el,t)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(t=>lc(this.el,t)),Promise.resolve(this.backgroundContentEl)}scrollToTop(t=0){return this.scrollToPoint(void 0,0,t)}async scrollToBottom(t=0){const n=await this.getScrollElement(),i=n.scrollHeight-n.clientHeight;return this.scrollToPoint(void 0,i,t)}async scrollByPoint(t,n,i){const o=await this.getScrollElement();return this.scrollToPoint(t+o.scrollLeft,n+o.scrollTop,i)}async scrollToPoint(t,n,i=0){const o=await this.getScrollElement();if(i<32){n!=null&&(o.scrollTop=n),t!=null&&(o.scrollLeft=t);return}let s,a=0;const c=new Promise(w=>s=w),u=o.scrollTop,f=o.scrollLeft,p=n!=null?n-u:0,m=t!=null?t-f:0,v=w=>{const E=Math.min(1,(w-a)/i)-1,I=Math.pow(E,3)+1;p!==0&&(o.scrollTop=Math.floor(I*p+u)),m!==0&&(o.scrollLeft=Math.floor(I*m+f)),I<1?requestAnimationFrame(v):s()};return requestAnimationFrame(w=>{a=w,v(w)}),c}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{isMainContent:t,scrollX:n,scrollY:i,el:o}=this,s=sP(o)?"rtl":"ltr",a=ve(this),c=this.shouldForceOverscroll(),u=a==="ios",f=t?"main":"div";return this.resize(),st(qe,{key:"e13815c0e6f6095150b112d3a1aaf2f509aa0d0b",class:Ii(this.color,{[a]:!0,"content-sizing":ao("ion-popover",this.el),overscroll:c,[`content-${s}`]:!0}),style:{"--offset-top":`${this.cTop}px`,"--offset-bottom":`${this.cBottom}px`}},st("div",{key:"8006c4a10d8f7dc83c646246961d018a8097236e",ref:p=>this.backgroundContentEl=p,id:"background-content",part:"background"}),st(f,{key:"4dd2f58421493f7a4ca42f8f5d7b85cda8e320ea",class:{"inner-scroll":!0,"scroll-x":n,"scroll-y":i,overscroll:(n||i)&&c},ref:p=>this.scrollEl=p,onScroll:this.scrollEvents?p=>this.onScroll(p):void 0,part:"scroll"},st("slot",{key:"37904f8f1d8319156cd901feb21930ef674fe0f7"})),u?st("div",{class:"transition-effect"},st("div",{class:"transition-cover"}),st("div",{class:"transition-shadow"})):null,st("slot",{key:"8f696583903af0548d064dca1a6bae060e127485",name:"fixed"}))}get el(){return this}static get style(){return lP}},[1,"ion-content",{color:[513],fullscreen:[4],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),uP=e=>{var t;return e.parentElement?e.parentElement:!((t=e.parentNode)===null||t===void 0)&&t.host?e.parentNode.host:null},dP=e=>{const t=e.closest("ion-tabs");if(t)return t;const n=e.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||uP(e)},hP=(e,t,n,i)=>{const o=e.currentX,s=e.currentY,a=e.currentTime,c=t.scrollLeft,u=t.scrollTop,f=n-a;if(i&&(e.startTime=n,e.startX=c,e.startY=u,e.velocityX=e.velocityY=0),e.currentTime=n,e.currentX=e.scrollLeft=c,e.currentY=e.scrollTop=u,e.deltaX=c-e.startX,e.deltaY=u-e.startY,f>0&&f<100){const p=(c-o)/f,m=(u-s)/f;e.velocityX=p*.7+e.velocityX*.3,e.velocityY=m*.7+e.velocityY*.3}};function fP(){if(typeof customElements>"u")return;["ion-content"].forEach(t=>{switch(t){case"ion-content":customElements.get(t)||customElements.define(t,cP);break}})}const pP=fP;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const mP=":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-350, #a6a6a6);font-size:max(14px, 1rem)}",gP=mP,vP=":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-600, #666666);font-size:0.875rem}",bP=vP,_P=ze(class extends De{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const t=ve(this);return st(qe,{key:"79a17a318ec6e8326c9741b4a9bb4598acdc225e",class:Ii(this.color,{[t]:!0})},st("slot",{key:"5adeaccfabb4bee7b84ea5c5de804bd255b29255"}))}static get style(){return{ios:gP,md:bP}}},[33,"ion-note",{color:[513]}]);function yP(){if(typeof customElements>"u")return;["ion-note"].forEach(t=>{switch(t){case"ion-note":customElements.get(t)||customElements.define(t,_P);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wP=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-has-interactive-control){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--inner-padding-end) + var(--ion-safe-area-right, 0px));display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}:host-context([dir=rtl]) .item-bottom{padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}[dir=rtl] .item-bottom{padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}@supports selector(:dir(rtl)){.item-bottom:dir(rtl){padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select.legacy-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select.legacy-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:0.75rem;z-index:1}.item-counter{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));--color:var(--ion-item-color, var(--ion-text-color, #000));--highlight-height:0px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--bottom-padding-start:0px;font-size:1rem}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-interactive){--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px;--show-inset-highlight:0}.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus) .item-highlight{border-top:none;border-right:none;border-left:none}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:0.8125rem}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0px}:host(.item-label-fixed) ::slotted(ion-select.legacy-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:0}',xP=wP,EP=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-has-interactive-control){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--inner-padding-end) + var(--ion-safe-area-right, 0px));display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}:host-context([dir=rtl]) .item-bottom{padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}[dir=rtl] .item-bottom{padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}@supports selector(:dir(rtl)){.item-bottom:dir(rtl){padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select.legacy-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select.legacy-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:0.75rem;z-index:1}.item-counter{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;--highlight-height:1px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);font-size:1rem;font-weight:normal;text-transform:none}:host(.item-fill-outline){--highlight-height:2px}:host(.item-fill-none.item-interactive.ion-focus) .item-highlight,:host(.item-fill-none.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-none.item-interactive.ion-focus) .item-native,:host(.item-fill-none.item-interactive.item-has-focus) .item-native,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-highlight{border-width:var(--full-highlight-height);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-native{border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-highlight,:host(.item-fill-solid.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-native,:host(.item-fill-solid.item-interactive.item-has-focus) .item-native,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-has-focus) .item-native{caret-color:var(--highlight-background)}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-full){--border-width:0 0 1px 0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0;--show-inset-highlight:0}:host(.item-fill-outline) .item-highlight{--position-offset:calc(-1 * var(--border-width));top:var(--position-offset);width:calc(100% + 2 * var(--border-width));height:calc(100% + 2 * var(--border-width));-webkit-transition:none;transition:none}@supports (inset-inline-start: 0){:host(.item-fill-outline) .item-highlight{inset-inline-start:var(--position-offset)}}@supports not (inset-inline-start: 0){:host(.item-fill-outline) .item-highlight{left:var(--position-offset)}:host-context([dir=rtl]):host(.item-fill-outline) .item-highlight,:host-context([dir=rtl]).item-fill-outline .item-highlight{left:unset;right:unset;right:var(--position-offset)}@supports selector(:dir(rtl)){:host(.item-fill-outline:dir(rtl)) .item-highlight{left:unset;right:unset;right:var(--position-offset)}}}:host(.item-fill-outline.ion-focused) .item-native,:host(.item-fill-outline.item-has-focus) .item-native{border-color:transparent}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted([slot=end]){-webkit-margin-start:32px;margin-inline-start:32px}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:1.5em}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}:host(.item-fill-solid) ::slotted(ion-icon[slot=start]),:host(.item-fill-outline) ::slotted(ion-icon[slot=start]){-webkit-margin-end:8px;margin-inline-end:8px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:0.6875rem}::slotted(ion-note[slot]:not([slot=helper]):not([slot=error])){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-note[slot=start]){-webkit-padding-end:16px;padding-inline-end:16px}::slotted(ion-note[slot=end]){-webkit-padding-start:16px;padding-inline-start:16px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-label-fixed) ::slotted(ion-select.legacy-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:8px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:0.75rem}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #3880ff)}:host(.ion-color){--highlight-color-focused:var(--ion-color-contrast)}:host(.item-label-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid.ion-color),:host(.item-fill-outline.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid){--background:var(--ion-color-step-50, #f2f2f2);--background-hover:var(--ion-color-step-100, #e6e6e6);--background-focused:var(--ion-color-step-150, #d9d9d9);--border-width:0 0 1px 0;--inner-border-width:0;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid),:host-context([dir=rtl]).item-fill-solid{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.item-fill-solid:dir(rtl)){border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}}:host(.item-fill-solid) .item-native{--border-color:var(--ion-color-step-500, gray)}:host(.item-fill-solid.ion-focused) .item-native,:host(.item-fill-solid.item-has-focus) .item-native{--background:var(--background-focused)}:host(.item-fill-solid.item-shape-round){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid.item-shape-round),:host-context([dir=rtl]).item-fill-solid.item-shape-round{border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.item-fill-solid.item-shape-round:dir(rtl)){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}}@media (any-hover: hover){:host(.item-fill-solid:hover) .item-native{--background:var(--background-hover);--border-color:var(--ion-color-step-750, #404040)}}:host(.item-fill-outline){--ripple-color:transparent;--background-focused:transparent;--background-hover:transparent;--border-color:var(--ion-color-step-500, gray);--border-width:1px;border:none;overflow:visible}:host(.item-fill-outline) .item-native{--native-padding-left:16px;border-radius:4px}:host(.item-fill-outline.item-shape-round) .item-native{--inner-padding-start:16px;border-radius:28px}:host(.item-fill-outline.item-shape-round) .item-bottom{-webkit-padding-start:32px;padding-inline-start:32px}:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-textarea:not(:first-child)){-webkit-transform:translateY(-14px);transform:translateY(-14px)}@media (any-hover: hover){:host(.item-fill-outline:hover) .item-native{--border-color:var(--ion-color-step-750, #404040)}}.item-counter{letter-spacing:0.0333333333em}',TP=EP,kP=ze(class extends De{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=mb,this.disabled=!1,this.download=void 0,this.fill=void 0,this.shape=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.counter=!1,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button",this.counterFormatter=void 0,this.counterString=void 0}buttonChanged(){this.focusable=this.isFocusable()}counterFormatterChanged(){this.updateCounterOutput(this.getFirstInput())}handleIonInput(t){this.counter&&t.target===this.getFirstInput()&&this.updateCounterOutput(t.target)}labelColorChanged(t){const{color:n}=this;n===void 0&&(this.labelColorStyles=t.detail)}itemStyle(t){t.stopPropagation();const n=t.target.tagName,i=t.detail,o={},s=this.itemStyles.get(n)||{};let a=!1;Object.keys(i).forEach(c=>{if(i[c]){const u=`item-${c}`;s[u]||(a=!0),o[u]=!0}}),!a&&Object.keys(o).length!==Object.keys(s).length&&(a=!0),a&&(this.itemStyles.set(n,o),ad(this))}connectedCallback(){this.counter&&this.updateCounterOutput(this.getFirstInput()),this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=Am(this.el,["aria-label"])}componentDidLoad(){const{el:t,counter:n,counterFormatter:i,fill:o,shape:s}=this;t.querySelector('[slot="helper"]')!==null&&zn('The "helper" slot has been deprecated in favor of using the "helperText" property on ion-input or ion-textarea.',t),t.querySelector('[slot="error"]')!==null&&zn('The "error" slot has been deprecated in favor of using the "errorText" property on ion-input or ion-textarea.',t),n===!0&&zn('The "counter" property has been deprecated in favor of using the "counter" property on ion-input or ion-textarea.',t),i!==void 0&&zn('The "counterFormatter" property has been deprecated in favor of using the "counterFormatter" property on ion-input or ion-textarea.',t),o!==void 0&&zn('The "fill" property has been deprecated in favor of using the "fill" property on ion-input or ion-textarea.',t),s!==void 0&&zn('The "shape" property has been deprecated in favor of using the "shape" property on ion-input or ion-textarea.',t),Mi(()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()})}setMultipleInputs(){const t=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),n=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),i=this.el.querySelectorAll("ion-anchor, ion-button, a, button");this.multipleInputs=t.length+n.length>1||t.length+i.length>1||t.length>0&&this.isClickable()}hasCover(){return this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length===1&&!this.multipleInputs}isClickable(){return this.href!==void 0||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const t=this.el.querySelector(".ion-focusable");return this.canActivate()||t!==null}getFirstInput(){return this.el.querySelectorAll("ion-input, ion-textarea")[0]}updateCounterOutput(t){var n,i;const{counter:o,counterFormatter:s,defaultCounterFormatter:a}=this;if(o&&!this.multipleInputs&&(t==null?void 0:t.maxlength)!==void 0){const c=(i=(n=t==null?void 0:t.value)===null||n===void 0?void 0:n.toString().length)!==null&&i!==void 0?i:0;if(s===void 0)this.counterString=a(c,t.maxlength);else try{this.counterString=s(c,t.maxlength)}catch(u){_C("Exception in provided `counterFormatter`.",u),this.counterString=a(c,t.maxlength)}}}defaultCounterFormatter(t,n){return`${t} / ${n}`}hasStartEl(){this.el.querySelector('[slot="start"]')!==null&&this.el.classList.add("item-has-start-slot")}getFirstInteractive(){return this.el.querySelectorAll("ion-toggle:not([disabled]), ion-checkbox:not([disabled]), ion-radio:not([disabled]), ion-select:not([disabled])")[0]}render(){const{counterString:t,detail:n,detailIcon:i,download:o,fill:s,labelColorStyles:a,lines:c,disabled:u,href:f,rel:p,shape:m,target:v,routerAnimation:w,routerDirection:E,inheritedAriaAttributes:I,multipleInputs:R}=this,D={},F=ve(this),z=this.isClickable(),B=this.canActivate(),U=z?f===void 0?"button":"a":"div",H=U==="button"?{type:this.type}:{download:o,href:f,rel:p,target:v};let C={};const k=this.getFirstInteractive();(z||k!==void 0&&!R)&&(C={onClick:P=>{if(z&&Lm(f,P,E,w),k!==void 0&&!R){const Gt=P.composedPath()[0];P.isTrusted&&this.el.shadowRoot.contains(Gt)&&k.click()}}});const T=n!==void 0?n:F==="ios"&&z;this.itemStyles.forEach(P=>{Object.assign(D,P)});const O=u||D["item-interactive-disabled"]?"true":null,A=s||"none",$=ao("ion-list",this.el)&&!ao("ion-radio-group",this.el);return st(qe,{key:"077c9ab04985292f79c30691151d2778a26285fb","aria-disabled":O,class:Object.assign(Object.assign(Object.assign({},D),a),Ii(this.color,{item:!0,[F]:!0,"item-lines-default":c===void 0,[`item-lines-${c}`]:c!==void 0,[`item-fill-${A}`]:!0,[`item-shape-${m}`]:m!==void 0,"item-has-interactive-control":k!==void 0,"item-disabled":u,"in-list":$,"item-multiple-inputs":this.multipleInputs,"ion-activatable":B,"ion-focusable":this.focusable,"item-rtl":document.dir==="rtl"})),role:$?"listitem":null},st(U,Object.assign({key:"08bb75c85d0584e9fb7f461e9e06b9b651ef3515"},H,I,{class:"item-native",part:"native",disabled:u},C),st("slot",{key:"3f742b07c4a58eadedf675be4878a3e00070750e",name:"start"}),st("div",{key:"0160b8963434f3107856a2df2fb96f1abb4fdbfe",class:"item-inner"},st("div",{key:"9439b21474443341f06a651d7c44aef90bd4c591",class:"input-wrapper"},st("slot",{key:"8034e1337a6c950b7725bc9aa46d55de980827bf"})),st("slot",{key:"690de6d3dd3a238ab7a2d3dfea69daa6647e5134",name:"end"}),T&&st("ion-icon",{key:"6f386abbde5897fca7aabc850645986e16315213",icon:i,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":i===mb}),st("div",{key:"4bb8444a5097c032d79f2083f60429b9057e3a5c",class:"item-inner-highlight"})),B&&F==="md"&&st("ion-ripple-effect",{key:"31c319e2335efbb92d7dea110a66f347764f2b44"}),st("div",{key:"0fc128b44582af7c8b542c9e346ef88e40fea148",class:"item-highlight"})),st("div",{key:"7b84c0a74d148a7fa6af449b6bd06bb45530edf5",class:"item-bottom"},st("slot",{key:"97563a615efd81b21014c41a25989c71ba3ae2cd",name:"error"}),st("slot",{key:"d84a4bb21ed3f13af82f78104ffb06d2b079738e",name:"helper"}),t&&st("ion-note",{key:"34eaa7798c50d2f88afca0dcb1278df05a1800e6",class:"item-counter"},t)))}static get delegatesFocus(){return!0}get el(){return this}static get watchers(){return{button:["buttonChanged"],counterFormatter:["counterFormatterChanged"]}}static get style(){return{ios:xP,md:TP}}},[49,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[4],download:[1],fill:[1],shape:[1],href:[1],rel:[1],lines:[1],counter:[4],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],counterFormatter:[16],multipleInputs:[32],focusable:[32],counterString:[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{button:["buttonChanged"],counterFormatter:["counterFormatterChanged"]}]);function IP(){if(typeof customElements>"u")return;["ion-item","ion-icon","ion-note","ion-ripple-effect"].forEach(t=>{switch(t){case"ion-item":customElements.get(t)||customElements.define(t,kP);break;case"ion-icon":customElements.get(t)||Rm();break;case"ion-note":customElements.get(t)||yP();break;case"ion-ripple-effect":customElements.get(t)||$s();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const tn=typeof window<"u"?window:void 0,Wo=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const SP=()=>{if(tn!==void 0)return tn.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Fw=async(e,t,n,i,o,s)=>{var a;if(e)return e.attachViewToDom(t,n,o,i);if(!s&&typeof n!="string"&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const c=typeof n=="string"?(a=t.ownerDocument)===null||a===void 0?void 0:a.createElement(n):n;return i&&i.forEach(u=>c.classList.add(u)),o&&Object.assign(c,o),t.appendChild(c),await new Promise(u=>lc(c,u)),c},AP=(e,t)=>{if(t){if(e){const n=t.parentElement;return e.removeViewFromDom(n,t)}t.remove()}return Promise.resolve()},CP=()=>{let e,t;return{attachViewToDom:async(o,s,a={},c=[])=>{var u,f;e=o;let p;if(s){const v=typeof s=="string"?(u=e.ownerDocument)===null||u===void 0?void 0:u.createElement(s):s;c.forEach(w=>v.classList.add(w)),Object.assign(v,a),e.appendChild(v),p=v,await new Promise(w=>lc(v,w))}else if(e.children.length>0&&(e.tagName==="ION-MODAL"||e.tagName==="ION-POPOVER")&&!(p=e.children[0]).classList.contains("ion-delegate-host")){const w=(f=e.ownerDocument)===null||f===void 0?void 0:f.createElement("div");w.classList.add("ion-delegate-host"),c.forEach(E=>w.classList.add(E)),w.append(...e.children),e.appendChild(w),p=w}const m=document.querySelector("ion-app")||document.body;return t=document.createComment("ionic teleport"),e.parentNode.insertBefore(t,e),m.appendChild(e),p??e},removeViewFromDom:()=>(e&&t&&(t.parentNode.insertBefore(e,t),t.remove()),Promise.resolve())}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const zw=()=>{let e;return{lock:async()=>{const n=e;let i;return e=new Promise(o=>i=o),n!==void 0&&await n,i}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cc=()=>he.get("experimentalCloseWatcher",!1)&&tn!==void 0&&"CloseWatcher"in tn,PP=()=>{document.addEventListener("backbutton",()=>{})},RP=()=>{const e=document;let t=!1;const n=()=>{if(t)return;let i=0,o=[];const s=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(u,f){o.push({priority:u,handler:f,id:i++})}}});e.dispatchEvent(s);const a=async u=>{try{if(u!=null&&u.handler){const f=u.handler(c);f!=null&&await f}}catch(f){console.error(f)}},c=()=>{if(o.length>0){let u={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};o.forEach(f=>{f.priority>=u.priority&&(u=f)}),t=!0,o=o.filter(f=>f.id!==u.id),a(u).then(()=>t=!1)}};c()};if(cc()){let i;const o=()=>{i==null||i.destroy(),i=new tn.CloseWatcher,i.onclose=()=>{n(),o()}};o()}else e.addEventListener("backbutton",n)},Uw=100,LP=99,OP=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:LP,OVERLAY_BACK_BUTTON_PRIORITY:Uw,blockHardwareBackButton:PP,shouldUseCloseWatcher:cc,startHardwareBackButton:RP},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let lp=0,$P=0;const cd=new WeakMap,MP=e=>{typeof document<"u"&&BP(document);const t=lp++;e.overlayIndex=t},DP=e=>(e.hasAttribute("id")||(e.id=`ion-overlay-${++$P}`),e.id),Kd='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',NP=e=>e.classList.contains("overlay-hidden"),yb=(e,t)=>{const n=e.querySelector(Kd);ud(n,t)},wb=(e,t)=>{const n=Array.from(e.querySelectorAll(Kd)),i=n.length>0?n[n.length-1]:null;ud(i,t)},ud=(e,t)=>{let n=e;const i=e==null?void 0:e.shadowRoot;i&&(n=i.querySelector(Kd)||e),n?VA(n):t.focus()},VP=(e,t)=>{const n=cp(t,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),i=e.target;if(!n||!i||n.classList.contains("ion-disable-focus-trap"))return;const o=()=>{if(n===i)n.lastFocus=void 0;else if(i.tagName==="ION-TOAST")ud(n.lastFocus,n);else{const a=ja(n);if(!a.contains(i))return;const c=a.querySelector(".ion-overlay-wrapper");if(!c)return;if(c.contains(i)||i===a.querySelector("ion-backdrop"))n.lastFocus=i;else{const u=n.lastFocus;yb(c,n),u===t.activeElement&&wb(c,n),n.lastFocus=t.activeElement}}},s=()=>{if(n.contains(i))n.lastFocus=i;else if(i.tagName==="ION-TOAST")ud(n.lastFocus,n);else{const a=n.lastFocus;yb(n,n),a===t.activeElement&&wb(n,n),n.lastFocus=t.activeElement}};n.shadowRoot?s():o()},BP=e=>{lp===0&&(lp=1,e.addEventListener("focus",t=>{VP(t,e)},!0),e.addEventListener("ionBackButton",t=>{const n=cp(e);n!=null&&n.backdropDismiss&&t.detail.register(Uw,()=>{n.dismiss(void 0,dp)})}),cc()||e.addEventListener("keydown",t=>{if(t.key==="Escape"){const n=cp(e);n!=null&&n.backdropDismiss&&n.dismiss(void 0,dp)}}))},FP=(e,t)=>(t===void 0&&(t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(e.querySelectorAll(t)).filter(n=>n.overlayIndex>0)),Zd=(e,t)=>FP(e,t).filter(n=>!NP(n)),cp=(e,t,n)=>{const i=Zd(e,t);return n===void 0?i[i.length-1]:i.find(o=>o.id===n)},jw=(e=!1)=>{const n=HP(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");n&&(e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))},zP=async(e,t,n,i,o)=>{var s,a;if(e.presented)return;jw(!0),XP(e.el),e.presented=!0,e.willPresent.emit(),(s=e.willPresentShorthand)===null||s===void 0||s.emit();const c=ve(e),u=e.enterAnimation?e.enterAnimation:he.get(t,c==="ios"?n:i);await Hw(e,u,e.el,o)&&(e.didPresent.emit(),(a=e.didPresentShorthand)===null||a===void 0||a.emit()),e.el.tagName!=="ION-TOAST"&&UP(e.el),e.keyboardClose&&(document.activeElement===null||!e.el.contains(document.activeElement))&&e.el.focus(),e.el.removeAttribute("aria-hidden")},UP=async e=>{let t=document.activeElement;if(!t)return;const n=t==null?void 0:t.shadowRoot;n&&(t=n.querySelector(Kd)||t),await e.onDidDismiss(),(document.activeElement===null||document.activeElement===document.body)&&t.focus()},jP=async(e,t,n,i,o,s,a)=>{var c,u;if(!e.presented)return!1;Wo!==void 0&&Zd(Wo).length===1&&jw(!1),e.presented=!1;try{e.el.style.setProperty("pointer-events","none"),e.willDismiss.emit({data:t,role:n}),(c=e.willDismissShorthand)===null||c===void 0||c.emit({data:t,role:n});const f=ve(e),p=e.leaveAnimation?e.leaveAnimation:he.get(i,f==="ios"?o:s);n!==qw&&await Hw(e,p,e.el,a),e.didDismiss.emit({data:t,role:n}),(u=e.didDismissShorthand)===null||u===void 0||u.emit({data:t,role:n}),(cd.get(e)||[]).forEach(v=>v.destroy()),cd.delete(e),e.el.classList.add("overlay-hidden"),e.el.style.removeProperty("pointer-events"),e.el.lastFocus!==void 0&&(e.el.lastFocus=void 0)}catch(f){console.error(f)}return e.el.remove(),QP(),!0},HP=e=>e.querySelector("ion-app")||e.body,Hw=async(e,t,n,i)=>{n.classList.remove("overlay-hidden");const o=e.el,s=t(o,i);(!e.animated||!he.getBoolean("animated",!0))&&s.duration(0),e.keyboardClose&&s.beforeAddWrite(()=>{const c=n.ownerDocument.activeElement;c!=null&&c.matches("input,ion-input, ion-textarea")&&c.blur()});const a=cd.get(e)||[];return cd.set(e,[...a,s]),await s.play(),!0},xb=(e,t)=>{let n;const i=new Promise(o=>n=o);return qP(e,t,o=>{n(o.detail)}),i},qP=(e,t,n)=>{const i=o=>{DA(e,t,i),n(o)};MA(e,t,i)},up=e=>e==="cancel"||e===dp,WP=e=>e(),GP=(e,t)=>{if(typeof e=="function")return he.get("_zoneGate",WP)(()=>{try{return e(t)}catch(i){throw i}})},dp="backdrop",qw="gesture",KP=39,ZP=e=>{let t=!1,n;const i=CP(),o=(c=!1)=>{if(n&&!c)return{delegate:n,inline:t};const{el:u,hasController:f,delegate:p}=e;return t=u.parentNode!==null&&!f,n=t?p||i:p,{inline:t,delegate:n}};return{attachViewToDom:async c=>{const{delegate:u}=o(!0);if(u)return await u.attachViewToDom(e.el,c);const{hasController:f}=e;if(f&&c!==void 0)throw new Error("framework delegate is missing");return null},removeViewFromDom:()=>{const{delegate:c}=o();c&&e.el!==void 0&&c.removeViewFromDom(e.el.parentElement,e.el)}}},YP=()=>{let e;const t=()=>{e&&(e(),e=void 0)};return{addClickListener:(i,o)=>{t();const s=o!==void 0?document.getElementById(o):null;if(!s){zn(`A trigger element with the ID "${o}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,i);return}e=((c,u)=>{const f=()=>{u.present()};return c.addEventListener("click",f),()=>{c.removeEventListener("click",f)}})(s,i)},removeClickListener:t}},XP=e=>{var t;if(Wo===void 0)return;const n=Zd(Wo);for(let i=n.length-1;i>=0;i--){const o=n[i],s=(t=n[i+1])!==null&&t!==void 0?t:e;(s.hasAttribute("aria-hidden")||s.tagName!=="ION-TOAST")&&o.setAttribute("aria-hidden","true")}},QP=()=>{if(Wo===void 0)return;const e=Zd(Wo);for(let t=e.length-1;t>=0;t--){const n=e[t];if(n.removeAttribute("aria-hidden"),n.tagName!=="ION-TOAST")break}},Om="ionViewWillEnter",$m="ionViewDidEnter",Yd="ionViewWillLeave",Xd="ionViewDidLeave",sf="ionViewWillUnload",JP=()=>Cn(()=>import("./ios.transition-84591fcc.js"),[]),tR=()=>Cn(()=>import("./md.transition-9c4fa7b7.js"),[]),Ww=e=>new Promise((t,n)=>{Nr(()=>{eR(e),nR(e).then(i=>{i.animation&&i.animation.destroy(),Eb(e),t(i)},i=>{Eb(e),n(i)})})}),eR=e=>{const t=e.enteringEl,n=e.leavingEl;lR(t,n,e.direction),e.showGoBack?t.classList.add("can-go-back"):t.classList.remove("can-go-back"),fp(t,!1),t.style.setProperty("pointer-events","none"),n&&(fp(n,!1),n.style.setProperty("pointer-events","none"))},nR=async e=>{const t=await iR(e);return t&&NS.isBrowser?oR(t,e):rR(e)},Eb=e=>{const t=e.enteringEl,n=e.leavingEl;t.classList.remove("ion-page-invisible"),t.style.removeProperty("pointer-events"),n!==void 0&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events"))},iR=async e=>!e.leavingEl||!e.animated||e.duration===0?void 0:e.animationBuilder?e.animationBuilder:e.mode==="ios"?(await JP()).iosTransitionAnimation:(await tR()).mdTransitionAnimation,oR=async(e,t)=>{await Gw(t,!0);const n=e(t.baseEl,t);Kw(t.enteringEl,t.leavingEl);const i=await aR(n,t);return t.progressCallback&&t.progressCallback(void 0),i&&Zw(t.enteringEl,t.leavingEl),{hasCompleted:i,animation:n}},rR=async e=>{const t=e.enteringEl,n=e.leavingEl;return await Gw(e,!1),Kw(t,n),Zw(t,n),{hasCompleted:!0}},Gw=async(e,t)=>{(e.deepWait!==void 0?e.deepWait:t)&&await Promise.all([hp(e.enteringEl),hp(e.leavingEl)]),await sR(e.viewIsReady,e.enteringEl)},sR=async(e,t)=>{e&&await e(t)},aR=(e,t)=>{const n=t.progressCallback,i=new Promise(o=>{e.onFinish(s=>o(s===1))});return n?(e.progressStart(!0),n(e)):e.play(),i},Kw=(e,t)=>{Fo(t,Yd),Fo(e,Om)},Zw=(e,t)=>{Fo(e,$m),Fo(t,Xd)},Fo=(e,t)=>{if(e){const n=new CustomEvent(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(n)}},hp=async e=>{const t=e;if(t){if(t.componentOnReady!=null){if(await t.componentOnReady()!=null)return}else if(t.__registerHost!=null){await new Promise(i=>Mi(i));return}await Promise.all(Array.from(t.children).map(hp))}},fp=(e,t)=>{t?(e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")):(e.hidden=!1,e.removeAttribute("aria-hidden"),e.classList.remove("ion-page-hidden"))},lR=(e,t,n)=>{e!==void 0&&(e.style.zIndex=n==="back"?"99":"101"),t!==void 0&&(t.style.zIndex="100")},L8=e=>{if(e.classList.contains("ion-page"))return e;const t=e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return t||e};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let af;const cR=e=>(e.forEach(t=>{for(const n in t)if(t.hasOwnProperty(n)){const i=t[n];if(n==="easing"){const o="animation-timing-function";t[o]=i,delete t[n]}else{const o=uR(n);o!==n&&(t[o]=i,delete t[n])}}}),e),uR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mm=e=>{if(af===void 0){const t=e.style.animationName!==void 0,n=e.style.webkitAnimationName!==void 0;af=!t&&n?"-webkit-":""}return af},Fe=(e,t,n)=>{const i=t.startsWith("animation")?Mm(e):"";e.style.setProperty(i+t,n)},$i=(e,t)=>{const n=t.startsWith("animation")?Mm(e):"";e.style.removeProperty(n+t)},dR=(e,t)=>{let n;const i={passive:!0},o=()=>{n&&n()},s=a=>{e===a.target&&(o(),t(a))};return e&&(e.addEventListener("webkitAnimationEnd",s,i),e.addEventListener("animationend",s,i),n=()=>{e.removeEventListener("webkitAnimationEnd",s,i),e.removeEventListener("animationend",s,i)}),o},hR=(e=[])=>e.map(t=>{const n=t.offset,i=[];for(const o in t)t.hasOwnProperty(o)&&o!=="offset"&&i.push(`${o}: ${t[o]};`);return`${n*100}% { ${i.join(" ")} }`}).join(" "),Tb=[],fR=e=>{let t=Tb.indexOf(e);return t<0&&(t=Tb.push(e)-1),`ion-animation-${t}`},pR=e=>{const t=e.getRootNode!==void 0?e.getRootNode():e;return t.head||t},mR=(e,t,n)=>{var i;const o=pR(n),s=Mm(n),a=o.querySelector("#"+e);if(a)return a;const c=((i=n.ownerDocument)!==null&&i!==void 0?i:document).createElement("style");return c.id=e,c.textContent=`@${s}keyframes ${e} { ${t} } @${s}keyframes ${e}-alt { ${t} }`,o.appendChild(c),c},yu=(e=[],t)=>{if(t!==void 0){const n=Array.isArray(t)?t:[t];return[...e,...n]}return e},Jo=e=>{let t,n,i,o,s,a,c=[],u=[],f=[],p=!1,m,v={},w=[],E=[],I={},R=0,D=!1,F=!1,z,B,U,H,C=!0,k=!1,T=!0,O,A,$=!1;const P=e,Ct=[],Gt=[],Vt=[],wt=[],tt=[],nt=[],G=[],ut=[],St=[],Dt=[],Ot=[],Rt=typeof AnimationEffect=="function"||tn!==void 0&&typeof tn.AnimationEffect=="function",yt=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&Rt,Q=100,mt=()=>Ot,vt=K=>(tt.forEach(dt=>{dt.destroy(K)}),Tt(K),wt.length=0,tt.length=0,c.length=0,ot(),p=!1,T=!0,A),Tt=K=>{J(),K&&rt()},zt=()=>{D=!1,F=!1,T=!0,B=void 0,U=void 0,H=void 0,R=0,k=!1,C=!0,$=!1},oe=()=>R!==0&&!$,M=(K,dt)=>{const _t=dt.findIndex(fe=>fe.c===K);_t>-1&&dt.splice(_t,1)},N=(K,dt)=>(Vt.push({c:K,o:dt}),A),W=(K,dt)=>((dt!=null&&dt.oneTimeCallback?Gt:Ct).push({c:K,o:dt}),A),ot=()=>(Ct.length=0,Gt.length=0,A),J=()=>{if(yt)Ot.forEach(K=>{K.cancel()}),Ot.length=0;else{const K=wt.slice();Mi(()=>{K.forEach(dt=>{$i(dt,"animation-name"),$i(dt,"animation-duration"),$i(dt,"animation-timing-function"),$i(dt,"animation-iteration-count"),$i(dt,"animation-delay"),$i(dt,"animation-play-state"),$i(dt,"animation-fill-mode"),$i(dt,"animation-direction")})})}},rt=()=>{nt.forEach(K=>{K!=null&&K.parentNode&&K.parentNode.removeChild(K)}),nt.length=0},gt=K=>(G.push(K),A),ft=K=>(ut.push(K),A),ht=K=>(St.push(K),A),at=K=>(Dt.push(K),A),Lt=K=>(u=yu(u,K),A),bt=K=>(f=yu(f,K),A),kt=(K={})=>(v=K,A),Mt=(K=[])=>{for(const dt of K)v[dt]="";return A},$t=K=>(w=yu(w,K),A),jt=K=>(E=yu(E,K),A),te=(K={})=>(I=K,A),We=(K=[])=>{for(const dt of K)I[dt]="";return A},xe=()=>s!==void 0?s:m?m.getFill():"both",Ge=()=>B!==void 0?B:a!==void 0?a:m?m.getDirection():"normal",Ee=()=>D?"linear":i!==void 0?i:m?m.getEasing():"linear",Ne=()=>F?0:U!==void 0?U:n!==void 0?n:m?m.getDuration():0,Tn=()=>o!==void 0?o:m?m.getIterations():1,Ae=()=>H!==void 0?H:t!==void 0?t:m?m.getDelay():0,rn=()=>c,sr=K=>(a=K,kn(!0),A),Ki=K=>(s=K,kn(!0),A),Gr=K=>(t=K,kn(!0),A),Kr=K=>(i=K,kn(!0),A),Zi=K=>(!yt&&K===0&&(K=1),n=K,kn(!0),A),Zr=K=>(o=K,kn(!0),A),Yr=K=>(m=K,A),Si=K=>{if(K!=null)if(K.nodeType===1)wt.push(K);else if(K.length>=0)for(let dt=0;dt<K.length;dt++)wt.push(K[dt]);else console.error("Invalid addElement value");return A},Bs=K=>{if(K!=null)if(Array.isArray(K))for(const dt of K)dt.parent(A),tt.push(dt);else K.parent(A),tt.push(K);return A},ar=K=>{const dt=c!==K;return c=K,dt&&Fs(c),A},Fs=K=>{yt?mt().forEach(dt=>{const _t=dt.effect;if(_t.setKeyframes)_t.setKeyframes(K);else{const fe=new KeyframeEffect(_t.target,K,_t.getTiming());dt.effect=fe}}):Xr()},Ai=()=>{G.forEach(fe=>fe()),ut.forEach(fe=>fe());const K=u,dt=f,_t=v;wt.forEach(fe=>{const Re=fe.classList;K.forEach(Qe=>Re.add(Qe)),dt.forEach(Qe=>Re.remove(Qe));for(const Qe in _t)_t.hasOwnProperty(Qe)&&Fe(fe,Qe,_t[Qe])})},zs=()=>{lr(),St.forEach(Re=>Re()),Dt.forEach(Re=>Re());const K=C?1:0,dt=w,_t=E,fe=I;wt.forEach(Re=>{const Qe=Re.classList;dt.forEach(Xt=>Qe.add(Xt)),_t.forEach(Xt=>Qe.remove(Xt));for(const Xt in fe)fe.hasOwnProperty(Xt)&&Fe(Re,Xt,fe[Xt])}),U=void 0,B=void 0,H=void 0,Ct.forEach(Re=>Re.c(K,A)),Gt.forEach(Re=>Re.c(K,A)),Gt.length=0,T=!0,C&&(k=!0),C=!0},Ve=()=>{R!==0&&(R--,R===0&&(zs(),m&&m.animationFinish()))},Xr=(K=!0)=>{rt();const dt=cR(c);wt.forEach(_t=>{if(dt.length>0){const fe=hR(dt);O=e!==void 0?e:fR(fe);const Re=mR(O,fe,_t);nt.push(Re),Fe(_t,"animation-duration",`${Ne()}ms`),Fe(_t,"animation-timing-function",Ee()),Fe(_t,"animation-delay",`${Ae()}ms`),Fe(_t,"animation-fill-mode",xe()),Fe(_t,"animation-direction",Ge());const Qe=Tn()===1/0?"infinite":Tn().toString();Fe(_t,"animation-iteration-count",Qe),Fe(_t,"animation-play-state","paused"),K&&Fe(_t,"animation-name",`${Re.id}-alt`),Mi(()=>{Fe(_t,"animation-name",Re.id||null)})}})},go=()=>{wt.forEach(K=>{const dt=K.animate(c,{id:P,delay:Ae(),duration:Ne(),easing:Ee(),iterations:Tn(),fill:xe(),direction:Ge()});dt.pause(),Ot.push(dt)}),Ot.length>0&&(Ot[0].onfinish=()=>{Ve()})},mn=(K=!0)=>{Ai(),c.length>0&&(yt?go():Xr(K)),p=!0},It=K=>{if(K=Math.min(Math.max(K,0),.9999),yt)Ot.forEach(dt=>{dt.currentTime=dt.effect.getComputedTiming().delay+Ne()*K,dt.pause()});else{const dt=`-${Ne()*K}ms`;wt.forEach(_t=>{c.length>0&&(Fe(_t,"animation-delay",dt),Fe(_t,"animation-play-state","paused"))})}},Qr=K=>{Ot.forEach(dt=>{dt.effect.updateTiming({delay:Ae(),duration:Ne(),easing:Ee(),iterations:Tn(),fill:xe(),direction:Ge()})}),K!==void 0&&It(K)},mi=(K=!0,dt)=>{Mi(()=>{wt.forEach(_t=>{Fe(_t,"animation-name",O||null),Fe(_t,"animation-duration",`${Ne()}ms`),Fe(_t,"animation-timing-function",Ee()),Fe(_t,"animation-delay",dt!==void 0?`-${dt*Ne()}ms`:`${Ae()}ms`),Fe(_t,"animation-fill-mode",xe()||null),Fe(_t,"animation-direction",Ge()||null);const fe=Tn()===1/0?"infinite":Tn().toString();Fe(_t,"animation-iteration-count",fe),K&&Fe(_t,"animation-name",`${O}-alt`),Mi(()=>{Fe(_t,"animation-name",O||null)})})})},kn=(K=!1,dt=!0,_t)=>(K&&tt.forEach(fe=>{fe.update(K,dt,_t)}),yt?Qr(_t):mi(dt,_t),A),Us=(K=!1,dt)=>(tt.forEach(_t=>{_t.progressStart(K,dt)}),ai(),D=K,p||mn(),kn(!1,!0,dt),A),Yi=K=>(tt.forEach(dt=>{dt.progressStep(K)}),It(K),A),Jr=(K,dt,_t)=>(D=!1,tt.forEach(fe=>{fe.progressEnd(K,dt,_t)}),_t!==void 0&&(U=_t),k=!1,C=!0,K===0?(B=Ge()==="reverse"?"normal":"reverse",B==="reverse"&&(C=!1),yt?(kn(),It(1-dt)):(H=(1-dt)*Ne()*-1,kn(!1,!1))):K===1&&(yt?(kn(),It(dt)):(H=dt*Ne()*-1,kn(!1,!1))),K!==void 0&&!m&&Xi(),A),ai=()=>{p&&(yt?Ot.forEach(K=>{K.pause()}):wt.forEach(K=>{Fe(K,"animation-play-state","paused")}),$=!0)},vo=()=>(tt.forEach(K=>{K.pause()}),ai(),A),gi=()=>{z=void 0,Ve()},lr=()=>{z&&clearTimeout(z)},js=()=>{if(lr(),Mi(()=>{wt.forEach(K=>{c.length>0&&Fe(K,"animation-play-state","running")})}),c.length===0||wt.length===0)Ve();else{const K=Ae()||0,dt=Ne()||0,_t=Tn()||1;isFinite(_t)&&(z=setTimeout(gi,K+dt*_t+Q)),dR(wt[0],()=>{lr(),Mi(()=>{ts(),Mi(Ve)})})}},ts=()=>{wt.forEach(K=>{$i(K,"animation-duration"),$i(K,"animation-delay"),$i(K,"animation-play-state")})},cr=()=>{Ot.forEach(K=>{K.play()}),(c.length===0||wt.length===0)&&Ve()},Hs=()=>{yt?(It(0),Qr()):mi()},Xi=K=>new Promise(dt=>{K!=null&&K.sync&&(F=!0,W(()=>F=!1,{oneTimeCallback:!0})),p||mn(),k&&(Hs(),k=!1),T&&(R=tt.length+1,T=!1);const _t=()=>{M(fe,Gt),dt()},fe=()=>{M(_t,Vt),dt()};W(fe,{oneTimeCallback:!0}),N(_t,{oneTimeCallback:!0}),tt.forEach(Re=>{Re.play()}),yt?cr():js(),$=!1}),Qa=()=>{tt.forEach(K=>{K.stop()}),p&&(J(),p=!1),zt(),Vt.forEach(K=>K.c(0,A)),Vt.length=0},bo=(K,dt)=>{const _t=c[0];return _t!==void 0&&(_t.offset===void 0||_t.offset===0)?_t[K]=dt:c=[{offset:0,[K]:dt},...c],A};return A={parentAnimation:m,elements:wt,childAnimations:tt,id:P,animationFinish:Ve,from:bo,to:(K,dt)=>{const _t=c[c.length-1];return _t!==void 0&&(_t.offset===void 0||_t.offset===1)?_t[K]=dt:c=[...c,{offset:1,[K]:dt}],A},fromTo:(K,dt,_t)=>bo(K,dt).to(K,_t),parent:Yr,play:Xi,pause:vo,stop:Qa,destroy:vt,keyframes:ar,addAnimation:Bs,addElement:Si,update:kn,fill:Ki,direction:sr,iterations:Zr,duration:Zi,easing:Kr,delay:Gr,getWebAnimations:mt,getKeyframes:rn,getFill:xe,getDirection:Ge,getDelay:Ae,getIterations:Tn,getEasing:Ee,getDuration:Ne,afterAddRead:ht,afterAddWrite:at,afterClearStyles:We,afterStyles:te,afterRemoveClass:jt,afterAddClass:$t,beforeAddRead:gt,beforeAddWrite:ft,beforeClearStyles:Mt,beforeStyles:kt,beforeRemoveClass:bt,beforeAddClass:Lt,onFinish:W,isRunning:oe,progressStart:Us,progressStep:Yi,progressEnd:Jr}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gR="ION-CONTENT",Yw="ion-content",Xw=".ion-content-scroll-host",Qw=`${Yw}, ${Xw}`,Oc=e=>e.tagName===gR,kb=async e=>Oc(e)?(await new Promise(t=>lc(e,t)),e.getScrollElement()):e,Ib=e=>{const t=e.querySelector(Xw);return t||e.querySelector(Qw)},vR=e=>e.closest(Qw),O8=(e,t)=>Oc(e)?e.scrollToTop(t):Promise.resolve(e.scrollTo({top:0,left:0,behavior:t>0?"smooth":"auto"})),$8=(e,t,n,i)=>Oc(e)?e.scrollByPoint(t,n,i):Promise.resolve(e.scrollBy({top:n,left:t,behavior:i>0?"smooth":"auto"})),Sb=e=>yC(e,Yw),bR=e=>{if(Oc(e)){const t=e,n=t.scrollY;return t.scrollY=!1,n}else return e.style.setProperty("overflow","hidden"),!0},_R=(e,t)=>{Oc(e)?e.scrollY=t:e.style.removeProperty("overflow")};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var pp;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(pp||(pp={}));var mp;(function(e){e.Body="body",e.Ionic="ionic",e.Native="native",e.None="none"})(mp||(mp={}));const yR={getEngine(){const e=SP();if(e!=null&&e.isPluginAvailable("Keyboard"))return e.Plugins.Keyboard},getResizeMode(){const e=this.getEngine();return e!=null&&e.getResizeMode?e.getResizeMode().catch(t=>{if(t.code!==pp.Unimplemented)throw t}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Jw=e=>{if(Wo===void 0||e===mp.None||e===void 0)return null;const t=Wo.querySelector("ion-app");return t??Wo.body},Ab=e=>{const t=Jw(e);return t===null?0:t.clientHeight},wR=async e=>{let t,n,i,o;const s=async()=>{const p=await yR.getResizeMode(),m=p===void 0?void 0:p.mode;t=()=>{o===void 0&&(o=Ab(m)),i=!0,a(i,m)},n=()=>{i=!1,a(i,m)},tn==null||tn.addEventListener("keyboardWillShow",t),tn==null||tn.addEventListener("keyboardWillHide",n)},a=(p,m)=>{e&&e(p,c(m))},c=p=>{if(o===0||o===Ab(p))return;const m=Jw(p);if(m!==null)return new Promise(v=>{const w=()=>{m.clientHeight===o&&(E.disconnect(),v())},E=new ResizeObserver(w);E.observe(m)})},u=()=>{tn==null||tn.removeEventListener("keyboardWillShow",t),tn==null||tn.removeEventListener("keyboardWillHide",n),t=n=void 0},f=()=>i;return await s(),{init:s,destroy:u,isKeyboardVisible:f}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xR="all 0.2s ease-in-out",Cb=e=>{const t=document.querySelector(`${e}.ion-cloned-element`);if(t!==null)return t;const n=document.createElement(e);return n.classList.add("ion-cloned-element"),n.style.setProperty("display","none"),document.body.appendChild(n),n},Pb=e=>{if(!e)return;const t=e.querySelectorAll("ion-toolbar");return{el:e,toolbars:Array.from(t).map(n=>{const i=n.querySelector("ion-title");return{el:n,background:n.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:i,innerTitleEl:i?i.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(n.querySelectorAll("ion-buttons"))}})}},ER=(e,t,n)=>{rc(()=>{const i=e.scrollTop,o=Sw(1,1+-i/500,1.1);n.querySelector("ion-refresher.refresher-native")===null&&Nr(()=>{IR(t.toolbars,o)})})},Dm=(e,t)=>{e.collapse!=="fade"&&(t===void 0?e.style.removeProperty("--opacity-scale"):e.style.setProperty("--opacity-scale",t.toString()))},TR=(e,t,n)=>{if(!e[0].isIntersecting)return;const i=e[0].intersectionRatio>.9||n<=0?0:(1-e[0].intersectionRatio)*100/75;Dm(t.el,i===1?void 0:i)},kR=(e,t,n,i)=>{Nr(()=>{const o=i.scrollTop;TR(e,t,o);const s=e[0],a=s.intersectionRect,c=a.width*a.height,u=s.rootBounds.width*s.rootBounds.height,f=c===0&&u===0,p=Math.abs(a.left-s.boundingClientRect.left),m=Math.abs(a.right-s.boundingClientRect.right),v=c>0&&(p>=5||m>=5);f||v||(s.isIntersecting?(Al(t,!1),Al(n)):(a.x===0&&a.y===0||a.width!==0&&a.height!==0)&&o>0&&(Al(t),Al(n,!1),Dm(t.el)))})},Al=(e,t=!0)=>{const n=e.el;t?(n.classList.remove("header-collapse-condense-inactive"),n.removeAttribute("aria-hidden")):(n.classList.add("header-collapse-condense-inactive"),n.setAttribute("aria-hidden","true"))},IR=(e=[],t=1,n=!1)=>{e.forEach(i=>{const o=i.ionTitleEl,s=i.innerTitleEl;!o||o.size!=="large"||(s.style.transition=n?xR:"",s.style.transform=`scale3d(${t}, ${t}, 1)`)})},Rb=(e,t,n)=>{rc(()=>{const i=e.scrollTop,o=t.clientHeight,s=n?n.clientHeight:0;if(n!==null&&i<s){t.style.setProperty("--opacity-scale","0"),e.style.setProperty("clip-path",`inset(${o}px 0px 0px 0px)`);return}const a=i-s,u=Sw(0,a/10,1);Nr(()=>{e.style.removeProperty("clip-path"),t.style.setProperty("--opacity-scale",u.toString())})})},SR="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:0px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}ion-header.header-ios:not(.header-collapse-main):has(~ion-content ion-header.header-ios[collapse=condense],~ion-content ion-header.header-ios.header-collapse-condense){opacity:0}",AR=SR,CR="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",PR=CR,RR=ze(class extends De{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(t,n)=>{const i=this.scrollEl=await kb(t);this.contentScrollCallback=()=>{Rb(this.scrollEl,this.el,n)},i.addEventListener("scroll",this.contentScrollCallback),Rb(this.scrollEl,this.el,n)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=Cm(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if(ve(this)!=="ios")return;const{collapse:n}=this,i=n==="condense",o=n==="fade";if(this.destroyCollapsibleHeader(),i){const s=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),a=s?Ib(s):null;Nr(()=>{const c=Cb("ion-title");c.size="large",Cb("ion-back-button")}),await this.setupCondenseHeader(a,s)}else if(o){const s=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),a=s?Ib(s):null;if(!a){Sb(this.el);return}const c=a.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(a,c)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(t,n){if(!t||!n){Sb(this.el);return}if(typeof IntersectionObserver>"u")return;this.scrollEl=await kb(t);const i=n.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(i).find(c=>c.collapse!=="condense"),!this.collapsibleMainHeader)return;const o=Pb(this.collapsibleMainHeader),s=Pb(this.el);if(!o||!s)return;Al(o,!1),Dm(o.el,0);const a=c=>{kR(c,o,s,this.scrollEl)};this.intersectionObserver=new IntersectionObserver(a,{root:t,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(s.toolbars[s.toolbars.length-1].el),this.contentScrollCallback=()=>{ER(this.scrollEl,s,t)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),Nr(()=>{this.collapsibleMainHeader!==void 0&&this.collapsibleMainHeader.classList.add("header-collapse-main")})}render(){const{translucent:t,inheritedAttributes:n}=this,i=ve(this),o=this.collapse||"none",s=ao("ion-menu",this.el)?"none":"banner";return st(qe,Object.assign({key:"9fa0af97b605f9fe98b13361bc3d1289745c549f",role:s,class:{[i]:!0,[`header-${i}`]:!0,"header-translucent":this.translucent,[`header-collapse-${o}`]:!0,[`header-translucent-${i}`]:this.translucent}},n),i==="ios"&&t&&st("div",{key:"1a780d2625302f2465718e304bdd3794c89c9845",class:"header-background"}),st("slot",{key:"b2b8557b44be40c590bfcc362ac4350f9f8b889e"}))}get el(){return this}static get style(){return{ios:AR,md:PR}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);function LR(){if(typeof customElements>"u")return;["ion-header"].forEach(t=>{switch(t){case"ion-header":customElements.get(t)||customElements.define(t,RR);break}})}const OR=LR;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const $R=e=>{try{if(e instanceof VR)return e.value;if(!MR()||typeof e!="string"||e==="")return e;if(e.includes("onload="))return"";const t=document.createDocumentFragment(),n=document.createElement("div");t.appendChild(n),n.innerHTML=e,NR.forEach(a=>{const c=t.querySelectorAll(a);for(let u=c.length-1;u>=0;u--){const f=c[u];f.parentNode?f.parentNode.removeChild(f):t.removeChild(f);const p=vp(f);for(let m=0;m<p.length;m++)gp(p[m])}});const i=vp(t);for(let a=0;a<i.length;a++)gp(i[a]);const o=document.createElement("div");o.appendChild(t);const s=o.querySelector("div");return s!==null?s.innerHTML:o.innerHTML}catch(t){return console.error(t),""}},gp=e=>{if(e.nodeType&&e.nodeType!==1)return;if(typeof NamedNodeMap<"u"&&!(e.attributes instanceof NamedNodeMap)){e.remove();return}for(let n=e.attributes.length-1;n>=0;n--){const i=e.attributes.item(n),o=i.name;if(!DR.includes(o.toLowerCase())){e.removeAttribute(o);continue}const s=i.value,a=e[o];(s!=null&&s.toLowerCase().includes("javascript:")||a!=null&&a.toLowerCase().includes("javascript:"))&&e.removeAttribute(o)}const t=vp(e);for(let n=0;n<t.length;n++)gp(t[n])},vp=e=>e.children!=null?e.children:e.childNodes,MR=()=>{var e;const t=window,n=(e=t==null?void 0:t.Ionic)===null||e===void 0?void 0:e.config;return n?n.get?n.get("sanitizerEnabled",!0):n.sanitizerEnabled===!0||n.sanitizerEnabled===void 0:!0},DR=["class","id","href","src","name","slot"],NR=["script","style","iframe","meta","link","object","embed"];class VR{constructor(t){this.value=t}}const BR=!1;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const FR=IP;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const zR=":host{--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff);background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit)}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.button-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;-webkit-padding-start:0.7em;padding-inline-start:0.7em;-webkit-padding-end:0.7em;padding-inline-end:0.7em;padding-top:0;padding-bottom:0;display:inline-block;position:relative;width:100%;height:100%;border:0;outline:none;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-box-sizing:border-box;box-sizing:border-box}.button-inner{display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.horizontal-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%}::slotted(*){-ms-flex-negative:0;flex-shrink:0}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:5px;margin-inline-end:5px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:5px;margin-inline-start:5px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}::slotted([slot=icon-only]){padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px;margin-top:0;margin-bottom:0;min-width:0.9em;font-size:1.8em}:host(.item-option-expandable){-ms-flex-negative:0;flex-shrink:0;-webkit-transition-duration:0;transition-duration:0;-webkit-transition-property:none;transition-property:none;-webkit-transition-timing-function:cubic-bezier(0.65, 0.05, 0.36, 1);transition-timing-function:cubic-bezier(0.65, 0.05, 0.36, 1)}:host(.item-option-disabled){pointer-events:none}:host(.item-option-disabled) .button-native{cursor:default;opacity:0.5;pointer-events:none}:host{font-size:clamp(16px, 1rem, 35.2px)}:host(.ion-activated){background:var(--ion-color-primary-shade, #3171e0)}:host(.ion-color.ion-activated){background:var(--ion-color-shade)}",UR=zR,jR=":host{--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff);background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit)}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.button-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;-webkit-padding-start:0.7em;padding-inline-start:0.7em;-webkit-padding-end:0.7em;padding-inline-end:0.7em;padding-top:0;padding-bottom:0;display:inline-block;position:relative;width:100%;height:100%;border:0;outline:none;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-box-sizing:border-box;box-sizing:border-box}.button-inner{display:-ms-flexbox;display:flex;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.horizontal-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%}::slotted(*){-ms-flex-negative:0;flex-shrink:0}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:5px;margin-inline-end:5px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:5px;margin-inline-start:5px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}::slotted([slot=icon-only]){padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px;margin-top:0;margin-bottom:0;min-width:0.9em;font-size:1.8em}:host(.item-option-expandable){-ms-flex-negative:0;flex-shrink:0;-webkit-transition-duration:0;transition-duration:0;-webkit-transition-property:none;transition-property:none;-webkit-transition-timing-function:cubic-bezier(0.65, 0.05, 0.36, 1);transition-timing-function:cubic-bezier(0.65, 0.05, 0.36, 1)}:host(.item-option-disabled){pointer-events:none}:host(.item-option-disabled) .button-native{cursor:default;opacity:0.5;pointer-events:none}:host{font-size:0.875rem;font-weight:500;text-transform:uppercase}",HR=jR,qR=ze(class extends De{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.onClick=t=>{t.target.closest("ion-item-option")&&t.preventDefault()},this.color=void 0,this.disabled=!1,this.download=void 0,this.expandable=!1,this.href=void 0,this.rel=void 0,this.target=void 0,this.type="button"}render(){const{disabled:t,expandable:n,href:i}=this,o=i===void 0?"button":"a",s=ve(this),a=o==="button"?{type:this.type}:{download:this.download,href:this.href,target:this.target};return st(qe,{key:"763c3a7571b143d1068d85103ccab403bc48abae",onClick:this.onClick,class:Ii(this.color,{[s]:!0,"item-option-disabled":t,"item-option-expandable":n,"ion-activatable":!0})},st(o,Object.assign({key:"cb199c2ccd38abaad3460f184af3093bf08546cc"},a,{class:"button-native",part:"native",disabled:t}),st("span",{key:"f3ce9f1d343890c6f55f2609127f1e5113a2eedf",class:"button-inner"},st("slot",{key:"cd9434883c0bdb4129fb6f49970d49710653a09a",name:"top"}),st("div",{key:"764529c5f4b3d82105ce55885e8f121a91e8bc4a",class:"horizontal-wrapper"},st("slot",{key:"5bbd7b9ed9f35c8bf422c3134a1a097e174ad6df",name:"start"}),st("slot",{key:"1e70a781cdf4ffcefb1dea70abe43655d7857c4b",name:"icon-only"}),st("slot",{key:"c3205e9b1577a56786c10a8b5b420010b5fe53fc"}),st("slot",{key:"6bae6c98cd8d8526a203af47ca8e83753e1e1cb6",name:"end"})),st("slot",{key:"466cc32cdf9cbbdbb58e4b29144215cf2984c0d6",name:"bottom"})),s==="md"&&st("ion-ripple-effect",{key:"b5c54b801008b307ca8f718a41101be3e8d1d938"})))}get el(){return this}static get style(){return{ios:UR,md:HR}}},[33,"ion-item-option",{color:[513],disabled:[4],download:[1],expandable:[4],href:[1],rel:[1],target:[1],type:[1]}]);function WR(){if(typeof customElements>"u")return;["ion-item-option","ion-ripple-effect"].forEach(t=>{switch(t){case"ion-item-option":customElements.get(t)||customElements.define(t,qR);break;case"ion-ripple-effect":customElements.get(t)||$s();break}})}const GR=WR;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const KR="ion-item-options{top:0;right:0;-ms-flex-pack:end;justify-content:flex-end;display:none;position:absolute;height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1}:host-context([dir=rtl]) ion-item-options{-ms-flex-pack:start;justify-content:flex-start}:host-context([dir=rtl]) ion-item-options:not(.item-options-end){right:auto;left:0;-ms-flex-pack:end;justify-content:flex-end}[dir=rtl] ion-item-options{-ms-flex-pack:start;justify-content:flex-start}[dir=rtl] ion-item-options:not(.item-options-end){right:auto;left:0;-ms-flex-pack:end;justify-content:flex-end}@supports selector(:dir(rtl)){ion-item-options:dir(rtl){-ms-flex-pack:start;justify-content:flex-start}ion-item-options:dir(rtl):not(.item-options-end){right:auto;left:0;-ms-flex-pack:end;justify-content:flex-end}}.item-options-start{right:auto;left:0;-ms-flex-pack:start;justify-content:flex-start}:host-context([dir=rtl]) .item-options-start{-ms-flex-pack:end;justify-content:flex-end}[dir=rtl] .item-options-start{-ms-flex-pack:end;justify-content:flex-end}@supports selector(:dir(rtl)){.item-options-start:dir(rtl){-ms-flex-pack:end;justify-content:flex-end}}[dir=ltr] .item-options-start ion-item-option:first-child,[dir=rtl] .item-options-start ion-item-option:last-child{padding-left:var(--ion-safe-area-left)}[dir=ltr] .item-options-end ion-item-option:last-child,[dir=rtl] .item-options-end ion-item-option:first-child{padding-right:var(--ion-safe-area-right)}:host-context([dir=rtl]) .item-sliding-active-slide.item-sliding-active-options-start ion-item-options:not(.item-options-end){width:100%;visibility:visible}[dir=rtl] .item-sliding-active-slide.item-sliding-active-options-start ion-item-options:not(.item-options-end){width:100%;visibility:visible}@supports selector(:dir(rtl)){.item-sliding-active-slide:dir(rtl).item-sliding-active-options-start ion-item-options:not(.item-options-end){width:100%;visibility:visible}}.item-sliding-active-slide ion-item-options{display:-ms-flexbox;display:flex;visibility:hidden}.item-sliding-active-slide.item-sliding-active-options-start .item-options-start,.item-sliding-active-slide.item-sliding-active-options-end ion-item-options:not(.item-options-start){width:100%;visibility:visible}.item-options-ios{border-bottom-width:0;border-bottom-style:solid;border-bottom-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)))}.item-options-ios.item-options-end{border-bottom-width:0.55px}.list-ios-lines-none .item-options-ios{border-bottom-width:0}.list-ios-lines-full .item-options-ios,.list-ios-lines-inset .item-options-ios.item-options-end{border-bottom-width:0.55px}",ZR=KR,YR="ion-item-options{top:0;right:0;-ms-flex-pack:end;justify-content:flex-end;display:none;position:absolute;height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1}:host-context([dir=rtl]) ion-item-options{-ms-flex-pack:start;justify-content:flex-start}:host-context([dir=rtl]) ion-item-options:not(.item-options-end){right:auto;left:0;-ms-flex-pack:end;justify-content:flex-end}[dir=rtl] ion-item-options{-ms-flex-pack:start;justify-content:flex-start}[dir=rtl] ion-item-options:not(.item-options-end){right:auto;left:0;-ms-flex-pack:end;justify-content:flex-end}@supports selector(:dir(rtl)){ion-item-options:dir(rtl){-ms-flex-pack:start;justify-content:flex-start}ion-item-options:dir(rtl):not(.item-options-end){right:auto;left:0;-ms-flex-pack:end;justify-content:flex-end}}.item-options-start{right:auto;left:0;-ms-flex-pack:start;justify-content:flex-start}:host-context([dir=rtl]) .item-options-start{-ms-flex-pack:end;justify-content:flex-end}[dir=rtl] .item-options-start{-ms-flex-pack:end;justify-content:flex-end}@supports selector(:dir(rtl)){.item-options-start:dir(rtl){-ms-flex-pack:end;justify-content:flex-end}}[dir=ltr] .item-options-start ion-item-option:first-child,[dir=rtl] .item-options-start ion-item-option:last-child{padding-left:var(--ion-safe-area-left)}[dir=ltr] .item-options-end ion-item-option:last-child,[dir=rtl] .item-options-end ion-item-option:first-child{padding-right:var(--ion-safe-area-right)}:host-context([dir=rtl]) .item-sliding-active-slide.item-sliding-active-options-start ion-item-options:not(.item-options-end){width:100%;visibility:visible}[dir=rtl] .item-sliding-active-slide.item-sliding-active-options-start ion-item-options:not(.item-options-end){width:100%;visibility:visible}@supports selector(:dir(rtl)){.item-sliding-active-slide:dir(rtl).item-sliding-active-options-start ion-item-options:not(.item-options-end){width:100%;visibility:visible}}.item-sliding-active-slide ion-item-options{display:-ms-flexbox;display:flex;visibility:hidden}.item-sliding-active-slide.item-sliding-active-options-start .item-options-start,.item-sliding-active-slide.item-sliding-active-options-end ion-item-options:not(.item-options-start){width:100%;visibility:visible}.item-options-md{border-bottom-width:0;border-bottom-style:solid;border-bottom-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))))}.list-md-lines-none .item-options-md{border-bottom-width:0}.list-md-lines-full .item-options-md,.list-md-lines-inset .item-options-md.item-options-end{border-bottom-width:1px}",XR=YR,QR=ze(class extends De{constructor(){super(),this.__registerHost(),this.ionSwipe=Oe(this,"ionSwipe",7),this.side="end"}async fireSwipeEvent(){this.ionSwipe.emit({side:this.side})}render(){const t=ve(this),n=ap(this.side);return st(qe,{key:"3dca0415ec2942ac8e87a057e26bcb290a892f65",class:{[t]:!0,[`item-options-${t}`]:!0,"item-options-start":!n,"item-options-end":n}})}get el(){return this}static get style(){return{ios:ZR,md:XR}}},[32,"ion-item-options",{side:[1],fireSwipeEvent:[64]}]);function JR(){if(typeof customElements>"u")return;["ion-item-options"].forEach(t=>{switch(t){case"ion-item-options":customElements.get(t)||customElements.define(t,QR);break}})}const t2=JR;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const e2=(e,t,n)=>{if(typeof MutationObserver>"u")return;const i=new MutationObserver(o=>{n(n2(o,t))});return i.observe(e,{childList:!0,subtree:!0}),i},n2=(e,t)=>{let n;return e.forEach(i=>{for(let o=0;o<i.addedNodes.length;o++)n=i2(i.addedNodes[o],t)||n}),n},i2=(e,t)=>{if(e.nodeType!==1)return;const n=e;return(n.tagName===t.toUpperCase()?[n]:Array.from(n.querySelectorAll(t))).find(o=>o.value===n.value)},o2="ion-item-sliding{display:block;position:relative;width:100%;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}ion-item-sliding .item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.item-sliding-active-slide .item{position:relative;-webkit-transition:-webkit-transform 500ms cubic-bezier(0.36, 0.66, 0.04, 1);transition:-webkit-transform 500ms cubic-bezier(0.36, 0.66, 0.04, 1);transition:transform 500ms cubic-bezier(0.36, 0.66, 0.04, 1);transition:transform 500ms cubic-bezier(0.36, 0.66, 0.04, 1), -webkit-transform 500ms cubic-bezier(0.36, 0.66, 0.04, 1);opacity:1;z-index:2;pointer-events:none;will-change:transform}.item-sliding-closing ion-item-options{pointer-events:none}.item-sliding-active-swipe-end .item-options-end .item-option-expandable{padding-left:100%;-ms-flex-order:1;order:1;-webkit-transition-duration:0.6s;transition-duration:0.6s;-webkit-transition-property:padding-left;transition-property:padding-left}:host-context([dir=rtl]) .item-sliding-active-swipe-end .item-options-end .item-option-expandable{-ms-flex-order:-1;order:-1}[dir=rtl] .item-sliding-active-swipe-end .item-options-end .item-option-expandable{-ms-flex-order:-1;order:-1}@supports selector(:dir(rtl)){.item-sliding-active-swipe-end .item-options-end .item-option-expandable:dir(rtl){-ms-flex-order:-1;order:-1}}.item-sliding-active-swipe-start .item-options-start .item-option-expandable{padding-right:100%;-ms-flex-order:-1;order:-1;-webkit-transition-duration:0.6s;transition-duration:0.6s;-webkit-transition-property:padding-right;transition-property:padding-right}:host-context([dir=rtl]) .item-sliding-active-swipe-start .item-options-start .item-option-expandable{-ms-flex-order:1;order:1}[dir=rtl] .item-sliding-active-swipe-start .item-options-start .item-option-expandable{-ms-flex-order:1;order:1}@supports selector(:dir(rtl)){.item-sliding-active-swipe-start .item-options-start .item-option-expandable:dir(rtl){-ms-flex-order:1;order:1}}",r2=o2,Lb=30,Ob=.55;let Ro;const s2=ze(class extends De{constructor(){super(),this.__registerHost(),this.ionDrag=Oe(this,"ionDrag",7),this.item=null,this.openAmount=0,this.initialOpenAmount=0,this.optsWidthRightSide=0,this.optsWidthLeftSide=0,this.sides=0,this.optsDirty=!0,this.contentEl=null,this.initialContentScrollY=!0,this.state=2,this.disabled=!1}disabledChanged(){this.gesture&&this.gesture.enable(!this.disabled)}async connectedCallback(){const{el:t}=this;this.item=t.querySelector("ion-item"),this.contentEl=vR(t),this.mutationObserver=e2(t,"ion-item-option",async()=>{await this.updateOptions()}),await this.updateOptions(),this.gesture=(await Cn(()=>Promise.resolve().then(()=>R2),void 0)).createGesture({el:t,gestureName:"item-swipe",gesturePriority:100,threshold:5,canStart:n=>this.canStart(n),onStart:()=>this.onStart(),onMove:n=>this.onMove(n),onEnd:n=>this.onEnd(n)}),this.disabledChanged()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.item=null,this.leftOptions=this.rightOptions=void 0,Ro===this.el&&(Ro=void 0),this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=void 0)}getOpenAmount(){return Promise.resolve(this.openAmount)}getSlidingRatio(){return Promise.resolve(this.getSlidingRatioSync())}async open(t){var n;if((this.item=(n=this.item)!==null&&n!==void 0?n:this.el.querySelector("ion-item"))===null)return;const o=this.getOptions(t);if(!o)return;t===void 0&&(t=o===this.leftOptions?"start":"end"),t=ap(t)?"end":"start";const s=this.openAmount<0,a=this.openAmount>0;s&&o===this.leftOptions||a&&o===this.rightOptions||(this.closeOpened(),this.state=4,requestAnimationFrame(()=>{this.calculateOptsWidth();const c=t==="end"?this.optsWidthRightSide:-this.optsWidthLeftSide;Ro=this.el,this.setOpenAmount(c,!1),this.state=t==="end"?8:16}))}async close(){this.setOpenAmount(0,!0)}async closeOpened(){return Ro!==void 0?(Ro.close(),Ro=void 0,!0):!1}getOptions(t){return t===void 0?this.leftOptions||this.rightOptions:t==="start"?this.leftOptions:this.rightOptions}async updateOptions(){const t=this.el.querySelectorAll("ion-item-options");let n=0;this.leftOptions=this.rightOptions=void 0;for(let i=0;i<t.length;i++){const o=t.item(i),s=o.componentOnReady!==void 0?await o.componentOnReady():o;(ap(s.side)?"end":"start")==="start"?(this.leftOptions=s,n|=1):(this.rightOptions=s,n|=2)}this.optsDirty=!0,this.sides=n}canStart(t){if(document.dir==="rtl"?window.innerWidth-t.startX<15:t.startX<15)return!1;const o=Ro;return o&&o!==this.el&&this.closeOpened(),!!(this.rightOptions||this.leftOptions)}onStart(){this.item=this.el.querySelector("ion-item");const{contentEl:t}=this;t&&(this.initialContentScrollY=bR(t)),Ro=this.el,this.tmr!==void 0&&(clearTimeout(this.tmr),this.tmr=void 0),this.openAmount===0&&(this.optsDirty=!0,this.state=4),this.initialOpenAmount=this.openAmount,this.item&&(this.item.style.transition="none")}onMove(t){this.optsDirty&&this.calculateOptsWidth();let n=this.initialOpenAmount-t.deltaX;switch(this.sides){case 2:n=Math.max(0,n);break;case 1:n=Math.min(0,n);break;case 3:break;case 0:return;default:console.warn("invalid ItemSideFlags value",this.sides);break}let i;n>this.optsWidthRightSide?(i=this.optsWidthRightSide,n=i+(n-i)*Ob):n<-this.optsWidthLeftSide&&(i=-this.optsWidthLeftSide,n=i+(n-i)*Ob),this.setOpenAmount(n,!1)}onEnd(t){const{contentEl:n,initialContentScrollY:i}=this;n&&_R(n,i);const o=t.velocityX;let s=this.openAmount>0?this.optsWidthRightSide:-this.optsWidthLeftSide;const a=this.openAmount>0==!(o<0),c=Math.abs(o)>.3,u=Math.abs(this.openAmount)<Math.abs(s/2);a2(a,c,u)&&(s=0);const f=this.state;this.setOpenAmount(s,!0),f&32&&this.rightOptions?this.rightOptions.fireSwipeEvent():f&64&&this.leftOptions&&this.leftOptions.fireSwipeEvent()}calculateOptsWidth(){this.optsWidthRightSide=0,this.rightOptions&&(this.rightOptions.style.display="flex",this.optsWidthRightSide=this.rightOptions.offsetWidth,this.rightOptions.style.display=""),this.optsWidthLeftSide=0,this.leftOptions&&(this.leftOptions.style.display="flex",this.optsWidthLeftSide=this.leftOptions.offsetWidth,this.leftOptions.style.display=""),this.optsDirty=!1}setOpenAmount(t,n){if(this.tmr!==void 0&&(clearTimeout(this.tmr),this.tmr=void 0),!this.item)return;const{el:i}=this,o=this.item.style;if(this.openAmount=t,n&&(o.transition=""),t>0)this.state=t>=this.optsWidthRightSide+Lb?40:8;else if(t<0)this.state=t<=-this.optsWidthLeftSide-Lb?80:16;else{i.classList.add("item-sliding-closing"),this.gesture&&this.gesture.enable(!1),this.tmr=setTimeout(()=>{this.state=2,this.tmr=void 0,this.gesture&&this.gesture.enable(!this.disabled),i.classList.remove("item-sliding-closing")},600),Ro=void 0,o.transform="";return}o.transform=`translate3d(${-t}px,0,0)`,this.ionDrag.emit({amount:t,ratio:this.getSlidingRatioSync()})}getSlidingRatioSync(){return this.openAmount>0?this.openAmount/this.optsWidthRightSide:this.openAmount<0?this.openAmount/this.optsWidthLeftSide:0}render(){const t=ve(this);return st(qe,{key:"7f191e38bf717e6ccb246aa7b9fbd29d01e64677",class:{[t]:!0,"item-sliding-active-slide":this.state!==2,"item-sliding-active-options-end":(this.state&8)!==0,"item-sliding-active-options-start":(this.state&16)!==0,"item-sliding-active-swipe-end":(this.state&32)!==0,"item-sliding-active-swipe-start":(this.state&64)!==0}})}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return r2}},[0,"ion-item-sliding",{disabled:[4],state:[32],getOpenAmount:[64],getSlidingRatio:[64],open:[64],close:[64],closeOpened:[64]},void 0,{disabled:["disabledChanged"]}]),a2=(e,t,n)=>!t&&n||e&&t;function l2(){if(typeof customElements>"u")return;["ion-item-sliding"].forEach(t=>{switch(t){case"ion-item-sliding":customElements.get(t)||customElements.define(t,s2);break}})}const c2=l2;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const u2="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}.list-ios.list-inset ion-item:only-child,.list-ios.list-inset ion-item:not(:only-of-type):last-of-type,.list-ios.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-ios-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 0.55px 0}.list-ios-lines-inset .item-lines-default{--inner-border-width:0 0 0.55px 0;--border-width:0px}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",d2=u2,h2="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}@supports (inset-inline-start: 0){.list-md>.input:last-child::after{inset-inline-start:0}}@supports not (inset-inline-start: 0){.list-md>.input:last-child::after{left:0}:host-context([dir=rtl]) .list-md>.input:last-child::after{left:unset;right:unset;right:0}[dir=rtl] .list-md>.input:last-child::after{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.list-md>.input:last-child::after:dir(rtl){left:unset;right:unset;right:0}}}.list-md.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}.list-md.list-inset ion-item:not(:only-of-type):last-of-type,.list-md.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-md.list-inset ion-item:only-child{--border-width:0;--inner-border-width:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-md-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 1px 0}.list-md-lines-inset .item-lines-default{--inner-border-width:0 0 1px 0;--border-width:0px}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",f2=h2,p2=ze(class extends De{constructor(){super(),this.__registerHost(),this.lines=void 0,this.inset=!1}async closeSlidingItems(){const t=this.el.querySelector("ion-item-sliding");return t!=null&&t.closeOpened?t.closeOpened():!1}render(){const t=ve(this),{lines:n,inset:i}=this;return st(qe,{key:"3df401155114c7a39c81f201bf8a181d07e8d4c8",role:"list",class:{[t]:!0,[`list-${t}`]:!0,"list-inset":i,[`list-lines-${n}`]:n!==void 0,[`list-${t}-lines-${n}`]:n!==void 0}})}get el(){return this}static get style(){return{ios:d2,md:f2}}},[32,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);function m2(){if(typeof customElements>"u")return;["ion-list"].forEach(t=>{switch(t){case"ion-list":customElements.get(t)||customElements.define(t,p2);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const g2=m2;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const dd=(e,t,n,i,o)=>b2(e[1],t[1],n[1],i[1],o).map(s=>v2(e[0],t[0],n[0],i[0],s)),v2=(e,t,n,i,o)=>{const s=3*t*Math.pow(o-1,2),a=-3*n*o+3*n+i*o,c=e*Math.pow(o-1,3);return o*(s+o*a)-c},b2=(e,t,n,i,o)=>(e-=o,t-=o,n-=o,i-=o,y2(i-3*n+3*t-e,3*n-6*t+3*e,3*t-3*e,e).filter(a=>a>=0&&a<=1)),_2=(e,t,n)=>{const i=t*t-4*e*n;return i<0?[]:[(-t+Math.sqrt(i))/(2*e),(-t-Math.sqrt(i))/(2*e)]},y2=(e,t,n,i)=>{if(e===0)return _2(t,n,i);t/=e,n/=e,i/=e;const o=(3*n-t*t)/3,s=(2*t*t*t-9*t*n+27*i)/27;if(o===0)return[Math.pow(-s,1/3)];if(s===0)return[Math.sqrt(-o),-Math.sqrt(-o)];const a=Math.pow(s/2,2)+Math.pow(o/3,3);if(a===0)return[Math.pow(s/2,1/2)-t/3];if(a>0)return[Math.pow(-(s/2)+Math.sqrt(a),1/3)-Math.pow(s/2+Math.sqrt(a),1/3)-t/3];const c=Math.sqrt(Math.pow(-(o/3),3)),u=Math.acos(-(s/(2*Math.sqrt(Math.pow(-(o/3),3))))),f=2*Math.pow(c,1/3);return[f*Math.cos(u/3)-t/3,f*Math.cos((u+2*Math.PI)/3)-t/3,f*Math.cos((u+4*Math.PI)/3)-t/3]},tx=1,ex=2,hd=3;class bp{constructor(t,n){this.component=t,this.params=n,this.state=tx}async init(t){if(this.state=ex,!this.element){const n=this.component;this.element=await Fw(this.delegate,t,n,["ion-page","ion-page-invisible"],this.params)}}_destroy(){ni(this.state!==hd,"view state must be ATTACHED");const t=this.element;t&&(this.delegate?this.delegate.removeViewFromDom(t.parentElement,t):t.remove()),this.nav=void 0,this.state=hd}}const $b=(e,t,n)=>!e||e.component!==t?!1:Aw(e.params,n),Mb=(e,t)=>e?e instanceof bp?e:new bp(e,t):null,w2=e=>e.map(t=>t instanceof bp?t:"component"in t?Mb(t.component,t.componentProps===null?void 0:t.componentProps):Mb(t,void 0)).filter(t=>t!==null),x2=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",E2=x2,T2=ze(class extends De{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=Oe(this,"ionNavWillLoad",7),this.ionNavWillChange=Oe(this,"ionNavWillChange",3),this.ionNavDidChange=Oe(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const t=ve(this);this.swipeGesture=he.getBoolean("swipeBackEnabled",t==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await Cn(()=>import("./swipe-back-2d059517.js"),[])).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const t of this.views)Fo(t.element,sf),t._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(t,n,i,o){return this.insert(-1,t,n,i,o)}insert(t,n,i,o,s){return this.insertPages(t,[{component:n,componentProps:i}],o,s)}insertPages(t,n,i,o){return this.queueTrns({insertStart:t,insertViews:n,opts:i},o)}pop(t,n){return this.removeIndex(-1,1,t,n)}popTo(t,n,i){const o={removeStart:-1,removeCount:-1,opts:n};return typeof t=="object"&&t.component?(o.removeView=t,o.removeStart=1):typeof t=="number"&&(o.removeStart=t+1),this.queueTrns(o,i)}popToRoot(t,n){return this.removeIndex(1,-1,t,n)}removeIndex(t,n=1,i,o){return this.queueTrns({removeStart:t,removeCount:n,opts:i},o)}setRoot(t,n,i,o){return this.setPages([{component:t,componentProps:n}],i,o)}setPages(t,n,i){return n??(n={}),n.animated!==!0&&(n.animated=!1),this.queueTrns({insertStart:0,insertViews:t,removeStart:0,removeCount:-1,opts:n},i)}setRouteId(t,n,i,o){const s=this.getActiveSync();if($b(s,t,n))return Promise.resolve({changed:!1,element:s.element});let a;const c=new Promise(p=>a=p);let u;const f={updateURL:!1,viewIsReady:p=>{let m;const v=new Promise(w=>m=w);return a({changed:!0,element:p,markVisible:async()=>{m(),await u}}),v}};if(i==="root")u=this.setRoot(t,n,f);else{const p=this.views.find(m=>$b(m,t,n));p?u=this.popTo(p,Object.assign(Object.assign({},f),{direction:"back",animationBuilder:o})):i==="forward"?u=this.push(t,n,Object.assign(Object.assign({},f),{animationBuilder:o})):i==="back"&&(u=this.setRoot(t,n,Object.assign(Object.assign({},f),{direction:"back",animated:!0,animationBuilder:o})))}return c}async getRouteId(){const t=this.getActiveSync();if(t)return{id:t.element.tagName,params:t.params,element:t.element}}async getActive(){return this.getActiveSync()}async getByIndex(t){return this.views[t]}async canGoBack(t){return this.canGoBackSync(t)}async getPrevious(t){return this.getPreviousSync(t)}getLength(){return this.views.length}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(t=this.getActiveSync()){return!!(t&&this.getPreviousSync(t))}getPreviousSync(t=this.getActiveSync()){if(!t)return;const n=this.views,i=n.indexOf(t);return i>0?n[i-1]:void 0}async queueTrns(t,n){var i,o;if(this.isTransitioning&&(!((i=t.opts)===null||i===void 0)&&i.skipIfBusy))return!1;const s=new Promise((a,c)=>{t.resolve=a,t.reject=c});if(t.done=n,t.opts&&t.opts.updateURL!==!1&&this.useRouter){const a=document.querySelector("ion-router");if(a){const c=await a.canTransition();if(c===!1)return!1;if(typeof c=="string")return a.push(c,t.opts.direction||"back"),!1}}return((o=t.insertViews)===null||o===void 0?void 0:o.length)===0&&(t.insertViews=void 0),this.transInstr.push(t),this.nextTrns(),s}success(t,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}if(n.done&&n.done(t.hasCompleted,t.requiresTransition,t.enteringView,t.leavingView,t.direction),n.resolve(t.hasCompleted),n.opts.updateURL!==!1&&this.useRouter){const i=document.querySelector("ion-router");if(i){const o=t.direction==="back"?"back":"forward";i.navChanged(o)}}}failed(t,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}this.transInstr.length=0,this.fireError(t,n)}fireError(t,n){n.done&&n.done(!1,!1,t),n.reject&&!this.destroyed?n.reject(t):n.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const t=this.transInstr.shift();return t?(this.runTransition(t),!0):!1}async runTransition(t){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(t);const n=this.getActiveSync(),i=this.getEnteringView(t,n);if(!n&&!i)throw new Error("no views in the stack to be removed");i&&i.state===tx&&await i.init(this.el),this.postViewInit(i,n,t);const o=(t.enteringRequiresTransition||t.leavingRequiresTransition)&&i!==n;o&&t.opts&&n&&(t.opts.direction==="back"&&(t.opts.animationBuilder=t.opts.animationBuilder||(i==null?void 0:i.animationBuilder)),n.animationBuilder=t.opts.animationBuilder);let s;o?s=await this.transition(i,n,t):s={hasCompleted:!0,requiresTransition:!1},this.success(s,t),this.ionNavDidChange.emit()}catch(n){this.failed(n,t)}this.isTransitioning=!1,this.nextTrns()}prepareTI(t){var n,i,o;const s=this.views.length;if((n=t.opts)!==null&&n!==void 0||(t.opts={}),(i=(o=t.opts).delegate)!==null&&i!==void 0||(o.delegate=this.delegate),t.removeView!==void 0){ni(t.removeStart!==void 0,"removeView needs removeStart"),ni(t.removeCount!==void 0,"removeView needs removeCount");const u=this.views.indexOf(t.removeView);if(u<0)throw new Error("removeView was not found");t.removeStart+=u}t.removeStart!==void 0&&(t.removeStart<0&&(t.removeStart=s-1),t.removeCount<0&&(t.removeCount=s-t.removeStart),t.leavingRequiresTransition=t.removeCount>0&&t.removeStart+t.removeCount===s),t.insertViews&&((t.insertStart<0||t.insertStart>s)&&(t.insertStart=s),t.enteringRequiresTransition=t.insertStart===s);const a=t.insertViews;if(!a)return;ni(a.length>0,"length can not be zero");const c=w2(a);if(c.length===0)throw new Error("invalid views to insert");for(const u of c){u.delegate=t.opts.delegate;const f=u.nav;if(f&&f!==this)throw new Error("inserted view was already inserted");if(u.state===hd)throw new Error("inserted view was already destroyed")}t.insertViews=c}getEnteringView(t,n){const i=t.insertViews;if(i!==void 0)return i[i.length-1];const o=t.removeStart;if(o!==void 0){const s=this.views,a=o+t.removeCount;for(let c=s.length-1;c>=0;c--){const u=s[c];if((c<o||c>=a)&&u!==n)return u}}}postViewInit(t,n,i){var o,s,a;ni(n||t,"Both leavingView and enteringView are null"),ni(i.resolve,"resolve must be valid"),ni(i.reject,"reject must be valid");const c=i.opts,{insertViews:u,removeStart:f,removeCount:p}=i;let m;if(f!==void 0&&p!==void 0){ni(f>=0,"removeStart can not be negative"),ni(p>=0,"removeCount can not be negative"),m=[];for(let w=f;w<f+p;w++){const E=this.views[w];E!==void 0&&E!==t&&E!==n&&m.push(E)}(o=c.direction)!==null&&o!==void 0||(c.direction="back")}const v=this.views.length+((s=u==null?void 0:u.length)!==null&&s!==void 0?s:0)-(p??0);if(ni(v>=0,"final balance can not be negative"),v===0)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(u){let w=i.insertStart;for(const E of u)this.insertViewAt(E,w),w++;i.enteringRequiresTransition&&((a=c.direction)!==null&&a!==void 0||(c.direction="forward"))}if(m&&m.length>0){for(const w of m)Fo(w.element,Yd),Fo(w.element,Xd),Fo(w.element,sf);for(const w of m)this.destroyView(w)}}async transition(t,n,i){const o=i.opts,s=o.progressAnimation?m=>{m!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,m.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),m.progressEnd(0,0,0)):this.sbAni=m}:void 0,a=ve(this),c=t.element,u=n&&n.element,f=Object.assign(Object.assign({mode:a,showGoBack:this.canGoBackSync(t),baseEl:this.el,progressCallback:s,animated:this.animated&&he.getBoolean("animated",!0),enteringEl:c,leavingEl:u},o),{animationBuilder:o.animationBuilder||this.animation||he.get("navAnimation")}),{hasCompleted:p}=await Ww(f);return this.transitionFinish(p,t,n,o)}transitionFinish(t,n,i,o){const s=t?n:i;return s&&this.unmountInactiveViews(s),{hasCompleted:t,requiresTransition:!0,enteringView:n,leavingView:i,direction:o.direction}}insertViewAt(t,n){const i=this.views,o=i.indexOf(t);o>-1?(ni(t.nav===this,"view is not part of the nav"),i.splice(o,1),i.splice(n,0,t)):(ni(!t.nav,"nav is used"),t.nav=this,i.splice(n,0,t))}removeView(t){ni(t.state===ex||t.state===hd,"view state should be loaded or destroyed");const n=this.views,i=n.indexOf(t);ni(i>-1,"view must be part of the stack"),i>=0&&n.splice(i,1)}destroyView(t){t._destroy(),this.removeView(t)}unmountInactiveViews(t){if(this.destroyed)return;const n=this.views,i=n.indexOf(t);for(let o=n.length-1;o>=0;o--){const s=n[o],a=s.element;a&&(o>i?(Fo(a,sf),this.destroyView(s)):o<i&&fp(a,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(t){this.sbAni&&this.sbAni.progressStep(t)}onEnd(t,n,i){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let o=t?-.001:.001;t?o+=dd([0,0],[.32,.72],[0,1],[1,1],n)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),o+=dd([0,0],[1,0],[.68,.28],[1,1],n)[0]),this.sbAni.progressEnd(t?1:0,o,i)}else this.gestureOrAnimationInProgress=!1}render(){return st("slot",{key:"6894eccc60e446294b01261477691ea1e88348ab"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return E2}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);function k2(){if(typeof customElements>"u")return;["ion-nav"].forEach(t=>{switch(t){case"ion-nav":customElements.get(t)||customElements.define(t,T2);break}})}const I2=k2;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cs=(e,t,n,i)=>{const o=S2(e)?{capture:!!i.capture,passive:!!i.passive}:!!i.capture;let s,a;return e.__zone_symbol__addEventListener?(s="__zone_symbol__addEventListener",a="__zone_symbol__removeEventListener"):(s="addEventListener",a="removeEventListener"),e[s](t,n,o),()=>{e[a](t,n,o)}},S2=e=>{if(wu===void 0)try{const t=Object.defineProperty({},"passive",{get:()=>{wu=!0}});e.addEventListener("optsTest",()=>{},t)}catch{wu=!1}return!!wu};let wu;const A2=2e3,C2=(e,t,n,i,o)=>{let s,a,c,u,f,p,m,v=0;const w=H=>{v=Date.now()+A2,t(H)&&(!a&&n&&(a=cs(e,"touchmove",n,o)),c||(c=cs(H.target,"touchend",I,o)),u||(u=cs(H.target,"touchcancel",I,o)))},E=H=>{v>Date.now()||t(H)&&(!p&&n&&(p=cs(Db(e),"mousemove",n,o)),m||(m=cs(Db(e),"mouseup",R,o)))},I=H=>{D(),i&&i(H)},R=H=>{F(),i&&i(H)},D=()=>{a&&a(),c&&c(),u&&u(),a=c=u=void 0},F=()=>{p&&p(),m&&m(),p=m=void 0},z=()=>{D(),F()},B=(H=!0)=>{H?(s||(s=cs(e,"touchstart",w,o)),f||(f=cs(e,"mousedown",E,o))):(s&&s(),f&&f(),s=f=void 0,z())};return{enable:B,stop:z,destroy:()=>{B(!1),i=n=t=void 0}}},Db=e=>e instanceof Document?e:e.ownerDocument,P2=(e,t,n)=>{const i=n*(Math.PI/180),o=e==="x",s=Math.cos(i),a=t*t;let c=0,u=0,f=!1,p=0;return{start(m,v){c=m,u=v,p=0,f=!0},detect(m,v){if(!f)return!1;const w=m-c,E=v-u,I=w*w+E*E;if(I<a)return!1;const R=Math.sqrt(I),D=(o?w:E)/R;return D>s?p=1:D<-s?p=-1:p=0,f=!1,!0},isGesture(){return p!==0},getDirection(){return p}}},nx=e=>{let t=!1,n=!1,i=!0,o=!1;const s=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},e),a=s.canStart,c=s.onWillStart,u=s.onStart,f=s.onEnd,p=s.notCaptured,m=s.onMove,v=s.threshold,w=s.passive,E=s.blurOnStart,I={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},R=P2(s.direction,s.threshold,s.maxAngle),D=Vw.createGesture({name:e.gestureName,priority:e.gesturePriority,disableScroll:e.disableScroll}),F=$=>{const P=ox($);return n||!i||(ix($,I),I.startX=I.currentX,I.startY=I.currentY,I.startTime=I.currentTime=P,I.velocityX=I.velocityY=I.deltaX=I.deltaY=0,I.event=$,a&&a(I)===!1)||(D.release(),!D.start())?!1:(n=!0,v===0?U():(R.start(I.startX,I.startY),!0))},z=$=>{if(t){!o&&i&&(o=!0,lf(I,$),requestAnimationFrame(B));return}lf(I,$),R.detect(I.currentX,I.currentY)&&(!R.isGesture()||!U())&&A()},B=()=>{t&&(o=!1,m&&m(I))},U=()=>D.capture()?(t=!0,i=!1,I.startX=I.currentX,I.startY=I.currentY,I.startTime=I.currentTime,c?c(I).then(C):C(),!0):!1,H=()=>{if(typeof document<"u"){const $=document.activeElement;$!=null&&$.blur&&$.blur()}},C=()=>{E&&H(),u&&u(I),i=!0},k=()=>{t=!1,n=!1,o=!1,i=!0,D.release()},T=$=>{const P=t,Ct=i;if(k(),!!Ct){if(lf(I,$),P){f&&f(I);return}p&&p(I)}},O=C2(s.el,F,z,T,{capture:!1,passive:w}),A=()=>{k(),O.stop(),p&&p(I)};return{enable($=!0){$||(t&&T(void 0),k()),O.enable($)},destroy(){D.destroy(),O.destroy()}}},lf=(e,t)=>{if(!t)return;const n=e.currentX,i=e.currentY,o=e.currentTime;ix(t,e);const s=e.currentX,a=e.currentY,u=(e.currentTime=ox(t))-o;if(u>0&&u<100){const f=(s-n)/u,p=(a-i)/u;e.velocityX=f*.7+e.velocityX*.3,e.velocityY=p*.7+e.velocityY*.3}e.deltaX=s-e.startX,e.deltaY=a-e.startY,e.event=t},ix=(e,t)=>{let n=0,i=0;if(e){const o=e.changedTouches;if(o&&o.length>0){const s=o[0];n=s.clientX,i=s.clientY}else e.pageX!==void 0&&(n=e.pageX,i=e.pageY)}t.currentX=n,t.currentY=i},ox=e=>e.timeStamp||Date.now(),R2=Object.freeze(Object.defineProperty({__proto__:null,GESTURE_CONTROLLER:Vw,createGesture:nx},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const L2=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:min(1.0625rem, 20.4px);font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}@supports (inset-inline-start: 0){:host{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host(:dir(rtl)){left:unset;right:unset;right:0}}}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:min(0.8125rem, 23.4px);font-weight:normal}:host(.title-large){-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:2px;padding-bottom:4px;-webkit-transform-origin:left center;transform-origin:left center;position:static;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:min(2.125rem, 61.2px);font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000);font-family:var(--ion-font-family)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit;width:auto}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large:dir(rtl)) .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",O2=L2,$2=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:0.9375rem;font-weight:normal}",M2=$2,D2=ze(class extends De{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=Oe(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const t=this.getSize();this.ionStyle.emit({[`title-${t}`]:!0})}getSize(){return this.size!==void 0?this.size:"default"}render(){const t=ve(this),n=this.getSize();return st(qe,{key:"6f43362b782ef7d340c241bb66f1469663c03cc1",class:Ii(this.color,{[t]:!0,[`title-${n}`]:!0,"title-rtl":document.dir==="rtl"})},st("div",{key:"9c3ff1a289e533ee3426b71ab5560fbea3529502",class:"toolbar-title"},st("slot",{key:"50d5cc5a1519ad58f1994d2f8c8f08f62baac1fe"})))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:O2,md:M2}}},[33,"ion-title",{color:[513],size:[1]},void 0,{size:["sizeChanged"]}]);function N2(){if(typeof customElements>"u")return;["ion-title"].forEach(t=>{switch(t){case"ion-title":customElements.get(t)||customElements.define(t,D2);break}})}const V2=N2;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const B2=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, #f7f7f7));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",F2=B2,z2=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, #c1c4cd)));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}",U2=z2,j2=ze(class extends De{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const t=Array.from(this.el.querySelectorAll("ion-buttons")),n=t.find(s=>s.slot==="start");n&&n.classList.add("buttons-first-slot");const i=t.reverse(),o=i.find(s=>s.slot==="end")||i.find(s=>s.slot==="primary")||i.find(s=>s.slot==="secondary");o&&o.classList.add("buttons-last-slot")}childrenStyle(t){t.stopPropagation();const n=t.target.tagName,i=t.detail,o={},s=this.childrenStyles.get(n)||{};let a=!1;Object.keys(i).forEach(c=>{const u=`toolbar-${c}`,f=i[c];f!==s[u]&&(a=!0),f&&(o[u]=!0)}),a&&(this.childrenStyles.set(n,o),ad(this))}render(){const t=ve(this),n={};return this.childrenStyles.forEach(i=>{Object.assign(n,i)}),st(qe,{key:"8907ed75fbb2b1dced55c481bba6363f1dca815b",class:Object.assign(Object.assign({},n),Ii(this.color,{[t]:!0,"in-toolbar":ao("ion-toolbar",this.el)}))},st("div",{key:"6bfa09b08d6517f0d680f53b739854cecd631bc9",class:"toolbar-background"}),st("div",{key:"1531bd6dd9e0a5843309bba854b744c453037ad0",class:"toolbar-container"},st("slot",{key:"881b41697d386eae651b019128573f0fa432cd33",name:"start"}),st("slot",{key:"64a284e6eae5311ac3125dfadb4bb32bdba9d089",name:"secondary"}),st("div",{key:"c1f47503563b38084b27d7ba54f17ec478482b94",class:"toolbar-content"},st("slot",{key:"9a85acfba72252705619ae32acae9c14f81aa57d"})),st("slot",{key:"89e08bd761dc6940dbebc5d06f5f080af204aa72",name:"primary"}),st("slot",{key:"a1cb7d95627f8a3d24dd4b9c11718fc164f53674",name:"end"})))}get el(){return this}static get style(){return{ios:F2,md:U2}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);function H2(){if(typeof customElements>"u")return;["ion-toolbar"].forEach(t=>{switch(t){case"ion-toolbar":customElements.get(t)||customElements.define(t,j2);break}})}const q2=H2;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const W2=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #3880ff);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:clamp(17px, 1.0625rem, 21.998px)}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',G2=W2,K2=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:1.5rem;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:0.875rem;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;min-height:48px;aspect-ratio:1/1}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',Z2=K2,Y2=ze(class extends De{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async t=>{const n=this.el.closest("ion-nav");return t.preventDefault(),n&&await n.canGoBack()?n.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):Lm(this.defaultHref,t,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=Cm(this.el),this.defaultHref===void 0&&(this.defaultHref=he.get("backButtonDefaultHref"))}get backButtonIcon(){const t=this.icon;return t??(ve(this)==="ios"?he.get("backButtonIcon",FA):he.get("backButtonIcon",BA))}get backButtonText(){const t=ve(this)==="ios"?"Back":null;return this.text!=null?this.text:he.get("backButtonText",t)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:t,defaultHref:n,disabled:i,type:o,hasIconOnly:s,backButtonIcon:a,backButtonText:c,icon:u,inheritedAttributes:f}=this,p=n!==void 0,m=ve(this),v=f["aria-label"]||c||"back";return st(qe,{key:"9e837be314ee8ea487ba2771d36668ef58442faa",onClick:this.onClick,class:Ii(t,{[m]:!0,button:!0,"back-button-disabled":i,"back-button-has-icon-only":s,"in-toolbar":ao("ion-toolbar",this.el),"in-toolbar-color":ao("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":p})},st("button",{key:"c4531348bd80cf6163931c5fb432526aa8127043",type:o,disabled:i,class:"button-native",part:"native","aria-label":v},st("span",{key:"aab8c6d5f0a84aed9f4e4a2532a239b28c7d5589",class:"button-inner"},a&&st("ion-icon",{key:"121eae10947b46a3d109709b79f4126b1c40ade4",part:"icon",icon:a,"aria-hidden":"true",lazy:!1,"flip-rtl":u===void 0}),c&&st("span",{key:"11c28875cc52b99470525d18c1f88f27c390a75a",part:"text","aria-hidden":"true",class:"button-text"},c)),m==="md"&&st("ion-ripple-effect",{key:"804bf8a06cd033c99d61ec2665c842b3b25945fa",type:this.rippleType})))}get el(){return this}static get style(){return{ios:G2,md:Z2}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);function X2(){if(typeof customElements>"u")return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach(t=>{switch(t){case"ion-back-button":customElements.get(t)||customElements.define(t,Y2);break;case"ion-icon":customElements.get(t)||Rm();break;case"ion-ripple-effect":customElements.get(t)||$s();break}})}const Q2=X2,J2=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",tL=J2,eL=ze(class extends De{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=Oe(this,"ionNavWillLoad",7),this.ionNavWillChange=Oe(this,"ionNavWillChange",3),this.ionNavDidChange=Oe(this,"ionNavDidChange",3),this.lockController=zw(),this.gestureOrAnimationInProgress=!1,this.mode=ve(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const t=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await Cn(()=>import("./swipe-back-2d059517.js"),[])).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>t(),n=>{var i;return(i=this.ani)===null||i===void 0?void 0:i.progressStep(n)},(n,i,o)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(n)},{oneTimeCallback:!0});let s=n?-.001:.001;n?s+=dd([0,0],[.32,.72],[0,1],[1,1],i)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),s+=dd([0,0],[1,0],[.68,.28],[1,1],i)[0]),this.ani.progressEnd(n?1:0,s,o)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(t,n,i){const o=await this.lockController.lock();let s=!1;try{s=await this.transition(t,n,i)}catch(a){console.error(a)}return o(),s}async setRouteId(t,n,i,o){return{changed:await this.setRoot(t,n,{duration:i==="root"?0:void 0,direction:i==="back"?"back":"forward",animationBuilder:o}),element:this.activeEl}}async getRouteId(){const t=this.activeEl;return t?{id:t.tagName,element:t,params:this.activeParams}:void 0}async setRoot(t,n,i){if(this.activeComponent===t&&Aw(n,this.activeParams))return!1;const o=this.activeEl,s=await Fw(this.delegate,this.el,t,["ion-page","ion-page-invisible"],n);return this.activeComponent=t,this.activeEl=s,this.activeParams=n,await this.commit(s,o,i),await AP(this.delegate,o),!0}async transition(t,n,i={}){if(n===t)return!1;this.ionNavWillChange.emit();const{el:o,mode:s}=this,a=this.animated&&he.getBoolean("animated",!0),c=i.animationBuilder||this.animation||he.get("navAnimation");return await Ww(Object.assign(Object.assign({mode:s,animated:a,enteringEl:t,leavingEl:n,baseEl:o,deepWait:sp(o),progressCallback:i.progressAnimation?u=>{u!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,u.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),u.progressEnd(0,0,0)):this.ani=u}:void 0},i),{animationBuilder:c})),this.ionNavDidChange.emit(),!0}render(){return st("slot",{key:"0949db1bcfde67b462abe9cae72c7a7fd70ea678"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return tL}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function nL(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(t=>{switch(t){case"ion-router-outlet":customElements.get(t)||customElements.define(t,eL);break}})}const iL=nL;/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const da=typeof document<"u";function rx(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function oL(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&rx(e.default)}const _e=Object.assign;function cf(e,t){const n={};for(const i in t){const o=t[i];n[i]=Hi(o)?o.map(e):e(o)}return n}const Hl=()=>{},Hi=Array.isArray;function Nb(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}const sx=/#/g,rL=/&/g,sL=/\//g,aL=/=/g,lL=/\?/g,ax=/\+/g,cL=/%5B/g,uL=/%5D/g,lx=/%5E/g,dL=/%60/g,cx=/%7B/g,hL=/%7C/g,ux=/%7D/g,fL=/%20/g;function Nm(e){return e==null?"":encodeURI(""+e).replace(hL,"|").replace(cL,"[").replace(uL,"]")}function pL(e){return Nm(e).replace(cx,"{").replace(ux,"}").replace(lx,"^")}function _p(e){return Nm(e).replace(ax,"%2B").replace(fL,"+").replace(sx,"%23").replace(rL,"%26").replace(dL,"`").replace(cx,"{").replace(ux,"}").replace(lx,"^")}function mL(e){return _p(e).replace(aL,"%3D")}function gL(e){return Nm(e).replace(sx,"%23").replace(lL,"%3F")}function vL(e){return gL(e).replace(sL,"%2F")}function uc(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const bL=/\/$/,_L=e=>e.replace(bL,"");function uf(e,t,n="/"){let i,o={},s="",a="";const c=t.indexOf("#");let u=t.indexOf("?");return u=c>=0&&u>c?-1:u,u>=0&&(i=t.slice(0,u),s=t.slice(u,c>0?c:t.length),o=e(s.slice(1))),c>=0&&(i=i||t.slice(0,c),a=t.slice(c,t.length)),i=EL(i??t,n),{fullPath:i+s+a,path:i,query:o,hash:uc(a)}}function yL(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Vb(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function wL(e,t,n){const i=t.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&Ra(t.matched[i],n.matched[o])&&dx(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ra(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function dx(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!xL(e[n],t[n]))return!1;return!0}function xL(e,t){return Hi(e)?Bb(e,t):Hi(t)?Bb(t,e):(e==null?void 0:e.valueOf())===(t==null?void 0:t.valueOf())}function Bb(e,t){return Hi(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function EL(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),o=i[i.length-1];(o===".."||o===".")&&i.push("");let s=n.length-1,a,c;for(a=0;a<i.length;a++)if(c=i[a],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(a).join("/")}const br={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let yp=function(e){return e.pop="pop",e.push="push",e}({}),df=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function TL(e){if(!e)if(da){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),_L(e)}const kL=/^[^#]+#/;function IL(e,t){return e.replace(kL,"#")+t}function SL(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Qd=()=>({left:window.scrollX,top:window.scrollY});function AL(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=SL(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Fb(e,t){return(history.state?history.state.position-t:-1)+e}const wp=new Map;function CL(e,t){wp.set(e,t)}function PL(e){const t=wp.get(e);return wp.delete(e),t}function RL(e){return typeof e=="string"||e&&typeof e=="object"}function hx(e){return typeof e=="string"||typeof e=="symbol"}let Ke=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const fx=Symbol("");Ke.MATCHER_NOT_FOUND+"",Ke.NAVIGATION_GUARD_REDIRECT+"",Ke.NAVIGATION_ABORTED+"",Ke.NAVIGATION_CANCELLED+"",Ke.NAVIGATION_DUPLICATED+"";function La(e,t){return _e(new Error,{type:e,[fx]:!0},t)}function Lo(e,t){return e instanceof Error&&fx in e&&(t==null||!!(e.type&t))}const LL=["params","query","hash"];function OL(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of LL)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function xp(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const o=n[i].replace(ax," "),s=o.indexOf("="),a=uc(s<0?o:o.slice(0,s)),c=s<0?null:uc(o.slice(s+1));if(a in t){let u=t[a];Hi(u)||(u=t[a]=[u]),u.push(c)}else t[a]=c}return t}function zb(e){let t="";for(let n in e){const i=e[n];if(n=mL(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Hi(i)?i.map(o=>o&&_p(o)):[i&&_p(i)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function $L(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Hi(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return t}const px=Symbol(""),Ub=Symbol(""),Jd=Symbol(""),th=Symbol(""),Ep=Symbol("");function kl(){let e=[];function t(i){return e.push(i),()=>{const o=e.indexOf(i);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Er(e,t,n,i,o,s=a=>a()){const a=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((c,u)=>{const f=v=>{v===!1?u(La(Ke.NAVIGATION_ABORTED,{from:n,to:t})):v instanceof Error?u(v):RL(v)?u(La(Ke.NAVIGATION_GUARD_REDIRECT,{from:t,to:v})):(a&&i.enterCallbacks[o]===a&&typeof v=="function"&&a.push(v),c())},p=s(()=>e.call(i&&i.instances[o],t,n,f));let m=Promise.resolve(p);e.length<3&&(m=m.then(f)),m.catch(v=>u(v))})}function hf(e,t,n,i,o=s=>s()){const s=[];for(const a of e)for(const c in a.components){let u=a.components[c];if(!(t!=="beforeRouteEnter"&&!a.instances[c]))if(rx(u)){const f=(u.__vccOpts||u)[t];f&&s.push(Er(f,n,i,a,c,o))}else{let f=u();s.push(()=>f.then(p=>{if(!p)throw new Error(`Couldn't resolve component "${c}" at "${a.path}"`);const m=oL(p)?p.default:p;a.mods[c]=p,a.components[c]=m;const v=(m.__vccOpts||m)[t];return v&&Er(v,n,i,a,c,o)()}))}}return s}function ML(e,t){const n=[],i=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const c=t.matched[a];c&&(e.matched.find(f=>Ra(f,c))?i.push(c):n.push(c));const u=e.matched[a];u&&(t.matched.find(f=>Ra(f,u))||o.push(u))}return[n,i,o]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let DL=()=>location.protocol+"//"+location.host;function mx(e,t){const{pathname:n,search:i,hash:o}=t,s=e.indexOf("#");if(s>-1){let a=o.includes(e.slice(s))?e.slice(s).length:1,c=o.slice(a);return c[0]!=="/"&&(c="/"+c),Vb(c,"")}return Vb(n,e)+i+o}function NL(e,t,n,i){let o=[],s=[],a=null;const c=({state:v})=>{const w=mx(e,location),E=n.value,I=t.value;let R=0;if(v){if(n.value=w,t.value=v,a&&a===E){a=null;return}R=I?v.position-I.position:0}else i(w);o.forEach(D=>{D(n.value,E,{delta:R,type:yp.pop,direction:R?R>0?df.forward:df.back:df.unknown})})};function u(){a=n.value}function f(v){o.push(v);const w=()=>{const E=o.indexOf(v);E>-1&&o.splice(E,1)};return s.push(w),w}function p(){if(document.visibilityState==="hidden"){const{history:v}=window;if(!v.state)return;v.replaceState(_e({},v.state,{scroll:Qd()}),"")}}function m(){for(const v of s)v();s=[],window.removeEventListener("popstate",c),window.removeEventListener("pagehide",p),document.removeEventListener("visibilitychange",p)}return window.addEventListener("popstate",c),window.addEventListener("pagehide",p),document.addEventListener("visibilitychange",p),{pauseListeners:u,listen:f,destroy:m}}function jb(e,t,n,i=!1,o=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:o?Qd():null}}function VL(e){const{history:t,location:n}=window,i={value:mx(e,n)},o={value:t.state};o.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(u,f,p){const m=e.indexOf("#"),v=m>-1?(n.host&&document.querySelector("base")?e:e.slice(m))+u:DL()+e+u;try{t[p?"replaceState":"pushState"](f,"",v),o.value=f}catch(w){console.error(w),n[p?"replace":"assign"](v)}}function a(u,f){s(u,_e({},t.state,jb(o.value.back,u,o.value.forward,!0),f,{position:o.value.position}),!0),i.value=u}function c(u,f){const p=_e({},o.value,t.state,{forward:u,scroll:Qd()});s(p.current,p,!0),s(u,_e({},jb(i.value,u,null),{position:p.position+1},f),!1),i.value=u}return{location:i,state:o,push:c,replace:a}}function BL(e){e=TL(e);const t=VL(e),n=NL(e,t.state,t.location,t.replace);function i(s,a=!0){a||n.pauseListeners(),history.go(s)}const o=_e({location:"",base:e,go:i,createHref:IL.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}let ps=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var bn=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(bn||{});const FL={type:ps.Static,value:""},zL=/[a-zA-Z0-9_]/;function UL(e){if(!e)return[[]];if(e==="/")return[[FL]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(w){throw new Error(`ERR (${n})/"${f}": ${w}`)}let n=bn.Static,i=n;const o=[];let s;function a(){s&&o.push(s),s=[]}let c=0,u,f="",p="";function m(){f&&(n===bn.Static?s.push({type:ps.Static,value:f}):n===bn.Param||n===bn.ParamRegExp||n===bn.ParamRegExpEnd?(s.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),s.push({type:ps.Param,value:f,regexp:p,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),f="")}function v(){f+=u}for(;c<e.length;){if(u=e[c++],u==="\\"&&n!==bn.ParamRegExp){i=n,n=bn.EscapeNext;continue}switch(n){case bn.Static:u==="/"?(f&&m(),a()):u===":"?(m(),n=bn.Param):v();break;case bn.EscapeNext:v(),n=i;break;case bn.Param:u==="("?n=bn.ParamRegExp:zL.test(u)?v():(m(),n=bn.Static,u!=="*"&&u!=="?"&&u!=="+"&&c--);break;case bn.ParamRegExp:u===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+u:n=bn.ParamRegExpEnd:p+=u;break;case bn.ParamRegExpEnd:m(),n=bn.Static,u!=="*"&&u!=="?"&&u!=="+"&&c--,p="";break;default:t("Unknown state");break}}return n===bn.ParamRegExp&&t(`Unfinished custom RegExp for param "${f}"`),m(),a(),o}const Hb="[^/]+?",jL={sensitive:!1,strict:!1,start:!0,end:!0};var Yn=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(Yn||{});const HL=/[.+*?^${}()[\]/\\]/g;function qL(e,t){const n=_e({},jL,t),i=[];let o=n.start?"^":"";const s=[];for(const f of e){const p=f.length?[]:[Yn.Root];n.strict&&!f.length&&(o+="/");for(let m=0;m<f.length;m++){const v=f[m];let w=Yn.Segment+(n.sensitive?Yn.BonusCaseSensitive:0);if(v.type===ps.Static)m||(o+="/"),o+=v.value.replace(HL,"\\$&"),w+=Yn.Static;else if(v.type===ps.Param){const{value:E,repeatable:I,optional:R,regexp:D}=v;s.push({name:E,repeatable:I,optional:R});const F=D||Hb;if(F!==Hb){w+=Yn.BonusCustomRegExp;try{`${F}`}catch(B){throw new Error(`Invalid custom RegExp for param "${E}" (${F}): `+B.message)}}let z=I?`((?:${F})(?:/(?:${F}))*)`:`(${F})`;m||(z=R&&f.length<2?`(?:/${z})`:"/"+z),R&&(z+="?"),o+=z,w+=Yn.Dynamic,R&&(w+=Yn.BonusOptional),I&&(w+=Yn.BonusRepeatable),F===".*"&&(w+=Yn.BonusWildcard)}p.push(w)}i.push(p)}if(n.strict&&n.end){const f=i.length-1;i[f][i[f].length-1]+=Yn.BonusStrict}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function c(f){const p=f.match(a),m={};if(!p)return null;for(let v=1;v<p.length;v++){const w=p[v]||"",E=s[v-1];m[E.name]=w&&E.repeatable?w.split("/"):w}return m}function u(f){let p="",m=!1;for(const v of e){(!m||!p.endsWith("/"))&&(p+="/"),m=!1;for(const w of v)if(w.type===ps.Static)p+=w.value;else if(w.type===ps.Param){const{value:E,repeatable:I,optional:R}=w,D=E in f?f[E]:"";if(Hi(D)&&!I)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const F=Hi(D)?D.join("/"):D;if(!F)if(R)v.length<2&&(p.endsWith("/")?p=p.slice(0,-1):m=!0);else throw new Error(`Missing required param "${E}"`);p+=F}}return p||"/"}return{re:a,score:i,keys:s,parse:c,stringify:u}}function WL(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===Yn.Static+Yn.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===Yn.Static+Yn.Segment?1:-1:0}function gx(e,t){let n=0;const i=e.score,o=t.score;for(;n<i.length&&n<o.length;){const s=WL(i[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-i.length)===1){if(qb(i))return 1;if(qb(o))return-1}return o.length-i.length}function qb(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const GL={strict:!1,end:!0,sensitive:!1};function KL(e,t,n){const i=qL(UL(e.path),n),o=_e(i,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function ZL(e,t){const n=[],i=new Map;t=Nb(GL,t);function o(m){return i.get(m)}function s(m,v,w){const E=!w,I=Gb(m);I.aliasOf=w&&w.record;const R=Nb(t,m),D=[I];if("alias"in m){const B=typeof m.alias=="string"?[m.alias]:m.alias;for(const U of B)D.push(Gb(_e({},I,{components:w?w.record.components:I.components,path:U,aliasOf:w?w.record:I})))}let F,z;for(const B of D){const{path:U}=B;if(v&&U[0]!=="/"){const H=v.record.path,C=H[H.length-1]==="/"?"":"/";B.path=v.record.path+(U&&C+U)}if(F=KL(B,v,R),w?w.alias.push(F):(z=z||F,z!==F&&z.alias.push(F),E&&m.name&&!Kb(F)&&a(m.name)),vx(F)&&u(F),I.children){const H=I.children;for(let C=0;C<H.length;C++)s(H[C],F,w&&w.children[C])}w=w||F}return z?()=>{a(z)}:Hl}function a(m){if(hx(m)){const v=i.get(m);v&&(i.delete(m),n.splice(n.indexOf(v),1),v.children.forEach(a),v.alias.forEach(a))}else{const v=n.indexOf(m);v>-1&&(n.splice(v,1),m.record.name&&i.delete(m.record.name),m.children.forEach(a),m.alias.forEach(a))}}function c(){return n}function u(m){const v=QL(m,n);n.splice(v,0,m),m.record.name&&!Kb(m)&&i.set(m.record.name,m)}function f(m,v){let w,E={},I,R;if("name"in m&&m.name){if(w=i.get(m.name),!w)throw La(Ke.MATCHER_NOT_FOUND,{location:m});R=w.record.name,E=_e(Wb(v.params,w.keys.filter(z=>!z.optional).concat(w.parent?w.parent.keys.filter(z=>z.optional):[]).map(z=>z.name)),m.params&&Wb(m.params,w.keys.map(z=>z.name))),I=w.stringify(E)}else if(m.path!=null)I=m.path,w=n.find(z=>z.re.test(I)),w&&(E=w.parse(I),R=w.record.name);else{if(w=v.name?i.get(v.name):n.find(z=>z.re.test(v.path)),!w)throw La(Ke.MATCHER_NOT_FOUND,{location:m,currentLocation:v});R=w.record.name,E=_e({},v.params,m.params),I=w.stringify(E)}const D=[];let F=w;for(;F;)D.unshift(F.record),F=F.parent;return{name:R,path:I,params:E,matched:D,meta:XL(D)}}e.forEach(m=>s(m));function p(){n.length=0,i.clear()}return{addRoute:s,resolve:f,removeRoute:a,clearRoutes:p,getRoutes:c,getRecordMatcher:o}}function Wb(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function Gb(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:YL(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function YL(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function Kb(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function XL(e){return e.reduce((t,n)=>_e(t,n.meta),{})}function QL(e,t){let n=0,i=t.length;for(;n!==i;){const s=n+i>>1;gx(e,t[s])<0?i=s:n=s+1}const o=JL(e);return o&&(i=t.lastIndexOf(o,i-1)),i}function JL(e){let t=e;for(;t=t.parent;)if(vx(t)&&gx(e,t)===0)return t}function vx({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Zb(e){const t=dn(Jd),n=dn(th),i=ti(()=>{const u=et(e.to);return t.resolve(u)}),o=ti(()=>{const{matched:u}=i.value,{length:f}=u,p=u[f-1],m=n.matched;if(!p||!m.length)return-1;const v=m.findIndex(Ra.bind(null,p));if(v>-1)return v;const w=Yb(u[f-2]);return f>1&&Yb(p)===w&&m[m.length-1].path!==w?m.findIndex(Ra.bind(null,u[f-2])):v}),s=ti(()=>o.value>-1&&oO(n.params,i.value.params)),a=ti(()=>o.value>-1&&o.value===n.matched.length-1&&dx(n.params,i.value.params));function c(u={}){if(iO(u)){const f=t[et(e.replace)?"replace":"push"](et(e.to)).catch(Hl);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:i,href:ti(()=>i.value.href),isActive:s,isExactActive:a,navigate:c}}function tO(e){return e.length===1?e[0]:e}const eO=fn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Zb,setup(e,{slots:t}){const n=Ic(Zb(e)),{options:i}=dn(Jd),o=ti(()=>({[Xb(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Xb(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&tO(t.default(n));return e.custom?s:hn("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),nO=eO;function iO(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function oO(e,t){for(const n in t){const i=t[n],o=e[n];if(typeof i=="string"){if(i!==o)return!1}else if(!Hi(o)||o.length!==i.length||i.some((s,a)=>s.valueOf()!==o[a].valueOf()))return!1}return!0}function Yb(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Xb=(e,t,n)=>e??t??n,rO=fn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=dn(Ep),o=ti(()=>e.route||i.value),s=dn(Ub,0),a=ti(()=>{let f=et(s);const{matched:p}=o.value;let m;for(;(m=p[f])&&!m.components;)f++;return f}),c=ti(()=>o.value.matched[a.value]);ya(Ub,ti(()=>a.value+1)),ya(px,c),ya(Ep,o);const u=me();return qo(()=>[u.value,c.value,e.name],([f,p,m],[v,w,E])=>{p&&(p.instances[m]=f,w&&w!==p&&f&&f===v&&(p.leaveGuards.size||(p.leaveGuards=w.leaveGuards),p.updateGuards.size||(p.updateGuards=w.updateGuards))),f&&p&&(!w||!Ra(p,w)||!v)&&(p.enterCallbacks[m]||[]).forEach(I=>I(f))},{flush:"post"}),()=>{const f=o.value,p=e.name,m=c.value,v=m&&m.components[p];if(!v)return Qb(n.default,{Component:v,route:f});const w=m.props[p],E=w?w===!0?f.params:typeof w=="function"?w(f):w:null,R=hn(v,_e({},E,t,{onVnodeUnmounted:D=>{D.component.isUnmounted&&(m.instances[p]=null)},ref:u}));return Qb(n.default,{Component:R,route:f})||R}}});function Qb(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const sO=rO;function aO(e){const t=ZL(e.routes,e),n=e.parseQuery||xp,i=e.stringifyQuery||zb,o=e.history,s=kl(),a=kl(),c=kl(),u=Sc(br);let f=br;da&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=cf.bind(null,Q=>""+Q),m=cf.bind(null,vL),v=cf.bind(null,uc);function w(Q,mt){let vt,Tt;return hx(Q)?(vt=t.getRecordMatcher(Q),Tt=mt):Tt=Q,t.addRoute(Tt,vt)}function E(Q){const mt=t.getRecordMatcher(Q);mt&&t.removeRoute(mt)}function I(){return t.getRoutes().map(Q=>Q.record)}function R(Q){return!!t.getRecordMatcher(Q)}function D(Q,mt){if(mt=_e({},mt||u.value),typeof Q=="string"){const N=uf(n,Q,mt.path),W=t.resolve({path:N.path},mt),ot=o.createHref(N.fullPath);return _e(N,W,{params:v(W.params),hash:uc(N.hash),redirectedFrom:void 0,href:ot})}let vt;if(Q.path!=null)vt=_e({},Q,{path:uf(n,Q.path,mt.path).path});else{const N=_e({},Q.params);for(const W in N)N[W]==null&&delete N[W];vt=_e({},Q,{params:m(N)}),mt.params=m(mt.params)}const Tt=t.resolve(vt,mt),zt=Q.hash||"";Tt.params=p(v(Tt.params));const oe=yL(i,_e({},Q,{hash:pL(zt),path:Tt.path})),M=o.createHref(oe);return _e({fullPath:oe,hash:zt,query:i===zb?$L(Q.query):Q.query||{}},Tt,{redirectedFrom:void 0,href:M})}function F(Q){return typeof Q=="string"?uf(n,Q,u.value.path):_e({},Q)}function z(Q,mt){if(f!==Q)return La(Ke.NAVIGATION_CANCELLED,{from:mt,to:Q})}function B(Q){return C(Q)}function U(Q){return B(_e(F(Q),{replace:!0}))}function H(Q,mt){const vt=Q.matched[Q.matched.length-1];if(vt&&vt.redirect){const{redirect:Tt}=vt;let zt=typeof Tt=="function"?Tt(Q,mt):Tt;return typeof zt=="string"&&(zt=zt.includes("?")||zt.includes("#")?zt=F(zt):{path:zt},zt.params={}),_e({query:Q.query,hash:Q.hash,params:zt.path!=null?{}:Q.params},zt)}}function C(Q,mt){const vt=f=D(Q),Tt=u.value,zt=Q.state,oe=Q.force,M=Q.replace===!0,N=H(vt,Tt);if(N)return C(_e(F(N),{state:typeof N=="object"?_e({},zt,N.state):zt,force:oe,replace:M}),mt||vt);const W=vt;W.redirectedFrom=mt;let ot;return!oe&&wL(i,Tt,vt)&&(ot=La(Ke.NAVIGATION_DUPLICATED,{to:W,from:Tt}),ut(Tt,Tt,!0,!1)),(ot?Promise.resolve(ot):O(W,Tt)).catch(J=>Lo(J)?Lo(J,Ke.NAVIGATION_GUARD_REDIRECT)?J:G(J):tt(J,W,Tt)).then(J=>{if(J){if(Lo(J,Ke.NAVIGATION_GUARD_REDIRECT))return C(_e({replace:M},F(J.to),{state:typeof J.to=="object"?_e({},zt,J.to.state):zt,force:oe}),mt||W)}else J=$(W,Tt,!0,M,zt);return A(W,Tt,J),J})}function k(Q,mt){const vt=z(Q,mt);return vt?Promise.reject(vt):Promise.resolve()}function T(Q){const mt=Ot.values().next().value;return mt&&typeof mt.runWithContext=="function"?mt.runWithContext(Q):Q()}function O(Q,mt){let vt;const[Tt,zt,oe]=ML(Q,mt);vt=hf(Tt.reverse(),"beforeRouteLeave",Q,mt);for(const N of Tt)N.leaveGuards.forEach(W=>{vt.push(Er(W,Q,mt))});const M=k.bind(null,Q,mt);return vt.push(M),yt(vt).then(()=>{vt=[];for(const N of s.list())vt.push(Er(N,Q,mt));return vt.push(M),yt(vt)}).then(()=>{vt=hf(zt,"beforeRouteUpdate",Q,mt);for(const N of zt)N.updateGuards.forEach(W=>{vt.push(Er(W,Q,mt))});return vt.push(M),yt(vt)}).then(()=>{vt=[];for(const N of oe)if(N.beforeEnter)if(Hi(N.beforeEnter))for(const W of N.beforeEnter)vt.push(Er(W,Q,mt));else vt.push(Er(N.beforeEnter,Q,mt));return vt.push(M),yt(vt)}).then(()=>(Q.matched.forEach(N=>N.enterCallbacks={}),vt=hf(oe,"beforeRouteEnter",Q,mt,T),vt.push(M),yt(vt))).then(()=>{vt=[];for(const N of a.list())vt.push(Er(N,Q,mt));return vt.push(M),yt(vt)}).catch(N=>Lo(N,Ke.NAVIGATION_CANCELLED)?N:Promise.reject(N))}function A(Q,mt,vt){c.list().forEach(Tt=>T(()=>Tt(Q,mt,vt)))}function $(Q,mt,vt,Tt,zt){const oe=z(Q,mt);if(oe)return oe;const M=mt===br,N=da?history.state:{};vt&&(Tt||M?o.replace(Q.fullPath,_e({scroll:M&&N&&N.scroll},zt)):o.push(Q.fullPath,zt)),u.value=Q,ut(Q,mt,vt,M),G()}let P;function Ct(){P||(P=o.listen((Q,mt,vt)=>{if(!Rt.listening)return;const Tt=D(Q),zt=H(Tt,Rt.currentRoute.value);if(zt){C(_e(zt,{replace:!0,force:!0}),Tt).catch(Hl);return}f=Tt;const oe=u.value;da&&CL(Fb(oe.fullPath,vt.delta),Qd()),O(Tt,oe).catch(M=>Lo(M,Ke.NAVIGATION_ABORTED|Ke.NAVIGATION_CANCELLED)?M:Lo(M,Ke.NAVIGATION_GUARD_REDIRECT)?(C(_e(F(M.to),{force:!0}),Tt).then(N=>{Lo(N,Ke.NAVIGATION_ABORTED|Ke.NAVIGATION_DUPLICATED)&&!vt.delta&&vt.type===yp.pop&&o.go(-1,!1)}).catch(Hl),Promise.reject()):(vt.delta&&o.go(-vt.delta,!1),tt(M,Tt,oe))).then(M=>{M=M||$(Tt,oe,!1),M&&(vt.delta&&!Lo(M,Ke.NAVIGATION_CANCELLED)?o.go(-vt.delta,!1):vt.type===yp.pop&&Lo(M,Ke.NAVIGATION_ABORTED|Ke.NAVIGATION_DUPLICATED)&&o.go(-1,!1)),A(Tt,oe,M)}).catch(Hl)}))}let Gt=kl(),Vt=kl(),wt;function tt(Q,mt,vt){G(Q);const Tt=Vt.list();return Tt.length?Tt.forEach(zt=>zt(Q,mt,vt)):console.error(Q),Promise.reject(Q)}function nt(){return wt&&u.value!==br?Promise.resolve():new Promise((Q,mt)=>{Gt.add([Q,mt])})}function G(Q){return wt||(wt=!Q,Ct(),Gt.list().forEach(([mt,vt])=>Q?vt(Q):mt()),Gt.reset()),Q}function ut(Q,mt,vt,Tt){const{scrollBehavior:zt}=e;if(!da||!zt)return Promise.resolve();const oe=!vt&&PL(Fb(Q.fullPath,0))||(Tt||!vt)&&history.state&&history.state.scroll||null;return ky().then(()=>zt(Q,mt,oe)).then(M=>M&&AL(M)).catch(M=>tt(M,Q,mt))}const St=Q=>o.go(Q);let Dt;const Ot=new Set,Rt={currentRoute:u,listening:!0,addRoute:w,removeRoute:E,clearRoutes:t.clearRoutes,hasRoute:R,getRoutes:I,resolve:D,options:e,push:B,replace:U,go:St,back:()=>St(-1),forward:()=>St(1),beforeEach:s.add,beforeResolve:a.add,afterEach:c.add,onError:Vt.add,isReady:nt,install(Q){Q.component("RouterLink",nO),Q.component("RouterView",sO),Q.config.globalProperties.$router=Rt,Object.defineProperty(Q.config.globalProperties,"$route",{enumerable:!0,get:()=>et(u)}),da&&!Dt&&u.value===br&&(Dt=!0,B(o.location).catch(Tt=>{}));const mt={};for(const Tt in br)Object.defineProperty(mt,Tt,{get:()=>u.value[Tt],enumerable:!0});Q.provide(Jd,Rt),Q.provide(th,wy(mt)),Q.provide(Ep,u);const vt=Q.unmount;Ot.add(Q),Q.unmount=function(){Ot.delete(Q),Ot.size<1&&(f=br,P&&P(),P=null,u.value=br,Dt=!1,wt=!1),vt()}}};function yt(Q){return Q.reduce((mt,vt)=>mt.then(()=>T(vt)),Promise.resolve())}return Rt}function eh(){return dn(Jd)}function lO(e){return dn(th)}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cO=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}@supports (inset-inline-start: 0){::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}}@supports not (inset-inline-start: 0){::slotted(ion-badge){left:calc(50% + 6px)}:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}[dir=rtl] ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}@supports selector(:dir(rtl)){::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 6px)}}}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:30px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:calc(50% + 12px)}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 12px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-bottom:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 12px)}}}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:calc(50% + 35px)}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 35px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-start:dir(rtl)) ::slotted(ion-badge),:host(.tab-layout-icon-end:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 35px)}}}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:calc(50% + 30px)}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 30px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-hide:dir(rtl)) ::slotted(ion-badge),:host(.tab-has-label-only:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 30px)}}}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}',uO=cO,dO=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}@supports (inset-inline-start: 0){::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}}@supports not (inset-inline-start: 0){::slotted(ion-badge){left:calc(50% + 6px)}:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}[dir=rtl] ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}@supports selector(:dir(rtl)){::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 6px)}}}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:70%}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:70%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-bottom:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:70%}}}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:80%}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:80%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-start:dir(rtl)) ::slotted(ion-badge),:host(.tab-layout-icon-end:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:80%}}}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:70%}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:70%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-hide:dir(rtl)) ::slotted(ion-badge),:host(.tab-has-label-only:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:70%}}}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',hO=dO,fO=ze(class extends De{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=Oe(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=t=>{(t.key==="Enter"||t.key===" ")&&this.selectTab(t)},this.onClick=t=>{this.selectTab(t)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(t){const n=t.target,i=this.el.parentElement;(t.composedPath().includes(i)||n!=null&&n.contains(this.el))&&(this.selected=this.tab===t.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},Am(this.el,["aria-label"])),this.layout===void 0&&(this.layout=he.get("tabButtonLayout","icon-top"))}selectTab(t){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),t.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:t,hasIcon:n,hasLabel:i,href:o,rel:s,target:a,layout:c,selected:u,tab:f,inheritedAttributes:p}=this,m=ve(this),v={download:this.download,href:o,rel:s,target:a};return st(qe,{key:"c7b6a72766b71f34800137dadcf29af657bebddf",onClick:this.onClick,onKeyup:this.onKeyUp,id:f!==void 0?`tab-button-${f}`:null,class:{[m]:!0,"tab-selected":u,"tab-disabled":t,"tab-has-label":i,"tab-has-icon":n,"tab-has-label-only":i&&!n,"tab-has-icon-only":n&&!i,[`tab-layout-${c}`]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},st("a",Object.assign({key:"a1eca4a5cf0dfdb55099811d03f204f7b3807a2e"},v,{class:"button-native",part:"native",role:"tab","aria-selected":u?"true":null,"aria-disabled":t?"true":null,tabindex:t?"-1":void 0},p),st("span",{key:"888a6d8b95c2f0ca8f74f492729bd28f0d3273d5",class:"button-inner"},st("slot",{key:"83a234af52ffce9ff0f4cc497712c962115a5813"})),m==="md"&&st("ion-ripple-effect",{key:"771aff1b83233411e0cf706c3e94c78bca534794",type:"unbounded"})))}get el(){return this}static get style(){return{ios:uO,md:hO}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function pO(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(t=>{switch(t){case"ion-tab-button":customElements.get(t)||customElements.define(t,fO);break;case"ion-ripple-effect":customElements.get(t)||$s();break}})}const mO=pO;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gO=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, #666666));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",vO=gO,bO=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.07))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, #595959));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:56px}",_O=bO,yO=ze(class extends De{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=Oe(this,"ionTabBarChanged",7),this.ionTabBarLoaded=Oe(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await wR(async(t,n)=>{t===!1&&n!==void 0&&await n,this.keyboardVisible=t})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:t,translucent:n,keyboardVisible:i}=this,o=ve(this),s=i&&this.el.getAttribute("slot")!=="top";return st(qe,{key:"5083528e7f802d2f323ce50585edc98eeb9754c6",role:"tablist","aria-hidden":s?"true":null,class:Ii(t,{[o]:!0,"tab-bar-translucent":n,"tab-bar-hidden":s})},st("slot",{key:"eb33cdd12da49062219d4aa17a319c3e6361c5c5"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:vO,md:_O}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);function wO(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(t=>{switch(t){case"ion-tab-bar":customElements.get(t)||customElements.define(t,yO);break}})}const xO=wO,EO="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",TO=EO,kO=ze(class extends De{constructor(){super(),this.__registerHost()}componentDidLoad(){SO(async()=>{const t=Cr(window,"hybrid");if(he.getBoolean("_testing")||Cn(()=>import("./index9-3fea17a1.js"),[]).then(o=>o.startTapClick(he)),he.getBoolean("statusTap",t)&&Cn(()=>import("./status-tap-226c7271.js"),[]).then(o=>o.startStatusTap()),he.getBoolean("inputShims",IO())){const o=Cr(window,"ios")?"ios":"android";Cn(()=>import("./input-shims-e714346c.js"),[]).then(s=>s.startInputShims(he,o))}const n=await Cn(()=>Promise.resolve().then(()=>OP),void 0),i=t||cc();he.getBoolean("hardwareBackButton",i)?n.startHardwareBackButton():(cc()&&zn("experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),n.blockHardwareBackButton()),typeof window<"u"&&Cn(()=>import("./keyboard2-92d3ee23.js"),[]).then(o=>o.startKeyboardAssist(window)),Cn(()=>import("./focus-visible-9c13edeb.js"),[]).then(o=>this.focusVisible=o.startFocusVisible())})}async setFocus(t){this.focusVisible&&this.focusVisible.setFocus(t)}render(){const t=ve(this);return st(qe,{key:"6d7c57453b4be454690e8f1a0721f1e3da8f92aa",class:{[t]:!0,"ion-page":!0,"force-statusbar-padding":he.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return TO}},[0,"ion-app",{setFocus:[64]}]),IO=()=>!!(Cr(window,"ios")&&Cr(window,"mobile")||Cr(window,"android")&&Cr(window,"mobileweb")),SO=e=>{"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e,32)};function AO(){if(typeof customElements>"u")return;["ion-app"].forEach(t=>{switch(t){case"ion-app":customElements.get(t)||customElements.define(t,kO);break}})}const CO=AO;let ff;const PO=()=>{if(typeof window>"u")return new Map;if(!ff){const e=window;e.Ionicons=e.Ionicons||{},ff=e.Ionicons.map=e.Ionicons.map||new Map}return ff},RO=e=>{let t=pf(e.src);return t||(t=bx(e.name,e.icon,e.mode,e.ios,e.md),t?LO(t,e):e.icon&&(t=pf(e.icon),t||(t=pf(e.icon[e.mode]),t))?t:null)},LO=(e,t)=>{const n=PO().get(e);if(n)return n;try{return fw(`svg/${e}.svg`)}catch{console.warn(`[Ionicons Warning]: Could not load icon with name "${e}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,t)}},bx=(e,t,n,i,o)=>(n=(n&&xu(n))==="ios"?"ios":"md",i&&n==="ios"?e=xu(i):o&&n==="md"?e=xu(o):(!e&&t&&!_x(t)&&(e=t),fd(e)&&(e=xu(e))),!fd(e)||e.trim()===""||e.replace(/[a-z]|-|\d/gi,"")!==""?null:e),pf=e=>fd(e)&&(e=e.trim(),_x(e))?e:null,_x=e=>e.length>0&&/(\/|\.)/.test(e),fd=e=>typeof e=="string",xu=e=>e.toLowerCase(),OO=(e,t=[])=>{const n={};return t.forEach(i=>{e.hasAttribute(i)&&(e.getAttribute(i)!==null&&(n[i]=e.getAttribute(i)),e.removeAttribute(i))}),n},$O=e=>e&&e.dir!==""?e.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",MO=e=>{const t=document.createElement("div");t.innerHTML=e;for(let i=t.childNodes.length-1;i>=0;i--)t.childNodes[i].nodeName.toLowerCase()!=="svg"&&t.removeChild(t.childNodes[i]);const n=t.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),yx(n))return t.innerHTML}return""},yx=e=>{if(e.nodeType===1){if(e.nodeName.toLowerCase()==="script")return!1;for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;if(fd(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let t=0;t<e.childNodes.length;t++)if(!yx(e.childNodes[t]))return!1}return!0},DO=e=>e.startsWith("data:image/svg+xml"),NO=e=>e.indexOf(";utf8,")!==-1,ms=new Map,Jb=new Map;let mf;const VO=(e,t)=>{let n=Jb.get(e);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(DO(e)&&NO(e)){mf||(mf=new DOMParser);const o=mf.parseFromString(e,"text/html").querySelector("svg");return o&&ms.set(e,o.outerHTML),Promise.resolve()}else n=fetch(e).then(i=>{if(i.ok)return i.text().then(o=>{o&&t!==!1&&(o=MO(o)),ms.set(e,o||"")});ms.set(e,"")}),Jb.set(e,n);else return ms.set(e,""),Promise.resolve();return n},BO=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",FO=ze(class extends De{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=zO(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=OO(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(t,n,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const o=this.io=new window.IntersectionObserver(s=>{s[0].isIntersecting&&(o.disconnect(),this.io=void 0,i())},{rootMargin:n});o.observe(t)}else i()}loadIcon(){if(this.isVisible){const t=RO(this);t&&(ms.has(t)?this.svgContent=ms.get(t):VO(t,this.sanitize).then(()=>this.svgContent=ms.get(t)),this.didLoadIcon=!0)}this.iconName=bx(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:t,iconName:n,inheritedAttributes:i,el:o}=this,s=this.mode||"md",a=n?(n.includes("arrow")||n.includes("chevron"))&&t!==!1:!1,c=t||a;return st(qe,Object.assign({role:"img",class:Object.assign(Object.assign({[s]:!0},UO(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":c,"icon-rtl":c&&$O(o)})},i),this.svgContent?st("div",{class:"icon-inner",innerHTML:this.svgContent}):st("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return BO}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),zO=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",UO=e=>e?{"ion-color":!0,[`ion-color-${e}`]:!0}:null;function jO(){if(typeof customElements>"u")return;["ion-icon"].forEach(t=>{switch(t){case"ion-icon":customElements.get(t)||customElements.define(t,FO);break}})}const HO=jO;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */function qO(e,t,n,i){let o;if(n==="md"?o=e==="top"?8:-8:o=e==="top"?10:-10,t&&tn){WO(t,i);const s=t.getBoundingClientRect();return e==="top"?o+=s.bottom:e==="bottom"&&(o-=tn.innerHeight-s.top),{top:`${o}px`,bottom:`${o}px`}}else return{top:`calc(${o}px + var(--ion-safe-area-top, 0px))`,bottom:`calc(${o}px - var(--ion-safe-area-bottom, 0px))`}}function WO(e,t){e.offsetParent===null&&zn("The positionAnchor element for ion-toast was found in the DOM, but appears to be hidden. This may lead to unexpected positioning of the toast.",t)}const Vm=(e,t)=>Math.floor(e/2-t/2),GO=(e,t)=>{const n=Jo(),i=Jo(),{position:o,top:s,bottom:a}=t,u=ja(e).querySelector(".toast-wrapper");switch(i.addElement(u),o){case"top":i.fromTo("transform","translateY(-100%)",`translateY(${s})`);break;case"middle":const f=Vm(e.clientHeight,u.clientHeight);u.style.top=`${f}px`,i.fromTo("opacity",.01,1);break;default:i.fromTo("transform","translateY(100%)",`translateY(${a})`);break}return n.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(i)},KO=(e,t)=>{const n=Jo(),i=Jo(),{position:o,top:s,bottom:a}=t,u=ja(e).querySelector(".toast-wrapper");switch(i.addElement(u),o){case"top":i.fromTo("transform",`translateY(${s})`,"translateY(-100%)");break;case"middle":i.fromTo("opacity",.99,0);break;default:i.fromTo("transform",`translateY(${a})`,"translateY(100%)");break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(i)},ZO=(e,t)=>{const n=Jo(),i=Jo(),{position:o,top:s,bottom:a}=t,u=ja(e).querySelector(".toast-wrapper");switch(i.addElement(u),o){case"top":u.style.setProperty("transform",`translateY(${s})`),i.fromTo("opacity",.01,1);break;case"middle":const f=Vm(e.clientHeight,u.clientHeight);u.style.top=`${f}px`,i.fromTo("opacity",.01,1);break;default:u.style.setProperty("transform",`translateY(${a})`),i.fromTo("opacity",.01,1);break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(i)},YO=e=>{const t=Jo(),n=Jo(),o=ja(e).querySelector(".toast-wrapper");return n.addElement(o).fromTo("opacity",.99,0),t.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(n)},XO=(e,t,n)=>{const i=ja(e).querySelector(".toast-wrapper"),o=e.clientHeight,s=i.getBoundingClientRect();let a=0;const c=.5,u=e.position==="middle"?.5:0,f=e.position==="top"?-1:1,p=Vm(o,s.height),m=[{offset:0,transform:`translateY(-${p+s.height}px)`},{offset:.5,transform:"translateY(0px)"},{offset:1,transform:`translateY(${p+s.height}px)`}],v=Jo("toast-swipe-to-dismiss-animation").addElement(i).duration(100);switch(e.position){case"middle":a=o+s.height,v.keyframes(m),v.progressStart(!0,.5);break;case"top":a=s.bottom,v.keyframes([{offset:0,transform:`translateY(${t.top})`},{offset:1,transform:"translateY(-100%)"}]),v.progressStart(!0,0);break;case"bottom":default:a=o-s.top,v.keyframes([{offset:0,transform:`translateY(${t.bottom})`},{offset:1,transform:"translateY(100%)"}]),v.progressStart(!0,0);break}const w=D=>D*f/a,R=nx({el:i,gestureName:"toast-swipe-to-dismiss",gesturePriority:KP,direction:"y",onMove:D=>{const F=u+w(D.deltaY);v.progressStep(F)},onEnd:D=>{const F=D.velocityY,z=(D.deltaY+F*1e3)/a*f;R.enable(!1);let B=!0,U=1,H=0,C=0;if(e.position==="middle"){B=z>=c/2||z<=-c/2,U=1,H=0;const T=i.getBoundingClientRect(),O=T.top-p,A=`${O}px`,$=D.deltaY<=0?-1:1,P=(p+T.height)*$,Ct=B?`${P}px`:"0px",Gt=[{offset:0,transform:`translateY(${A})`},{offset:1,transform:`translateY(${Ct})`}];v.keyframes(Gt),C=P-O}else B=z>=c,U=B?1:0,H=w(D.deltaY),C=(B?1-H:H)*a;const k=Math.min(Math.abs(C)/Math.abs(F),200);v.onFinish(()=>{B?(n(),v.destroy()):(e.position==="middle"?v.keyframes(m).progressStart(!0,.5):v.progressStart(!0,0),R.enable(!0))},{oneTimeCallback:!0}).progressEnd(U,H,k)}});return R},QO=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}@supports (inset-inline-start: 0){:host{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host(:dir(rtl)){left:unset;right:unset;right:0}}}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}@supports (inset-inline-start: 0){.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}}@supports not (inset-inline-start: 0){.toast-wrapper{left:var(--start);right:var(--end)}:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}[dir=rtl] .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}@supports selector(:dir(rtl)){.toast-wrapper:dir(rtl){left:unset;right:unset;left:var(--end);right:var(--start)}}}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, #f2f2f2);--border-radius:14px;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-850, #262626);--max-width:700px;--max-height:478px;--start:10px;--end:10px;font-size:clamp(14px, 0.875rem, 43.4px)}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}:host(.ion-color.toast-translucent) .toast-wrapper{background:rgba(var(--ion-color-base-rgb), 0.8)}}.toast-wrapper.toast-middle{opacity:0.01}.toast-content{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:15px;padding-bottom:15px}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;min-height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:clamp(17px, 1.0625rem, 21.998px);font-weight:500;overflow:hidden}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}",JO=QO,t$=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}@supports (inset-inline-start: 0){:host{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host(:dir(rtl)){left:unset;right:unset;right:0}}}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}@supports (inset-inline-start: 0){.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}}@supports not (inset-inline-start: 0){.toast-wrapper{left:var(--start);right:var(--end)}:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}[dir=rtl] .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}@supports selector(:dir(rtl)){.toast-wrapper:dir(rtl){left:unset;right:unset;left:var(--end);right:var(--start)}}}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, #333333);--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-50, #f2f2f2);--max-width:700px;--start:8px;--end:8px;font-size:0.875rem}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}.toast-content{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:14px;padding-bottom:14px}.toast-header{margin-bottom:2px;font-weight:500;line-height:1.25rem}.toast-message{line-height:1.25rem}.toast-layout-baseline .toast-button-group-start{-webkit-margin-start:8px;margin-inline-start:8px}.toast-layout-stacked .toast-button-group-start{-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px}.toast-layout-baseline .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px}.toast-layout-stacked .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px;margin-bottom:8px}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:0.875rem;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}.toast-button-cancel{color:var(--ion-color-step-100, #e6e6e6)}.toast-button-icon-only{border-radius:50%;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}",e$=t$,n$=ze(class extends De{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=Oe(this,"ionToastDidPresent",7),this.willPresent=Oe(this,"ionToastWillPresent",7),this.willDismiss=Oe(this,"ionToastWillDismiss",7),this.didDismiss=Oe(this,"ionToastDidDismiss",7),this.didPresentShorthand=Oe(this,"didPresent",7),this.willPresentShorthand=Oe(this,"willPresent",7),this.willDismissShorthand=Oe(this,"willDismiss",7),this.didDismissShorthand=Oe(this,"didDismiss",7),this.delegateController=ZP(this),this.lockController=zw(),this.triggerController=YP(),this.customHTMLEnabled=he.get("innerHTMLTemplatesEnabled",BR),this.presented=!1,this.dispatchCancelHandler=t=>{const n=t.detail.role;if(up(n)){const i=this.getButtons().find(o=>o.role==="cancel");this.callButtonHandler(i)}},this.createSwipeGesture=t=>{(this.gesture=XO(this.el,t,()=>{this.dismiss(void 0,qw)})).enable(!0)},this.destroySwipeGesture=()=>{const{gesture:t}=this;t!==void 0&&(t.destroy(),this.gesture=void 0)},this.prefersSwipeGesture=()=>{const{swipeGesture:t}=this;return t==="vertical"},this.revealContentToScreenReader=!1,this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.color=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.duration=he.getNumber("toastDuration",0),this.header=void 0,this.layout="baseline",this.message=void 0,this.keyboardClose=!1,this.position="bottom",this.positionAnchor=void 0,this.buttons=void 0,this.translucent=!1,this.animated=!0,this.icon=void 0,this.htmlAttributes=void 0,this.swipeGesture=void 0,this.isOpen=!1,this.trigger=void 0}swipeGestureChanged(){this.destroySwipeGesture(),this.presented&&this.prefersSwipeGesture()&&this.createSwipeGesture(this.lastPresentedPosition)}onIsOpenChange(t,n){t===!0&&n===!1?this.present():t===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:t,el:n,triggerController:i}=this;t&&i.addClickListener(n,t)}connectedCallback(){MP(this.el),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){DP(this.el)}componentDidLoad(){this.isOpen===!0&&Mi(()=>this.present()),this.triggerChanged()}async present(){const t=await this.lockController.lock();await this.delegateController.attachViewToDom();const{el:n,position:i}=this,o=this.getAnchorElement(),s=qO(i,o,ve(this),n);this.lastPresentedPosition=s,await zP(this,"toastEnter",GO,ZO,{position:i,top:s.top,bottom:s.bottom}),this.revealContentToScreenReader=!0,this.duration>0&&(this.durationTimeout=setTimeout(()=>this.dismiss(void 0,"timeout"),this.duration)),this.prefersSwipeGesture()&&this.createSwipeGesture(s),t()}async dismiss(t,n){var i,o;const s=await this.lockController.lock(),{durationTimeout:a,position:c,lastPresentedPosition:u}=this;a&&clearTimeout(a);const f=await jP(this,t,n,"toastLeave",KO,YO,{position:c,top:(i=u==null?void 0:u.top)!==null&&i!==void 0?i:"",bottom:(o=u==null?void 0:u.bottom)!==null&&o!==void 0?o:""});return f&&(this.delegateController.removeViewFromDom(),this.revealContentToScreenReader=!1),this.lastPresentedPosition=void 0,this.destroySwipeGesture(),s(),f}onDidDismiss(){return xb(this.el,"ionToastDidDismiss")}onWillDismiss(){return xb(this.el,"ionToastWillDismiss")}getButtons(){return this.buttons?this.buttons.map(n=>typeof n=="string"?{text:n}:n):[]}getAnchorElement(){const{position:t,positionAnchor:n,el:i}=this;if(n!==void 0){if(t==="middle"&&n!==void 0){zn('The positionAnchor property is ignored when using position="middle".',this.el);return}if(typeof n=="string"){const o=document.getElementById(n);if(o===null){zn(`An anchor element with an ID of "${n}" was not found in the DOM.`,i);return}return o}if(n instanceof De)return n;zn("Invalid positionAnchor value:",n,i)}}async buttonClick(t){const n=t.role;return up(n)?this.dismiss(void 0,n):await this.callButtonHandler(t)?this.dismiss(void 0,n):Promise.resolve()}async callButtonHandler(t){if(t!=null&&t.handler)try{if(await GP(t.handler)===!1)return!1}catch(n){console.error(n)}return!0}renderButtons(t,n){if(t.length===0)return;const i=ve(this),o={"toast-button-group":!0,[`toast-button-group-${n}`]:!0};return st("div",{class:o},t.map(s=>st("button",Object.assign({},s.htmlAttributes,{type:"button",class:i$(s),tabIndex:0,onClick:()=>this.buttonClick(s),part:o$(s)}),st("div",{class:"toast-button-inner"},s.icon&&st("ion-icon",{"aria-hidden":"true",icon:s.icon,slot:s.text===void 0?"icon-only":void 0,class:"toast-button-icon"}),s.text),i==="md"&&st("ion-ripple-effect",{type:s.icon!==void 0&&s.text===void 0?"unbounded":"bounded"}))))}renderToastMessage(t,n=null){const{customHTMLEnabled:i,message:o}=this;return i?st("div",{key:t,"aria-hidden":n,class:"toast-message",part:"message",innerHTML:$R(o)}):st("div",{key:t,"aria-hidden":n,class:"toast-message",part:"message"},o)}renderHeader(t,n=null){return st("div",{key:t,class:"toast-header","aria-hidden":n,part:"header"},this.header)}render(){const{layout:t,el:n,revealContentToScreenReader:i,header:o,message:s}=this,a=this.getButtons(),c=a.filter(m=>m.side==="start"),u=a.filter(m=>m.side!=="start"),f=ve(this),p={"toast-wrapper":!0,[`toast-${this.position}`]:!0,[`toast-layout-${t}`]:!0};return t==="stacked"&&c.length>0&&u.length>0&&zn("This toast is using start and end buttons with the stacked toast layout. We recommend following the best practice of using either start or end buttons with the stacked toast layout.",n),st(qe,Object.assign({key:"23803334fb668f6ce7044d3a321cb84bc753bd16",tabindex:"-1"},this.htmlAttributes,{style:{zIndex:`${6e4+this.overlayIndex}`},class:Ii(this.color,Object.assign(Object.assign({[f]:!0},Bw(this.cssClass)),{"overlay-hidden":!0,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),st("div",{key:"7cd7138ba079fccf97f318b91e9986491ab4214d",class:p},st("div",{key:"93b78fa64e24435adeb77a04c1d1d53d2f093864",class:"toast-container",part:"container"},this.renderButtons(c,"start"),this.icon!==void 0&&st("ion-icon",{key:"9a3c71b164ebcfba2540acb7568beffa76b62f47",class:"toast-icon",part:"icon",icon:this.icon,lazy:!1,"aria-hidden":"true"}),st("div",{key:"feb9268102d844f1314205f7440de7066cf0620e",class:"toast-content",role:"status","aria-atomic":"true","aria-live":"polite"},!i&&o!==void 0&&this.renderHeader("oldHeader","true"),!i&&s!==void 0&&this.renderToastMessage("oldMessage","true"),i&&o!==void 0&&this.renderHeader("header"),i&&s!==void 0&&this.renderToastMessage("header")),this.renderButtons(u,"end"))))}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:JO,md:e$}}},[33,"ion-toast",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],color:[513],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],duration:[2],header:[1],layout:[1],message:[1],keyboardClose:[4,"keyboard-close"],position:[1],positionAnchor:[1,"position-anchor"],buttons:[16],translucent:[4],animated:[4],icon:[1],htmlAttributes:[16],swipeGesture:[1,"swipe-gesture"],isOpen:[4,"is-open"],trigger:[1],revealContentToScreenReader:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),i$=e=>Object.assign({"toast-button":!0,"toast-button-icon-only":e.icon!==void 0&&e.text===void 0,[`toast-button-${e.role}`]:e.role!==void 0,"ion-focusable":!0,"ion-activatable":!0},Bw(e.cssClass)),o$=e=>up(e.role)?"button cancel":"button";function r$(){if(typeof customElements>"u")return;["ion-toast","ion-icon","ion-ripple-effect"].forEach(t=>{switch(t){case"ion-toast":customElements.get(t)||customElements.define(t,n$);break;case"ion-icon":customElements.get(t)||Rm();break;case"ion-ripple-effect":customElements.get(t)||$s();break}})}const s$=r$;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var t_;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(t_||(t_={}));const e_="update:modelValue",gf="modelValue",a$="routerLink",n_="navManager",l$="router",c$="aria",ha=Symbol(),vf={default:ha},i_=e=>(e==null?void 0:e.split(" "))||[],u$=(e,t,n=[])=>{var i;return[...Array.from(((i=e.value)===null||i===void 0?void 0:i.classList)||[]),...n].filter((o,s,a)=>!t.has(o)&&a.indexOf(o)===s)},pi=(e,t,n=[],i,o)=>{t!==void 0&&t();const s=fn((a,{attrs:c,slots:u,emit:f})=>{var p;let m=a[i];const v=me(),w=new Set(i_(c.class)),E={created:z=>{(Array.isArray(o)?o:[o]).forEach(U=>{z.addEventListener(U.toLowerCase(),H=>{m=(H==null?void 0:H.target)[i],f(e_,m)})})}},I=Cc(),D=((p=I==null?void 0:I.appContext)===null||p===void 0?void 0:p.provides[n_])?dn(n_):void 0,F=z=>{const{routerLink:B}=a;if(B!==ha)if(D!==void 0){let U={event:z};for(const H in a){const C=a[H];a.hasOwnProperty(H)&&H.startsWith(l$)&&C!==ha&&(U[H]=C)}D.navigate(U)}else console.warn("Tried to navigate, but no router was found. Make sure you have mounted Vue Router.")};return()=>{m=a[i],i_(c.class).forEach(C=>{w.add(C)});const z=a.onClick,B=C=>{z!==void 0&&z(C),C.defaultPrevented||F(C)};let U={ref:v,class:u$(v,w),onClick:B};for(const C in a){const k=a[C];(a.hasOwnProperty(C)&&k!==ha||C.startsWith(c$))&&(U[C]=k)}i&&(a[gf]!==ha?U=Object.assign(Object.assign({},U),{[i]:a[gf]}):m!==ha&&(U=Object.assign(Object.assign({},U),{[i]:m})));const H=hn(e,U,u.default&&u.default());return i===void 0?H:Zu(H,[[E]])}});return typeof s!="function"&&(s.name=e,s.props={[a$]:vf},n.forEach(a=>{s.props[a]=vf}),i&&(s.props[gf]=vf,s.emits=[e_])),s},Tp=pi("ion-badge",LC,["color"]),d$=pi("ion-button",qC,["color","buttonType","disabled","expand","fill","routerDirection","routerAnimation","download","href","rel","shape","size","strong","target","type","form","ionFocus","ionBlur"]),h$=pi("ion-buttons",QC,["collapse"]),o_=pi("ion-chip",rP,["color","outline","disabled"]),nh=pi("ion-content",pP,["color","fullscreen","forceOverscroll","scrollX","scrollY","scrollEvents","ionScrollStart","ionScroll","ionScrollEnd"]),f$=pi("ion-header",OR,["collapse","translucent"]),p$=pi("ion-item",FR,["color","button","detail","detailIcon","disabled","download","fill","shape","href","rel","lines","counter","routerAnimation","routerDirection","target","type","counterFormatter"]),m$=pi("ion-item-option",GR,["color","disabled","download","expandable","href","rel","target","type"]),g$=pi("ion-item-options",t2,["side","ionSwipe"]),v$=pi("ion-item-sliding",c2,["disabled","ionDrag"]),b$=pi("ion-list",g2,["lines","inset"]),_$=pi("ion-title",V2,["color","size","ionStyle"]),y$=pi("ion-toolbar",q2,["color"]);var ro;(function(e){e.WillEnter="onIonViewWillEnter",e.DidEnter="onIonViewDidEnter",e.WillLeave="onIonViewWillLeave",e.DidLeave="onIonViewDidLeave"})(ro||(ro={}));const w$={[Om]:ro.WillEnter,[$m]:ro.DidEnter,[Yd]:ro.WillLeave,[Xd]:ro.DidLeave},r_={main:0},x$=(e="main")=>{var t;const n=((t=r_[e])!==null&&t!==void 0?t:0)+1;return r_[e]=n,n.toString()},Eu=(e,t,n)=>{e!=null&&e[n]&&e[n].bind(t==null?void 0:t.value)();const i=t==null?void 0:t.value;if(i!=null&&i[n]&&i[n](),i){const o=w$[n],s=i[o];s&&s.forEach(a=>a())}},wx=()=>{if(typeof window<"u"){const e=window.Ionic;if(e&&e.config)return e.config}return null},E$=(e,t,n)=>{if(n){const i=n,o=i.proxy[e]||(i.proxy[e]=[]);i.exposed&&(i.exposed[e]=o);const s=(...a)=>{if(!i.isUnmounted)return a?t(...a):t()};return o.push(s),s}else console.warn("[@ionic/vue]: Ionic Lifecycle Hooks can only be used during execution of setup().")},ih=e=>(t,n=Cc())=>E$(e,t,n);ih(ro.WillEnter);ih(ro.DidEnter);ih(ro.WillLeave);ih(ro.DidLeave);const bf=e=>e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase(),T$=()=>({ael:(e,t,n,i)=>e.addEventListener(bf(t),n,i),rel:(e,t,n,i)=>e.removeEventListener(bf(t),n,i),ce:(e,t)=>new CustomEvent(bf(e),t)}),k$={async install(e,t={}){typeof document<"u"&&document.documentElement.classList.add("ion-ce");const{ael:n,rel:i,ce:o}=T$();oC(Object.assign(Object.assign({},t),{_ael:n,_rel:i,_ce:o}))}},I$=fn((e,{attrs:t,slots:n})=>{Q2();const i=dn("navManager"),o=()=>{if(i===void 0)return;const s=t["default-href"]||t.defaultHref,a=t["router-animation"]||t.routerAnimation;i.handleNavigateBack(s,a)};return()=>hn("ion-back-button",Object.assign({onClick:o},t),n.default&&n.default())});I$.name="IonBackButton";const $c=fn({name:"IonPage",props:{registerIonPage:{type:Function,default:()=>{}}},mounted(){this.$props.registerIonPage(this.$refs.ionPage)},setup(e,{attrs:t,slots:n}){return()=>hn("div",Object.assign(Object.assign({},t),{class:"ion-page",ref:"ionPage"}),n.default&&n.default())}}),s_=e=>!e.classList.contains("ion-page-hidden")&&!e.classList.contains("ion-page-invisible"),a_=Symbol(0),xx=fn({name:"IonRouterOutlet",setup(){iL();const e=dn(th),t=lO(),n=dn(a_,0),i=ti(()=>t.matched[n]);let o,s;ya(a_,n+1),ya(px,i);const a=me(),c=x$("ion-router-outlet"),u=dn("navManager"),f=dn("viewStacks"),p=Sc([]);let m=!1,v;qo(()=>[t,i.value],([B,U])=>{if(U!==void 0){const H=U!==o,C=B.matched[B.matched.length-1]===U&&B.path!==s;(H||C)&&F(i)}o=U,s=B.path},{deep:!0});const w=()=>{const B=wx();if(!(B&&B.get("swipeBackEnabled",a.value.mode==="ios")))return!1;const H=f.getViewStack(c);if(!H||H.length<=1)return!1;const C=u.getLeavingRouteInfo();return!!f.findViewItemByRouteInfo({pathname:C.pushedByRoute||""},c)},E=async()=>{const B=u.getLeavingRouteInfo(),{routerAnimation:U}=B,H=f.findViewItemByRouteInfo({pathname:B.pushedByRoute||""},c),C=f.findViewItemByRouteInfo(B,c);if(C){let k=U;const T=H.ionPageElement,O=C.ionPageElement,A=H.routerAnimation;k===void 0&&A!==void 0&&(k=A),C.routerAnimation=k,await R(T,O,"back",u.canGoBack(2),!0,k)}return Promise.resolve()},I=B=>{if(B)m=!0,u.handleNavigateBack();else{const U=u.getCurrentRouteInfo(),H=f.findViewItemByRouteInfo({pathname:U.pushedByRoute||""},c);H.ionPageElement.setAttribute("aria-hidden","true"),H.ionPageElement.classList.add("ion-page-hidden")}};qo(a,()=>{a.value.swipeHandler={canStart:w,onStart:E,onEnd:I}});const R=async(B,U,H,C,k,T)=>{if(m)return m=!1,Promise.resolve(!1);if(B===U)return Promise.resolve(!1);B.classList.add("ion-page-invisible");const O=H===void 0||H==="root"||H==="none";return await a.value.commit(B,U,{duration:O&&T===void 0?0:void 0,direction:H,showGoBack:C,progressAnimation:k,animationBuilder:T})},D=async()=>{const B=u.getCurrentRouteInfo(),{routerDirection:U,routerAction:H,routerAnimation:C,prevRouteLastPathname:k,delta:T}=B,O=f.findViewItemByRouteInfo(B,c);let A=f.findLeavingViewItemByRouteInfo(B,c);const $=O.ionPageElement;if($===void 0&&console.warn(`[@ionic/vue Warning]: The view you are trying to render for path ${B.pathname} does not have the required <ion-page> component. Transitions and lifecycle methods may not work as expected.

See https://ionicframework.com/docs/vue/navigation#ionpage for more information.`),O!==A&&(!A&&k&&(A=f.findViewItemByPathname(k,c)),!(s_($)&&(A==null?void 0:A.ionPageElement)!==void 0&&!s_(A.ionPageElement)))){if(Eu(O.vueComponent,O.vueComponentRef,Om),A!=null&&A.ionPageElement&&O!==A){let P=C;const Ct=A.ionPageElement;Eu(A.vueComponent,A.vueComponentRef,Yd);const Gt=O.routerAnimation;P===void 0&&U==="back"&&Gt!==void 0&&(P=Gt),A.routerAnimation=P,await R($,Ct,U,!!B.pushedByRoute,!1,P),Ct.classList.add("ion-page-hidden"),Ct.setAttribute("aria-hidden","true");const Vt=f.size()===1;H==="replace"?(A.mount=!1,A.ionPageElement=void 0,A.ionRoute=!1):H==="push"&&U==="forward"?Vt&&f.mountIntermediaryViews(c,A,T):U!=="none"&&A&&O!==A&&(A.mount=!1,A.ionPageElement=void 0,A.ionRoute=!1,Vt&&f.unmountLeavingViews(c,O,T)),Eu(A.vueComponent,A.vueComponentRef,Xd)}else requestAnimationFrame(()=>$.classList.remove("ion-page-invisible"));Eu(O.vueComponent,O.vueComponentRef,$m),p.value=f.getChildrenToRender(c)}},F=B=>{const U=t.matched[0];if(v||(v=U.path),!B.value||B.value!==U&&U.path!==v)return;const H=u.getCurrentRouteInfo();let C=f.findViewItemByRouteInfo(H,c);C||(C=f.createViewItem(c,B.value.components.default,B.value,H),f.add(C)),C.mount?D():(C.mount=!0,C.registerCallback=()=>{D(),C.registerCallback=void 0}),p.value=f.getChildrenToRender(c)};return i.value&&F(i),Fd(()=>f.clear(c)),{id:c,components:p,injectedRoute:e,ionRouterOutlet:a,registerIonPage:(B,U)=>{const H=B.ionPageElement;f.registerIonPage(B,U),B.registerCallback?(U.classList.add("ion-page-invisible"),B.registerCallback()):H&&!H.classList.contains("ion-page-invisible")&&U.classList.remove("ion-page-invisible")}}},render(){const{components:e,registerIonPage:t,injectedRoute:n}=this;return hn("ion-router-outlet",{ref:"ionRouterOutlet"},e&&e.map(i=>{var o,s;let a={ref:i.vueComponentRef,key:i.pathname,registerIonPage:p=>t(i,p)};const c=(s=(o=i.matchedRoute)===null||o===void 0?void 0:o.props)===null||s===void 0?void 0:s.default,f=c?c===!0?i.params:typeof c=="function"?(()=>{var p;const m=(p=i.vueComponentData)===null||p===void 0?void 0:p.propsFunctionResult;if(m)return m;{const v=c(n);return i.vueComponentData=Object.assign(Object.assign({},i.vueComponentData),{propsFunctionResult:v}),v}})():c:null;return a=Object.assign(Object.assign({},a),f),hn(i.vueComponent,a)}))}}),_f=fn({name:"IonTabButton",props:{_getTabState:{type:Function,default:()=>({})},disabled:Boolean,download:String,href:String,rel:String,layout:String,selected:Boolean,tab:String,target:String},setup(e,{slots:t}){mO();const n=dn("navManager"),i=o=>{o.cancelable&&o.preventDefault();const{tab:s,href:a,_getTabState:c}=e,u=c(),f=u.tabs[s]||{},p=f.originalHref||a,m=f.currentHref||a;u.activeTab===s?p!==m&&n.resetTab(s):n.changeTab(s,m)};return()=>hn("ion-tab-button",Object.assign({onClick:i},e),t.default&&t.default())}}),l_="ionTabsWillChange",c_="ionTabsDidChange",u_=e=>e.type&&(e.type.name==="IonRouterOutlet"||e.type==="ion-router-outlet"),S$=e=>e.type&&(e.type.name==="IonTabBar"||e.type==="ion-tab-bar"),A$=fn({name:"IonTabs",emits:[l_,c_],render(){var e;const{$slots:t,$emit:n}=this,i=t.default&&t.default();let o;if(i&&i.length>0&&(o=i.find(a=>u_(a))),!o)throw new Error("IonTabs must contain an IonRouterOutlet. See https://ionicframework.com/docs/vue/navigation#working-with-tabs for more information.");let s=[hn("div",{class:"tabs-inner",style:{position:"relative",flex:"1",contain:"layout size style"}},o)];if(i&&i.length>0){const a=i.filter(f=>!f.type||!u_(f)),c=a.find(f=>S$(f)),u=c&&((e=c.props)===null||e===void 0?void 0:e.slot)==="top";c&&(c.props||(c.props={}),c.props._tabsWillChange=f=>n(l_,{tab:f}),c.props._tabsDidChange=f=>n(c_,{tab:f})),u?s=[...a,...s]:s=[...s,...a]}return hn("ion-tabs",{style:{display:"flex",position:"absolute",top:"0",left:"0",right:"0",bottom:"0","flex-direction":"column",width:"100%",height:"100%",contain:"layout size style","z-index":"0"}},s)}}),Ex=e=>{var t;return((t=e.type)===null||t===void 0?void 0:t.name)==="IonTabButton"},Tx=e=>{let t=[];return e.forEach(n=>{if(Ex(n))t.push(n);else if(Array.isArray(n.children)&&n.children.length>1){const i=Tx(n.children);t=[...t,...i]}}),t},C$=fn({name:"IonTabBar",props:{_tabsWillChange:{type:Function,default:()=>{}},_tabsDidChange:{type:Function,default:()=>{}}},data(){return{tabState:{activeTab:void 0,tabs:{}},tabVnodes:[]}},updated(){this.setupTabState(dn("navManager"))},methods:{setupTabState(e){const t=this.$data.tabState,n=Cc();(this.$data.tabVnodes=Tx(n.subTree.children||[])).forEach(o=>{t.tabs[o.props.tab]={originalHref:o.props.href,currentHref:o.props.href,ref:o},o.component.props._getTabState=()=>t}),this.checkActiveTab(e)},checkActiveTab(e){const t=e.getCurrentRouteInfo(),n=this.$data.tabVnodes,{tabs:i,activeTab:o}=this.$data.tabState,s=this.$data.tabState,c=Object.keys(i).find(m=>{const v=i[m].originalHref;return t.pathname.startsWith(v)});if(n.forEach(m=>{const v=i[m.props.tab];(!v||v.originalHref!==m.props.href)&&(i[m.props.tab]={originalHref:m.props.href,currentHref:m.props.href,ref:m})}),c&&o){const m=this.$data.tabState.tabs[o].currentHref;if(c!==o||m!==t.pathname){const v=t.search?`?${t.search}`:"";i[c]=Object.assign(Object.assign({},i[c]),{currentHref:t.pathname+v})}t.routerAction==="pop"&&c!==o&&(i[o]=Object.assign(Object.assign({},i[o]),{currentHref:i[o].originalHref}))}const u=n.find(m=>{var v;return Ex(m)&&((v=m.props)===null||v===void 0?void 0:v.tab)===c}),f=this.$refs.ionTabBar,p=c!==o;f&&(u?(p&&this.$props._tabsWillChange(c),e.handleSetCurrentTab(c),f.selectedTab=s.activeTab=c,p&&this.$props._tabsDidChange(c)):f.selectedTab=s.activeTab="")}},mounted(){const e=dn("navManager");this.setupTabState(e),e.registerHistoryChangeListener(()=>this.checkActiveTab(e))},setup(e,{slots:t}){return xO(),()=>hn("ion-tab-bar",{ref:"ionTabBar"},t.default&&t.default())}}),dc=Sc([]),kx=fn((e,{attrs:t,slots:n})=>(CO(),()=>hn("ion-app",Object.assign({},t),[n.default&&n.default(),...dc.value])));kx.name="IonApp";const P$=e=>{dc.value=[...dc.value,e]},R$=e=>{dc.value=dc.value.filter(t=>t!==e)},L$=(e=P$,t=R$)=>{const n=new WeakMap;return{attachViewToDom:(s,a,c={},u)=>{const f=document.createElement("div");u&&f.classList.add(...u),s.appendChild(f);const p=hn(Jk,{to:f},hn(a,Object.assign({},c)));return n.set(f,p),e(p),Promise.resolve(f)},removeViewFromDom:(s,a)=>{const c=n.get(a);return c&&t(c),Promise.resolve()}}},Ix=fn(e=>{I2();const t=Sc([]),o=L$(s=>t.value=[...t.value,s],s=>t.value=t.value.filter(a=>a!==s));return()=>hn("ion-nav",Object.assign(Object.assign({},e),{delegate:o}),t.value)});Ix.name="IonNav";Ix.props={animated:{type:Boolean,default:!0},animation:{type:Function,default:void 0},root:{type:[Function,Object,String],default:void 0},rootParams:{type:Object,default:void 0},swipeGesture:{type:Boolean,default:void 0}};const ge=fn({name:"IonIcon",props:{color:String,flipRtl:Boolean,icon:String,ios:String,lazy:String,md:String,mode:String,name:String,size:String,src:String},setup(e,{slots:t}){return HO(),()=>{var n,i;const{icon:o,ios:s,md:a,mode:c}=e;let u;const f=wx(),p=c||(f==null?void 0:f.get("mode"));return s||a?p==="ios"?u=(n=s??a)!==null&&n!==void 0?n:o:u=(i=a??s)!==null&&i!==void 0?i:o:u=o,hn("ion-icon",Object.assign(Object.assign({},e),{icon:u}),t)}}}),kp=Symbol(),d_={default:kp},O$=(e,t,n=[],i,o)=>{const c=o!==void 0?(()=>fn((u,{slots:f,emit:p})=>{const m=[{componentEv:`${e}-will-present`,frameworkEv:"willPresent"},{componentEv:`${e}-did-present`,frameworkEv:"didPresent"},{componentEv:`${e}-will-dismiss`,frameworkEv:"willDismiss"},{componentEv:`${e}-did-dismiss`,frameworkEv:"didDismiss"}];t!==void 0&&t();const v=me(),w=async()=>{u.isOpen&&await D(u)},E=async(F,z)=>{const B=F.props.isOpen,U=z.props.isOpen;B!==U&&(B?await D(u):await R())},I=async()=>{await R()},R=async()=>{v.value&&(await v.value,v.value=v.value.dismiss(),await v.value,v.value=void 0)},D=async F=>{var z;if(v.value&&await v.value,!((z=v.value)===null||z===void 0)&&z.present){await v.value.present();return}let B={};for(const H in F){const C=F[H];F.hasOwnProperty(H)&&C!==kp&&(B[H]=C)}delete B.onWillPresent,delete B.onDidPresent,delete B.onWillDismiss,delete B.onDidDismiss;const U=f.default&&f.default()[0];v.value=o.create(Object.assign(Object.assign({},B),{component:U})),v.value=await v.value,m.forEach(H=>{v.value.addEventListener(H.componentEv,()=>{p(H.frameworkEv)})}),await v.value.present()};return()=>hn("div",{style:{display:"none"},onVnodeMounted:w,onVnodeUpdated:E,onVnodeBeforeUnmount:I,isOpen:u.isOpen===!0})}))():(()=>fn((u,{slots:f})=>{t!==void 0&&t();const p=me(!1),m=me();return Ua(()=>{m.value.addEventListener("ion-mount",()=>p.value=!0),m.value.addEventListener("will-present",()=>p.value=!0),m.value.addEventListener("did-dismiss",()=>p.value=!1)}),()=>{let v={};for(const E in u){const I=u[E];u.hasOwnProperty(E)&&I!==kp&&(v[E]=I)}const w=()=>i?hn("div",{className:"ion-delegate-host ion-page"},f):f;return hn(e,Object.assign(Object.assign({},v),{ref:m}),p.value||v.keepContentsMounted||v.keepContentsMounted===""?w():void 0)}}))();return c.name=e,c.props={isOpen:d_},n.forEach(u=>{c.props[u]=d_}),o!==void 0&&(c.emits=["willPresent","didPresent","willDismiss","didDismiss"]),c},$$=O$("ion-toast",s$,["animated","buttons","color","cssClass","duration","enterAnimation","header","htmlAttributes","icon","isOpen","keyboardClose","layout","leaveAnimation","message","mode","position","positionAnchor","swipeGesture","translucent","trigger"]),Mu="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M250.26 166.05L256 288l5.73-121.95a5.74 5.74 0 00-5.79-6h0a5.74 5.74 0 00-5.68 6z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 367.91a20 20 0 1120-20 20 20 0 01-20 20z'/></svg>",Ip="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M350.54 148.68l-26.62-42.06C318.31 100.08 310.62 96 302 96h-92c-8.62 0-16.31 4.08-21.92 10.62l-26.62 42.06C155.85 155.23 148.62 160 140 160H80a32 32 0 00-32 32v192a32 32 0 0032 32h352a32 32 0 0032-32V192a32 32 0 00-32-32h-59c-8.65 0-16.85-4.77-22.46-11.32z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='272' r='80' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M124 158v-22h-24v22' class='ionicon-fill-none ionicon-stroke-width'/></svg>",M$="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M352 176L217.6 336 160 272' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Sx="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",D$="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",N$="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M320 320L192 192M192 320l128-128' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Sp="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M368 368L144 144M368 144L144 368' class='ionicon-fill-none ionicon-stroke-width'/></svg>",V$="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M436.67 184.11a27.17 27.17 0 01-38.3 0l-22.48-22.49a27.15 27.15 0 010-38.29l50.89-50.89a.85.85 0 00-.26-1.38C393.68 57 351.09 64.15 324.05 91c-25.88 25.69-27.35 64.27-17.87 98a27 27 0 01-7.67 27.14l-173 160.76a40.76 40.76 0 1057.57 57.54l162.15-173.3a27 27 0 0126.77-7.7c33.46 8.94 71.49 7.26 97.07-17.94 27.49-27.08 33.42-74.94 20.1-102.33a.85.85 0 00-1.36-.22z' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M224 284c-17.48-17-25.49-24.91-31-30.29a18.24 18.24 0 01-3.33-21.35 20.76 20.76 0 013.5-4.62l15.68-15.29a18.66 18.66 0 015.63-3.87 18.11 18.11 0 0120 3.62c5.45 5.29 15.43 15 33.41 32.52M317.07 291.3c40.95 38.1 90.62 83.27 110 99.41a13.46 13.46 0 01.94 19.92L394.63 444a14 14 0 01-20.29-.76c-16.53-19.18-61.09-67.11-99.27-107' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M17.34 193.5l29.41-28.74a4.71 4.71 0 013.41-1.35 4.85 4.85 0 013.41 1.35h0a9.86 9.86 0 008.19 2.77c3.83-.42 7.92-1.6 10.57-4.12 6-5.8-.94-17.23 4.34-24.54a207 207 0 0119.78-22.6c6-5.88 29.84-28.32 69.9-44.45A107.31 107.31 0 01206.67 64c22.59 0 40 10 46.26 15.67a89.54 89.54 0 0110.28 11.64 78.92 78.92 0 00-9.21-2.77 68.82 68.82 0 00-20-1.26c-13.33 1.09-29.41 7.26-38 14-13.9 11-19.87 25.72-20.81 44.71-.68 14.12 2.72 22.1 36.1 55.49a6.6 6.6 0 01-.34 9.16l-18.22 18a6.88 6.88 0 01-9.54.09c-21.94-21.94-36.65-33.09-45-38.16s-15.07-6.5-18.3-6.85a30.85 30.85 0 00-18.27 3.87 11.39 11.39 0 00-2.64 2 14.14 14.14 0 00.42 20.08l1.71 1.6a4.63 4.63 0 010 6.64L71.73 246.6a4.71 4.71 0 01-3.41 1.4 4.86 4.86 0 01-3.41-1.35l-47.57-46.43a4.88 4.88 0 010-6.72z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",B$="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 00-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 000-17.47C428.89 172.28 347.8 112 255.66 112z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='256' r='80' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",F$="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='48' y='80' width='416' height='352' rx='48' ry='48' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='336' cy='176' r='32' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M304 335.79l-90.66-90.49a32 32 0 00-43.87-1.3L48 352M224 432l123.34-123.34a32 32 0 0143.11-2L464 368' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",z$="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M160 144h288M160 256h288M160 368h288' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='144' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='256' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='368' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",U$="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M256 96V56M256 456v-40' class='ionicon-fill-none'/><path d='M256 112a144 144 0 10144 144 144 144 0 00-144-144z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M416 256h40M56 256h40' class='ionicon-fill-none'/></svg>",j$="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48c-79.5 0-144 61.39-144 137 0 87 96 224.87 131.25 272.49a15.77 15.77 0 0025.5 0C304 409.89 400 272.07 400 185c0-75.61-64.5-137-144-137z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='192' r='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",H$="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 208v-95a80 80 0 00-160 0v95' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='96' y='208' width='320' height='272' rx='48' ry='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",q$="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M304 336v40a40 40 0 01-40 40H104a40 40 0 01-40-40V136a40 40 0 0140-40h152c22.09 0 48 17.91 48 40v40M368 336l80-80-80-80M176 256h256' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",W$="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='48' y='96' width='416' height='320' rx='40' ry='40' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M112 160l144 112 144-112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",G$="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M313.27 124.64L198.73 51.36a32 32 0 00-29.28.35L56.51 127.49A16 16 0 0048 141.63v295.8a16 16 0 0023.49 14.14l97.82-63.79a32 32 0 0129.5-.24l111.86 73a32 32 0 0029.27-.11l115.43-75.94a16 16 0 008.63-14.2V74.57a16 16 0 00-23.49-14.14l-98 63.86a32 32 0 01-29.24.35zM328 128v336M184 48v336' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",K$="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M128.51 204.59q-.37 6.15-.37 12.76C128.14 304 110 320 84.33 351.43 73.69 364.45 83 384 101.62 384H320M414.5 335.3c-18.48-23.45-30.62-47.05-30.62-118 0-79.3-40.52-107.57-73.88-121.3-4.43-1.82-8.6-6-9.95-10.55C294.21 65.54 277.82 48 256 48s-38.2 17.55-44 37.47c-1.35 4.6-5.52 8.71-10 10.53a149.57 149.57 0 00-18 8.79M320 384v16a64 64 0 01-128 0v-16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M448 448L64 64' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Z$="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M427.68 351.43C402 320 383.87 304 383.87 217.35 383.87 138 343.35 109.73 310 96c-4.43-1.82-8.6-6-9.95-10.55C294.2 65.54 277.8 48 256 48s-38.21 17.55-44 37.47c-1.35 4.6-5.52 8.71-9.95 10.53-33.39 13.75-73.87 41.92-73.87 121.35C128.13 304 110 320 84.32 351.43 73.68 364.45 83 384 101.61 384h308.88c18.51 0 27.77-19.61 17.19-32.57zM320 384v16a64 64 0 01-128 0v-16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Ap="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Y$="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M470.3 271.15L43.16 447.31a7.83 7.83 0 01-11.16-7V327a8 8 0 016.51-7.86l247.62-47c17.36-3.29 17.36-28.15 0-31.44l-247.63-47a8 8 0 01-6.5-7.85V72.59c0-5.74 5.88-10.26 11.16-8L470.3 241.76a16 16 0 010 29.39z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Ax="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M434.67 285.59v-29.8c0-98.73-80.24-178.79-179.2-178.79a179 179 0 00-140.14 67.36m-38.53 82v29.8C76.8 355 157 435 256 435a180.45 180.45 0 00140-66.92' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M32 256l44-44 46 44M480 256l-44 44-46-44' class='ionicon-fill-none ionicon-stroke-width'/></svg>",X$="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 128v144h96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Bm="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 400v64M256 208v64M256 48v32M416 208H102.63a16 16 0 01-11.32-4.69L32 144l59.31-59.31A16 16 0 01102.63 80H416a16 16 0 0116 16v96a16 16 0 01-16 16zM96 400h313.37a16 16 0 0011.32-4.69L480 336l-59.31-59.31a16 16 0 00-11.32-4.69H96a16 16 0 00-16 16v96a16 16 0 0016 16z' class='ionicon-fill-none ionicon-stroke-width'/></svg>";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Q$=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){const s=e[n++];t[i++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){const s=e[n++],a=e[n++],c=e[n++],u=((o&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(s&63)<<6|a&63)}}return t.join("")},Px={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<e.length;o+=3){const s=e[o],a=o+1<e.length,c=a?e[o+1]:0,u=o+2<e.length,f=u?e[o+2]:0,p=s>>2,m=(s&3)<<4|c>>4;let v=(c&15)<<2|f>>6,w=f&63;u||(w=64,a||(v=64)),i.push(n[p],n[m],n[v],n[w])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Cx(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Q$(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<e.length;){const s=n[e.charAt(o++)],c=o<e.length?n[e.charAt(o)]:0;++o;const f=o<e.length?n[e.charAt(o)]:64;++o;const m=o<e.length?n[e.charAt(o)]:64;if(++o,s==null||c==null||f==null||m==null)throw new J$;const v=s<<2|c>>4;if(i.push(v),f!==64){const w=c<<4&240|f>>2;if(i.push(w),m!==64){const E=f<<6&192|m;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class J$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const t4=function(e){const t=Cx(e);return Px.encodeByteArray(t,!0)},pd=function(e){return t4(e).replace(/\./g,"")},Rx=function(e){try{return Px.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=()=>e4().__FIREBASE_DEFAULTS__,i4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},o4=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Rx(e[1]);return t&&JSON.parse(t)},oh=()=>{try{return n4()||i4()||o4()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Lx=e=>{var t,n;return(n=(t=oh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},r4=e=>{const t=Lx(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Ox=()=>{var e;return(e=oh())===null||e===void 0?void 0:e.config},$x=e=>{var t;return(t=oh())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),c="";return[pd(JSON.stringify(n)),pd(JSON.stringify(a)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wn())}function c4(){var e;const t=(e=oh())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function u4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function d4(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function h4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function f4(){const e=Wn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function p4(){return!c4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mx(){try{return typeof indexedDB=="object"}catch{return!1}}function Dx(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var s;t(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function m4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="FirebaseError";class mo extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=g4,Object.setPrototypeOf(this,mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ms.prototype.create)}}class Ms{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},o=`${this.service}/${t}`,s=this.errors[t],a=s?v4(s,i):"Error",c=`${this.serviceName}: ${a} (${o}).`;return new mo(o,c,i)}}function v4(e,t){return e.replace(b4,(n,i)=>{const o=t[i];return o!=null?String(o):`<${i}?>`})}const b4=/\{\$([^}]+)}/g;function _4(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function md(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const o of n){if(!i.includes(o))return!1;const s=e[o],a=t[o];if(h_(s)&&h_(a)){if(!md(s,a))return!1}else if(s!==a)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function h_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Cl(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,s]=i.split("=");t[decodeURIComponent(o)]=decodeURIComponent(s)}}),t}function Pl(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function y4(e,t){const n=new w4(e,t);return n.subscribe.bind(n)}class w4{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let o;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");x4(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:i},o.next===void 0&&(o.next=yf),o.error===void 0&&(o.error=yf),o.complete===void 0&&(o.complete=yf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x4(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function yf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(e){return e&&e._delegate?e._delegate:e}class qi{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new s4;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(k4(t))try{this.getOrInitializeService({instanceIdentifier:ds})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:o});i.resolve(s)}catch{}}}}clearInstance(t=ds){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ds){return this.instances.has(t)}getOptions(t=ds){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);i===c&&a.resolve(o)}return o}onInit(t,n){var i;const o=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(o,s);const a=this.instances.get(o);return a&&t(a,o),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:T4(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ds){return this.component?this.component.multipleInstances?t:ds:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T4(e){return e===ds?void 0:e}function k4(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new E4(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(se||(se={}));const S4={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},A4=se.INFO,C4={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},P4=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),o=C4[t];if(o)console[o](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Fm{constructor(t){this.name=t,this._logLevel=A4,this._logHandler=P4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in se))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?S4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...t),this._logHandler(this,se.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...t),this._logHandler(this,se.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,se.INFO,...t),this._logHandler(this,se.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,se.WARN,...t),this._logHandler(this,se.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...t),this._logHandler(this,se.ERROR,...t)}}const R4=(e,t)=>t.some(n=>e instanceof n);let f_,p_;function L4(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O4(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nx=new WeakMap,Cp=new WeakMap,Vx=new WeakMap,wf=new WeakMap,zm=new WeakMap;function $4(e){const t=new Promise((n,i)=>{const o=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Go(e.result)),o()},a=()=>{i(e.error),o()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&Nx.set(n,e)}).catch(()=>{}),zm.set(t,e),t}function M4(e){if(Cp.has(e))return;const t=new Promise((n,i)=>{const o=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),o()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});Cp.set(e,t)}let Pp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Cp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Vx.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Go(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function D4(e){Pp=e(Pp)}function N4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(xf(this),t,...n);return Vx.set(i,t.sort?t.sort():[t]),Go(i)}:O4().includes(e)?function(...t){return e.apply(xf(this),t),Go(Nx.get(this))}:function(...t){return Go(e.apply(xf(this),t))}}function V4(e){return typeof e=="function"?N4(e):(e instanceof IDBTransaction&&M4(e),R4(e,L4())?new Proxy(e,Pp):e)}function Go(e){if(e instanceof IDBRequest)return $4(e);if(wf.has(e))return wf.get(e);const t=V4(e);return t!==e&&(wf.set(e,t),zm.set(t,e)),t}const xf=e=>zm.get(e);function rh(e,t,{blocked:n,upgrade:i,blocking:o,terminated:s}={}){const a=indexedDB.open(e,t),c=Go(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Go(a.result),u.oldVersion,u.newVersion,Go(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),o&&u.addEventListener("versionchange",f=>o(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}function Ef(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",i=>t(i.oldVersion,i)),Go(n).then(()=>{})}const B4=["get","getKey","getAll","getAllKeys","count"],F4=["put","add","delete","clear"],Tf=new Map;function m_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Tf.get(t))return Tf.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,o=F4.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||B4.includes(n)))return;const s=async function(a,...c){const u=this.transaction(a,o?"readwrite":"readonly");let f=u.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),o&&u.done]))[0]};return Tf.set(t,s),s}D4(e=>({...e,get:(t,n,i)=>m_(t,n)||e.get(t,n,i),has:(t,n)=>!!m_(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(U4(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function U4(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Rp="@firebase/app",g_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new Fm("@firebase/app"),j4="@firebase/app-compat",H4="@firebase/analytics-compat",q4="@firebase/analytics",W4="@firebase/app-check-compat",G4="@firebase/app-check",K4="@firebase/auth",Z4="@firebase/auth-compat",Y4="@firebase/database",X4="@firebase/data-connect",Q4="@firebase/database-compat",J4="@firebase/functions",tM="@firebase/functions-compat",eM="@firebase/installations",nM="@firebase/installations-compat",iM="@firebase/messaging",oM="@firebase/messaging-compat",rM="@firebase/performance",sM="@firebase/performance-compat",aM="@firebase/remote-config",lM="@firebase/remote-config-compat",cM="@firebase/storage",uM="@firebase/storage-compat",dM="@firebase/firestore",hM="@firebase/vertexai-preview",fM="@firebase/firestore-compat",pM="firebase",mM="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="[DEFAULT]",gM={[Rp]:"fire-core",[j4]:"fire-core-compat",[q4]:"fire-analytics",[H4]:"fire-analytics-compat",[G4]:"fire-app-check",[W4]:"fire-app-check-compat",[K4]:"fire-auth",[Z4]:"fire-auth-compat",[Y4]:"fire-rtdb",[X4]:"fire-data-connect",[Q4]:"fire-rtdb-compat",[J4]:"fire-fn",[tM]:"fire-fn-compat",[eM]:"fire-iid",[nM]:"fire-iid-compat",[iM]:"fire-fcm",[oM]:"fire-fcm-compat",[rM]:"fire-perf",[sM]:"fire-perf-compat",[aM]:"fire-rc",[lM]:"fire-rc-compat",[cM]:"fire-gcs",[uM]:"fire-gcs-compat",[dM]:"fire-fst",[fM]:"fire-fst-compat",[hM]:"fire-vertex","fire-js":"fire-js",[pM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=new Map,vM=new Map,Op=new Map;function v_(e,t){try{e.container.addComponent(t)}catch(n){tr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function fo(e){const t=e.name;if(Op.has(t))return tr.debug(`There were multiple attempts to register component ${t}.`),!1;Op.set(t,e);for(const n of gd.values())v_(n,e);for(const n of vM.values())v_(n,e);return!0}function Ha(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function zo(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new Ms("app","Firebase",bM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=mM;function Bx(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Lp,automaticDataCollectionEnabled:!1},t),o=i.name;if(typeof o!="string"||!o)throw Lr.create("bad-app-name",{appName:String(o)});if(n||(n=Ox()),!n)throw Lr.create("no-options");const s=gd.get(o);if(s){if(md(n,s.options)&&md(i,s.config))return s;throw Lr.create("duplicate-app",{appName:o})}const a=new I4(o);for(const u of Op.values())a.addComponent(u);const c=new _M(n,i,a);return gd.set(o,c),c}function Um(e=Lp){const t=gd.get(e);if(!t&&e===Lp&&Ox())return Bx();if(!t)throw Lr.create("no-app",{appName:e});return t}function ki(e,t,n){var i;let o=(i=gM[e])!==null&&i!==void 0?i:e;n&&(o+=`-${n}`);const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const c=[`Unable to register library "${o}" with version "${t}":`];s&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),tr.warn(c.join(" "));return}fo(new qi(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="firebase-heartbeat-database",wM=1,hc="firebase-heartbeat-store";let kf=null;function Fx(){return kf||(kf=rh(yM,wM,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(hc)}catch(n){console.warn(n)}}}}).catch(e=>{throw Lr.create("idb-open",{originalErrorMessage:e.message})})),kf}async function xM(e){try{const n=(await Fx()).transaction(hc),i=await n.objectStore(hc).get(zx(e));return await n.done,i}catch(t){if(t instanceof mo)tr.warn(t.message);else{const n=Lr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});tr.warn(n.message)}}}async function b_(e,t){try{const i=(await Fx()).transaction(hc,"readwrite");await i.objectStore(hc).put(t,zx(e)),await i.done}catch(n){if(n instanceof mo)tr.warn(n.message);else{const i=Lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});tr.warn(i.message)}}}function zx(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=1024,TM=30*24*60*60*1e3;class kM{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SM(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=__();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=TM}),this._storage.overwrite(this._heartbeatsCache))}catch(i){tr.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=__(),{heartbeatsToSend:i,unsentEntries:o}=IM(this._heartbeatsCache.heartbeats),s=pd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return tr.warn(n),""}}}function __(){return new Date().toISOString().substring(0,10)}function IM(e,t=EM){const n=[];let i=e.slice();for(const o of e){const s=n.find(a=>a.agent===o.agent);if(s){if(s.dates.push(o.date),y_(n)>t){s.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),y_(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class SM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mx()?Dx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return b_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return b_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function y_(e){return pd(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(e){fo(new qi("platform-logger",t=>new z4(t),"PRIVATE")),fo(new qi("heartbeat",t=>new kM(t),"PRIVATE")),ki(Rp,g_,e),ki(Rp,g_,"esm2017"),ki("fire-js","")}AM("");var CM="firebase",PM="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki(CM,PM,"app");var w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xs,Ux;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,k){function T(){}T.prototype=k.prototype,C.D=k.prototype,C.prototype=new T,C.prototype.constructor=C,C.C=function(O,A,$){for(var P=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)P[Ct-2]=arguments[Ct];return k.prototype[A].apply(O,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,k,T){T||(T=0);var O=Array(16);if(typeof k=="string")for(var A=0;16>A;++A)O[A]=k.charCodeAt(T++)|k.charCodeAt(T++)<<8|k.charCodeAt(T++)<<16|k.charCodeAt(T++)<<24;else for(A=0;16>A;++A)O[A]=k[T++]|k[T++]<<8|k[T++]<<16|k[T++]<<24;k=C.g[0],T=C.g[1],A=C.g[2];var $=C.g[3],P=k+($^T&(A^$))+O[0]+3614090360&4294967295;k=T+(P<<7&4294967295|P>>>25),P=$+(A^k&(T^A))+O[1]+3905402710&4294967295,$=k+(P<<12&4294967295|P>>>20),P=A+(T^$&(k^T))+O[2]+606105819&4294967295,A=$+(P<<17&4294967295|P>>>15),P=T+(k^A&($^k))+O[3]+3250441966&4294967295,T=A+(P<<22&4294967295|P>>>10),P=k+($^T&(A^$))+O[4]+4118548399&4294967295,k=T+(P<<7&4294967295|P>>>25),P=$+(A^k&(T^A))+O[5]+1200080426&4294967295,$=k+(P<<12&4294967295|P>>>20),P=A+(T^$&(k^T))+O[6]+2821735955&4294967295,A=$+(P<<17&4294967295|P>>>15),P=T+(k^A&($^k))+O[7]+4249261313&4294967295,T=A+(P<<22&4294967295|P>>>10),P=k+($^T&(A^$))+O[8]+1770035416&4294967295,k=T+(P<<7&4294967295|P>>>25),P=$+(A^k&(T^A))+O[9]+2336552879&4294967295,$=k+(P<<12&4294967295|P>>>20),P=A+(T^$&(k^T))+O[10]+4294925233&4294967295,A=$+(P<<17&4294967295|P>>>15),P=T+(k^A&($^k))+O[11]+2304563134&4294967295,T=A+(P<<22&4294967295|P>>>10),P=k+($^T&(A^$))+O[12]+1804603682&4294967295,k=T+(P<<7&4294967295|P>>>25),P=$+(A^k&(T^A))+O[13]+4254626195&4294967295,$=k+(P<<12&4294967295|P>>>20),P=A+(T^$&(k^T))+O[14]+2792965006&4294967295,A=$+(P<<17&4294967295|P>>>15),P=T+(k^A&($^k))+O[15]+1236535329&4294967295,T=A+(P<<22&4294967295|P>>>10),P=k+(A^$&(T^A))+O[1]+4129170786&4294967295,k=T+(P<<5&4294967295|P>>>27),P=$+(T^A&(k^T))+O[6]+3225465664&4294967295,$=k+(P<<9&4294967295|P>>>23),P=A+(k^T&($^k))+O[11]+643717713&4294967295,A=$+(P<<14&4294967295|P>>>18),P=T+($^k&(A^$))+O[0]+3921069994&4294967295,T=A+(P<<20&4294967295|P>>>12),P=k+(A^$&(T^A))+O[5]+3593408605&4294967295,k=T+(P<<5&4294967295|P>>>27),P=$+(T^A&(k^T))+O[10]+38016083&4294967295,$=k+(P<<9&4294967295|P>>>23),P=A+(k^T&($^k))+O[15]+3634488961&4294967295,A=$+(P<<14&4294967295|P>>>18),P=T+($^k&(A^$))+O[4]+3889429448&4294967295,T=A+(P<<20&4294967295|P>>>12),P=k+(A^$&(T^A))+O[9]+568446438&4294967295,k=T+(P<<5&4294967295|P>>>27),P=$+(T^A&(k^T))+O[14]+3275163606&4294967295,$=k+(P<<9&4294967295|P>>>23),P=A+(k^T&($^k))+O[3]+4107603335&4294967295,A=$+(P<<14&4294967295|P>>>18),P=T+($^k&(A^$))+O[8]+1163531501&4294967295,T=A+(P<<20&4294967295|P>>>12),P=k+(A^$&(T^A))+O[13]+2850285829&4294967295,k=T+(P<<5&4294967295|P>>>27),P=$+(T^A&(k^T))+O[2]+4243563512&4294967295,$=k+(P<<9&4294967295|P>>>23),P=A+(k^T&($^k))+O[7]+1735328473&4294967295,A=$+(P<<14&4294967295|P>>>18),P=T+($^k&(A^$))+O[12]+2368359562&4294967295,T=A+(P<<20&4294967295|P>>>12),P=k+(T^A^$)+O[5]+4294588738&4294967295,k=T+(P<<4&4294967295|P>>>28),P=$+(k^T^A)+O[8]+2272392833&4294967295,$=k+(P<<11&4294967295|P>>>21),P=A+($^k^T)+O[11]+1839030562&4294967295,A=$+(P<<16&4294967295|P>>>16),P=T+(A^$^k)+O[14]+4259657740&4294967295,T=A+(P<<23&4294967295|P>>>9),P=k+(T^A^$)+O[1]+2763975236&4294967295,k=T+(P<<4&4294967295|P>>>28),P=$+(k^T^A)+O[4]+1272893353&4294967295,$=k+(P<<11&4294967295|P>>>21),P=A+($^k^T)+O[7]+4139469664&4294967295,A=$+(P<<16&4294967295|P>>>16),P=T+(A^$^k)+O[10]+3200236656&4294967295,T=A+(P<<23&4294967295|P>>>9),P=k+(T^A^$)+O[13]+681279174&4294967295,k=T+(P<<4&4294967295|P>>>28),P=$+(k^T^A)+O[0]+3936430074&4294967295,$=k+(P<<11&4294967295|P>>>21),P=A+($^k^T)+O[3]+3572445317&4294967295,A=$+(P<<16&4294967295|P>>>16),P=T+(A^$^k)+O[6]+76029189&4294967295,T=A+(P<<23&4294967295|P>>>9),P=k+(T^A^$)+O[9]+3654602809&4294967295,k=T+(P<<4&4294967295|P>>>28),P=$+(k^T^A)+O[12]+3873151461&4294967295,$=k+(P<<11&4294967295|P>>>21),P=A+($^k^T)+O[15]+530742520&4294967295,A=$+(P<<16&4294967295|P>>>16),P=T+(A^$^k)+O[2]+3299628645&4294967295,T=A+(P<<23&4294967295|P>>>9),P=k+(A^(T|~$))+O[0]+4096336452&4294967295,k=T+(P<<6&4294967295|P>>>26),P=$+(T^(k|~A))+O[7]+1126891415&4294967295,$=k+(P<<10&4294967295|P>>>22),P=A+(k^($|~T))+O[14]+2878612391&4294967295,A=$+(P<<15&4294967295|P>>>17),P=T+($^(A|~k))+O[5]+4237533241&4294967295,T=A+(P<<21&4294967295|P>>>11),P=k+(A^(T|~$))+O[12]+1700485571&4294967295,k=T+(P<<6&4294967295|P>>>26),P=$+(T^(k|~A))+O[3]+2399980690&4294967295,$=k+(P<<10&4294967295|P>>>22),P=A+(k^($|~T))+O[10]+4293915773&4294967295,A=$+(P<<15&4294967295|P>>>17),P=T+($^(A|~k))+O[1]+2240044497&4294967295,T=A+(P<<21&4294967295|P>>>11),P=k+(A^(T|~$))+O[8]+1873313359&4294967295,k=T+(P<<6&4294967295|P>>>26),P=$+(T^(k|~A))+O[15]+4264355552&4294967295,$=k+(P<<10&4294967295|P>>>22),P=A+(k^($|~T))+O[6]+2734768916&4294967295,A=$+(P<<15&4294967295|P>>>17),P=T+($^(A|~k))+O[13]+1309151649&4294967295,T=A+(P<<21&4294967295|P>>>11),P=k+(A^(T|~$))+O[4]+4149444226&4294967295,k=T+(P<<6&4294967295|P>>>26),P=$+(T^(k|~A))+O[11]+3174756917&4294967295,$=k+(P<<10&4294967295|P>>>22),P=A+(k^($|~T))+O[2]+718787259&4294967295,A=$+(P<<15&4294967295|P>>>17),P=T+($^(A|~k))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+k&4294967295,C.g[1]=C.g[1]+(A+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+A&4294967295,C.g[3]=C.g[3]+$&4294967295}i.prototype.u=function(C,k){k===void 0&&(k=C.length);for(var T=k-this.blockSize,O=this.B,A=this.h,$=0;$<k;){if(A==0)for(;$<=T;)o(this,C,$),$+=this.blockSize;if(typeof C=="string"){for(;$<k;)if(O[A++]=C.charCodeAt($++),A==this.blockSize){o(this,O),A=0;break}}else for(;$<k;)if(O[A++]=C[$++],A==this.blockSize){o(this,O),A=0;break}}this.h=A,this.o+=k},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var k=1;k<C.length-8;++k)C[k]=0;var T=8*this.o;for(k=C.length-8;k<C.length;++k)C[k]=T&255,T/=256;for(this.u(C),C=Array(16),k=T=0;4>k;++k)for(var O=0;32>O;O+=8)C[T++]=this.g[k]>>>O&255;return C};function s(C,k){var T=c;return Object.prototype.hasOwnProperty.call(T,C)?T[C]:T[C]=k(C)}function a(C,k){this.h=k;for(var T=[],O=!0,A=C.length-1;0<=A;A--){var $=C[A]|0;O&&$==k||(T[A]=$,O=!1)}this.g=T}var c={};function u(C){return-128<=C&&128>C?s(C,function(k){return new a([k|0],0>k?-1:0)}):new a([C|0],0>C?-1:0)}function f(C){if(isNaN(C)||!isFinite(C))return m;if(0>C)return R(f(-C));for(var k=[],T=1,O=0;C>=T;O++)k[O]=C/T|0,T*=4294967296;return new a(k,0)}function p(C,k){if(C.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(C.charAt(0)=="-")return R(p(C.substring(1),k));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=f(Math.pow(k,8)),O=m,A=0;A<C.length;A+=8){var $=Math.min(8,C.length-A),P=parseInt(C.substring(A,A+$),k);8>$?($=f(Math.pow(k,$)),O=O.j($).add(f(P))):(O=O.j(T),O=O.add(f(P)))}return O}var m=u(0),v=u(1),w=u(16777216);e=a.prototype,e.m=function(){if(I(this))return-R(this).m();for(var C=0,k=1,T=0;T<this.g.length;T++){var O=this.i(T);C+=(0<=O?O:4294967296+O)*k,k*=4294967296}return C},e.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(E(this))return"0";if(I(this))return"-"+R(this).toString(C);for(var k=f(Math.pow(C,6)),T=this,O="";;){var A=B(T,k).g;T=D(T,A.j(k));var $=((0<T.g.length?T.g[0]:T.h)>>>0).toString(C);if(T=A,E(T))return $+O;for(;6>$.length;)$="0"+$;O=$+O}},e.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function E(C){if(C.h!=0)return!1;for(var k=0;k<C.g.length;k++)if(C.g[k]!=0)return!1;return!0}function I(C){return C.h==-1}e.l=function(C){return C=D(this,C),I(C)?-1:E(C)?0:1};function R(C){for(var k=C.g.length,T=[],O=0;O<k;O++)T[O]=~C.g[O];return new a(T,~C.h).add(v)}e.abs=function(){return I(this)?R(this):this},e.add=function(C){for(var k=Math.max(this.g.length,C.g.length),T=[],O=0,A=0;A<=k;A++){var $=O+(this.i(A)&65535)+(C.i(A)&65535),P=($>>>16)+(this.i(A)>>>16)+(C.i(A)>>>16);O=P>>>16,$&=65535,P&=65535,T[A]=P<<16|$}return new a(T,T[T.length-1]&-2147483648?-1:0)};function D(C,k){return C.add(R(k))}e.j=function(C){if(E(this)||E(C))return m;if(I(this))return I(C)?R(this).j(R(C)):R(R(this).j(C));if(I(C))return R(this.j(R(C)));if(0>this.l(w)&&0>C.l(w))return f(this.m()*C.m());for(var k=this.g.length+C.g.length,T=[],O=0;O<2*k;O++)T[O]=0;for(O=0;O<this.g.length;O++)for(var A=0;A<C.g.length;A++){var $=this.i(O)>>>16,P=this.i(O)&65535,Ct=C.i(A)>>>16,Gt=C.i(A)&65535;T[2*O+2*A]+=P*Gt,F(T,2*O+2*A),T[2*O+2*A+1]+=$*Gt,F(T,2*O+2*A+1),T[2*O+2*A+1]+=P*Ct,F(T,2*O+2*A+1),T[2*O+2*A+2]+=$*Ct,F(T,2*O+2*A+2)}for(O=0;O<k;O++)T[O]=T[2*O+1]<<16|T[2*O];for(O=k;O<2*k;O++)T[O]=0;return new a(T,0)};function F(C,k){for(;(C[k]&65535)!=C[k];)C[k+1]+=C[k]>>>16,C[k]&=65535,k++}function z(C,k){this.g=C,this.h=k}function B(C,k){if(E(k))throw Error("division by zero");if(E(C))return new z(m,m);if(I(C))return k=B(R(C),k),new z(R(k.g),R(k.h));if(I(k))return k=B(C,R(k)),new z(R(k.g),k.h);if(30<C.g.length){if(I(C)||I(k))throw Error("slowDivide_ only works with positive integers.");for(var T=v,O=k;0>=O.l(C);)T=U(T),O=U(O);var A=H(T,1),$=H(O,1);for(O=H(O,2),T=H(T,2);!E(O);){var P=$.add(O);0>=P.l(C)&&(A=A.add(T),$=P),O=H(O,1),T=H(T,1)}return k=D(C,A.j(k)),new z(A,k)}for(A=m;0<=C.l(k);){for(T=Math.max(1,Math.floor(C.m()/k.m())),O=Math.ceil(Math.log(T)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),$=f(T),P=$.j(k);I(P)||0<P.l(C);)T-=O,$=f(T),P=$.j(k);E($)&&($=v),A=A.add($),C=D(C,P)}return new z(A,C)}e.A=function(C){return B(this,C).h},e.and=function(C){for(var k=Math.max(this.g.length,C.g.length),T=[],O=0;O<k;O++)T[O]=this.i(O)&C.i(O);return new a(T,this.h&C.h)},e.or=function(C){for(var k=Math.max(this.g.length,C.g.length),T=[],O=0;O<k;O++)T[O]=this.i(O)|C.i(O);return new a(T,this.h|C.h)},e.xor=function(C){for(var k=Math.max(this.g.length,C.g.length),T=[],O=0;O<k;O++)T[O]=this.i(O)^C.i(O);return new a(T,this.h^C.h)};function U(C){for(var k=C.g.length+1,T=[],O=0;O<k;O++)T[O]=C.i(O)<<1|C.i(O-1)>>>31;return new a(T,C.h)}function H(C,k){var T=k>>5;k%=32;for(var O=C.g.length-T,A=[],$=0;$<O;$++)A[$]=0<k?C.i($+T)>>>k|C.i($+T+1)<<32-k:C.i($+T);return new a(A,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Ux=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=p,xs=a}).apply(typeof w_<"u"?w_:typeof self<"u"?self:typeof window<"u"?window:{});var Tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jx,Rl,Hx,Du,$p,qx,Wx,Gx;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,b,y){return d==Array.prototype||d==Object.prototype||(d[b]=y.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tu=="object"&&Tu];for(var b=0;b<d.length;++b){var y=d[b];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=n(this);function o(d,b){if(b)t:{var y=i;d=d.split(".");for(var S=0;S<d.length-1;S++){var j=d[S];if(!(j in y))break t;y=y[j]}d=d[d.length-1],S=y[d],b=b(S),b!=S&&b!=null&&t(y,d,{configurable:!0,writable:!0,value:b})}}function s(d,b){d instanceof String&&(d+="");var y=0,S=!1,j={next:function(){if(!S&&y<d.length){var X=y++;return{value:b(X,d[X]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(d){return d||function(){return s(this,function(b,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function u(d){var b=typeof d;return b=b!="object"?b:d?Array.isArray(d)?"array":b:"null",b=="array"||b=="object"&&typeof d.length=="number"}function f(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function p(d,b,y){return d.call.apply(d.bind,arguments)}function m(d,b,y){if(!d)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),d.apply(b,j)}}return function(){return d.apply(b,arguments)}}function v(d,b,y){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,v.apply(null,arguments)}function w(d,b){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),d.apply(this,S)}}function E(d,b){function y(){}y.prototype=b.prototype,d.aa=b.prototype,d.prototype=new y,d.prototype.constructor=d,d.Qb=function(S,j,X){for(var pt=Array(arguments.length-2),be=2;be<arguments.length;be++)pt[be-2]=arguments[be];return b.prototype[j].apply(S,pt)}}function I(d){const b=d.length;if(0<b){const y=Array(b);for(let S=0;S<b;S++)y[S]=d[S];return y}return[]}function R(d,b){for(let y=1;y<arguments.length;y++){const S=arguments[y];if(u(S)){const j=d.length||0,X=S.length||0;d.length=j+X;for(let pt=0;pt<X;pt++)d[j+pt]=S[pt]}else d.push(S)}}class D{constructor(b,y){this.i=b,this.j=y,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function F(d){return/^[\s\xa0]*$/.test(d)}function z(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function B(d){return B[" "](d),d}B[" "]=function(){};var U=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function H(d,b,y){for(const S in d)b.call(y,d[S],S,d)}function C(d,b){for(const y in d)b.call(void 0,d[y],y,d)}function k(d){const b={};for(const y in d)b[y]=d[y];return b}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,b){let y,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(y in S)d[y]=S[y];for(let X=0;X<T.length;X++)y=T[X],Object.prototype.hasOwnProperty.call(S,y)&&(d[y]=S[y])}}function A(d){var b=1;d=d.split(":");const y=[];for(;0<b&&d.length;)y.push(d.shift()),b--;return d.length&&y.push(d.join(":")),y}function $(d){c.setTimeout(()=>{throw d},0)}function P(){var d=nt;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class Ct{constructor(){this.h=this.g=null}add(b,y){const S=Gt.get();S.set(b,y),this.h?this.h.next=S:this.g=S,this.h=S}}var Gt=new D(()=>new Vt,d=>d.reset());class Vt{constructor(){this.next=this.g=this.h=null}set(b,y){this.h=b,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let wt,tt=!1,nt=new Ct,G=()=>{const d=c.Promise.resolve(void 0);wt=()=>{d.then(ut)}};var ut=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(y){$(y)}var b=Gt;b.j(d),100>b.h&&(b.h++,d.next=b.g,b.g=d)}tt=!1};function St(){this.s=this.s,this.C=this.C}St.prototype.s=!1,St.prototype.ma=function(){this.s||(this.s=!0,this.N())},St.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Dt(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}Dt.prototype.h=function(){this.defaultPrevented=!0};var Ot=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const y=()=>{};c.addEventListener("test",y,b),c.removeEventListener("test",y,b)}catch{}return d}();function Rt(d,b){if(Dt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var y=this.type=d.type,S=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget){if(U){t:{try{B(b.nodeName);var j=!0;break t}catch{}j=!1}j||(b=null)}}else y=="mouseover"?b=d.fromElement:y=="mouseout"&&(b=d.toElement);this.relatedTarget=b,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:yt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Rt.aa.h.call(this)}}E(Rt,Dt);var yt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),mt=0;function vt(d,b,y,S,j){this.listener=d,this.proxy=null,this.src=b,this.type=y,this.capture=!!S,this.ha=j,this.key=++mt,this.da=this.fa=!1}function Tt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function zt(d){this.src=d,this.g={},this.h=0}zt.prototype.add=function(d,b,y,S,j){var X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);var pt=M(d,b,S,j);return-1<pt?(b=d[pt],y||(b.fa=!1)):(b=new vt(b,this.src,X,!!S,j),b.fa=y,d.push(b)),b};function oe(d,b){var y=b.type;if(y in d.g){var S=d.g[y],j=Array.prototype.indexOf.call(S,b,void 0),X;(X=0<=j)&&Array.prototype.splice.call(S,j,1),X&&(Tt(b),d.g[y].length==0&&(delete d.g[y],d.h--))}}function M(d,b,y,S){for(var j=0;j<d.length;++j){var X=d[j];if(!X.da&&X.listener==b&&X.capture==!!y&&X.ha==S)return j}return-1}var N="closure_lm_"+(1e6*Math.random()|0),W={};function ot(d,b,y,S,j){if(S&&S.once)return gt(d,b,y,S,j);if(Array.isArray(b)){for(var X=0;X<b.length;X++)ot(d,b[X],y,S,j);return null}return y=Mt(y),d&&d[Q]?d.K(b,y,f(S)?!!S.capture:!!S,j):J(d,b,y,!1,S,j)}function J(d,b,y,S,j,X){if(!b)throw Error("Invalid event type");var pt=f(j)?!!j.capture:!!j,be=bt(d);if(be||(d[N]=be=new zt(d)),y=be.add(b,y,S,pt,X),y.proxy)return y;if(S=rt(),y.proxy=S,S.src=d,S.listener=y,d.addEventListener)Ot||(j=pt),j===void 0&&(j=!1),d.addEventListener(b.toString(),S,j);else if(d.attachEvent)d.attachEvent(at(b.toString()),S);else if(d.addListener&&d.removeListener)d.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function rt(){function d(y){return b.call(d.src,d.listener,y)}const b=Lt;return d}function gt(d,b,y,S,j){if(Array.isArray(b)){for(var X=0;X<b.length;X++)gt(d,b[X],y,S,j);return null}return y=Mt(y),d&&d[Q]?d.L(b,y,f(S)?!!S.capture:!!S,j):J(d,b,y,!0,S,j)}function ft(d,b,y,S,j){if(Array.isArray(b))for(var X=0;X<b.length;X++)ft(d,b[X],y,S,j);else S=f(S)?!!S.capture:!!S,y=Mt(y),d&&d[Q]?(d=d.i,b=String(b).toString(),b in d.g&&(X=d.g[b],y=M(X,y,S,j),-1<y&&(Tt(X[y]),Array.prototype.splice.call(X,y,1),X.length==0&&(delete d.g[b],d.h--)))):d&&(d=bt(d))&&(b=d.g[b.toString()],d=-1,b&&(d=M(b,y,S,j)),(y=-1<d?b[d]:null)&&ht(y))}function ht(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[Q])oe(b.i,d);else{var y=d.type,S=d.proxy;b.removeEventListener?b.removeEventListener(y,S,d.capture):b.detachEvent?b.detachEvent(at(y),S):b.addListener&&b.removeListener&&b.removeListener(S),(y=bt(b))?(oe(y,d),y.h==0&&(y.src=null,b[N]=null)):Tt(d)}}}function at(d){return d in W?W[d]:W[d]="on"+d}function Lt(d,b){if(d.da)d=!0;else{b=new Rt(b,this);var y=d.listener,S=d.ha||d.src;d.fa&&ht(d),d=y.call(S,b)}return d}function bt(d){return d=d[N],d instanceof zt?d:null}var kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mt(d){return typeof d=="function"?d:(d[kt]||(d[kt]=function(b){return d.handleEvent(b)}),d[kt])}function $t(){St.call(this),this.i=new zt(this),this.M=this,this.F=null}E($t,St),$t.prototype[Q]=!0,$t.prototype.removeEventListener=function(d,b,y,S){ft(this,d,b,y,S)};function jt(d,b){var y,S=d.F;if(S)for(y=[];S;S=S.F)y.push(S);if(d=d.M,S=b.type||b,typeof b=="string")b=new Dt(b,d);else if(b instanceof Dt)b.target=b.target||d;else{var j=b;b=new Dt(S,d),O(b,j)}if(j=!0,y)for(var X=y.length-1;0<=X;X--){var pt=b.g=y[X];j=te(pt,S,!0,b)&&j}if(pt=b.g=d,j=te(pt,S,!0,b)&&j,j=te(pt,S,!1,b)&&j,y)for(X=0;X<y.length;X++)pt=b.g=y[X],j=te(pt,S,!1,b)&&j}$t.prototype.N=function(){if($t.aa.N.call(this),this.i){var d=this.i,b;for(b in d.g){for(var y=d.g[b],S=0;S<y.length;S++)Tt(y[S]);delete d.g[b],d.h--}}this.F=null},$t.prototype.K=function(d,b,y,S){return this.i.add(String(d),b,!1,y,S)},$t.prototype.L=function(d,b,y,S){return this.i.add(String(d),b,!0,y,S)};function te(d,b,y,S){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();for(var j=!0,X=0;X<b.length;++X){var pt=b[X];if(pt&&!pt.da&&pt.capture==y){var be=pt.listener,vn=pt.ha||pt.src;pt.fa&&oe(d.i,pt),j=be.call(vn,S)!==!1&&j}}return j&&!S.defaultPrevented}function We(d,b,y){if(typeof d=="function")y&&(d=v(d,y));else if(d&&typeof d.handleEvent=="function")d=v(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:c.setTimeout(d,b||0)}function xe(d){d.g=We(()=>{d.g=null,d.i&&(d.i=!1,xe(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class Ge extends St{constructor(b,y){super(),this.m=b,this.l=y,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:xe(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ee(d){St.call(this),this.h=d,this.g={}}E(Ee,St);var Ne=[];function Tn(d){H(d.g,function(b,y){this.g.hasOwnProperty(y)&&ht(b)},d),d.g={}}Ee.prototype.N=function(){Ee.aa.N.call(this),Tn(this)},Ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ae=c.JSON.stringify,rn=c.JSON.parse,sr=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Ki(){}Ki.prototype.h=null;function Gr(d){return d.h||(d.h=d.i())}function Kr(){}var Zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zr(){Dt.call(this,"d")}E(Zr,Dt);function Yr(){Dt.call(this,"c")}E(Yr,Dt);var Si={},Bs=null;function ar(){return Bs=Bs||new $t}Si.La="serverreachability";function Fs(d){Dt.call(this,Si.La,d)}E(Fs,Dt);function Ai(d){const b=ar();jt(b,new Fs(b))}Si.STAT_EVENT="statevent";function zs(d,b){Dt.call(this,Si.STAT_EVENT,d),this.stat=b}E(zs,Dt);function Ve(d){const b=ar();jt(b,new zs(b,d))}Si.Ma="timingevent";function Xr(d,b){Dt.call(this,Si.Ma,d),this.size=b}E(Xr,Dt);function go(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},b)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function It(d,b,y,S,j,X){d.info(function(){if(d.g)if(X)for(var pt="",be=X.split("&"),vn=0;vn<be.length;vn++){var Kt=be[vn].split("=");if(1<Kt.length){var je=Kt[0];Kt=Kt[1];var yn=je.split("_");pt=2<=yn.length&&yn[1]=="type"?pt+(je+"="+Kt+"&"):pt+(je+"=redacted&")}}else pt=null;else pt=X;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+b+`
`+y+`
`+pt})}function Qr(d,b,y,S,j,X,pt){d.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+b+`
`+y+`
`+X+" "+pt})}function mi(d,b,y,S){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+Us(d,y)+(S?" "+S:"")})}function kn(d,b){d.info(function(){return"TIMEOUT: "+b})}mn.prototype.info=function(){};function Us(d,b){if(!d.g)return b;if(!b)return null;try{var y=JSON.parse(b);if(y){for(d=0;d<y.length;d++)if(Array.isArray(y[d])){var S=y[d];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var X=j[0];if(X!="noop"&&X!="stop"&&X!="close")for(var pt=1;pt<j.length;pt++)j[pt]=""}}}}return Ae(y)}catch{return b}}var Yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ai;function vo(){}E(vo,Ki),vo.prototype.g=function(){return new XMLHttpRequest},vo.prototype.i=function(){return{}},ai=new vo;function gi(d,b,y,S){this.j=d,this.i=b,this.l=y,this.R=S||1,this.U=new Ee(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lr}function lr(){this.i=null,this.g="",this.h=!1}var js={},ts={};function cr(d,b,y){d.L=1,d.v=Qi(Ci(b)),d.m=y,d.P=!0,Hs(d,null)}function Hs(d,b){d.F=Date.now(),bo(d),d.A=Ci(d.v);var y=d.A,S=d.R;Array.isArray(S)||(S=[String(S)]),Wt(y.i,"t",S),d.C=0,y=d.j.J,d.h=new lr,d.g=ml(d.j,y?b:null,!d.m),0<d.O&&(d.M=new Ge(v(d.Y,d,d.g),d.O)),b=d.U,y=d.g,S=d.ca;var j="readystatechange";Array.isArray(j)||(j&&(Ne[0]=j.toString()),j=Ne);for(var X=0;X<j.length;X++){var pt=ot(y,j[X],S||b.handleEvent,!1,b.h||b);if(!pt)break;b.g[pt.key]=pt}b=d.H?k(d.H):{},d.m?(d.u||(d.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,b)):(d.u="GET",d.g.ea(d.A,d.u,null,b)),Ai(),It(d.i,d.u,d.A,d.l,d.R,d.m)}gi.prototype.ca=function(d){d=d.target;const b=this.M;b&&_i(d)==3?b.j():this.Y(d)},gi.prototype.Y=function(d){try{if(d==this.g)t:{const yn=_i(this.g);var b=this.g.Ba();const $n=this.g.Z();if(!(3>yn)&&(yn!=3||this.g&&(this.h.h||this.g.oa()||Zc(this.g)))){this.J||yn!=4||b==7||(b==8||0>=$n?Ai(3):Ai(2)),qs(this);var y=this.g.Z();this.X=y;e:if(Xi(this)){var S=Zc(this.g);d="";var j=S.length,X=_i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dt(this),K(this);var pt="";break e}this.h.i=new c.TextDecoder}for(b=0;b<j;b++)this.h.h=!0,d+=this.h.i.decode(S[b],{stream:!(X&&b==j-1)});S.length=0,this.h.g+=d,this.C=0,pt=this.h.g}else pt=this.g.oa();if(this.o=y==200,Qr(this.i,this.u,this.A,this.l,this.R,yn,y),this.o){if(this.T&&!this.K){e:{if(this.g){var be,vn=this.g;if((be=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(be)){var Kt=be;break e}}Kt=null}if(y=Kt)mi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_t(this,y);else{this.o=!1,this.s=3,Ve(12),dt(this),K(this);break t}}if(this.P){y=!0;let ci;for(;!this.J&&this.C<pt.length;)if(ci=Qa(this,pt),ci==ts){yn==4&&(this.s=4,Ve(14),y=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(ci==js){this.s=4,Ve(15),mi(this.i,this.l,pt,"[Invalid Chunk]"),y=!1;break}else mi(this.i,this.l,ci,null),_t(this,ci);if(Xi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yn!=4||pt.length!=0||this.h.h||(this.s=1,Ve(16),y=!1),this.o=this.o&&y,!y)mi(this.i,this.l,pt,"[Invalid Chunked Response]"),dt(this),K(this);else if(0<pt.length&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.ba&&!je.M&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+pt.length),is(je),je.M=!0,Ve(11))}}else mi(this.i,this.l,pt,null),_t(this,pt);yn==4&&dt(this),this.o&&!this.J&&(yn==4?pl(this.j,this):(this.o=!1,bo(this)))}else ul(this.g),y==400&&0<pt.indexOf("Unknown SID")?(this.s=3,Ve(12)):(this.s=0,Ve(13)),dt(this),K(this)}}}catch{}finally{}};function Xi(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Qa(d,b){var y=d.C,S=b.indexOf(`
`,y);return S==-1?ts:(y=Number(b.substring(y,S)),isNaN(y)?js:(S+=1,S+y>b.length?ts:(b=b.slice(S,S+y),d.C=S+y,b)))}gi.prototype.cancel=function(){this.J=!0,dt(this)};function bo(d){d.S=Date.now()+d.I,Ja(d,d.I)}function Ja(d,b){if(d.B!=null)throw Error("WatchDog timer not null");d.B=go(v(d.ba,d),b)}function qs(d){d.B&&(c.clearTimeout(d.B),d.B=null)}gi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(kn(this.i,this.A),this.L!=2&&(Ai(),Ve(17)),dt(this),this.s=2,K(this)):Ja(this,this.S-d)};function K(d){d.j.G==0||d.J||pl(d.j,d)}function dt(d){qs(d);var b=d.M;b&&typeof b.ma=="function"&&b.ma(),d.M=null,Tn(d.U),d.g&&(b=d.g,d.g=null,b.abort(),b.ma())}function _t(d,b){try{var y=d.j;if(y.G!=0&&(y.g==d||Ie(y.h,d))){if(!d.K&&Ie(y.h,d)&&y.G==3){try{var S=y.Da.g.parse(b)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<d.F)os(y),Xs(y);else break t;ta(y),Ve(18)}}else y.za=j[1],0<y.za-y.T&&37500>j[2]&&y.F&&y.v==0&&!y.C&&(y.C=go(v(y.Za,y),6e3));if(1>=Xt(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else To(y,11)}else if((d.K||y.g==d)&&os(y),!F(b))for(j=y.Da.g.parse(b),b=0;b<j.length;b++){let Kt=j[b];if(y.T=Kt[0],Kt=Kt[1],y.G==2)if(Kt[0]=="c"){y.K=Kt[1],y.ia=Kt[2];const je=Kt[3];je!=null&&(y.la=je,y.j.info("VER="+y.la));const yn=Kt[4];yn!=null&&(y.Aa=yn,y.j.info("SVER="+y.Aa));const $n=Kt[5];$n!=null&&typeof $n=="number"&&0<$n&&(S=1.5*$n,y.L=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const ci=d.g;if(ci){const Oi=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oi){var X=S.h;X.g||Oi.indexOf("spdy")==-1&&Oi.indexOf("quic")==-1&&Oi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ur(X,X.h),X.h=null))}if(S.D){const vl=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;vl&&(S.ya=vl,ce(S.I,S.D,vl))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-d.F,y.j.info("Handshake RTT: "+y.R+"ms")),S=y;var pt=d;if(S.qa=Jc(S,S.J?S.ia:null,S.W),pt.K){_o(S.h,pt);var be=pt,vn=S.L;vn&&(be.I=vn),be.B&&(qs(be),bo(be)),S.g=pt}else fl(S);0<y.i.length&&Js(y)}else Kt[0]!="stop"&&Kt[0]!="close"||To(y,7);else y.G==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?To(y,7):hl(y):Kt[0]!="noop"&&y.l&&y.l.ta(Kt),y.v=0)}}Ai(4)}catch{}}var fe=class{constructor(d,b){this.g=d,this.map=b}};function Re(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qe(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Xt(d){return d.h?1:d.g?d.g.size:0}function Ie(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function ur(d,b){d.g?d.g.add(b):d.h=b}function _o(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}Re.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function yo(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const y of d.g.values())b=b.concat(y.D);return b}return I(d.i)}function tl(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(u(d)){for(var b=[],y=d.length,S=0;S<y;S++)b.push(d[S]);return b}b=[],y=0;for(S in d)b[y++]=d[S];return b}function Jt(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(u(d)||typeof d=="string"){var b=[];d=d.length;for(var y=0;y<d;y++)b.push(y);return b}b=[],y=0;for(const S in d)b[y++]=S;return b}}}function Be(d,b){if(d.forEach&&typeof d.forEach=="function")d.forEach(b,void 0);else if(u(d)||typeof d=="string")Array.prototype.forEach.call(d,b,void 0);else for(var y=Jt(d),S=tl(d),j=S.length,X=0;X<j;X++)b.call(void 0,S[X],y&&y[X],d)}var Ws=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gs(d,b){if(d){d=d.split("&");for(var y=0;y<d.length;y++){var S=d[y].indexOf("="),j=null;if(0<=S){var X=d[y].substring(0,S);j=d[y].substring(S+1)}else X=d[y];b(X,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function sn(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof sn){this.h=d.h,wo(this,d.j),this.o=d.o,this.g=d.g,vi(this,d.s),this.l=d.l;var b=d.i,y=new Ji;y.i=b.i,b.g&&(y.g=new Map(b.g),y.h=b.h),Ue(this,y),this.m=d.m}else d&&(b=String(d).match(Ws))?(this.h=!1,wo(this,b[1]||"",!0),this.o=Pi(b[2]||""),this.g=Pi(b[3]||"",!0),vi(this,b[4]),this.l=Pi(b[5]||"",!0),Ue(this,b[6]||"",!0),this.m=Pi(b[7]||"")):(this.h=!1,this.i=new Ji(null,this.h))}sn.prototype.toString=function(){var d=[],b=this.j;b&&d.push(xo(b,Ks,!0),":");var y=this.g;return(y||b=="file")&&(d.push("//"),(b=this.o)&&d.push(xo(b,Ks,!0),"@"),d.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&d.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&d.push("/"),d.push(xo(y,y.charAt(0)=="/"?Zs:el,!0))),(y=this.i.toString())&&d.push("?",y),(y=this.m)&&d.push("#",xo(y,il)),d.join("")};function Ci(d){return new sn(d)}function wo(d,b,y){d.j=y?Pi(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function vi(d,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);d.s=b}else d.s=null}function Ue(d,b,y){b instanceof Ji?(d.i=b,Te(d.i,d.h)):(y||(b=xo(b,nl)),d.i=new Ji(b,d.h))}function ce(d,b,y){d.i.set(b,y)}function Qi(d){return ce(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Pi(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function xo(d,b,y){return typeof d=="string"?(d=encodeURI(d).replace(b,es),y&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function es(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ks=/[#\/\?@]/g,el=/[#\?:]/g,Zs=/[#\?]/g,nl=/[#\?@]/g,il=/#/g;function Ji(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function Ri(d){d.g||(d.g=new Map,d.h=0,d.i&&Gs(d.i,function(b,y){d.add(decodeURIComponent(b.replace(/\+/g," ")),y)}))}e=Ji.prototype,e.add=function(d,b){Ri(this),this.i=null,d=In(this,d);var y=this.g.get(d);return y||this.g.set(d,y=[]),y.push(b),this.h+=1,this};function Ys(d,b){Ri(d),b=In(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function Wc(d,b){return Ri(d),b=In(d,b),d.g.has(b)}e.forEach=function(d,b){Ri(this),this.g.forEach(function(y,S){y.forEach(function(j){d.call(b,j,S,this)},this)},this)},e.na=function(){Ri(this);const d=Array.from(this.g.values()),b=Array.from(this.g.keys()),y=[];for(let S=0;S<b.length;S++){const j=d[S];for(let X=0;X<j.length;X++)y.push(b[S])}return y},e.V=function(d){Ri(this);let b=[];if(typeof d=="string")Wc(this,d)&&(b=b.concat(this.g.get(In(this,d))));else{d=Array.from(this.g.values());for(let y=0;y<d.length;y++)b=b.concat(d[y])}return b},e.set=function(d,b){return Ri(this),this.i=null,d=In(this,d),Wc(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},e.get=function(d,b){return d?(d=this.V(d),0<d.length?String(d[0]):b):b};function Wt(d,b,y){Ys(d,b),0<y.length&&(d.i=null,d.g.set(In(d,b),I(y)),d.h+=y.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(var y=0;y<b.length;y++){var S=b[y];const X=encodeURIComponent(String(S)),pt=this.V(S);for(S=0;S<pt.length;S++){var j=X;pt[S]!==""&&(j+="="+encodeURIComponent(String(pt[S]))),d.push(j)}}return this.i=d.join("&")};function In(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function Te(d,b){b&&!d.j&&(Ri(d),d.i=null,d.g.forEach(function(y,S){var j=S.toLowerCase();S!=j&&(Ys(this,S),Wt(this,j,y))},d)),d.j=b}function Gc(d,b){const y=new mn;if(c.Image){const S=new Image;S.onload=w(bi,y,"TestLoadImage: loaded",!0,b,S),S.onerror=w(bi,y,"TestLoadImage: error",!1,b,S),S.onabort=w(bi,y,"TestLoadImage: abort",!1,b,S),S.ontimeout=w(bi,y,"TestLoadImage: timeout",!1,b,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=d}else b(!1)}function ol(d,b){const y=new mn,S=new AbortController,j=setTimeout(()=>{S.abort(),bi(y,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:S.signal}).then(X=>{clearTimeout(j),X.ok?bi(y,"TestPingServer: ok",!0,b):bi(y,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(j),bi(y,"TestPingServer: error",!1,b)})}function bi(d,b,y,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(y)}catch{}}function rl(){this.g=new sr}function Eo(d,b,y){const S=y||"";try{Be(d,function(j,X){let pt=j;f(j)&&(pt=Ae(j)),b.push(S+X+"="+encodeURIComponent(pt))})}catch(j){throw b.push(S+"type="+encodeURIComponent("_badmap")),j}}function dr(d){this.l=d.Ub||null,this.j=d.eb||!1}E(dr,Ki),dr.prototype.g=function(){return new to(this.l,this.j)},dr.prototype.i=function(d){return function(){return d}}({});function to(d,b){$t.call(this),this.D=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(to,$t),e=to.prototype,e.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=b,this.readyState=1,hr(this)},e.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(b.body=d),(this.D||c).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,li(this)),this.readyState=0},e.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,hr(this)),this.g&&(this.readyState=3,hr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;an(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function an(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}e.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?li(this):hr(this),this.readyState==3&&an(this)}},e.Ra=function(d){this.g&&(this.response=this.responseText=d,li(this))},e.Qa=function(d){this.g&&(this.response=d,li(this))},e.ga=function(){this.g&&li(this)};function li(d){d.readyState=4,d.l=null,d.j=null,d.v=null,hr(d)}e.setRequestHeader=function(d,b){this.u.append(d,b)},e.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var y=b.next();!y.done;)y=y.value,d.push(y[0]+": "+y[1]),y=b.next();return d.join(`\r
`)};function hr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(to.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function sl(d){let b="";return H(d,function(y,S){b+=S,b+=":",b+=y,b+=`\r
`}),b}function al(d,b,y){t:{for(S in y){var S=!1;break t}S=!0}S||(y=sl(y),typeof d=="string"?y!=null&&encodeURIComponent(String(y)):ce(d,b,y))}function Le(d){$t.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Le,$t);var ll=/^https?$/i,Dh=["POST","PUT"];e=Le.prototype,e.Ha=function(d){this.J=d},e.ea=function(d,b,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ai.g(),this.v=this.o?Gr(this.o):Gr(ai),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(X){cl(this,X);return}if(d=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)y.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())y.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(X=>X.toLowerCase()=="content-type"),j=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Dh,b,void 0))||S||j||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,pt]of y)this.g.setRequestHeader(X,pt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fr(this),this.u=!0,this.g.send(d),this.u=!1}catch(X){cl(this,X)}};function cl(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.m=5,ie(d),On(d)}function ie(d){d.A||(d.A=!0,jt(d,"complete"),jt(d,"error"))}e.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,jt(this,"complete"),jt(this,"abort"),On(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),On(this,!0)),Le.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Kc(this):this.bb())},e.bb=function(){Kc(this)};function Kc(d){if(d.h&&typeof a<"u"&&(!d.v[1]||_i(d)!=4||d.Z()!=2)){if(d.u&&_i(d)==4)We(d.Ea,0,d);else if(jt(d,"readystatechange"),_i(d)==4){d.h=!1;try{const pt=d.Z();t:switch(pt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var y;if(!(y=b)){var S;if(S=pt===0){var j=String(d.D).match(Ws)[1]||null;!j&&c.self&&c.self.location&&(j=c.self.location.protocol.slice(0,-1)),S=!ll.test(j?j.toLowerCase():"")}y=S}if(y)jt(d,"complete"),jt(d,"success");else{d.m=6;try{var X=2<_i(d)?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.Z()+"]",ie(d)}}finally{On(d)}}}}function On(d,b){if(d.g){fr(d);const y=d.g,S=d.v[0]?()=>{}:null;d.g=null,d.v=null,b||jt(d,"ready");try{y.onreadystatechange=S}catch{}}}function fr(d){d.I&&(c.clearTimeout(d.I),d.I=null)}e.isActive=function(){return!!this.g};function _i(d){return d.g?d.g.readyState:0}e.Z=function(){try{return 2<_i(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),rn(b)}};function Zc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ul(d){const b={};d=(d.g&&2<=_i(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<d.length;S++){if(F(d[S]))continue;var y=A(d[S]);const j=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const X=b[j]||[];b[j]=X,X.push(y)}C(b,function(S){return S.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(d,b,y){return y&&y.internalChannelParams&&y.internalChannelParams[d]||b}function dl(d){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ns("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ns("baseRetryDelayMs",5e3,d),this.cb=ns("retryDelaySeedMs",1e4,d),this.Wa=ns("forwardChannelMaxRetries",2,d),this.wa=ns("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Re(d&&d.concurrentRequestLimit),this.Da=new rl,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=dl.prototype,e.la=8,e.G=1,e.connect=function(d,b,y,S){Ve(0),this.W=d,this.H=b||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.I=Jc(this,null,this.W),Js(this)};function hl(d){if(Qs(d),d.G==3){var b=d.U++,y=Ci(d.I);if(ce(y,"SID",d.K),ce(y,"RID",b),ce(y,"TYPE","terminate"),pr(d,y),b=new gi(d,d.j,b),b.L=2,b.v=Qi(Ci(y)),y=!1,c.navigator&&c.navigator.sendBeacon)try{y=c.navigator.sendBeacon(b.v.toString(),"")}catch{}!y&&c.Image&&(new Image().src=b.v,y=!0),y||(b.g=ml(b.j,null),b.g.ea(b.v)),b.F=Date.now(),bo(b)}ea(d)}function Xs(d){d.g&&(is(d),d.g.cancel(),d.g=null)}function Qs(d){Xs(d),d.u&&(c.clearTimeout(d.u),d.u=null),os(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Js(d){if(!Qe(d.h)&&!d.s){d.s=!0;var b=d.Ga;wt||G(),tt||(wt(),tt=!0),nt.add(b,d),d.B=0}}function yi(d,b){return Xt(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=b.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=go(v(d.Ga,d,b),Qc(d,d.B)),d.B++,!0)}e.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const j=new gi(this,this.j,d);let X=this.o;if(this.S&&(X?(X=k(X),O(X,this.S)):X=this.S),this.m!==null||this.O||(j.H=X,X=null),this.P)t:{for(var b=0,y=0;y<this.i.length;y++){e:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(b+=S,4096<b){b=y;break t}if(b===4096||y===this.i.length-1){b=y+1;break t}}b=1e3}else b=1e3;b=Li(this,j,b),y=Ci(this.I),ce(y,"RID",d),ce(y,"CVER",22),this.D&&ce(y,"X-HTTP-Session-Id",this.D),pr(this,y),X&&(this.O?b="headers="+encodeURIComponent(String(sl(X)))+"&"+b:this.m&&al(y,this.m,X)),ur(this.h,j),this.Ua&&ce(y,"TYPE","init"),this.P?(ce(y,"$req",b),ce(y,"SID","null"),j.T=!0,cr(j,y,null)):cr(j,y,b),this.G=2}}else this.G==3&&(d?Yc(this,d):this.i.length==0||Qe(this.h)||Yc(this))};function Yc(d,b){var y;b?y=b.l:y=d.U++;const S=Ci(d.I);ce(S,"SID",d.K),ce(S,"RID",y),ce(S,"AID",d.T),pr(d,S),d.m&&d.o&&al(S,d.m,d.o),y=new gi(d,d.j,y,d.B+1),d.m===null&&(y.H=d.o),b&&(d.i=b.D.concat(d.i)),b=Li(d,y,1e3),y.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ur(d.h,y),cr(y,S,b)}function pr(d,b){d.H&&H(d.H,function(y,S){ce(b,S,y)}),d.l&&Be({},function(y,S){ce(b,S,y)})}function Li(d,b,y){y=Math.min(d.i.length,y);var S=d.l?v(d.l.Na,d.l,d):null;t:{var j=d.i;let X=-1;for(;;){const pt=["count="+y];X==-1?0<y?(X=j[0].g,pt.push("ofs="+X)):X=0:pt.push("ofs="+X);let be=!0;for(let vn=0;vn<y;vn++){let Kt=j[vn].g;const je=j[vn].map;if(Kt-=X,0>Kt)X=Math.max(0,j[vn].g-100),be=!1;else try{Eo(je,pt,"req"+Kt+"_")}catch{S&&S(je)}}if(be){S=pt.join("&");break t}}}return d=d.i.splice(0,y),b.D=d,S}function fl(d){if(!d.g&&!d.u){d.Y=1;var b=d.Fa;wt||G(),tt||(wt(),tt=!0),nt.add(b,d),d.v=0}}function ta(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=go(v(d.Fa,d),Qc(d,d.v)),d.v++,!0)}e.Fa=function(){if(this.u=null,Xc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=go(v(this.ab,this),d)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ve(10),Xs(this),Xc(this))};function is(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function Xc(d){d.g=new gi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var b=Ci(d.qa);ce(b,"RID","rpc"),ce(b,"SID",d.K),ce(b,"AID",d.T),ce(b,"CI",d.F?"0":"1"),!d.F&&d.ja&&ce(b,"TO",d.ja),ce(b,"TYPE","xmlhttp"),pr(d,b),d.m&&d.o&&al(b,d.m,d.o),d.L&&(d.g.I=d.L);var y=d.g;d=d.ia,y.L=1,y.v=Qi(Ci(b)),y.m=null,y.P=!0,Hs(y,d)}e.Za=function(){this.C!=null&&(this.C=null,Xs(this),ta(this),Ve(19))};function os(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function pl(d,b){var y=null;if(d.g==b){os(d),is(d),d.g=null;var S=2}else if(Ie(d.h,b))y=b.D,_o(d.h,b),S=1;else return;if(d.G!=0){if(b.o)if(S==1){y=b.m?b.m.length:0,b=Date.now()-b.F;var j=d.B;S=ar(),jt(S,new Xr(S,y)),Js(d)}else fl(d);else if(j=b.s,j==3||j==0&&0<b.X||!(S==1&&yi(d,b)||S==2&&ta(d)))switch(y&&0<y.length&&(b=d.h,b.i=b.i.concat(y)),j){case 1:To(d,5);break;case 4:To(d,10);break;case 3:To(d,6);break;default:To(d,2)}}}function Qc(d,b){let y=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(y*=2),y*b}function To(d,b){if(d.j.info("Error code "+b),b==2){var y=v(d.fb,d),S=d.Xa;const j=!S;S=new sn(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||wo(S,"https"),Qi(S),j?Gc(S.toString(),y):ol(S.toString(),y)}else Ve(2);d.G=0,d.l&&d.l.sa(b),ea(d),Qs(d)}e.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function ea(d){if(d.G=0,d.ka=[],d.l){const b=yo(d.h);(b.length!=0||d.i.length!=0)&&(R(d.ka,b),R(d.ka,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.ra()}}function Jc(d,b,y){var S=y instanceof sn?Ci(y):new sn(y);if(S.g!="")b&&(S.g=b+"."+S.g),vi(S,S.s);else{var j=c.location;S=j.protocol,b=b?b+"."+j.hostname:j.hostname,j=+j.port;var X=new sn(null);S&&wo(X,S),b&&(X.g=b),j&&vi(X,j),y&&(X.l=y),S=X}return y=d.D,b=d.ya,y&&b&&ce(S,y,b),ce(S,"VER",d.la),pr(d,S),S}function ml(d,b,y){if(b&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Ca&&!d.pa?new Le(new dr({eb:y})):new Le(d.pa),b.Ha(d.J),b}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function gl(){}e=gl.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function ko(){}ko.prototype.g=function(d,b){return new Je(d,b)};function Je(d,b){$t.call(this),this.g=new dl(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(d?d["X-WebChannel-Client-Profile"]=b.va:d={"X-WebChannel-Client-Profile":b.va}),this.g.S=d,(d=b&&b.Sb)&&!F(d)&&(this.g.m=d),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!F(b)&&(this.g.D=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new gn(this)}E(Je,$t),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){hl(this.g)},Je.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var y={};y.__data__=d,d=y}else this.u&&(y={},y.__data__=Ae(d),d=y);b.i.push(new fe(b.Ya++,d)),b.G==3&&Js(b)},Je.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,Je.aa.N.call(this)};function tu(d){Zr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){t:{for(const y in b){d=y;break t}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}E(tu,Zr);function mr(){Yr.call(this),this.status=1}E(mr,Yr);function gn(d){this.g=d}E(gn,gl),gn.prototype.ua=function(){jt(this.g,"a")},gn.prototype.ta=function(d){jt(this.g,new tu(d))},gn.prototype.sa=function(d){jt(this.g,new mr)},gn.prototype.ra=function(){jt(this.g,"b")},ko.prototype.createWebChannel=ko.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,Gx=function(){return new ko},Wx=function(){return ar()},qx=Si,$p={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,Du=Yi,Jr.COMPLETE="complete",Hx=Jr,Kr.EventType=Zi,Zi.OPEN="a",Zi.CLOSE="b",Zi.ERROR="c",Zi.MESSAGE="d",$t.prototype.listen=$t.prototype.K,Rl=Kr,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,jx=Le}).apply(typeof Tu<"u"?Tu:typeof self<"u"?self:typeof window<"u"?window:{});const x_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new Fm("@firebase/firestore");function Il(){return Ss.logLevel}function Pt(e,...t){if(Ss.logLevel<=se.DEBUG){const n=t.map(jm);Ss.debug(`Firestore (${Wa}): ${e}`,...n)}}function er(e,...t){if(Ss.logLevel<=se.ERROR){const n=t.map(jm);Ss.error(`Firestore (${Wa}): ${e}`,...n)}}function Oa(e,...t){if(Ss.logLevel<=se.WARN){const n=t.map(jm);Ss.warn(`Firestore (${Wa}): ${e}`,...n)}}function jm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(e="Unexpected state"){const t=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: `+e;throw er(t),new Error(t)}function we(e,t){e||qt()}function Yt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends mo{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class RM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Dn.UNAUTHENTICATED))}shutdown(){}}class LM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class OM{constructor(t){this.t=t,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){we(this.o===void 0);let i=this.i;const o=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Ko;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ko,t.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await o(this.currentUser)})},c=u=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ko)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(we(typeof i.accessToken=="string"),new Kx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return we(t===null||typeof t=="string"),new Dn(t)}}class $M{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class MM{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new $M(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DM{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NM{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){we(this.o===void 0);const i=s=>{s.error!=null&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Pt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const o=s=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>o(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?o(s):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(we(typeof n.token=="string"),this.R=n.token,new DM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const o=VM(40);for(let s=0;s<o.length;++s)i.length<20&&o[s]<n&&(i+=t.charAt(o[s]%t.length))}return i}}function de(e,t){return e<t?-1:e>t?1:0}function $a(e,t,n){return e.length===t.length&&e.every((i,o)=>n(i,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Et(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Et(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Et(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Et(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ye.fromMillis(Date.now())}static fromDate(t){return Ye.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new Ye(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?de(this.nanoseconds,t.nanoseconds):de(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Zt(t)}static min(){return new Zt(new Ye(0,0))}static max(){return new Zt(new Ye(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t,n,i){n===void 0?n=0:n>t.length&&qt(),i===void 0?i=t.length-n:i>t.length-n&&qt(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return fc.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof fc?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let o=0;o<i;o++){const s=t.get(o),a=n.get(o);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class $e extends fc{construct(t,n,i){return new $e(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Et(it.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const BM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends fc{construct(t,n,i){return new Pn(t,n,i)}static isValidIdentifier(t){return BM.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pn(["__name__"])}static fromServerFormat(t){const n=[];let i="",o=0;const s=()=>{if(i.length===0)throw new Et(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;o<t.length;){const c=t[o];if(c==="\\"){if(o+1===t.length)throw new Et(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[o+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Et(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,o+=2}else c==="`"?(a=!a,o++):c!=="."||a?(i+=c,o++):(s(),o++)}if(s(),a)throw new Et(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Pn(n)}static emptyPath(){return new Pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t){this.path=t}static fromPath(t){return new Nt($e.fromString(t))}static fromName(t){return new Nt($e.fromString(t).popFirst(5))}static empty(){return new Nt($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$e.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return $e.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Nt(new $e(t.slice()))}}function FM(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,o=Zt.fromTimestamp(i===1e9?new Ye(n+1,0):new Ye(n,i));return new Vr(o,Nt.empty(),t)}function zM(e){return new Vr(e.readTime,e.key,-1)}class Vr{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Vr(Zt.min(),Nt.empty(),-1)}static max(){return new Vr(Zt.max(),Nt.empty(),-1)}}function UM(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Nt.comparator(e.documentKey,t.documentKey),n!==0?n:de(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(e){if(e.code!==it.FAILED_PRECONDITION||e.message!==jM)throw e;Pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&qt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ct((i,o)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,o)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof ct?n:ct.resolve(n)}catch(n){return ct.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):ct.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):ct.reject(n)}static resolve(t){return new ct((n,i)=>{n(t)})}static reject(t){return new ct((n,i)=>{i(t)})}static waitFor(t){return new ct((n,i)=>{let o=0,s=0,a=!1;t.forEach(c=>{++o,c.next(()=>{++s,a&&s===o&&n()},u=>i(u))}),a=!0,s===o&&n()})}static or(t){let n=ct.resolve(!1);for(const i of t)n=n.next(o=>o?ct.resolve(o):i());return n}static forEach(t,n){const i=[];return t.forEach((o,s)=>{i.push(n.call(this,o,s))}),this.waitFor(i)}static mapArray(t,n){return new ct((i,o)=>{const s=t.length,a=new Array(s);let c=0;for(let u=0;u<s;u++){const f=u;n(t[f]).next(p=>{a[f]=p,++c,c===s&&i(a)},p=>o(p))}})}static doWhile(t,n){return new ct((i,o)=>{const s=()=>{t()===!0?n().next(()=>{s()},o):i()};s()})}}function qM(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Hm.oe=-1;function sh(e){return e==null}function vd(e){return e===0&&1/e==-1/0}function WM(e){return typeof e=="number"&&Number.isInteger(e)&&!vd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ds(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Yx(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t,n){this.comparator=t,this.root=n||Sn.EMPTY}insert(t,n){return new He(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(t){return new He(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ku(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ku(this.root,t,this.comparator,!1)}getReverseIterator(){return new ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ku(this.root,t,this.comparator,!0)}}class ku{constructor(t,n,i,o){this.isReverse=o,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Sn{constructor(t,n,i,o,s){this.key=t,this.value=n,this.color=i??Sn.RED,this.left=o??Sn.EMPTY,this.right=s??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,o,s){return new Sn(t??this.key,n??this.value,i??this.color,o??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let o=this;const s=i(t,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(t,n,i),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Sn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qt();const t=this.left.check();if(t!==this.right.check())throw qt();return t+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw qt()}get value(){throw qt()}get color(){throw qt()}get left(){throw qt()}get right(){throw qt()}copy(t,n,i,o,s){return this}insert(t,n,i){return new Sn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.comparator=t,this.data=new He(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new T_(this.data.getIterator())}getIteratorFrom(t){return new T_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Rn)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=i.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Rn(this.comparator);return n.data=t,n}}class T_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t){this.fields=t,t.sort(Pn.comparator)}static empty(){return new hi([])}unionWith(t){let n=new Rn(Pn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new hi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return $a(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Xx("Invalid base64 string: "+s):s}}(t);return new Ln(n)}static fromUint8Array(t){const n=function(o){let s="";for(let a=0;a<o.length;++a)s+=String.fromCharCode(o[a]);return s}(t);return new Ln(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return de(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ln.EMPTY_BYTE_STRING=new Ln("");const GM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(e){if(we(!!e),typeof e=="string"){let t=0;const n=GM.exec(e);if(we(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:en(e.seconds),nanos:en(e.nanos)}}function en(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function As(e){return typeof e=="string"?Ln.fromBase64String(e):Ln.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wm(e){const t=e.mapValue.fields.__previous_value__;return qm(t)?Wm(t):t}function pc(e){const t=Br(e.mapValue.fields.__local_write_time__.timestampValue);return new Ye(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(t,n,i,o,s,a,c,u,f){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=f}}class mc{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new mc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof mc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Cs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?qm(e)?4:YM(e)?9007199254740991:ZM(e)?10:11:qt()}function po(e,t){if(e===t)return!0;const n=Cs(e);if(n!==Cs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return pc(e).isEqual(pc(t));case 3:return function(o,s){if(typeof o.timestampValue=="string"&&typeof s.timestampValue=="string"&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;const a=Br(o.timestampValue),c=Br(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,s){return As(o.bytesValue).isEqual(As(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,s){return en(o.geoPointValue.latitude)===en(s.geoPointValue.latitude)&&en(o.geoPointValue.longitude)===en(s.geoPointValue.longitude)}(e,t);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return en(o.integerValue)===en(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){const a=en(o.doubleValue),c=en(s.doubleValue);return a===c?vd(a)===vd(c):isNaN(a)&&isNaN(c)}return!1}(e,t);case 9:return $a(e.arrayValue.values||[],t.arrayValue.values||[],po);case 10:case 11:return function(o,s){const a=o.mapValue.fields||{},c=s.mapValue.fields||{};if(E_(a)!==E_(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!po(a[u],c[u])))return!1;return!0}(e,t);default:return qt()}}function gc(e,t){return(e.values||[]).find(n=>po(n,t))!==void 0}function Ma(e,t){if(e===t)return 0;const n=Cs(e),i=Cs(t);if(n!==i)return de(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(e.booleanValue,t.booleanValue);case 2:return function(s,a){const c=en(s.integerValue||s.doubleValue),u=en(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(e,t);case 3:return k_(e.timestampValue,t.timestampValue);case 4:return k_(pc(e),pc(t));case 5:return de(e.stringValue,t.stringValue);case 6:return function(s,a){const c=As(s),u=As(a);return c.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const c=s.split("/"),u=a.split("/");for(let f=0;f<c.length&&f<u.length;f++){const p=de(c[f],u[f]);if(p!==0)return p}return de(c.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const c=de(en(s.latitude),en(a.latitude));return c!==0?c:de(en(s.longitude),en(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return I_(e.arrayValue,t.arrayValue);case 10:return function(s,a){var c,u,f,p;const m=s.fields||{},v=a.fields||{},w=(c=m.value)===null||c===void 0?void 0:c.arrayValue,E=(u=v.value)===null||u===void 0?void 0:u.arrayValue,I=de(((f=w==null?void 0:w.values)===null||f===void 0?void 0:f.length)||0,((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0);return I!==0?I:I_(w,E)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===Iu.mapValue&&a===Iu.mapValue)return 0;if(s===Iu.mapValue)return 1;if(a===Iu.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),f=a.fields||{},p=Object.keys(f);u.sort(),p.sort();for(let m=0;m<u.length&&m<p.length;++m){const v=de(u[m],p[m]);if(v!==0)return v;const w=Ma(c[u[m]],f[p[m]]);if(w!==0)return w}return de(u.length,p.length)}(e.mapValue,t.mapValue);default:throw qt()}}function k_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return de(e,t);const n=Br(e),i=Br(t),o=de(n.seconds,i.seconds);return o!==0?o:de(n.nanos,i.nanos)}function I_(e,t){const n=e.values||[],i=t.values||[];for(let o=0;o<n.length&&o<i.length;++o){const s=Ma(n[o],i[o]);if(s)return s}return de(n.length,i.length)}function Da(e){return Mp(e)}function Mp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Br(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return As(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Nt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",o=!0;for(const s of n.values||[])o?o=!1:i+=",",i+=Mp(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${Mp(n.fields[a])}`;return o+"}"}(e.mapValue):qt()}function S_(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Dp(e){return!!e&&"integerValue"in e}function Gm(e){return!!e&&"arrayValue"in e}function A_(e){return!!e&&"nullValue"in e}function C_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Nu(e){return!!e&&"mapValue"in e}function ZM(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ql(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ds(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=ql(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ql(e.arrayValue.values[n]);return t}return Object.assign({},e)}function YM(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t){this.value=t}static empty(){return new si({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Nu(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ql(n)}setAll(t){let n=Pn.emptyPath(),i={},o=[];t.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,i,o),i={},o=[],n=c.popLast()}a?i[c.lastSegment()]=ql(a):o.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,o)}delete(t){const n=this.field(t.popLast());Nu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return po(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let o=n.mapValue.fields[t.get(i)];Nu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,i){Ds(n,(o,s)=>t[o]=s);for(const o of i)delete t[o]}clone(){return new si(ql(this.value))}}function Qx(e){const t=[];return Ds(e.fields,(n,i)=>{const o=new Pn([n]);if(Nu(i)){const s=Qx(i.mapValue).fields;if(s.length===0)t.push(o);else for(const a of s)t.push(o.child(a))}else t.push(o)}),new hi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t,n,i,o,s,a,c){this.key=t,this.documentType=n,this.version=i,this.readTime=o,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(t){return new Un(t,0,Zt.min(),Zt.min(),Zt.min(),si.empty(),0)}static newFoundDocument(t,n,i,o){return new Un(t,1,n,Zt.min(),i,o,0)}static newNoDocument(t,n){return new Un(t,2,n,Zt.min(),Zt.min(),si.empty(),0)}static newUnknownDocument(t,n){return new Un(t,3,n,Zt.min(),Zt.min(),si.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(t,n){this.position=t,this.inclusive=n}}function P_(e,t,n){let i=0;for(let o=0;o<e.position.length;o++){const s=t[o],a=e.position[o];if(s.field.isKeyField()?i=Nt.comparator(Nt.fromName(a.referenceValue),n.key):i=Ma(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function R_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!po(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t,n="asc"){this.field=t,this.dir=n}}function XM(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{}class un extends Jx{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new JM(t,n,i):n==="array-contains"?new nD(t,i):n==="in"?new iD(t,i):n==="not-in"?new oD(t,i):n==="array-contains-any"?new rD(t,i):new un(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new tD(t,i):new eD(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ma(n,this.value)):n!==null&&Cs(this.value)===Cs(n)&&this.matchesComparison(Ma(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return qt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends Jx{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new Wi(t,n)}matches(t){return t1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function t1(e){return e.op==="and"}function e1(e){return QM(e)&&t1(e)}function QM(e){for(const t of e.filters)if(t instanceof Wi)return!1;return!0}function Np(e){if(e instanceof un)return e.field.canonicalString()+e.op.toString()+Da(e.value);if(e1(e))return e.filters.map(t=>Np(t)).join(",");{const t=e.filters.map(n=>Np(n)).join(",");return`${e.op}(${t})`}}function n1(e,t){return e instanceof un?function(i,o){return o instanceof un&&i.op===o.op&&i.field.isEqual(o.field)&&po(i.value,o.value)}(e,t):e instanceof Wi?function(i,o){return o instanceof Wi&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((s,a,c)=>s&&n1(a,o.filters[c]),!0):!1}(e,t):void qt()}function i1(e){return e instanceof un?function(n){return`${n.field.canonicalString()} ${n.op} ${Da(n.value)}`}(e):e instanceof Wi?function(n){return n.op.toString()+" {"+n.getFilters().map(i1).join(" ,")+"}"}(e):"Filter"}class JM extends un{constructor(t,n,i){super(t,n,i),this.key=Nt.fromName(i.referenceValue)}matches(t){const n=Nt.comparator(t.key,this.key);return this.matchesComparison(n)}}class tD extends un{constructor(t,n){super(t,"in",n),this.keys=o1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class eD extends un{constructor(t,n){super(t,"not-in",n),this.keys=o1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function o1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Nt.fromName(i.referenceValue))}class nD extends un{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Gm(n)&&gc(n.arrayValue,this.value)}}class iD extends un{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&gc(this.value.arrayValue,n)}}class oD extends un{constructor(t,n){super(t,"not-in",n)}matches(t){if(gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!gc(this.value.arrayValue,n)}}class rD extends un{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Gm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>gc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t,n=null,i=[],o=[],s=null,a=null,c=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=s,this.startAt=a,this.endAt=c,this.ue=null}}function L_(e,t=null,n=[],i=[],o=null,s=null,a=null){return new sD(e,t,n,i,o,s,a)}function Km(e){const t=Yt(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Np(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),sh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Da(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Da(i)).join(",")),t.ue=n}return t.ue}function Zm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!XM(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!n1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!R_(e.startAt,t.startAt)&&R_(e.endAt,t.endAt)}function Vp(e){return Nt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t,n=null,i=[],o=[],s=null,a="F",c=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function aD(e,t,n,i,o,s,a,c){return new Ga(e,t,n,i,o,s,a,c)}function ah(e){return new Ga(e)}function O_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function r1(e){return e.collectionGroup!==null}function Wl(e){const t=Yt(e);if(t.ce===null){t.ce=[];const n=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Rn(Pn.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.ce.push(new vc(s,i))}),n.has(Pn.keyField().canonicalString())||t.ce.push(new vc(Pn.keyField(),i))}return t.ce}function lo(e){const t=Yt(e);return t.le||(t.le=lD(t,Wl(e))),t.le}function lD(e,t){if(e.limitType==="F")return L_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const s=o.dir==="desc"?"asc":"desc";return new vc(o.field,s)});const n=e.endAt?new bd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new bd(e.startAt.position,e.startAt.inclusive):null;return L_(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Bp(e,t){const n=e.filters.concat([t]);return new Ga(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Fp(e,t,n){return new Ga(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function lh(e,t){return Zm(lo(e),lo(t))&&e.limitType===t.limitType}function s1(e){return`${Km(lo(e))}|lt:${e.limitType}`}function fa(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>i1(o)).join(", ")}]`),sh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>Da(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>Da(o)).join(",")),`Target(${i})`}(lo(e))}; limitType=${e.limitType})`}function ch(e,t){return t.isFoundDocument()&&function(i,o){const s=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Nt.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,o){for(const s of Wl(i))if(!s.field.isKeyField()&&o.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,o){for(const s of i.filters)if(!s.matches(o))return!1;return!0}(e,t)&&function(i,o){return!(i.startAt&&!function(a,c,u){const f=P_(a,c,u);return a.inclusive?f<=0:f<0}(i.startAt,Wl(i),o)||i.endAt&&!function(a,c,u){const f=P_(a,c,u);return a.inclusive?f>=0:f>0}(i.endAt,Wl(i),o))}(e,t)}function cD(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function a1(e){return(t,n)=>{let i=!1;for(const o of Wl(e)){const s=uD(o,t,n);if(s!==0)return s;i=i||o.field.isKeyField()}return 0}}function uD(e,t,n){const i=e.field.isKeyField()?Nt.comparator(t.key,n.key):function(s,a,c){const u=a.data.field(s),f=c.data.field(s);return u!==null&&f!==null?Ma(u,f):qt()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return qt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[o,s]of i)if(this.equalsFn(o,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),o=this.inner[i];if(o===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ds(this.inner,(n,i)=>{for(const[o,s]of i)t(o,s)})}isEmpty(){return Yx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=new He(Nt.comparator);function nr(){return dD}const l1=new He(Nt.comparator);function Ll(...e){let t=l1;for(const n of e)t=t.insert(n.key,n);return t}function c1(e){let t=l1;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function gs(){return Gl()}function u1(){return Gl()}function Gl(){return new Ka(e=>e.toString(),(e,t)=>e.isEqual(t))}const hD=new He(Nt.comparator),fD=new Rn(Nt.comparator);function re(...e){let t=fD;for(const n of e)t=t.add(n);return t}const pD=new Rn(de);function mD(){return pD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vd(t)?"-0":t}}function d1(e){return{integerValue:""+e}}function gD(e,t){return WM(t)?d1(t):Ym(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this._=void 0}}function vD(e,t,n){return e instanceof bc?function(o,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return s&&qm(s)&&(s=Wm(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,t):e instanceof _c?f1(e,t):e instanceof yc?p1(e,t):function(o,s){const a=h1(o,s),c=$_(a)+$_(o.Pe);return Dp(a)&&Dp(o.Pe)?d1(c):Ym(o.serializer,c)}(e,t)}function bD(e,t,n){return e instanceof _c?f1(e,t):e instanceof yc?p1(e,t):n}function h1(e,t){return e instanceof _d?function(i){return Dp(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class bc extends uh{}class _c extends uh{constructor(t){super(),this.elements=t}}function f1(e,t){const n=m1(t);for(const i of e.elements)n.some(o=>po(o,i))||n.push(i);return{arrayValue:{values:n}}}class yc extends uh{constructor(t){super(),this.elements=t}}function p1(e,t){let n=m1(t);for(const i of e.elements)n=n.filter(o=>!po(o,i));return{arrayValue:{values:n}}}class _d extends uh{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function $_(e){return en(e.integerValue||e.doubleValue)}function m1(e){return Gm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(t,n){this.field=t,this.transform=n}}function yD(e,t){return e.field.isEqual(t.field)&&function(i,o){return i instanceof _c&&o instanceof _c||i instanceof yc&&o instanceof yc?$a(i.elements,o.elements,po):i instanceof _d&&o instanceof _d?po(i.Pe,o.Pe):i instanceof bc&&o instanceof bc}(e.transform,t.transform)}class wD{constructor(t,n){this.version=t,this.transformResults=n}}class zi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new zi}static exists(t){return new zi(void 0,t)}static updateTime(t){return new zi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class dh{}function g1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new b1(e.key,zi.none()):new Vc(e.key,e.data,zi.none());{const n=e.data,i=si.empty();let o=new Rn(Pn.comparator);for(let s of t.fields)if(!o.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),o=o.add(s)}return new jr(e.key,i,new hi(o.toArray()),zi.none())}}function xD(e,t,n){e instanceof Vc?function(o,s,a){const c=o.value.clone(),u=D_(o.fieldTransforms,s,a.transformResults);c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(e,t,n):e instanceof jr?function(o,s,a){if(!Vu(o.precondition,s))return void s.convertToUnknownDocument(a.version);const c=D_(o.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(v1(o)),u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(o,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function Kl(e,t,n,i){return e instanceof Vc?function(s,a,c,u){if(!Vu(s.precondition,a))return c;const f=s.value.clone(),p=N_(s.fieldTransforms,u,a);return f.setAll(p),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(e,t,n,i):e instanceof jr?function(s,a,c,u){if(!Vu(s.precondition,a))return c;const f=N_(s.fieldTransforms,u,a),p=a.data;return p.setAll(v1(s)),p.setAll(f),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(e,t,n,i):function(s,a,c){return Vu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(e,t,n)}function ED(e,t){let n=null;for(const i of e.fieldTransforms){const o=t.data.field(i.field),s=h1(i.transform,o||null);s!=null&&(n===null&&(n=si.empty()),n.set(i.field,s))}return n||null}function M_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&$a(i,o,(s,a)=>yD(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Vc extends dh{constructor(t,n,i,o=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class jr extends dh{constructor(t,n,i,o,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function v1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function D_(e,t,n){const i=new Map;we(e.length===n.length);for(let o=0;o<n.length;o++){const s=e[o],a=s.transform,c=t.data.field(s.field);i.set(s.field,bD(a,c,n[o]))}return i}function N_(e,t,n){const i=new Map;for(const o of e){const s=o.transform,a=n.data.field(o.field);i.set(o.field,vD(s,a,t))}return i}class b1 extends dh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TD extends dh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const s=this.mutations[o];s.key.isEqual(t.key)&&xD(s,t,i[o])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Kl(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Kl(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=u1();return this.mutations.forEach(o=>{const s=t.get(o.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=n.has(o.key)?null:c;const u=g1(a,c);u!==null&&i.set(o.key,u),a.isValidDocument()||a.convertToNoDocument(Zt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),re())}isEqual(t){return this.batchId===t.batchId&&$a(this.mutations,t.mutations,(n,i)=>M_(n,i))&&$a(this.baseMutations,t.baseMutations,(n,i)=>M_(n,i))}}class Xm{constructor(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(t,n,i){we(t.mutations.length===i.length);let o=function(){return hD}();const s=t.mutations;for(let a=0;a<s.length;a++)o=o.insert(s[a].key,i[a].version);return new Xm(t,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn,ae;function AD(e){switch(e){default:return qt();case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0}}function _1(e){if(e===void 0)return er("GRPC error has no .code"),it.UNKNOWN;switch(e){case cn.OK:return it.OK;case cn.CANCELLED:return it.CANCELLED;case cn.UNKNOWN:return it.UNKNOWN;case cn.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case cn.INTERNAL:return it.INTERNAL;case cn.UNAVAILABLE:return it.UNAVAILABLE;case cn.UNAUTHENTICATED:return it.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case cn.NOT_FOUND:return it.NOT_FOUND;case cn.ALREADY_EXISTS:return it.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return it.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case cn.ABORTED:return it.ABORTED;case cn.OUT_OF_RANGE:return it.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return it.UNIMPLEMENTED;case cn.DATA_LOSS:return it.DATA_LOSS;default:return qt()}}(ae=cn||(cn={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new xs([4294967295,4294967295],0);function V_(e){const t=CD().encode(e),n=new Ux;return n.update(t),new Uint8Array(n.digest())}function B_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),o=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new xs([n,i],0),new xs([o,s],0)]}class Qm{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(i<0)throw new Ol(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=xs.fromNumber(this.Ie)}Ee(t,n,i){let o=t.add(n.multiply(xs.fromNumber(i)));return o.compare(PD)===1&&(o=new xs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=V_(t),[i,o]=B_(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(i,o,s);if(!this.de(a))return!1}return!0}static create(t,n,i){const o=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new Qm(s,o,n);return i.forEach(c=>a.insert(c)),a}insert(t){if(this.Ie===0)return;const n=V_(t),[i,o]=B_(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(i,o,s);this.Ae(a)}}Ae(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,n,i,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const o=new Map;return o.set(t,Bc.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new hh(Zt.min(),o,new He(de),nr(),re())}}class Bc{constructor(t,n,i,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Bc(i,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(t,n,i,o){this.Re=t,this.removedTargetIds=n,this.key=i,this.Ve=o}}class y1{constructor(t,n){this.targetId=t,this.me=n}}class w1{constructor(t,n,i=Ln.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=o}}class F_{constructor(){this.fe=0,this.ge=U_(),this.pe=Ln.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=re(),n=re(),i=re();return this.ge.forEach((o,s)=>{switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:qt()}}),new Bc(this.pe,this.ye,t,n,i)}Ce(){this.we=!1,this.ge=U_()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,we(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class RD{constructor(t){this.Le=t,this.Be=new Map,this.ke=nr(),this.qe=z_(),this.Qe=new He(de)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const i=this.Ge(n);switch(t.state){case 0:this.ze(n)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(t.resumeToken));break;default:qt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((i,o)=>{this.ze(o)&&n(o)})}He(t){const n=t.targetId,i=t.me.count,o=this.Je(n);if(o){const s=o.target;if(Vp(s))if(i===0){const a=new Nt(s.path);this.Ue(n,a,Un.newNoDocument(a,Zt.min()))}else we(i===1);else{const a=this.Ye(n);if(a!==i){const c=this.Ze(t),u=c?this.Xe(c,t,a):1;if(u!==0){this.je(n);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:s=0}=n;let a,c;try{a=As(i).toUint8Array()}catch(u){if(u instanceof Xx)return Oa("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Qm(a,o,s)}catch(u){return Oa(u instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(t,n,i){return n.me.count===i-this.nt(t,n.targetId)?0:2}nt(t,n){const i=this.Le.getRemoteKeysForTarget(n);let o=0;return i.forEach(s=>{const a=this.Le.tt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.Ue(n,s,null),o++)}),o}rt(t){const n=new Map;this.Be.forEach((s,a)=>{const c=this.Je(a);if(c){if(s.current&&Vp(c.target)){const u=new Nt(c.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,Un.newNoDocument(u,t))}s.be&&(n.set(a,s.ve()),s.Ce())}});let i=re();this.qe.forEach((s,a)=>{let c=!0;a.forEachWhile(u=>{const f=this.Je(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(t));const o=new hh(t,n,this.Qe,this.ke,i);return this.ke=nr(),this.qe=z_(),this.Qe=new He(de),o}$e(t,n){if(!this.ze(t))return;const i=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,i){if(!this.ze(t))return;const o=this.Ge(t);this.it(t,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new F_,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new Rn(de),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||Pt("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new F_),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function z_(){return new He(Nt.comparator)}function U_(){return new He(Nt.comparator)}const LD=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),OD=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),$D=(()=>({and:"AND",or:"OR"}))();class MD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function zp(e,t){return e.useProto3Json||sh(t)?t:{value:t}}function yd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function x1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function DD(e,t){return yd(e,t.toTimestamp())}function co(e){return we(!!e),Zt.fromTimestamp(function(n){const i=Br(n);return new Ye(i.seconds,i.nanos)}(e))}function Jm(e,t){return Up(e,t).canonicalString()}function Up(e,t){const n=function(o){return new $e(["projects",o.projectId,"databases",o.database])}(e).child("documents");return t===void 0?n:n.child(t)}function E1(e){const t=$e.fromString(e);return we(A1(t)),t}function jp(e,t){return Jm(e.databaseId,t.path)}function If(e,t){const n=E1(t);if(n.get(1)!==e.databaseId.projectId)throw new Et(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Et(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Nt(k1(n))}function T1(e,t){return Jm(e.databaseId,t)}function ND(e){const t=E1(e);return t.length===4?$e.emptyPath():k1(t)}function Hp(e){return new $e(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function k1(e){return we(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function j_(e,t,n){return{name:jp(e,t),fields:n.value.mapValue.fields}}function VD(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:qt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],s=function(f,p){return f.useProto3Json?(we(p===void 0||typeof p=="string"),Ln.fromBase64String(p||"")):(we(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Ln.fromUint8Array(p||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,c=a&&function(f){const p=f.code===void 0?it.UNKNOWN:_1(f.code);return new Et(p,f.message||"")}(a);n=new w1(i,o,s,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const o=If(e,i.document.name),s=co(i.document.updateTime),a=i.document.createTime?co(i.document.createTime):Zt.min(),c=new si({mapValue:{fields:i.document.fields}}),u=Un.newFoundDocument(o,s,a,c),f=i.targetIds||[],p=i.removedTargetIds||[];n=new Bu(f,p,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const o=If(e,i.document),s=i.readTime?co(i.readTime):Zt.min(),a=Un.newNoDocument(o,s),c=i.removedTargetIds||[];n=new Bu([],c,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const o=If(e,i.document),s=i.removedTargetIds||[];n=new Bu([],s,o,null)}else{if(!("filter"in t))return qt();{t.filter;const i=t.filter;i.targetId;const{count:o=0,unchangedNames:s}=i,a=new SD(o,s),c=i.targetId;n=new y1(c,a)}}return n}function BD(e,t){let n;if(t instanceof Vc)n={update:j_(e,t.key,t.value)};else if(t instanceof b1)n={delete:jp(e,t.key)};else if(t instanceof jr)n={update:j_(e,t.key,t.data),updateMask:KD(t.fieldMask)};else{if(!(t instanceof TD))return qt();n={verify:jp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const c=a.transform;if(c instanceof bc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof _c)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof yc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof _d)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw qt()}(0,i))),t.precondition.isNone||(n.currentDocument=function(o,s){return s.updateTime!==void 0?{updateTime:DD(o,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:qt()}(e,t.precondition)),n}function FD(e,t){return e&&e.length>0?(we(t!==void 0),e.map(n=>function(o,s){let a=o.updateTime?co(o.updateTime):co(s);return a.isEqual(Zt.min())&&(a=co(s)),new wD(a,o.transformResults||[])}(n,t))):[]}function zD(e,t){return{documents:[T1(e,t.path)]}}function UD(e,t){const n={structuredQuery:{}},i=t.path;let o;t.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=T1(e,o);const s=function(f){if(f.length!==0)return S1(Wi.create(f,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(f){if(f.length!==0)return f.map(p=>function(v){return{field:pa(v.field),direction:qD(v.dir)}}(p))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const c=zp(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{_t:n,parent:o}}function jD(e){let t=ND(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){we(i===1);const p=n.from[0];p.allDescendants?o=p.collectionId:t=t.child(p.collectionId)}let s=[];n.where&&(s=function(m){const v=I1(m);return v instanceof Wi&&e1(v)?v.getFilters():[v]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(v=>function(E){return new vc(ma(E.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(v))}(n.orderBy));let c=null;n.limit&&(c=function(m){let v;return v=typeof m=="object"?m.value:m,sh(v)?null:v}(n.limit));let u=null;n.startAt&&(u=function(m){const v=!!m.before,w=m.values||[];return new bd(w,v)}(n.startAt));let f=null;return n.endAt&&(f=function(m){const v=!m.before,w=m.values||[];return new bd(w,v)}(n.endAt)),aD(t,o,a,s,c,"F",u,f)}function HD(e,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function I1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ma(n.unaryFilter.field);return un.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ma(n.unaryFilter.field);return un.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ma(n.unaryFilter.field);return un.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ma(n.unaryFilter.field);return un.create(a,"!=",{nullValue:"NULL_VALUE"});default:return qt()}}(e):e.fieldFilter!==void 0?function(n){return un.create(ma(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Wi.create(n.compositeFilter.filters.map(i=>I1(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return qt()}}(n.compositeFilter.op))}(e):qt()}function qD(e){return LD[e]}function WD(e){return OD[e]}function GD(e){return $D[e]}function pa(e){return{fieldPath:e.canonicalString()}}function ma(e){return Pn.fromServerFormat(e.fieldPath)}function S1(e){return e instanceof un?function(n){if(n.op==="=="){if(C_(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NAN"}};if(A_(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(C_(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NOT_NAN"}};if(A_(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pa(n.field),op:WD(n.op),value:n.value}}}(e):e instanceof Wi?function(n){const i=n.getFilters().map(o=>S1(o));return i.length===1?i[0]:{compositeFilter:{op:GD(n.op),filters:i}}}(e):qt()}function KD(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function A1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t,n,i,o,s=Zt.min(),a=Zt.min(),c=Ln.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(t){return new Pr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(t){this.ct=t}}function YD(e){const t=jD({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Fp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.un=new QD}addToCollectionParentIndex(t,n){return this.un.add(n),ct.resolve()}getCollectionParents(t,n){return ct.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return ct.resolve()}deleteFieldIndex(t,n){return ct.resolve()}deleteAllFieldIndexes(t){return ct.resolve()}createTargetIndexes(t,n){return ct.resolve()}getDocumentsMatchingTarget(t,n){return ct.resolve(null)}getIndexType(t,n){return ct.resolve(0)}getFieldIndexes(t,n){return ct.resolve([])}getNextCollectionGroupToUpdate(t){return ct.resolve(null)}getMinOffset(t,n){return ct.resolve(Vr.min())}getMinOffsetFromCollectionGroup(t,n){return ct.resolve(Vr.min())}updateCollectionGroup(t,n,i){return ct.resolve()}updateIndexEntries(t,n){return ct.resolve()}}class QD{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new Rn($e.comparator),s=!o.has(i);return this.index[n]=o.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(t){return(this.index[t]||new Rn($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Na(0)}static kn(){return new Na(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this.changes=new Ka(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Un.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ct.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t,n,i,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(i!==null&&Kl(i.mutation,o,hi.empty(),Ye.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,re()).next(()=>i))}getLocalViewOfDocuments(t,n,i=re()){const o=gs();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,i).next(s=>{let a=Ll();return s.forEach((c,u)=>{a=a.insert(c,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=gs();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,re()))}populateOverlays(t,n,i){const o=[];return i.forEach(s=>{n.has(s)||o.push(s)}),this.documentOverlayCache.getOverlays(t,o).next(s=>{s.forEach((a,c)=>{n.set(a,c)})})}computeViews(t,n,i,o){let s=nr();const a=Gl(),c=function(){return Gl()}();return n.forEach((u,f)=>{const p=i.get(f.key);o.has(f.key)&&(p===void 0||p.mutation instanceof jr)?s=s.insert(f.key,f):p!==void 0?(a.set(f.key,p.mutation.getFieldMask()),Kl(p.mutation,f,p.mutation.getFieldMask(),Ye.now())):a.set(f.key,hi.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((f,p)=>a.set(f,p)),n.forEach((f,p)=>{var m;return c.set(f,new tN(p,(m=a.get(f))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(t,n){const i=Gl();let o=new He((a,c)=>a-c),s=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const c of a)c.keys().forEach(u=>{const f=n.get(u);if(f===null)return;let p=i.get(u)||hi.empty();p=c.applyToLocalView(f,p),i.set(u,p);const m=(o.get(c.batchId)||re()).add(u);o=o.insert(c.batchId,m)})}).next(()=>{const a=[],c=o.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),f=u.key,p=u.value,m=u1();p.forEach(v=>{if(!s.has(v)){const w=g1(n.get(v),i.get(v));w!==null&&m.set(v,w),s=s.add(v)}}),a.push(this.documentOverlayCache.saveOverlays(t,f,m))}return ct.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,o){return function(a){return Nt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):r1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,o):this.getDocumentsMatchingCollectionQuery(t,n,i,o)}getNextDocuments(t,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,o).next(s=>{const a=o-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,o-s.size):ct.resolve(gs());let c=-1,u=s;return a.next(f=>ct.forEach(f,(p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),s.get(p)?ct.resolve():this.remoteDocumentCache.getEntry(t,p).next(v=>{u=u.insert(p,v)}))).next(()=>this.populateOverlays(t,f,s)).next(()=>this.computeViews(t,u,f,re())).next(p=>({batchId:c,changes:c1(p)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Nt(n)).next(i=>{let o=Ll();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,i,o){const s=n.collectionGroup;let a=Ll();return this.indexManager.getCollectionParents(t,s).next(c=>ct.forEach(c,u=>{const f=function(m,v){return new Ga(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,f,i,o).next(p=>{p.forEach((m,v)=>{a=a.insert(m,v)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,o){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,o))).next(a=>{s.forEach((u,f)=>{const p=f.getKey();a.get(p)===null&&(a=a.insert(p,Un.newInvalidDocument(p)))});let c=Ll();return a.forEach((u,f)=>{const p=s.get(u);p!==void 0&&Kl(p.mutation,f,hi.empty(),Ye.now()),ch(n,f)&&(c=c.insert(u,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return ct.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:co(o.createTime)}}(n)),ct.resolve()}getNamedQuery(t,n){return ct.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(o){return{name:o.name,query:YD(o.bundledQuery),readTime:co(o.readTime)}}(n)),ct.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(){this.overlays=new He(Nt.comparator),this.Ir=new Map}getOverlay(t,n){return ct.resolve(this.overlays.get(n))}getOverlays(t,n){const i=gs();return ct.forEach(n,o=>this.getOverlay(t,o).next(s=>{s!==null&&i.set(o,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((o,s)=>{this.ht(t,n,s)}),ct.resolve()}removeOverlaysForBatchId(t,n,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),ct.resolve()}getOverlaysForCollection(t,n,i){const o=gs(),s=n.length+1,a=new Nt(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,f=u.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&u.largestBatchId>i&&o.set(u.getKey(),u)}return ct.resolve(o)}getOverlaysForCollectionGroup(t,n,i,o){let s=new He((f,p)=>f-p);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let p=s.get(f.largestBatchId);p===null&&(p=gs(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=gs(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=o)););return ct.resolve(c)}ht(t,n,i){const o=this.overlays.get(i.key);if(o!==null){const a=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new ID(n,i));let s=this.Ir.get(n);s===void 0&&(s=re(),this.Ir.set(n,s)),this.Ir.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.sessionToken=Ln.EMPTY_BYTE_STRING}getSessionToken(t){return ct.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ct.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.Tr=new Rn(xn.Er),this.dr=new Rn(xn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const i=new xn(t,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Vr(new xn(t,n))}mr(t,n){t.forEach(i=>this.removeReference(i,n))}gr(t){const n=new Nt(new $e([])),i=new xn(n,t),o=new xn(n,t+1),s=[];return this.dr.forEachInRange([i,o],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new Nt(new $e([])),i=new xn(n,t),o=new xn(n,t+1);let s=re();return this.dr.forEachInRange([i,o],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new xn(t,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class xn{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return Nt.comparator(t.key,n.key)||de(t.wr,n.wr)}static Ar(t,n){return de(t.wr,n.wr)||Nt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Rn(xn.Er)}checkEmpty(t){return ct.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,o){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new kD(s,n,i,o);this.mutationQueue.push(a);for(const c of o)this.br=this.br.add(new xn(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return ct.resolve(a)}lookupMutationBatch(t,n){return ct.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,o=this.vr(i),s=o<0?0:o;return ct.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new xn(n,0),o=new xn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,o],a=>{const c=this.Dr(a.wr);s.push(c)}),ct.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Rn(de);return n.forEach(o=>{const s=new xn(o,0),a=new xn(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],c=>{i=i.add(c.wr)})}),ct.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,o=i.length+1;let s=i;Nt.isDocumentKey(s)||(s=s.child(""));const a=new xn(new Nt(s),0);let c=new Rn(de);return this.br.forEachWhile(u=>{const f=u.key.path;return!!i.isPrefixOf(f)&&(f.length===o&&(c=c.add(u.wr)),!0)},a),ct.resolve(this.Cr(c))}Cr(t){const n=[];return t.forEach(i=>{const o=this.Dr(i);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){we(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return ct.forEach(n.mutations,o=>{const s=new xn(o.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,n){const i=new xn(n,0),o=this.br.firstAfterOrEqual(i);return ct.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ct.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(t){this.Mr=t,this.docs=function(){return new He(Nt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,o=this.docs.get(i),s=o?o.size:0,a=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return ct.resolve(i?i.document.mutableCopy():Un.newInvalidDocument(n))}getEntries(t,n){let i=nr();return n.forEach(o=>{const s=this.docs.get(o);i=i.insert(o,s?s.document.mutableCopy():Un.newInvalidDocument(o))}),ct.resolve(i)}getDocumentsMatchingQuery(t,n,i,o){let s=nr();const a=n.path,c=new Nt(a.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:f,value:{document:p}}=u.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||UM(zM(p),i)<=0||(o.has(p.key)||ch(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return ct.resolve(s)}getAllFromCollectionGroup(t,n,i,o){qt()}Or(t,n){return ct.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new aN(this)}getSize(t){return ct.resolve(this.size)}}class aN extends JD{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(t,o)):this.cr.removeEntry(i)}),ct.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t){this.persistence=t,this.Nr=new Ka(n=>Km(n),Zm),this.lastRemoteSnapshotVersion=Zt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tg,this.targetCount=0,this.kr=Na.Bn()}forEachTarget(t,n){return this.Nr.forEach((i,o)=>n(o)),ct.resolve()}getLastRemoteSnapshotVersion(t){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ct.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),ct.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new Na(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,ct.resolve()}updateTargetData(t,n){return this.Kn(n),ct.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ct.resolve()}removeTargets(t,n,i){let o=0;const s=[];return this.Nr.forEach((a,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),o++)}),ct.waitFor(s).next(()=>o)}getTargetCount(t){return ct.resolve(this.targetCount)}getTargetData(t,n){const i=this.Nr.get(n)||null;return ct.resolve(i)}addMatchingKeys(t,n,i){return this.Br.Rr(n,i),ct.resolve()}removeMatchingKeys(t,n,i){this.Br.mr(n,i);const o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(a=>{s.push(o.markPotentiallyOrphaned(t,a))}),ct.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),ct.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Br.yr(n);return ct.resolve(i)}containsKey(t,n){return ct.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(t,n){this.qr={},this.overlays={},this.Qr=new Hm(0),this.Kr=!1,this.Kr=!0,this.$r=new oN,this.referenceDelegate=t(this),this.Ur=new lN(this),this.indexManager=new XD,this.remoteDocumentCache=function(o){return new sN(o)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new ZD(n),this.Gr=new nN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new iN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.qr[t.toKey()];return i||(i=new rN(n,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,i){Pt("MemoryPersistence","Starting transaction:",t);const o=new uN(this.Qr.next());return this.referenceDelegate.zr(),i(o).next(s=>this.referenceDelegate.jr(o).next(()=>s)).toPromise().then(s=>(o.raiseOnCommittedEvent(),s))}Hr(t,n){return ct.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,n)))}}class uN extends HM{constructor(t){super(),this.currentSequenceNumber=t}}class eg{constructor(t){this.persistence=t,this.Jr=new tg,this.Yr=null}static Zr(t){return new eg(t)}get Xr(){if(this.Yr)return this.Yr;throw qt()}addReference(t,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),ct.resolve()}removeReference(t,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),ct.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),ct.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(o=>this.Xr.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.Xr,i=>{const o=Nt.fromPath(i);return this.ei(t,o).next(s=>{s||n.removeEntry(o,Zt.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return ct.or([()=>ct.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t,n,i,o){this.targetId=t,this.fromCache=n,this.$i=i,this.Ui=o}static Wi(t,n){let i=re(),o=re();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}return new ng(t,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return p4()?8:qM(Wn())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,i,o){const s={result:null};return this.Yi(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(t,n,o,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new dN;return this.Xi(t,n,a).next(c=>{if(s.result=c,this.zi)return this.es(t,n,a,c.size)})}).next(()=>s.result)}es(t,n,i,o){return i.documentReadCount<this.ji?(Il()<=se.DEBUG&&Pt("QueryEngine","SDK will not create cache indexes for query:",fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ct.resolve()):(Il()<=se.DEBUG&&Pt("QueryEngine","Query:",fa(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(Il()<=se.DEBUG&&Pt("QueryEngine","The SDK decides to create cache indexes for query:",fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,lo(n))):ct.resolve())}Yi(t,n){if(O_(n))return ct.resolve(null);let i=lo(n);return this.indexManager.getIndexType(t,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Fp(n,null,"F"),i=lo(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=re(...s);return this.Ji.getDocuments(t,a).next(c=>this.indexManager.getMinOffset(t,i).next(u=>{const f=this.ts(n,c);return this.ns(n,f,a,u.readTime)?this.Yi(t,Fp(n,null,"F")):this.rs(t,f,n,u)}))})))}Zi(t,n,i,o){return O_(n)||o.isEqual(Zt.min())?ct.resolve(null):this.Ji.getDocuments(t,i).next(s=>{const a=this.ts(n,s);return this.ns(n,a,i,o)?ct.resolve(null):(Il()<=se.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fa(n)),this.rs(t,a,n,FM(o,-1)).next(c=>c))})}ts(t,n){let i=new Rn(a1(t));return n.forEach((o,s)=>{ch(t,s)&&(i=i.add(s))}),i}ns(t,n,i,o){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)}Xi(t,n,i){return Il()<=se.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",fa(n)),this.Ji.getDocumentsMatchingQuery(t,n,Vr.min(),i)}rs(t,n,i,o){return this.Ji.getDocumentsMatchingQuery(t,i,o).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(t,n,i,o){this.persistence=t,this.ss=n,this.serializer=o,this.os=new He(de),this._s=new Ka(s=>Km(s),Zm),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function pN(e,t,n,i){return new fN(e,t,n,i)}async function C1(e,t){const n=Yt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(s=>(o=s,n.ls(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],c=[];let u=re();for(const f of o){a.push(f.batchId);for(const p of f.mutations)u=u.add(p.key)}for(const f of s){c.push(f.batchId);for(const p of f.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(i,u).next(f=>({hs:f,removedBatchIds:a,addedBatchIds:c}))})})}function mN(e,t){const n=Yt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=t.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,f,p){const m=f.batch,v=m.keys();let w=ct.resolve();return v.forEach(E=>{w=w.next(()=>p.getEntry(u,E)).next(I=>{const R=f.docVersions.get(E);we(R!==null),I.version.compareTo(R)<0&&(m.applyToRemoteDocument(I,f),I.isValidDocument()&&(I.setReadTime(f.commitVersion),p.addEntry(I)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(u,m))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let u=re();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(u=u.add(c.batch.mutations[f].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,o))})}function P1(e){const t=Yt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function gN(e,t){const n=Yt(e),i=t.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const c=[];t.targetChanges.forEach((p,m)=>{const v=o.get(m);if(!v)return;c.push(n.Ur.removeMatchingKeys(s,p.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(s,p.addedDocuments,m)));let w=v.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(m)!==null?w=w.withResumeToken(Ln.EMPTY_BYTE_STRING,Zt.min()).withLastLimboFreeSnapshotVersion(Zt.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,i)),o=o.insert(m,w),function(I,R,D){return I.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(v,w,p)&&c.push(n.Ur.updateTargetData(s,w))});let u=nr(),f=re();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),c.push(vN(s,a,t.documentUpdates).next(p=>{u=p.Ps,f=p.Is})),!i.isEqual(Zt.min())){const p=n.Ur.getLastRemoteSnapshotVersion(s).next(m=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(p)}return ct.waitFor(c).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,f)).next(()=>u)}).then(s=>(n.os=o,s))}function vN(e,t,n){let i=re(),o=re();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let a=nr();return n.forEach((c,u)=>{const f=s.get(c);u.isFoundDocument()!==f.isFoundDocument()&&(o=o.add(c)),u.isNoDocument()&&u.version.isEqual(Zt.min())?(t.removeEntry(c,u.readTime),a=a.insert(c,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(u),a=a.insert(c,u)):Pt("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",u.version)}),{Ps:a,Is:o}})}function bN(e,t){const n=Yt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function _N(e,t){const n=Yt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Ur.getTargetData(i,t).next(s=>s?(o=s,ct.resolve(o)):n.Ur.allocateTargetId(i).next(a=>(o=new Pr(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(t,i.targetId)),i})}async function qp(e,t,n){const i=Yt(e),o=i.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,o))}catch(a){if(!Nc(a))throw a;Pt("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.os=i.os.remove(t),i._s.delete(o.target)}function H_(e,t,n){const i=Yt(e);let o=Zt.min(),s=re();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,f,p){const m=Yt(u),v=m._s.get(p);return v!==void 0?ct.resolve(m.os.get(v)):m.Ur.getTargetData(f,p)}(i,a,lo(t)).next(c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(a,c.targetId).next(u=>{s=u})}).next(()=>i.ss.getDocumentsMatchingQuery(a,t,n?o:Zt.min(),n?s:re())).next(c=>(yN(i,cD(t),c),{documents:c,Ts:s})))}function yN(e,t,n){let i=e.us.get(t)||Zt.min();n.forEach((o,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.us.set(t,i)}class q_{constructor(){this.activeTargetIds=mD()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wN{constructor(){this.so=new q_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,i){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new q_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Pt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Pt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su=null;function Sf(){return Su===null?Su=function(){return 268435456+Math.round(2147483648*Math.random())}():Su++,"0x"+Su.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class kN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${o}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${s}`}get Fo(){return!1}Mo(n,i,o,s,a){const c=Sf(),u=this.xo(n,i.toUriEncodedString());Pt("RestConnection",`Sending RPC '${n}' ${c}:`,u,o);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,s,a),this.No(n,u,f,o).then(p=>(Pt("RestConnection",`Received RPC '${n}' ${c}: `,p),p),p=>{throw Oa("RestConnection",`RPC '${n}' ${c} failed with error: `,p,"url: ",u,"request:",o),p})}Lo(n,i,o,s,a,c){return this.Mo(n,i,o,s,a)}Oo(n,i,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,a)=>n[a]=s),o&&o.headers.forEach((s,a)=>n[a]=s)}xo(n,i){const o=EN[n];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,i,o){const s=Sf();return new Promise((a,c)=>{const u=new jx;u.setWithCredentials(!0),u.listenOnce(Hx.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Du.NO_ERROR:const p=u.getResponseJson();Pt(Mn,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(p)),a(p);break;case Du.TIMEOUT:Pt(Mn,`RPC '${t}' ${s} timed out`),c(new Et(it.DEADLINE_EXCEEDED,"Request time out"));break;case Du.HTTP_ERROR:const m=u.getStatus();if(Pt(Mn,`RPC '${t}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const w=v==null?void 0:v.error;if(w&&w.status&&w.message){const E=function(R){const D=R.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(D)>=0?D:it.UNKNOWN}(w.status);c(new Et(E,w.message))}else c(new Et(it.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Et(it.UNAVAILABLE,"Connection failed."));break;default:qt()}}finally{Pt(Mn,`RPC '${t}' ${s} completed.`)}});const f=JSON.stringify(o);Pt(Mn,`RPC '${t}' ${s} sending request:`,o),u.send(n,"POST",f,i,15)})}Bo(t,n,i){const o=Sf(),s=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=Gx(),c=Wx(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const p=s.join("");Pt(Mn,`Creating RPC '${t}' stream ${o}: ${p}`,u);const m=a.createWebChannel(p,u);let v=!1,w=!1;const E=new TN({Io:R=>{w?Pt(Mn,`Not sending because RPC '${t}' stream ${o} is closed:`,R):(v||(Pt(Mn,`Opening RPC '${t}' stream ${o} transport.`),m.open(),v=!0),Pt(Mn,`RPC '${t}' stream ${o} sending:`,R),m.send(R))},To:()=>m.close()}),I=(R,D,F)=>{R.listen(D,z=>{try{F(z)}catch(B){setTimeout(()=>{throw B},0)}})};return I(m,Rl.EventType.OPEN,()=>{w||(Pt(Mn,`RPC '${t}' stream ${o} transport opened.`),E.yo())}),I(m,Rl.EventType.CLOSE,()=>{w||(w=!0,Pt(Mn,`RPC '${t}' stream ${o} transport closed`),E.So())}),I(m,Rl.EventType.ERROR,R=>{w||(w=!0,Oa(Mn,`RPC '${t}' stream ${o} transport errored:`,R),E.So(new Et(it.UNAVAILABLE,"The operation could not be completed")))}),I(m,Rl.EventType.MESSAGE,R=>{var D;if(!w){const F=R.data[0];we(!!F);const z=F,B=z.error||((D=z[0])===null||D===void 0?void 0:D.error);if(B){Pt(Mn,`RPC '${t}' stream ${o} received error:`,B);const U=B.status;let H=function(T){const O=cn[T];if(O!==void 0)return _1(O)}(U),C=B.message;H===void 0&&(H=it.INTERNAL,C="Unknown error status: "+U+" with message "+B.message),w=!0,E.So(new Et(H,C)),m.close()}else Pt(Mn,`RPC '${t}' stream ${o} received:`,F),E.bo(F)}}),I(c,qx.STAT_EVENT,R=>{R.stat===$p.PROXY?Pt(Mn,`RPC '${t}' stream ${o} detected buffering proxy`):R.stat===$p.NOPROXY&&Pt(Mn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function Af(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(e){return new MD(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(t,n,i=1e3,o=1.5,s=6e4){this.ui=t,this.timerId=n,this.ko=i,this.qo=o,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-i);o>0&&Pt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t,n,i,o,s,a,c,u){this.ui=t,this.Ho=i,this.Jo=o,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new R1(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===it.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Yo===n&&this.P_(i,o)},i=>{t(()=>{const o=new Et(it.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)})})}P_(t,n){const i=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{i(()=>this.I_(o))}),this.stream.onMessage(o=>{i(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return Pt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(Pt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IN extends L1{constructor(t,n,i,o,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,a),this.serializer=s}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=VD(this.serializer,t),i=function(s){if(!("targetChange"in s))return Zt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Zt.min():a.readTime?co(a.readTime):Zt.min()}(t);return this.listener.d_(n,i)}A_(t){const n={};n.database=Hp(this.serializer),n.addTarget=function(s,a){let c;const u=a.target;if(c=Vp(u)?{documents:zD(s,u)}:{query:UD(s,u)._t},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=x1(s,a.resumeToken);const f=zp(s,a.expectedCount);f!==null&&(c.expectedCount=f)}else if(a.snapshotVersion.compareTo(Zt.min())>0){c.readTime=yd(s,a.snapshotVersion.toTimestamp());const f=zp(s,a.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,t);const i=HD(this.serializer,t);i&&(n.labels=i),this.a_(n)}R_(t){const n={};n.database=Hp(this.serializer),n.removeTarget=t,this.a_(n)}}class SN extends L1{constructor(t,n,i,o,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return we(!!t.streamToken),this.lastStreamToken=t.streamToken,we(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){we(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=FD(t.writeResults,t.commitTime),i=co(t.commitTime);return this.listener.g_(i,n)}p_(){const t={};t.database=Hp(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>BD(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN extends class{}{constructor(t,n,i,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new Et(it.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(t,Up(n,i),o,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Et(it.UNKNOWN,s.toString())})}Lo(t,n,i,o,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Lo(t,Up(n,i),o,a,c,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Et(it.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class CN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(er(n),this.D_=!1):Pt("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(t,n,i,o,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{i.enqueueAndForget(async()=>{Ns(this)&&(Pt("RemoteStore","Restarting streams for network reachability change."),await async function(u){const f=Yt(u);f.L_.add(4),await Fc(f),f.q_.set("Unknown"),f.L_.delete(4),await ph(f)}(this))})}),this.q_=new CN(i,o)}}async function ph(e){if(Ns(e))for(const t of e.B_)await t(!0)}async function Fc(e){for(const t of e.B_)await t(!1)}function O1(e,t){const n=Yt(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),sg(n)?rg(n):Za(n).r_()&&og(n,t))}function ig(e,t){const n=Yt(e),i=Za(n);n.N_.delete(t),i.r_()&&$1(n,t),n.N_.size===0&&(i.r_()?i.o_():Ns(n)&&n.q_.set("Unknown"))}function og(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Zt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Za(e).A_(t)}function $1(e,t){e.Q_.xe(t),Za(e).R_(t)}function rg(e){e.Q_=new RD({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Za(e).start(),e.q_.v_()}function sg(e){return Ns(e)&&!Za(e).n_()&&e.N_.size>0}function Ns(e){return Yt(e).L_.size===0}function M1(e){e.Q_=void 0}async function RN(e){e.q_.set("Online")}async function LN(e){e.N_.forEach((t,n)=>{og(e,t)})}async function ON(e,t){M1(e),sg(e)?(e.q_.M_(t),rg(e)):e.q_.set("Unknown")}async function $N(e,t,n){if(e.q_.set("Online"),t instanceof w1&&t.state===2&&t.cause)try{await async function(o,s){const a=s.cause;for(const c of s.targetIds)o.N_.has(c)&&(await o.remoteSyncer.rejectListen(c,a),o.N_.delete(c),o.Q_.removeTarget(c))}(e,t)}catch(i){Pt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await wd(e,i)}else if(t instanceof Bu?e.Q_.Ke(t):t instanceof y1?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Zt.min()))try{const i=await P1(e.localStore);n.compareTo(i)>=0&&await function(s,a){const c=s.Q_.rt(a);return c.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.N_.get(f);p&&s.N_.set(f,p.withResumeToken(u.resumeToken,a))}}),c.targetMismatches.forEach((u,f)=>{const p=s.N_.get(u);if(!p)return;s.N_.set(u,p.withResumeToken(Ln.EMPTY_BYTE_STRING,p.snapshotVersion)),$1(s,u);const m=new Pr(p.target,u,f,p.sequenceNumber);og(s,m)}),s.remoteSyncer.applyRemoteEvent(c)}(e,n)}catch(i){Pt("RemoteStore","Failed to raise snapshot:",i),await wd(e,i)}}async function wd(e,t,n){if(!Nc(t))throw t;e.L_.add(1),await Fc(e),e.q_.set("Offline"),n||(n=()=>P1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Pt("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await ph(e)})}function D1(e,t){return t().catch(n=>wd(e,n,t))}async function mh(e){const t=Yt(e),n=Fr(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;MN(t);)try{const o=await bN(t.localStore,i);if(o===null){t.O_.length===0&&n.o_();break}i=o.batchId,DN(t,o)}catch(o){await wd(t,o)}N1(t)&&V1(t)}function MN(e){return Ns(e)&&e.O_.length<10}function DN(e,t){e.O_.push(t);const n=Fr(e);n.r_()&&n.V_&&n.m_(t.mutations)}function N1(e){return Ns(e)&&!Fr(e).n_()&&e.O_.length>0}function V1(e){Fr(e).start()}async function NN(e){Fr(e).p_()}async function VN(e){const t=Fr(e);for(const n of e.O_)t.m_(n.mutations)}async function BN(e,t,n){const i=e.O_.shift(),o=Xm.from(i,t,n);await D1(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await mh(e)}async function FN(e,t){t&&Fr(e).V_&&await async function(i,o){if(function(a){return AD(a)&&a!==it.ABORTED}(o.code)){const s=i.O_.shift();Fr(i).s_(),await D1(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),await mh(i)}}(e,t),N1(e)&&V1(e)}async function G_(e,t){const n=Yt(e);n.asyncQueue.verifyOperationInProgress(),Pt("RemoteStore","RemoteStore received new credentials");const i=Ns(n);n.L_.add(3),await Fc(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await ph(n)}async function zN(e,t){const n=Yt(e);t?(n.L_.delete(2),await ph(n)):t||(n.L_.add(2),await Fc(n),n.q_.set("Unknown"))}function Za(e){return e.K_||(e.K_=function(n,i,o){const s=Yt(n);return s.w_(),new IN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(e.datastore,e.asyncQueue,{Eo:RN.bind(null,e),Ro:LN.bind(null,e),mo:ON.bind(null,e),d_:$N.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),sg(e)?rg(e):e.q_.set("Unknown")):(await e.K_.stop(),M1(e))})),e.K_}function Fr(e){return e.U_||(e.U_=function(n,i,o){const s=Yt(n);return s.w_(),new SN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:NN.bind(null,e),mo:FN.bind(null,e),f_:VN.bind(null,e),g_:BN.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await mh(e)):(await e.U_.stop(),e.O_.length>0&&(Pt("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(t,n,i,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=s,this.deferred=new Ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,o,s){const a=Date.now()+i,c=new ag(t,n,a,o,s);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Et(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(e,t){if(er("AsyncQueue",`${t}: ${e}`),Nc(e))return new Et(it.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(t){this.comparator=t?(n,i)=>t(n,i)||Nt.comparator(n.key,i.key):(n,i)=>Nt.comparator(n.key,i.key),this.keyedMap=Ll(),this.sortedSet=new He(this.comparator)}static emptySet(t){return new Ea(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ea)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=i.getNext().key;if(!o.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Ea;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.W_=new He(Nt.comparator)}track(t){const n=t.doc.key,i=this.W_.get(n);i?t.type!==0&&i.type===3?this.W_=this.W_.insert(n,t):t.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.W_=this.W_.remove(n):t.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):qt():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Va{constructor(t,n,i,o,s,a,c,u,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(t,n,i,o,s){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new Va(t,n,Ea.emptySet(n),a,i,o,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class jN{constructor(){this.queries=Z_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const o=Yt(n),s=o.queries;o.queries=Z_(),s.forEach((a,c)=>{for(const u of c.j_)u.onError(i)})})(this,new Et(it.ABORTED,"Firestore shutting down"))}}function Z_(){return new Ka(e=>s1(e),lh)}async function cg(e,t){const n=Yt(e);let i=3;const o=t.query;let s=n.queries.get(o);s?!s.H_()&&t.J_()&&(i=2):(s=new UN,i=t.J_()?0:1);try{switch(i){case 0:s.z_=await n.onListen(o,!0);break;case 1:s.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(a){const c=lg(a,`Initialization of query '${fa(t.query)}' failed`);return void t.onError(c)}n.queries.set(o,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&dg(n)}async function ug(e,t){const n=Yt(e),i=t.query;let o=3;const s=n.queries.get(i);if(s){const a=s.j_.indexOf(t);a>=0&&(s.j_.splice(a,1),s.j_.length===0?o=t.J_()?0:1:!s.H_()&&t.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function HN(e,t){const n=Yt(e);let i=!1;for(const o of t){const s=o.query,a=n.queries.get(s);if(a){for(const c of a.j_)c.X_(o)&&(i=!0);a.z_=o}}i&&dg(n)}function qN(e,t,n){const i=Yt(e),o=i.queries.get(t);if(o)for(const s of o.j_)s.onError(n);i.queries.delete(t)}function dg(e){e.Y_.forEach(t=>{t.next()})}var Wp,Y_;(Y_=Wp||(Wp={})).ea="default",Y_.Cache="cache";class hg{constructor(t,n,i){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const o of t.docChanges)o.type!==3&&i.push(o);t=new Va(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=Va.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Wp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(t){this.key=t}}class F1{constructor(t){this.key=t}}class WN{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=re(),this.mutatedKeys=re(),this.Aa=a1(t),this.Ra=new Ea(this.Aa)}get Va(){return this.Ta}ma(t,n){const i=n?n.fa:new K_,o=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=o,c=!1;const u=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,f=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((p,m)=>{const v=o.get(p),w=ch(this.query,m)?m:null,E=!!v&&this.mutatedKeys.has(v.key),I=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let R=!1;v&&w?v.data.isEqual(w.data)?E!==I&&(i.track({type:3,doc:w}),R=!0):this.ga(v,w)||(i.track({type:2,doc:w}),R=!0,(u&&this.Aa(w,u)>0||f&&this.Aa(w,f)<0)&&(c=!0)):!v&&w?(i.track({type:0,doc:w}),R=!0):v&&!w&&(i.track({type:1,doc:v}),R=!0,(u||f)&&(c=!0)),R&&(w?(a=a.add(w),s=I?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),i.track({type:1,doc:p})}return{Ra:a,fa:i,ns:c,mutatedKeys:s}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,o){const s=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const a=t.fa.G_();a.sort((p,m)=>function(w,E){const I=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt()}};return I(w)-I(E)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(i),o=o!=null&&o;const c=n&&!o?this.ya():[],u=this.da.size===0&&this.current&&!o?1:0,f=u!==this.Ea;return this.Ea=u,a.length!==0||f?{snapshot:new Va(this.query,t.Ra,s,a,t.mutatedKeys,u===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new K_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=re(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return t.forEach(i=>{this.da.has(i)||n.push(new F1(i))}),this.da.forEach(i=>{t.has(i)||n.push(new B1(i))}),n}ba(t){this.Ta=t.Ts,this.da=re();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return Va.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class GN{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class KN{constructor(t){this.key=t,this.va=!1}}class ZN{constructor(t,n,i,o,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Ka(c=>s1(c),lh),this.Ma=new Map,this.xa=new Set,this.Oa=new He(Nt.comparator),this.Na=new Map,this.La=new tg,this.Ba={},this.ka=new Map,this.qa=Na.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function YN(e,t,n=!0){const i=W1(e);let o;const s=i.Fa.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),o=s.view.Da()):o=await z1(i,t,n,!0),o}async function XN(e,t){const n=W1(e);await z1(n,t,!0,!1)}async function z1(e,t,n,i){const o=await _N(e.localStore,lo(t)),s=o.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let c;return i&&(c=await QN(e,t,s,a==="current",o.resumeToken)),e.isPrimaryClient&&n&&O1(e.remoteStore,o),c}async function QN(e,t,n,i,o){e.Ka=(m,v,w)=>async function(I,R,D,F){let z=R.view.ma(D);z.ns&&(z=await H_(I.localStore,R.query,!1).then(({documents:C})=>R.view.ma(C,z)));const B=F&&F.targetChanges.get(R.targetId),U=F&&F.targetMismatches.get(R.targetId)!=null,H=R.view.applyChanges(z,I.isPrimaryClient,B,U);return Q_(I,R.targetId,H.wa),H.snapshot}(e,m,v,w);const s=await H_(e.localStore,t,!0),a=new WN(t,s.Ts),c=a.ma(s.documents),u=Bc.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",o),f=a.applyChanges(c,e.isPrimaryClient,u);Q_(e,n,f.wa);const p=new GN(t,n,a);return e.Fa.set(t,p),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),f.snapshot}async function JN(e,t,n){const i=Yt(e),o=i.Fa.get(t),s=i.Ma.get(o.targetId);if(s.length>1)return i.Ma.set(o.targetId,s.filter(a=>!lh(a,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await qp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&ig(i.remoteStore,o.targetId),Gp(i,o.targetId)}).catch(Dc)):(Gp(i,o.targetId),await qp(i.localStore,o.targetId,!0))}async function t6(e,t){const n=Yt(e),i=n.Fa.get(t),o=n.Ma.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),ig(n.remoteStore,i.targetId))}async function e6(e,t,n){const i=l6(e);try{const o=await function(a,c){const u=Yt(a),f=Ye.now(),p=c.reduce((w,E)=>w.add(E.key),re());let m,v;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let E=nr(),I=re();return u.cs.getEntries(w,p).next(R=>{E=R,E.forEach((D,F)=>{F.isValidDocument()||(I=I.add(D))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,E)).next(R=>{m=R;const D=[];for(const F of c){const z=ED(F,m.get(F.key).overlayedDocument);z!=null&&D.push(new jr(F.key,z,Qx(z.value.mapValue),zi.exists(!0)))}return u.mutationQueue.addMutationBatch(w,f,D,c)}).next(R=>{v=R;const D=R.applyToLocalDocumentSet(m,I);return u.documentOverlayCache.saveOverlays(w,R.batchId,D)})}).then(()=>({batchId:v.batchId,changes:c1(m)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(o.batchId),function(a,c,u){let f=a.Ba[a.currentUser.toKey()];f||(f=new He(de)),f=f.insert(c,u),a.Ba[a.currentUser.toKey()]=f}(i,o.batchId,n),await zc(i,o.changes),await mh(i.remoteStore)}catch(o){const s=lg(o,"Failed to persist write");n.reject(s)}}async function U1(e,t){const n=Yt(e);try{const i=await gN(n.localStore,t);t.targetChanges.forEach((o,s)=>{const a=n.Na.get(s);a&&(we(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?a.va=!0:o.modifiedDocuments.size>0?we(a.va):o.removedDocuments.size>0&&(we(a.va),a.va=!1))}),await zc(n,i,t)}catch(i){await Dc(i)}}function X_(e,t,n){const i=Yt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Fa.forEach((s,a)=>{const c=a.view.Z_(t);c.snapshot&&o.push(c.snapshot)}),function(a,c){const u=Yt(a);u.onlineState=c;let f=!1;u.queries.forEach((p,m)=>{for(const v of m.j_)v.Z_(c)&&(f=!0)}),f&&dg(u)}(i.eventManager,t),o.length&&i.Ca.d_(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function n6(e,t,n){const i=Yt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const o=i.Na.get(t),s=o&&o.key;if(s){let a=new He(Nt.comparator);a=a.insert(s,Un.newNoDocument(s,Zt.min()));const c=re().add(s),u=new hh(Zt.min(),new Map,new He(de),a,c);await U1(i,u),i.Oa=i.Oa.remove(s),i.Na.delete(t),fg(i)}else await qp(i.localStore,t,!1).then(()=>Gp(i,t,n)).catch(Dc)}async function i6(e,t){const n=Yt(e),i=t.batch.batchId;try{const o=await mN(n.localStore,t);H1(n,i,null),j1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await zc(n,o)}catch(o){await Dc(o)}}async function o6(e,t,n){const i=Yt(e);try{const o=await function(a,c){const u=Yt(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return u.mutationQueue.lookupMutationBatch(f,c).next(m=>(we(m!==null),p=m.keys(),u.mutationQueue.removeMutationBatch(f,m))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>u.localDocuments.getDocuments(f,p))})}(i.localStore,t);H1(i,t,n),j1(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await zc(i,o)}catch(o){await Dc(o)}}function j1(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function H1(e,t,n){const i=Yt(e);let o=i.Ba[i.currentUser.toKey()];if(o){const s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),i.Ba[i.currentUser.toKey()]=o}}function Gp(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Ma.get(t))e.Fa.delete(i),n&&e.Ca.$a(i,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(i=>{e.La.containsKey(i)||q1(e,i)})}function q1(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(ig(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),fg(e))}function Q_(e,t,n){for(const i of n)i instanceof B1?(e.La.addReference(i.key,t),r6(e,i)):i instanceof F1?(Pt("SyncEngine","Document no longer in limbo: "+i.key),e.La.removeReference(i.key,t),e.La.containsKey(i.key)||q1(e,i.key)):qt()}function r6(e,t){const n=t.key,i=n.path.canonicalString();e.Oa.get(n)||e.xa.has(i)||(Pt("SyncEngine","New document in limbo: "+n),e.xa.add(i),fg(e))}function fg(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new Nt($e.fromString(t)),i=e.qa.next();e.Na.set(i,new KN(n)),e.Oa=e.Oa.insert(n,i),O1(e.remoteStore,new Pr(lo(ah(n.path)),i,"TargetPurposeLimboResolution",Hm.oe))}}async function zc(e,t,n){const i=Yt(e),o=[],s=[],a=[];i.Fa.isEmpty()||(i.Fa.forEach((c,u)=>{a.push(i.Ka(u,t,n).then(f=>{var p;if((f||n)&&i.isPrimaryClient){const m=f?!f.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(f){o.push(f);const m=ng.Wi(u.targetId,f);s.push(m)}}))}),await Promise.all(a),i.Ca.d_(o),await async function(u,f){const p=Yt(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>ct.forEach(f,v=>ct.forEach(v.$i,w=>p.persistence.referenceDelegate.addReference(m,v.targetId,w)).next(()=>ct.forEach(v.Ui,w=>p.persistence.referenceDelegate.removeReference(m,v.targetId,w)))))}catch(m){if(!Nc(m))throw m;Pt("LocalStore","Failed to update sequence numbers: "+m)}for(const m of f){const v=m.targetId;if(!m.fromCache){const w=p.os.get(v),E=w.snapshotVersion,I=w.withLastLimboFreeSnapshotVersion(E);p.os=p.os.insert(v,I)}}}(i.localStore,s))}async function s6(e,t){const n=Yt(e);if(!n.currentUser.isEqual(t)){Pt("SyncEngine","User change. New user:",t.toKey());const i=await C1(n.localStore,t);n.currentUser=t,function(s,a){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new Et(it.CANCELLED,a))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await zc(n,i.hs)}}function a6(e,t){const n=Yt(e),i=n.Na.get(t);if(i&&i.va)return re().add(i.key);{let o=re();const s=n.Ma.get(t);if(!s)return o;for(const a of s){const c=n.Fa.get(a);o=o.unionWith(c.view.Va)}return o}}function W1(e){const t=Yt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=U1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=a6.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=n6.bind(null,t),t.Ca.d_=HN.bind(null,t.eventManager),t.Ca.$a=qN.bind(null,t.eventManager),t}function l6(e){const t=Yt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=i6.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=o6.bind(null,t),t}class xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=fh(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,n){return null}Ha(t,n){return null}za(t){return pN(this.persistence,new hN,t.initialUser,this.serializer)}Ga(t){return new cN(eg.Zr,this.serializer)}Wa(t){return new wN}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xd.provider={build:()=>new xd};class Kp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>X_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=s6.bind(null,this.syncEngine),await zN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new jN}()}createDatastore(t){const n=fh(t.databaseInfo.databaseId),i=function(s){return new kN(s)}(t.databaseInfo);return function(s,a,c,u){return new AN(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,o,s,a,c){return new PN(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,n=>X_(this.syncEngine,n,0),function(){return W_.D()?new W_:new xN}())}createSyncEngine(t,n){return function(o,s,a,c,u,f,p){const m=new ZN(o,s,a,c,u,f);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const s=Yt(o);Pt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Fc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Kp.provider={build:()=>new Kp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):er("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(t,n,i,o,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=Dn.UNAUTHENTICATED,this.clientId=Zx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{Pt("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(Pt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=lg(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Cf(e,t){e.asyncQueue.verifyOperationInProgress(),Pt("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async o=>{i.isEqual(o)||(await C1(t.localStore,o),i=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function J_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await u6(e);Pt("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>G_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,o)=>G_(t.remoteStore,o)),e._onlineComponents=t}async function u6(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Pt("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Oa("Error using user provided cache. Falling back to memory cache: "+n),await Cf(e,new xd)}}else Pt("FirestoreClient","Using default OfflineComponentProvider"),await Cf(e,new xd);return e._offlineComponents}async function G1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Pt("FirestoreClient","Using user provided OnlineComponentProvider"),await J_(e,e._uninitializedComponentsProvider._online)):(Pt("FirestoreClient","Using default OnlineComponentProvider"),await J_(e,new Kp))),e._onlineComponents}function d6(e){return G1(e).then(t=>t.syncEngine)}async function Ed(e){const t=await G1(e),n=t.eventManager;return n.onListen=YN.bind(null,t.syncEngine),n.onUnlisten=JN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=XN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=t6.bind(null,t.syncEngine),n}function h6(e,t,n={}){const i=new Ko;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,c,u,f){const p=new pg({next:v=>{p.Za(),a.enqueueAndForget(()=>ug(s,m));const w=v.docs.has(c);!w&&v.fromCache?f.reject(new Et(it.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&u&&u.source==="server"?f.reject(new Et(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),m=new hg(ah(c.path),p,{includeMetadataChanges:!0,_a:!0});return cg(s,m)}(await Ed(e),e.asyncQueue,t,n,i)),i.promise}function f6(e,t,n={}){const i=new Ko;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,c,u,f){const p=new pg({next:v=>{p.Za(),a.enqueueAndForget(()=>ug(s,m)),v.fromCache&&u.source==="server"?f.reject(new Et(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),m=new hg(c,p,{includeMetadataChanges:!0,_a:!0});return cg(s,m)}(await Ed(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(e,t,n){if(!n)throw new Et(it.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function p6(e,t,n,i){if(t===!0&&i===!0)throw new Et(it.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function e0(e){if(!Nt.isDocumentKey(e))throw new Et(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function n0(e){if(Nt.isDocumentKey(e))throw new Et(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function gh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":qt()}function fi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Et(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gh(e);throw new Et(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Et(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Et(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}p6("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=K1((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Et(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Et(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Et(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vh{constructor(t,n,i,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Et(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Et(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i0(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new RM;switch(i.type){case"firstParty":return new MM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Et(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=t0.get(n);i&&(Pt("ComponentProvider","Removing Datastore"),t0.delete(n),i.terminate())}(this),Promise.resolve()}}function m6(e,t,n,i={}){var o;const s=(e=fi(e,vh))._getSettings(),a=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),i.mockUserToken){let c,u;if(typeof i.mockUserToken=="string")c=i.mockUserToken,u=Dn.MOCK_USER;else{c=a4(i.mockUserToken,(o=e._app)===null||o===void 0?void 0:o.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new Et(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Dn(f)}e._authCredentials=new LM(new Kx(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Hr(this.firestore,t,this._query)}}class Hn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Hn(this.firestore,t,this._key)}}class Or extends Hr{constructor(t,n,i){super(t,n,ah(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Hn(this.firestore,null,new Nt(t))}withConverter(t){return new Or(this.firestore,t,this._path)}}function wc(e,t,...n){if(e=on(e),Z1("collection","path",t),e instanceof vh){const i=$e.fromString(t,...n);return n0(i),new Or(e,null,i)}{if(!(e instanceof Hn||e instanceof Or))throw new Et(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child($e.fromString(t,...n));return n0(i),new Or(e.firestore,null,i)}}function Ta(e,t,...n){if(e=on(e),arguments.length===1&&(t=Zx.newId()),Z1("doc","path",t),e instanceof vh){const i=$e.fromString(t,...n);return e0(i),new Hn(e,null,new Nt(i))}{if(!(e instanceof Hn||e instanceof Or))throw new Et(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child($e.fromString(t,...n));return e0(i),new Hn(e.firestore,e instanceof Or?e.converter:null,new Nt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new R1(this,"async_queue_retry"),this.Vu=()=>{const i=Af();i&&Pt("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=t;const n=Af();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=Af();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ko;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!Nc(t))throw t;Pt("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(i=>{this.Eu=i,this.du=!1;const o=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(i);throw er("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(t,n,i){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const o=ag.createAndSchedule(this,t,n,i,s=>this.yu(s));return this.Tu.push(o),o}fu(){this.Eu&&qt()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}function r0(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const o=n;for(const s of i)if(s in o&&typeof o[s]=="function")return!0;return!1}(e,["next","error","complete"])}class zr extends vh{constructor(t,n,i,o){super(t,n,i,o),this.type="firestore",this._queue=new o0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new o0(t),this._firestoreClient=void 0,await t}}}function g6(e,t){const n=typeof e=="object"?e:Um(),i=typeof e=="string"?e:t||"(default)",o=Ha(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const s=r4("firestore");s&&m6(o,...s)}return o}function bh(e){if(e._terminated)throw new Et(it.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||v6(e),e._firestoreClient}function v6(e){var t,n,i;const o=e._freezeSettings(),s=function(c,u,f,p){return new KM(c,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,K1(p.experimentalLongPollingOptions),p.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,o);e._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new c6(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ba(Ln.fromBase64String(t))}catch(n){throw new Et(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ba(Ln.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Et(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Et(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Et(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return de(this._lat,t._lat)||de(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,o){if(i.length!==o.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==o[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=/^__.*__$/;class _6{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new jr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Vc(t,this.data,n,this.fieldTransforms)}}class Y1{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new jr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function X1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt()}}class vg{constructor(t,n,i,o,s,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new vg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Fu({path:i,xu:!1});return o.Ou(t),o}Nu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Td(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(X1(this.Cu)&&b6.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class y6{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||fh(t)}Qu(t,n,i,o=!1){return new vg({Cu:t,methodName:n,qu:i,path:Pn.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wh(e){const t=e._freezeSettings(),n=fh(e._databaseId);return new y6(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Q1(e,t,n,i,o,s={}){const a=e.Qu(s.merge||s.mergeFields?2:0,t,n,o);_g("Data must be an object, but it was:",a,i);const c=J1(i,a);let u,f;if(s.merge)u=new hi(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const v=Zp(t,m,n);if(!a.contains(v))throw new Et(it.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);eE(p,v)||p.push(v)}u=new hi(p),f=a.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,f=a.fieldTransforms;return new _6(new si(c),u,f)}class xh extends yh{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xh}}class bg extends yh{_toFieldTransform(t){return new _D(t.path,new bc)}isEqual(t){return t instanceof bg}}function w6(e,t,n,i){const o=e.Qu(1,t,n);_g("Data must be an object, but it was:",o,i);const s=[],a=si.empty();Ds(i,(u,f)=>{const p=yg(t,u,n);f=on(f);const m=o.Nu(p);if(f instanceof xh)s.push(p);else{const v=Uc(f,m);v!=null&&(s.push(p),a.set(p,v))}});const c=new hi(s);return new Y1(a,c,o.fieldTransforms)}function x6(e,t,n,i,o,s){const a=e.Qu(1,t,n),c=[Zp(t,i,n)],u=[o];if(s.length%2!=0)throw new Et(it.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(Zp(t,s[v])),u.push(s[v+1]);const f=[],p=si.empty();for(let v=c.length-1;v>=0;--v)if(!eE(f,c[v])){const w=c[v];let E=u[v];E=on(E);const I=a.Nu(w);if(E instanceof xh)f.push(w);else{const R=Uc(E,I);R!=null&&(f.push(w),p.set(w,R))}}const m=new hi(f);return new Y1(p,m,a.fieldTransforms)}function E6(e,t,n,i=!1){return Uc(n,e.Qu(i?4:3,t))}function Uc(e,t){if(tE(e=on(e)))return _g("Unsupported field value:",t,e),J1(e,t);if(e instanceof yh)return function(i,o){if(!X1(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(i,o){const s=[];let a=0;for(const c of i){let u=Uc(c,o.Lu(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(e,t)}return function(i,o){if((i=on(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return gD(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Ye.fromDate(i);return{timestampValue:yd(o.serializer,s)}}if(i instanceof Ye){const s=new Ye(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:yd(o.serializer,s)}}if(i instanceof mg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ba)return{bytesValue:x1(o.serializer,i._byteString)};if(i instanceof Hn){const s=o.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw o.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Jm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof gg)return function(a,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return Ym(c.serializer,u)})}}}}}}(i,o);throw o.Bu(`Unsupported field value: ${gh(i)}`)}(e,t)}function J1(e,t){const n={};return Yx(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ds(e,(i,o)=>{const s=Uc(o,t.Mu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function tE(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ye||e instanceof mg||e instanceof Ba||e instanceof Hn||e instanceof yh||e instanceof gg)}function _g(e,t,n){if(!tE(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const i=gh(n);throw i==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+i)}}function Zp(e,t,n){if((t=on(t))instanceof _h)return t._internalPath;if(typeof t=="string")return yg(e,t);throw Td("Field path arguments must be of type string or ",e,!1,void 0,n)}const T6=new RegExp("[~\\*/\\[\\]]");function yg(e,t,n){if(t.search(T6)>=0)throw Td(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new _h(...t.split("."))._internalPath}catch{throw Td(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Td(e,t,n,i,o){const s=i&&!i.isEmpty(),a=o!==void 0;let c=`Function ${t}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${o}`),u+=")"),new Et(it.INVALID_ARGUMENT,c+e+u)}function eE(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(t,n,i,o,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new k6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Eh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class k6 extends nE{data(){return super.data()}}function Eh(e,t){return typeof t=="string"?yg(e,t):t instanceof _h?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Et(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wg{}class oE extends wg{}function Th(e,t,...n){let i=[];t instanceof wg&&i.push(t),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof xg).length,c=s.filter(u=>u instanceof kh).length;if(a>1||a>0&&c>0)throw new Et(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)e=o._apply(e);return e}class kh extends oE{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new kh(t,n,i)}_apply(t){const n=this._parse(t);return sE(t._query,n),new Hr(t.firestore,t.converter,Bp(t._query,n))}_parse(t){const n=wh(t.firestore);return function(s,a,c,u,f,p,m){let v;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Et(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){a0(m,p);const w=[];for(const E of m)w.push(s0(u,s,E));v={arrayValue:{values:w}}}else v=s0(u,s,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||a0(m,p),v=E6(c,a,m,p==="in"||p==="not-in");return un.create(f,p,v)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function rE(e,t,n){const i=t,o=Eh("where",e);return kh._create(o,i,n)}class xg extends wg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new xg(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Wi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,s){let a=o;const c=s.getFlattenedFilters();for(const u of c)sE(a,u),a=Bp(a,u)}(t._query,n),new Hr(t.firestore,t.converter,Bp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Eg extends oE{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Eg(t,n)}_apply(t){const n=function(o,s,a){if(o.startAt!==null)throw new Et(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Et(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vc(s,a)}(t._query,this._field,this._direction);return new Hr(t.firestore,t.converter,function(o,s){const a=o.explicitOrderBy.concat([s]);return new Ga(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function I6(e,t="asc"){const n=t,i=Eh("orderBy",e);return Eg._create(i,n)}function s0(e,t,n){if(typeof(n=on(n))=="string"){if(n==="")throw new Et(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!r1(t)&&n.indexOf("/")!==-1)throw new Et(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child($e.fromString(n));if(!Nt.isDocumentKey(i))throw new Et(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return S_(e,new Nt(i))}if(n instanceof Hn)return S_(e,n._key);throw new Et(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gh(n)}.`)}function a0(e,t){if(!Array.isArray(e)||e.length===0)throw new Et(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function sE(e,t){const n=function(o,s){for(const a of o)for(const c of a.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(e.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Et(it.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Et(it.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class S6{convertValue(t,n="none"){switch(Cs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return en(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(As(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw qt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Ds(t,(o,s)=>{i[o]=this.convertValue(s,n)}),i}convertVectorValue(t){var n,i,o;const s=(o=(i=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(a=>en(a.doubleValue));return new gg(s)}convertGeoPoint(t){return new mg(en(t.latitude),en(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Wm(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(pc(t));default:return null}}convertTimestamp(t){const n=Br(t);return new Ye(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=$e.fromString(t);we(A1(i));const o=new mc(i.get(1),i.get(3)),s=new Nt(i.popFirst(5));return o.isEqual(n)||er(`Document ${s} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class lE extends nE{constructor(t,n,i,o,s,a){super(t,n,i,o,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Eh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Fu extends lE{data(t={}){return super.data(t)}}class cE{constructor(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new $l(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Fu(this._firestore,this._userDataWriter,i.key,i,new $l(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Et(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){let a=0;return o._snapshot.docChanges.map(c=>{const u=new Fu(o._firestore,o._userDataWriter,c.doc.key,c.doc,new $l(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const u=new Fu(o._firestore,o._userDataWriter,c.doc.key,c.doc,new $l(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let f=-1,p=-1;return c.type!==0&&(f=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),p=a.indexOf(c.doc.key)),{type:A6(c.type),doc:u,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function A6(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(e){e=fi(e,Hn);const t=fi(e.firestore,zr);return h6(bh(t),e._key).then(n=>hE(t,e,n))}class Tg extends S6{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ba(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Hn(this.firestore,null,n)}}function uE(e){e=fi(e,Hr);const t=fi(e.firestore,zr),n=bh(t),i=new Tg(t);return iE(e._query),f6(n,e._query).then(o=>new cE(t,i,e,o))}function c0(e,t,n){e=fi(e,Hn);const i=fi(e.firestore,zr),o=aE(e.converter,t,n);return kg(i,[Q1(wh(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,zi.none())])}function Yp(e,t,n,...i){e=fi(e,Hn);const o=fi(e.firestore,zr),s=wh(o);let a;return a=typeof(t=on(t))=="string"||t instanceof _h?x6(s,"updateDoc",e._key,t,n,i):w6(s,"updateDoc",e._key,t),kg(o,[a.toMutation(e._key,zi.exists(!0))])}function C6(e,t){const n=fi(e.firestore,zr),i=Ta(e),o=aE(e.converter,t);return kg(n,[Q1(wh(e.firestore),"addDoc",i._key,o,e.converter!==null,{}).toMutation(i._key,zi.exists(!1))]).then(()=>i)}function dE(e,...t){var n,i,o;e=on(e);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||r0(t[a])||(s=t[a],a++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(r0(t[a])){const m=t[a];t[a]=(n=m.next)===null||n===void 0?void 0:n.bind(m),t[a+1]=(i=m.error)===null||i===void 0?void 0:i.bind(m),t[a+2]=(o=m.complete)===null||o===void 0?void 0:o.bind(m)}let u,f,p;if(e instanceof Hn)f=fi(e.firestore,zr),p=ah(e._key.path),u={next:m=>{t[a]&&t[a](hE(f,e,m))},error:t[a+1],complete:t[a+2]};else{const m=fi(e,Hr);f=fi(m.firestore,zr),p=m._query;const v=new Tg(f);u={next:w=>{t[a]&&t[a](new cE(f,v,m,w))},error:t[a+1],complete:t[a+2]},iE(e._query)}return function(v,w,E,I){const R=new pg(I),D=new hg(w,R,E);return v.asyncQueue.enqueueAndForget(async()=>cg(await Ed(v),D)),()=>{R.Za(),v.asyncQueue.enqueueAndForget(async()=>ug(await Ed(v),D))}}(bh(f),p,c,u)}function kg(e,t){return function(i,o){const s=new Ko;return i.asyncQueue.enqueueAndForget(async()=>e6(await d6(i),o,s)),s.promise}(bh(e),t)}function hE(e,t,n){const i=n.docs.get(t._key),o=new Tg(e);return new lE(e,o,t._key,i,new $l(n.hasPendingWrites,n.fromCache),t.converter)}function P6(){return new bg("serverTimestamp")}(function(t,n=!0){(function(o){Wa=o})(qa),fo(new qi("firestore",(i,{instanceIdentifier:o,options:s})=>{const a=i.getProvider("app").getImmediate(),c=new zr(new OM(i.getProvider("auth-internal")),new NM(i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Et(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(f.options.projectId,p)}(a,o),a);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),ki(x_,"4.7.3",t),ki(x_,"4.7.3","esm2017")})();function Ig(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n}function fE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const R6=fE,pE=new Ms("auth","Firebase",fE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=new Fm("@firebase/auth");function L6(e,...t){kd.logLevel<=se.WARN&&kd.warn(`Auth (${qa}): ${e}`,...t)}function zu(e,...t){kd.logLevel<=se.ERROR&&kd.error(`Auth (${qa}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(e,...t){throw Sg(e,...t)}function uo(e,...t){return Sg(e,...t)}function mE(e,t,n){const i=Object.assign(Object.assign({},R6()),{[t]:n});return new Ms("auth","Firebase",i).create(t,{appName:e.name})}function $r(e){return mE(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sg(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return pE.create(e,...t)}function Ut(e,t,...n){if(!e)throw Sg(t,...n)}function Uo(e){const t="INTERNAL ASSERTION FAILED: "+e;throw zu(t),new Error(t)}function ir(e,t){e||Uo(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function O6(){return u0()==="http:"||u0()==="https:"}function u0(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O6()||d4()||"connection"in navigator)?navigator.onLine:!0}function M6(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,n){this.shortDelay=t,this.longDelay=n,ir(n>t,"Short delay should be less than long delay!"),this.isMobile=l4()||h4()}get(){return $6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(e,t){ir(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Uo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Uo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Uo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=new jc(3e4,6e4);function Vs(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function qr(e,t,n,i,o={}){return vE(e,o,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const c=Mc(Object.assign({key:e.config.apiKey},a)).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const f=Object.assign({method:t,headers:u},s);return u4()||(f.referrerPolicy="no-referrer"),gE.fetch()(bE(e,e.config.apiHost,n,c),f)})}async function vE(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},D6),t);try{const o=new B6(e),s=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Au(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[u,f]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Au(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Au(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw Au(e,"user-disabled",a);const p=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw mE(e,p,f);Gi(e,p)}}catch(o){if(o instanceof mo)throw o;Gi(e,"network-request-failed",{message:String(o)})}}async function Ih(e,t,n,i,o={}){const s=await qr(e,t,n,i,o);return"mfaPendingCredential"in s&&Gi(e,"multi-factor-auth-required",{_serverResponse:s}),s}function bE(e,t,n,i){const o=`${t}${n}?${i}`;return e.config.emulator?Ag(e.config,o):`${e.config.apiScheme}://${o}`}function V6(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class B6{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(uo(this.auth,"network-request-failed")),N6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Au(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=uo(e,t,i);return o.customData._tokenResponse=n,o}function d0(e){return e!==void 0&&e.enterprise!==void 0}class F6{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return V6(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function z6(e,t){return qr(e,"GET","/v2/recaptchaConfig",Vs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U6(e,t){return qr(e,"POST","/v1/accounts:delete",t)}async function _E(e,t){return qr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function j6(e,t=!1){const n=on(e),i=await n.getIdToken(t),o=Cg(i);Ut(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s=typeof o.firebase=="object"?o.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:o,token:i,authTime:Zl(Pf(o.auth_time)),issuedAtTime:Zl(Pf(o.iat)),expirationTime:Zl(Pf(o.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Pf(e){return Number(e)*1e3}function Cg(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return zu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Rx(n);return o?JSON.parse(o):(zu("Failed to decode base64 JWT payload"),null)}catch(o){return zu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function h0(e){const t=Cg(e);return Ut(t,"internal-error"),Ut(typeof t.exp<"u","internal-error"),Ut(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof mo&&H6(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function H6({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(e){var t;const n=e.auth,i=await e.getIdToken(),o=await xc(e,_E(n,{idToken:i}));Ut(o==null?void 0:o.users.length,n,"internal-error");const s=o.users[0];e._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?yE(s.providerUserInfo):[],c=G6(e.providerData,a),u=e.isAnonymous,f=!(e.email&&s.passwordHash)&&!(c!=null&&c.length),p=u?f:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Qp(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(e,m)}async function W6(e){const t=on(e);await Id(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function G6(e,t){return[...e.filter(i=>!t.some(o=>o.providerId===i.providerId)),...t]}function yE(e){return e.map(t=>{var{providerId:n}=t,i=Ig(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(e,t){const n=await vE(e,{},async()=>{const i=Mc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:s}=e.config,a=bE(e,o,"/v1/token",`key=${s}`),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",gE.fetch()(a,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Z6(e,t){return qr(e,"POST","/v2/accounts:revokeToken",Vs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ut(t.idToken,"internal-error"),Ut(typeof t.idToken<"u","internal-error"),Ut(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):h0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ut(t.length!==0,"internal-error");const n=h0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ut(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:o,expiresIn:s}=await K6(t,n);this.updateTokensAndExpiration(i,o,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:o,expirationTime:s}=n,a=new ka;return i&&(Ut(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),o&&(Ut(typeof o=="string","internal-error",{appName:t}),a.accessToken=o),s&&(Ut(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return Uo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(e,t){Ut(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class jo{constructor(t){var{uid:n,auth:i,stsTokenManager:o}=t,s=Ig(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new q6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Qp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await xc(this,this.stsTokenManager.getToken(this.auth,t));return Ut(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return j6(this,t)}reload(){return W6(this)}_assign(t){this!==t&&(Ut(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new jo(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Id(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zo(this.auth.app))return Promise.reject($r(this.auth));const t=await this.getIdToken();return await xc(this,U6(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,o,s,a,c,u,f,p;const m=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(o=n.email)!==null&&o!==void 0?o:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(a=n.photoURL)!==null&&a!==void 0?a:void 0,I=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,D=(f=n.createdAt)!==null&&f!==void 0?f:void 0,F=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:z,emailVerified:B,isAnonymous:U,providerData:H,stsTokenManager:C}=n;Ut(z&&C,t,"internal-error");const k=ka.fromJSON(this.name,C);Ut(typeof z=="string",t,"internal-error"),_r(m,t.name),_r(v,t.name),Ut(typeof B=="boolean",t,"internal-error"),Ut(typeof U=="boolean",t,"internal-error"),_r(w,t.name),_r(E,t.name),_r(I,t.name),_r(R,t.name),_r(D,t.name),_r(F,t.name);const T=new jo({uid:z,auth:t,email:v,emailVerified:B,displayName:m,isAnonymous:U,photoURL:E,phoneNumber:w,tenantId:I,stsTokenManager:k,createdAt:D,lastLoginAt:F});return H&&Array.isArray(H)&&(T.providerData=H.map(O=>Object.assign({},O))),R&&(T._redirectEventId=R),T}static async _fromIdTokenResponse(t,n,i=!1){const o=new ka;o.updateFromServerResponse(n);const s=new jo({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:i});return await Id(s),s}static async _fromGetAccountInfoResponse(t,n,i){const o=n.users[0];Ut(o.localId!==void 0,"internal-error");const s=o.providerUserInfo!==void 0?yE(o.providerUserInfo):[],a=!(o.email&&o.passwordHash)&&!(s!=null&&s.length),c=new ka;c.updateFromIdToken(i);const u=new jo({uid:o.localId,auth:t,stsTokenManager:c,isAnonymous:a}),f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Qp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=new Map;function Ho(e){ir(e instanceof Function,"Expected a class definition");let t=f0.get(e);return t?(ir(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,f0.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}wE.type="NONE";const p0=wE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(e,t,n){return`firebase:${e}:${t}:${n}`}class Ia{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:o,name:s}=this.auth;this.fullUserKey=Uu(this.userKey,o.apiKey,s),this.fullPersistenceKey=Uu("persistence",o.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?jo._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Ia(Ho(p0),t,i);const o=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=o[0]||Ho(p0);const a=Uu(i,t.config.apiKey,t.name);let c=null;for(const f of n)try{const p=await f._get(a);if(p){const m=jo._fromJSON(t,p);f!==s&&(c=m),s=f;break}}catch{}const u=o.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ia(s,t,i):(s=u[0],c&&await s._set(a,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new Ia(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(kE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(SE(t))return"Blackberry";if(AE(t))return"Webos";if(EE(t))return"Safari";if((t.includes("chrome/")||TE(t))&&!t.includes("edge/"))return"Chrome";if(IE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function xE(e=Wn()){return/firefox\//i.test(e)}function EE(e=Wn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function TE(e=Wn()){return/crios\//i.test(e)}function kE(e=Wn()){return/iemobile/i.test(e)}function IE(e=Wn()){return/android/i.test(e)}function SE(e=Wn()){return/blackberry/i.test(e)}function AE(e=Wn()){return/webos/i.test(e)}function Pg(e=Wn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Y6(e=Wn()){var t;return Pg(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function X6(){return f4()&&document.documentMode===10}function CE(e=Wn()){return Pg(e)||IE(e)||AE(e)||SE(e)||/windows phone/i.test(e)||kE(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(e,t=[]){let n;switch(e){case"Browser":n=m0(Wn());break;case"Worker":n=`${m0(Wn())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${qa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,c)=>{try{const u=t(s);a(u)}catch(u){c(u)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J6(e,t={}){return qr(e,"GET","/v2/passwordPolicy",Vs(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=6;class e3{constructor(t){var n,i,o,s;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:t3,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,o,s,a,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsLowercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<t.length;o++)i=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,o,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(t,n,i,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g0(this),this.idTokenSubscription=new g0(this),this.beforeStateQueue=new Q6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ho(n)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Ia.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await _E(this,{idToken:t}),i=await jo._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(zo(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=o==null?void 0:o._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===c)&&(u!=null&&u.user)&&(o=u.user,s=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(o)}catch(a){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Id(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=M6()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(zo(this.app))return Promise.reject($r(this));const n=t?on(t):null;return n&&Ut(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ut(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return zo(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return zo(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ho(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await J6(this),n=new e3(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ms("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Z6(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ho(t)||this._popupRedirectResolver;Ut(n,this,"argument-error"),this.redirectPersistenceManager=await Ia.create(this,[Ho(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,o){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ut(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,o);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=PE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&L6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ya(e){return on(e)}class g0{constructor(t){this.auth=t,this.observer=null,this.addObserver=y4(n=>this.observer=n)}get next(){return Ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i3(e){Sh=e}function RE(e){return Sh.loadJS(e)}function o3(){return Sh.recaptchaEnterpriseScript}function r3(){return Sh.gapiScript}function s3(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const a3="recaptcha-enterprise",l3="NO_RECAPTCHA";class c3{constructor(t){this.type=a3,this.auth=Ya(t)}async verify(t="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,c)=>{z6(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new F6(u);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,a(f.siteKey)}}).catch(u=>{c(u)})})}function o(s,a,c){const u=window.grecaptcha;d0(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(f=>{a(f)}).catch(()=>{a(l3)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{i(this.auth).then(c=>{if(!n&&d0(window.grecaptcha))o(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=o3();u.length!==0&&(u+=c),RE(u).then(()=>{o(c,s,a)}).catch(f=>{a(f)})}}).catch(c=>{a(c)})})}}async function v0(e,t,n,i=!1){const o=new c3(e);let s;try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a=Object.assign({},t);return i?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function b0(e,t,n,i){var o;if(!((o=e._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await v0(e,t,n,n==="getOobCode");return i(e,s)}else return i(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await v0(e,t,n,n==="getOobCode");return i(e,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(e,t){const n=Ha(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),s=n.getOptions();if(md(s,t??{}))return o;Gi(o,"already-initialized")}return n.initialize({options:t})}function d3(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ho);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function h3(e,t,n){const i=Ya(e);Ut(i._canInitEmulator,i,"emulator-config-failed"),Ut(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const o=!!(n!=null&&n.disableWarnings),s=LE(t),{host:a,port:c}=f3(t),u=c===null?"":`:${c}`;i.config.emulator={url:`${s}//${a}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||p3()}function LE(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function f3(e){const t=LE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const s=o[1];return{host:s,port:_0(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:_0(a)}}}function _0(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function p3(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Uo("not implemented")}_getIdTokenResponse(t){return Uo("not implemented")}_linkToIdToken(t,n){return Uo("not implemented")}_getReauthenticationResolver(t){return Uo("not implemented")}}async function m3(e,t){return qr(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(e,t){return Ih(e,"POST","/v1/accounts:signInWithPassword",Vs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(e,t){return Ih(e,"POST","/v1/accounts:signInWithEmailLink",Vs(e,t))}async function b3(e,t){return Ih(e,"POST","/v1/accounts:signInWithEmailLink",Vs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends Rg{constructor(t,n,i,o=null){super("password",i),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Ec(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Ec(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b0(t,n,"signInWithPassword",g3);case"emailLink":return v3(t,{email:this._email,oobCode:this._password});default:Gi(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b0(t,i,"signUpPassword",m3);case"emailLink":return b3(t,{idToken:n,email:this._email,oobCode:this._password});default:Gi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(e,t){return Ih(e,"POST","/v1/accounts:signInWithIdp",Vs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="http://localhost";class Ps extends Rg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ps(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:o}=n,s=Ig(n,["providerId","signInMethod"]);if(!i||!o)return null;const a=new Ps(i,o);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Sa(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Sa(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Sa(t,n)}buildRequest(){const t={requestUri:_3,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Mc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function w3(e){const t=Cl(Pl(e)).link,n=t?Cl(Pl(t)).deep_link_id:null,i=Cl(Pl(e)).deep_link_id;return(i?Cl(Pl(i)).link:null)||i||n||t||e}class Lg{constructor(t){var n,i,o,s,a,c;const u=Cl(Pl(t)),f=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(i=u.oobCode)!==null&&i!==void 0?i:null,m=y3((o=u.mode)!==null&&o!==void 0?o:null);Ut(f&&p&&m,"argument-error"),this.apiKey=f,this.operation=m,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(t){const n=w3(t);try{return new Lg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.providerId=Xa.PROVIDER_ID}static credential(t,n){return Ec._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=Lg.parseLink(n);return Ut(i,"argument-error"),Ec._fromEmailAndCode(t,i.code,i.tenantId)}}Xa.PROVIDER_ID="password";Xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends OE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Hc{constructor(){super("facebook.com")}static credential(t){return Ps._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tr.credential(t.oauthAccessToken)}catch{return null}}}Tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Hc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ps._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return kr.credential(n,i)}catch{return null}}}kr.GOOGLE_SIGN_IN_METHOD="google.com";kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Hc{constructor(){super("github.com")}static credential(t){return Ps._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ir.credentialFromTaggedObject(t)}static credentialFromError(t){return Ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ir.credential(t.oauthAccessToken)}catch{return null}}}Ir.GITHUB_SIGN_IN_METHOD="github.com";Ir.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Hc{constructor(){super("twitter.com")}static credential(t,n){return Ps._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Sr.credential(n,i)}catch{return null}}}Sr.TWITTER_SIGN_IN_METHOD="twitter.com";Sr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,o=!1){const s=await jo._fromIdTokenResponse(t,i,o),a=y0(i);return new Fa({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const o=y0(i);return new Fa({user:t,providerId:o,_tokenResponse:i,operationType:n})}}function y0(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends mo{constructor(t,n,i,o){var s;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Sd.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,o){return new Sd(t,n,i,o)}}function $E(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Sd._fromErrorAndOperation(e,s,t,i):s})}async function x3(e,t,n=!1){const i=await xc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Fa._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E3(e,t,n=!1){const{auth:i}=e;if(zo(i.app))return Promise.reject($r(i));const o="reauthenticate";try{const s=await xc(e,$E(i,o,t,e),n);Ut(s.idToken,i,"internal-error");const a=Cg(s.idToken);Ut(a,i,"internal-error");const{sub:c}=a;return Ut(e.uid===c,i,"user-mismatch"),Fa._forOperation(e,o,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Gi(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ME(e,t,n=!1){if(zo(e.app))return Promise.reject($r(e));const i="signIn",o=await $E(e,i,t),s=await Fa._fromIdTokenResponse(e,i,o);return n||await e._updateCurrentUser(s.user),s}async function T3(e,t){return ME(Ya(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k3(e){const t=Ya(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function I3(e,t,n){return zo(e.app)?Promise.reject($r(e)):T3(on(e),Xa.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&k3(e),i})}function S3(e,t,n,i){return on(e).onIdTokenChanged(t,n,i)}function A3(e,t,n){return on(e).beforeAuthStateChanged(t,n)}function C3(e,t,n,i){return on(e).onAuthStateChanged(t,n,i)}const Ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ad,"1"),this.storage.removeItem(Ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=1e3,R3=10;class NE extends DE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&t(n,o,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);X6()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,R3):o()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},P3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}NE.type="LOCAL";const L3=NE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE extends DE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}VE.type="SESSION";const BE=VE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const i=new Ah(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:o,data:s}=n.data,a=this.handlersMap[o];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const c=Array.from(a).map(async f=>f(n.origin,s)),u=await O3(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const f=Og("",20);o.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:o,onMessage(m){const v=m;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),o.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:f,data:n},[o.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(){return window}function M3(e){ho().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(){return typeof ho().WorkerGlobalScope<"u"&&typeof ho().importScripts=="function"}async function D3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N3(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function V3(){return FE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="firebaseLocalStorageDb",B3=1,Cd="firebaseLocalStorage",UE="fbase_key";class qc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ch(e,t){return e.transaction([Cd],t?"readwrite":"readonly").objectStore(Cd)}function F3(){const e=indexedDB.deleteDatabase(zE);return new qc(e).toPromise()}function Jp(){const e=indexedDB.open(zE,B3);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Cd,{keyPath:UE})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Cd)?t(i):(i.close(),await F3(),t(await Jp()))})})}async function w0(e,t,n){const i=Ch(e,!0).put({[UE]:t,value:n});return new qc(i).toPromise()}async function z3(e,t){const n=Ch(e,!1).get(t),i=await new qc(n).toPromise();return i===void 0?null:i.value}function x0(e,t){const n=Ch(e,!0).delete(t);return new qc(n).toPromise()}const U3=800,j3=3;class jE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>j3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(V3()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await D3(),!this.activeServiceWorker)return;this.sender=new $3(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||N3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jp();return await w0(t,Ad,"1"),await x0(t,Ad),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>w0(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>z3(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>x0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const s=Ch(o,!1).getAll();return new qc(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jE.type="LOCAL";const H3=jE;new jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(e,t){return t?Ho(t):(Ut(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g extends Rg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Sa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Sa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Sa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function W3(e){return ME(e.auth,new $g(e),e.bypassAuthState)}function G3(e){const{auth:t,user:n}=e;return Ut(n,t,"internal-error"),E3(n,new $g(e),e.bypassAuthState)}async function K3(e){const{auth:t,user:n}=e;return Ut(n,t,"internal-error"),x3(n,new $g(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t,n,i,o,s=!1){this.auth=t,this.resolver=i,this.user=o,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return W3;case"linkViaPopup":case"linkViaRedirect":return K3;case"reauthViaPopup":case"reauthViaRedirect":return G3;default:Gi(this.auth,"internal-error")}}resolve(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=new jc(2e3,1e4);class ga extends HE{constructor(t,n,i,o,s){super(t,n,o,s),this.provider=i,this.authWindow=null,this.pollId=null,ga.currentPopupAction&&ga.currentPopupAction.cancel(),ga.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ut(t,this.auth,"internal-error"),t}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const t=Og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(uo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(uo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ga.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(uo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Z3.get())};t()}}ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="pendingRedirect",ju=new Map;class X3 extends HE{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=ju.get(this.auth._key());if(!t){try{const i=await Q3(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}ju.set(this.auth._key(),t)}return this.bypassAuthState||ju.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Q3(e,t){const n=e5(t),i=t5(e);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function J3(e,t){ju.set(e._key(),t)}function t5(e){return Ho(e._redirectPersistence)}function e5(e){return Uu(Y3,e.config.apiKey,e.name)}async function n5(e,t,n=!1){if(zo(e.app))return Promise.reject($r(e));const i=Ya(e),o=q3(i,t),a=await new X3(i,o,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=10*60*1e3;class o5{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!r5(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!qE(t)){const o=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(uo(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=i5&&this.cachedEventUids.clear(),this.cachedEventUids.has(E0(t))}saveEventToCache(t){this.cachedEventUids.add(E0(t)),this.lastProcessedEventTime=Date.now()}}function E0(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function qE({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function r5(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qE(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s5(e,t={}){return qr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l5=/^https?/;async function c5(e){if(e.config.emulator)return;const{authorizedDomains:t}=await s5(e);for(const n of t)try{if(u5(n))return}catch{}Gi(e,"unauthorized-domain")}function u5(e){const t=Xp(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!l5.test(n))return!1;if(a5.test(e))return i===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=new jc(3e4,6e4);function T0(){const e=ho().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function h5(e){return new Promise((t,n)=>{var i,o,s;function a(){T0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{T0(),n(uo(e,"network-request-failed"))},timeout:d5.get()})}if(!((o=(i=ho().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((s=ho().gapi)===null||s===void 0)&&s.load)a();else{const c=s3("iframefcb");return ho()[c]=()=>{gapi.load?a():n(uo(e,"network-request-failed"))},RE(`${r3()}?onload=${c}`).catch(u=>n(u))}}).catch(t=>{throw Hu=null,t})}let Hu=null;function f5(e){return Hu=Hu||h5(e),Hu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=new jc(5e3,15e3),m5="__/auth/iframe",g5="emulator/auth/iframe",v5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _5(e){const t=e.config;Ut(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ag(t,g5):`https://${e.config.authDomain}/${m5}`,i={apiKey:t.apiKey,appName:e.name,v:qa},o=b5.get(e.config.apiHost);o&&(i.eid=o);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Mc(i).slice(1)}`}async function y5(e){const t=await f5(e),n=ho().gapi;return Ut(n,e,"internal-error"),t.open({where:document.body,url:_5(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v5,dontclear:!0},i=>new Promise(async(o,s)=>{await i.restyle({setHideOnLeave:!1});const a=uo(e,"network-request-failed"),c=ho().setTimeout(()=>{s(a)},p5.get());function u(){ho().clearTimeout(c),o(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x5=500,E5=600,T5="_blank",k5="http://localhost";class k0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I5(e,t,n,i=x5,o=E5){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},w5),{width:i.toString(),height:o.toString(),top:s,left:a}),f=Wn().toLowerCase();n&&(c=TE(f)?T5:n),xE(f)&&(t=t||k5,u.scrollbars="yes");const p=Object.entries(u).reduce((v,[w,E])=>`${v}${w}=${E},`,"");if(Y6(f)&&c!=="_self")return S5(t||"",c),new k0(null);const m=window.open(t||"",c,p);Ut(m,e,"popup-blocked");try{m.focus()}catch{}return new k0(m)}function S5(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5="__/auth/handler",C5="emulator/auth/handler",P5=encodeURIComponent("fac");async function I0(e,t,n,i,o,s){Ut(e.config.authDomain,e,"auth-domain-config-required"),Ut(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:qa,eventId:o};if(t instanceof OE){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",_4(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,m]of Object.entries(s||{}))a[p]=m}if(t instanceof Hc){const p=t.getScopes().filter(m=>m!=="");p.length>0&&(a.scopes=p.join(","))}e.tenantId&&(a.tid=e.tenantId);const c=a;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await e._getAppCheckToken(),f=u?`#${P5}=${encodeURIComponent(u)}`:"";return`${R5(e)}?${Mc(c).slice(1)}${f}`}function R5({config:e}){return e.emulator?Ag(e,C5):`https://${e.authDomain}/${A5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="webStorageSupport";class L5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BE,this._completeRedirectFn=n5,this._overrideRedirectResult=J3}async _openPopup(t,n,i,o){var s;ir((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await I0(t,n,i,Xp(),o);return I5(t,a,Og())}async _openRedirect(t,n,i,o){await this._originValidation(t);const s=await I0(t,n,i,Xp(),o);return M3(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:s}=this.eventManagers[n];return o?Promise.resolve(o):(ir(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await y5(t),i=new o5(t);return n.register("authEvent",o=>(Ut(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Rf,{type:Rf},o=>{var s;const a=(s=o==null?void 0:o[0])===null||s===void 0?void 0:s[Rf];a!==void 0&&n(!!a),Gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=c5(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return CE()||EE()||Pg()}}const O5=L5;var S0="@firebase/auth",A0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D5(e){fo(new qi("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=i.options;Ut(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PE(e)},f=new n3(i,o,s,u);return d3(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),fo(new qi("auth-internal",t=>{const n=Ya(t.getProvider("auth").getImmediate());return(i=>new $5(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(S0,A0,M5(e)),ki(S0,A0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=5*60,V5=$x("authIdTokenMaxAge")||N5;let C0=null;const B5=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>V5)return;const o=n==null?void 0:n.token;C0!==o&&(C0=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function F5(e=Um()){const t=Ha(e,"auth");if(t.isInitialized())return t.getImmediate();const n=u3(e,{popupRedirectResolver:O5,persistence:[H3,L3,BE]}),i=$x("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=B5(s.toString());A3(n,a,()=>a(n.currentUser)),S3(n,c=>a(c))}}const o=Lx("auth");return o&&h3(n,`http://${o}`),n}function z5(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}i3({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=o=>{const s=uo("internal-error");s.customData=o,n(s)},i.type="text/javascript",i.charset="UTF-8",z5().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D5("Browser");const U5={apiKey:"AIzaSyBroRMMRCSVdqAzpuivp7PSSP9X1WIk3VY",authDomain:"projet-cloud-s5-routier.firebaseapp.com",projectId:"projet-cloud-s5-routier",storageBucket:"projet-cloud-s5-routier.firebasestorage.app",messagingSenderId:"792049548362",appId:"1:792049548362:web:6ab3ce65b1584730c63ab3"},WE=Bx(U5),so=g6(WE),vs=F5(WE),ne=Ic({user:null,signalements:[],loading:!0}),j5=e=>{ne.signalements=e},Yl=e=>{ne.user=e},H5={key:0,class:"splash-screen"},q5={class:"splash-content"},W5={class:"logo-container"},G5={class:"splash-text"},K5=fn({__name:"App",setup(e){const t=me(!0);return Ua(()=>{const n=Th(wc(so,"signalements"),I6("dateSignalement","desc"));dE(n,o=>{const s=o.docs.map(a=>({id:a.id,...a.data()}));j5(s)});const i=localStorage.getItem("app_user");if(i){const o=JSON.parse(i);o.expiresAt&&new Date(o.expiresAt)<new Date?(localStorage.removeItem("app_user"),Yl(null)):Yl(o)}setTimeout(()=>{t.value=!1},2500)}),(n,i)=>(Bt(),Fn(et(kx),null,{default:ue(()=>[At(oS,{name:"fade-splash"},{default:ue(()=>[t.value?(Bt(),le("div",H5,[Z("div",q5,[Z("div",W5,[At(et(ge),{icon:et(Bm),class:"splash-logo"},null,8,["icon"])]),Z("h1",G5,[(Bt(),le(An,null,Pa("Lalana APK",(o,s)=>Z("span",{key:s,style:Es({animationDelay:s*.1+"s"})},ke(o===" "?"":o),5)),64))]),i[0]||(i[0]=Z("div",{class:"loading-bar-container"},[Z("div",{class:"loading-bar"})],-1))])])):Ze("",!0)]),_:1}),t.value?Ze("",!0):(Bt(),Fn(et(xx),{key:0}))]),_:1}))}});const Z5=()=>{const e=[],t={},n=I=>{switch(I.routerAction){case"pop":o(I);break;default:s(I);break}I.routerDirection==="root"&&(a(),s(I))},i=I=>{const R=e.findIndex(F=>F.id===I.id);R>-1&&e.splice(R,1,I);const D=t[I.tab||""];if(D){const F=D.findIndex(z=>z.id===I.id);F>-1?D.splice(F,1,I):D.push(I)}else I.tab&&(t[I.tab]=[I])},o=I=>{const R=c(I.tab);let D;if(R){for(D=R[R.length-1];D&&D.id!==I.id;)R.pop(),D=R[R.length-1];R.pop(),R.push(I)}for(D=e[e.length-1];D&&D.id!==I.id;)e.pop(),D=e[e.length-1];e.pop(),e.push(I)},s=I=>{const R=c(I.tab);R&&(R[R.length-1]&&R[R.length-1].id===I.id&&R.pop(),R.push(I)),e.push(I)},a=I=>{if(I){const{position:R,tab:D}=I,F=e.findIndex(U=>U.position===R);if(F===-1)return;e.splice(F);const z=U=>{const H=t[U].findIndex(C=>C.position===R);H!==-1&&t[U].splice(H)},B=t[D];if(D&&B)z(D);else for(const U in t)z(U)}else{for(const R in t)t[R]=[];e.length=0}},c=I=>{let R;return I&&(R=t[I],R||(R=t[I]=[])),R},u=()=>e.length,f=(I,R)=>{const D=R-I;return e[D]||p()},p=()=>e[e.length-1];return{current:f,size:u,last:p,add:n,canGoBack:(I=1,R,D)=>D-I>=R,update:i,getFirstRouteInfoForTab:I=>{const R=c(I);if(R)return R[0]},getCurrentRouteInfoForTab:I=>{const R=c(I);if(R)return R[R.length-1]},findLastLocation:(I,R=-1)=>{const D=c(I.tab);if(D){if(R<-1)return D[D.length-1+R];for(let F=D.length-2;F>=0;F--){const z=D[F];if(z&&z.pathname===I.pushedByRoute)return z}}if(R<-1)return e[e.length-1+R];for(let F=e.length-2;F>=0;F--){const z=e[F];if(z&&z.pathname===I.pushedByRoute)return z}},clearHistory:a}},P0={main:0},GE=(e="main")=>{var t;const n=((t=P0[e])!==null&&t!==void 0?t:0)+1;return P0[e]=n,n.toString()},Y5=(e,t)=>{let n={direction:void 0,action:void 0,delta:void 0};t.afterEach((C,k,T)=>{if(T)return;const{direction:O,action:A,delta:$}=n;s=e.history.state.position;const P=e.history.state.replaced?"replace":void 0;m(C,A||P,O,$),n={direction:void 0,action:void 0,delta:void 0}});const i=Z5();let o=e.history.state.position,s=e.history.state.position,a,c;const u=[];typeof document<"u"&&document.addEventListener("ionBackButton",C=>{C.detail.register(0,k=>{e.history.go(-1),k()})}),e.history.listen((C,k,T)=>{n={delta:T.delta,action:T.type==="pop"&&T.delta>=1?"push":T.type,direction:T.direction===""?"forward":T.direction}});const f=(C,k)=>{const T=i.current(o,s);if(T&&T.pushedByRoute){const O=i.findLastLocation(T);O?(c=Object.assign(Object.assign({},O),{routerAction:"pop",routerDirection:"back",routerAnimation:k||T.routerAnimation}),T.lastPathname===T.pushedByRoute||O.pathname===T.pushedByRoute&&!T.tab&&!O.tab?t.back():t.go(O.position-T.position)):p(C,"pop","back",k)}else p(C,"pop","back",k)},p=(C,k,T,O,A)=>{z(k,T,O,A),k==="push"?t.push(C):t.replace(C)},m=(C,k,T,O)=>{let A;if(c)if(c.routerAction==="replace")A=i.current(o,s);else if(c.routerAction==="pop")A=i.current(o,s+1),k==="replace"&&i.clearHistory();else{const P=c.routerDirection==="root"?s:s-1;A=i.current(o,P)}else A=a;if(A||(A={pathname:"",search:""}),A.pathname+A.search!==C.fullPath){if(!c){if(k==="replace")c={routerAction:"replace",routerDirection:"none"};else if(k==="pop"){const wt=i.current(o,s-O);if(wt&&wt.pushedByRoute){const tt=i.findLastLocation(wt,O);c=Object.assign(Object.assign({},tt),{routerAction:"pop",routerDirection:"back"})}else c={routerAction:"pop",routerDirection:"none"}}c||(c={routerAction:"push",routerDirection:T||"forward"})}let P;if(c!=null&&c.id)P=Object.assign(Object.assign({},c),{lastPathname:A.pathname});else{const wt=c.routerAction==="push"&&c.routerDirection==="forward";if(P=Object.assign(Object.assign({id:GE("routeInfo")},c),{lastPathname:A.pathname,pathname:C.path,search:C.fullPath&&C.fullPath.split("?")[1]||"",params:C.params&&C.params,prevRouteLastPathname:A.lastPathname}),wt)P.pushedByRoute=A.pathname!==""?A.pathname:void 0;else if(P.routerAction==="pop"){const tt=i.findLastLocation(P);P.pushedByRoute=tt==null?void 0:tt.pushedByRoute}else if(P.routerAction==="push"&&P.tab!==A.tab){const tt=i.getCurrentRouteInfoForTab(P.tab);P.pushedByRoute=tt==null?void 0:tt.pushedByRoute}else if(P.routerAction==="replace"){const tt=i.current(o,s),nt=tt==null?void 0:tt.pushedByRoute,G=nt!==void 0&&nt!==P.pathname?nt:P.pushedByRoute;P.lastPathname=(tt==null?void 0:tt.pathname)||P.lastPathname,P.pushedByRoute=G,P.routerDirection=(tt==null?void 0:tt.routerDirection)||P.routerDirection,P.routerAnimation=(tt==null?void 0:tt.routerAnimation)||P.routerAnimation,P.prevRouteLastPathname=tt==null?void 0:tt.lastPathname}}P.position=s,P.delta=O;const Ct=i.size(),Gt=s-o,Vt=Ct===Gt&&Ct>0&&k==="replace";Ct>Gt||Vt?(P.routerAction==="push"||P.routerAction==="replace")&&O===void 0&&(i.clearHistory(P),i.add(P)):i.add(P),i.size()===1&&(o=P.position),a=P}c=void 0,u.forEach(P=>P(a))},v=()=>a,w=(C=1)=>i.canGoBack(C,o,s),E=C=>{const{routerAnimation:k,routerDirection:T,routerLink:O}=C;z("push",T,k),t.push(O)},I=C=>{const k=i.getFirstRouteInfoForTab(C);k&&t.go(k.position-s)},R=(C,k)=>{if(!k)return;const T=i.getCurrentRouteInfoForTab(C),[O]=k.split("?");T?(c=Object.assign(Object.assign({},c),{routerAction:"push",routerDirection:"none",tab:C}),T.pathname===O?t.push({path:T.pathname,query:xp(T.search)}):t.push({path:O,query:xp(T.search)})):p(O,"push","none",void 0,C)},D=C=>{const k=Object.assign({},i.current(o,s));k.tab!==C&&(k.tab=C,i.update(k));const T=i.findLastLocation(k);k.pushedByRoute!==k.lastPathname&&(T==null?void 0:T.tab)!==C&&(k.pushedByRoute=void 0,i.update(k))},F=C=>{u.push(C)},z=(C="push",k="forward",T,O)=>{c={routerAction:C,routerDirection:k,routerAnimation:T,tab:O}};return{handleNavigate:p,getLeavingRouteInfo:()=>i.current(o,s),handleNavigateBack:f,handleSetCurrentTab:D,getCurrentRouteInfo:v,canGoBack:w,navigate:E,resetTab:I,changeTab:R,registerHistoryChangeListener:F,goBack:C=>{z("pop","back",C),t.back()},goForward:C=>{z("push","forward",C),t.forward()}}},X5=e=>{const t={},n=()=>Object.keys(t).length,i=D=>{delete t[D]},o=D=>t[D],s=(D,F)=>{D.ionPageElement=F,D.ionRoute=!0,D.matchedRoute.instances={default:D.vueComponentRef.value}},a=(D,F)=>p(D.pathname,F,!1),c=(D,F,z=!0)=>p(D.lastPathname,F,z),u=(D,F)=>p(D,F,!1),f=(D,F)=>F.find(z=>{if(z.pathname===D)return z}),p=(D,F,z=!1)=>{const B=U=>{if(z&&!U.ionRoute||D==="")return!1;const C=e.resolve(D).matched.find(k=>k===U.matchedRoute);if(C)return C.path.includes(":")&&D!==U.pathname?!1:U};if(F){const U=t[F];if(!U)return;const H=e?U.find(B):f(D,U);if(H)return H}else for(const U in t){const H=t[U],C=f(D,H);if(C)return C}};return{unmountLeavingViews:(D,F,z=1)=>{const B=t[D];if(!B)return;const U=B.findIndex(H=>H===F);for(let H=U+1;H<U-z;H++){const C=B[H];C.mount=!1,C.ionPageElement=void 0,C.ionRoute=!1,C.matchedRoute.instances={}}},mountIntermediaryViews:(D,F,z=1)=>{const B=t[D];if(!B)return;const U=B.findIndex(H=>H===F);for(let H=U+1;H<U+z;H++)B[H].mount=!0},clear:i,findViewItemByRouteInfo:a,findLeavingViewItemByRouteInfo:c,findViewItemByPathname:u,createViewItem:(D,F,z,B,U)=>({id:GE("viewItem"),pathname:B.pathname,outletId:D,matchedRoute:z,ionPageElement:U,vueComponent:F,vueComponentRef:Sc(),ionRoute:!1,mount:!1,exact:B.pathname===z.path,params:B.params,vueComponentData:{}}),getChildrenToRender:D=>t[D]?t[D].filter(B=>B.mount):[],add:D=>{const{outletId:F}=D;t[F]?t[F].push(D):t[F]=[D]},remove:(D,F)=>{if(!F)throw Error("outletId required");const z=t[F];z&&(t[F]=z.filter(B=>B.id!==D.id))},registerIonPage:s,getViewStack:o,size:n}},Q5=e=>{const t=Object.assign({},e);delete t.tabsPrefix;const n=aO(t),i=Y5(e,n),o=X5(n),s=n.install.bind(n);n.install=c=>{c.provide("navManager",i),c.provide("viewStacks",o),s(c)};const a=n.isReady.bind(n);return n.isReady=()=>a(),n},J5=e=>BL(e),KE="@firebase/installations",Mg="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=1e4,YE=`w:${Mg}`,XE="FIS_v2",tV="https://firebaseinstallations.googleapis.com/v1",eV=60*60*1e3,nV="installations",iV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Rs=new Ms(nV,iV,oV);function QE(e){return e instanceof mo&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE({projectId:e}){return`${tV}/projects/${e}/installations`}function tT(e){return{token:e.token,requestStatus:2,expiresIn:sV(e.expiresIn),creationTime:Date.now()}}async function eT(e,t){const i=(await t.json()).error;return Rs.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function nT({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function rV(e,{refreshToken:t}){const n=nT(e);return n.append("Authorization",aV(t)),n}async function iT(e){const t=await e();return t.status>=500&&t.status<600?e():t}function sV(e){return Number(e.replace("s","000"))}function aV(e){return`${XE} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=JE(e),o=nT(e),s=t.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}const a={fid:n,authVersion:XE,appId:e.appId,sdkVersion:YE},c={method:"POST",headers:o,body:JSON.stringify(a)},u=await iT(()=>fetch(i,c));if(u.ok){const f=await u.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:tT(f.authToken)}}else throw await eT("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=/^[cdef][\w-]{21}$/,tm="";function dV(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=hV(e);return uV.test(n)?n:tm}catch{return tm}}function hV(e){return cV(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new Map;function sT(e,t){const n=Ph(e);aT(n,t),fV(n,t)}function aT(e,t){const n=rT.get(e);if(n)for(const i of n)i(t)}function fV(e,t){const n=pV();n&&n.postMessage({key:e,fid:t}),mV()}let bs=null;function pV(){return!bs&&"BroadcastChannel"in self&&(bs=new BroadcastChannel("[Firebase] FID Change"),bs.onmessage=e=>{aT(e.data.key,e.data.fid)}),bs}function mV(){rT.size===0&&bs&&(bs.close(),bs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV="firebase-installations-database",vV=1,Ls="firebase-installations-store";let Lf=null;function Dg(){return Lf||(Lf=rh(gV,vV,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ls)}}})),Lf}async function Pd(e,t){const n=Ph(e),o=(await Dg()).transaction(Ls,"readwrite"),s=o.objectStore(Ls),a=await s.get(n);return await s.put(t,n),await o.done,(!a||a.fid!==t.fid)&&sT(e,t.fid),t}async function lT(e){const t=Ph(e),i=(await Dg()).transaction(Ls,"readwrite");await i.objectStore(Ls).delete(t),await i.done}async function Rh(e,t){const n=Ph(e),o=(await Dg()).transaction(Ls,"readwrite"),s=o.objectStore(Ls),a=await s.get(n),c=t(a);return c===void 0?await s.delete(n):await s.put(c,n),await o.done,c&&(!a||a.fid!==c.fid)&&sT(e,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ng(e){let t;const n=await Rh(e.appConfig,i=>{const o=bV(i),s=_V(e,o);return t=s.registrationPromise,s.installationEntry});return n.fid===tm?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function bV(e){const t=e||{fid:dV(),registrationStatus:0};return cT(t)}function _V(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Rs.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=yV(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:wV(e)}:{installationEntry:t}}async function yV(e,t){try{const n=await lV(e,t);return Pd(e.appConfig,n)}catch(n){throw QE(n)&&n.customData.serverCode===409?await lT(e.appConfig):await Pd(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function wV(e){let t=await R0(e.appConfig);for(;t.registrationStatus===1;)await oT(100),t=await R0(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Ng(e);return i||n}return t}function R0(e){return Rh(e,t=>{if(!t)throw Rs.create("installation-not-found");return cT(t)})}function cT(e){return xV(e)?{fid:e.fid,registrationStatus:0}:e}function xV(e){return e.registrationStatus===1&&e.registrationTime+ZE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV({appConfig:e,heartbeatServiceProvider:t},n){const i=TV(e,n),o=rV(e,n),s=t.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}const a={installation:{sdkVersion:YE,appId:e.appId}},c={method:"POST",headers:o,body:JSON.stringify(a)},u=await iT(()=>fetch(i,c));if(u.ok){const f=await u.json();return tT(f)}else throw await eT("Generate Auth Token",u)}function TV(e,{fid:t}){return`${JE(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vg(e,t=!1){let n;const i=await Rh(e.appConfig,s=>{if(!uT(s))throw Rs.create("not-registered");const a=s.authToken;if(!t&&SV(a))return s;if(a.requestStatus===1)return n=kV(e,t),s;{if(!navigator.onLine)throw Rs.create("app-offline");const c=CV(s);return n=IV(e,c),c}});return n?await n:i.authToken}async function kV(e,t){let n=await L0(e.appConfig);for(;n.authToken.requestStatus===1;)await oT(100),n=await L0(e.appConfig);const i=n.authToken;return i.requestStatus===0?Vg(e,t):i}function L0(e){return Rh(e,t=>{if(!uT(t))throw Rs.create("not-registered");const n=t.authToken;return PV(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function IV(e,t){try{const n=await EV(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await Pd(e.appConfig,i),n}catch(n){if(QE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await lT(e.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Pd(e.appConfig,i)}throw n}}function uT(e){return e!==void 0&&e.registrationStatus===2}function SV(e){return e.requestStatus===2&&!AV(e)}function AV(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+eV}function CV(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function PV(e){return e.requestStatus===1&&e.requestTime+ZE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(e){const t=e,{installationEntry:n,registrationPromise:i}=await Ng(t);return i?i.catch(console.error):Vg(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(e,t=!1){const n=e;return await OV(n),(await Vg(n,t)).token}async function OV(e){const{registrationPromise:t}=await Ng(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(e){if(!e||!e.options)throw Of("App Configuration");if(!e.name)throw Of("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Of(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Of(e){return Rs.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="installations",MV="installations-internal",DV=e=>{const t=e.getProvider("app").getImmediate(),n=$V(t),i=Ha(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},NV=e=>{const t=e.getProvider("app").getImmediate(),n=Ha(t,dT).getImmediate();return{getId:()=>RV(n),getToken:o=>LV(n,o)}};function VV(){fo(new qi(dT,DV,"PUBLIC")),fo(new qi(MV,NV,"PRIVATE"))}VV();ki(KE,Mg);ki(KE,Mg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV="/firebase-messaging-sw.js",FV="/firebase-cloud-messaging-push-scope",hT="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zV="https://fcmregistrations.googleapis.com/v1",fT="google.c.a.c_id",UV="google.c.a.c_l",jV="google.c.a.ts",HV="google.c.a.e";var O0;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(O0||(O0={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Tc;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Tc||(Tc={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qV(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="fcm_token_details_db",WV=5,$0="fcm_token_object_Store";async function GV(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes($f))return null;let t=null;return(await rh($f,WV,{upgrade:async(i,o,s,a)=>{var c;if(o<2||!i.objectStoreNames.contains($0))return;const u=a.objectStore($0),f=await u.index("fcmSenderId").get(e);if(await u.clear(),!!f){if(o===2){const p=f;if(!p.auth||!p.p256dh||!p.endpoint)return;t={token:p.fcmToken,createTime:(c=p.createTime)!==null&&c!==void 0?c:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:Mo(p.vapidKey)}}}else if(o===3){const p=f;t={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Mo(p.auth),p256dh:Mo(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Mo(p.vapidKey)}}}else if(o===4){const p=f;t={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Mo(p.auth),p256dh:Mo(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Mo(p.vapidKey)}}}}}})).close(),await Ef($f),await Ef("fcm_vapid_details_db"),await Ef("undefined"),KV(t)?t:null}function KV(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="firebase-messaging-database",YV=1,kc="firebase-messaging-store";let Mf=null;function pT(){return Mf||(Mf=rh(ZV,YV,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(kc)}}})),Mf}async function XV(e){const t=mT(e),i=await(await pT()).transaction(kc).objectStore(kc).get(t);if(i)return i;{const o=await GV(e.appConfig.senderId);if(o)return await Bg(e,o),o}}async function Bg(e,t){const n=mT(e),o=(await pT()).transaction(kc,"readwrite");return await o.objectStore(kc).put(t,n),await o.done,t}function mT({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},qn=new Ms("messaging","Messaging",QV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(e,t){const n=await zg(e),i=gT(t),o={method:"POST",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(Fg(e.appConfig),o)).json()}catch(a){throw qn.create("token-subscribe-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw qn.create("token-subscribe-failed",{errorInfo:a})}if(!s.token)throw qn.create("token-subscribe-no-token");return s.token}async function tB(e,t){const n=await zg(e),i=gT(t.subscriptionOptions),o={method:"PATCH",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(`${Fg(e.appConfig)}/${t.token}`,o)).json()}catch(a){throw qn.create("token-update-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw qn.create("token-update-failed",{errorInfo:a})}if(!s.token)throw qn.create("token-update-no-token");return s.token}async function eB(e,t){const i={method:"DELETE",headers:await zg(e)};try{const s=await(await fetch(`${Fg(e.appConfig)}/${t}`,i)).json();if(s.error){const a=s.error.message;throw qn.create("token-unsubscribe-failed",{errorInfo:a})}}catch(o){throw qn.create("token-unsubscribe-failed",{errorInfo:o==null?void 0:o.toString()})}}function Fg({projectId:e}){return`${zV}/projects/${e}/registrations`}async function zg({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function gT({p256dh:e,auth:t,endpoint:n,vapidKey:i}){const o={web:{endpoint:n,auth:t,p256dh:e}};return i!==hT&&(o.web.applicationPubKey=i),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=7*24*60*60*1e3;async function iB(e){const t=await rB(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Mo(t.getKey("auth")),p256dh:Mo(t.getKey("p256dh"))},i=await XV(e.firebaseDependencies);if(i){if(sB(i.subscriptionOptions,n))return Date.now()>=i.createTime+nB?oB(e,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await eB(e.firebaseDependencies,i.token)}catch(o){console.warn(o)}return M0(e.firebaseDependencies,n)}else return M0(e.firebaseDependencies,n)}async function oB(e,t){try{const n=await tB(e.firebaseDependencies,t),i=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await Bg(e.firebaseDependencies,i),n}catch(n){throw n}}async function M0(e,t){const i={token:await JV(e,t),createTime:Date.now(),subscriptionOptions:t};return await Bg(e,i),i.token}async function rB(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qV(t)})}function sB(e,t){const n=t.vapidKey===e.vapidKey,i=t.endpoint===e.endpoint,o=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&i&&o&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return aB(t,e),lB(t,e),cB(t,e),t}function aB(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const i=t.notification.body;i&&(e.notification.body=i);const o=t.notification.image;o&&(e.notification.image=o);const s=t.notification.icon;s&&(e.notification.icon=s)}function lB(e,t){t.data&&(e.data=t.data)}function cB(e,t){var n,i,o,s,a;if(!t.fcmOptions&&!(!((n=t.notification)===null||n===void 0)&&n.click_action))return;e.fcmOptions={};const c=(o=(i=t.fcmOptions)===null||i===void 0?void 0:i.link)!==null&&o!==void 0?o:(s=t.notification)===null||s===void 0?void 0:s.click_action;c&&(e.fcmOptions.link=c);const u=(a=t.fcmOptions)===null||a===void 0?void 0:a.analytics_label;u&&(e.fcmOptions.analyticsLabel=u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(e){return typeof e=="object"&&!!e&&fT in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dB("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function dB(e,t){const n=[];for(let i=0;i<e.length;i++)n.push(e.charAt(i)),i<t.length&&n.push(t.charAt(i));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hB(e){if(!e||!e.options)throw Df("App Configuration Object");if(!e.name)throw Df("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const i of t)if(!n[i])throw Df(i);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Df(e){return qn.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(t,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=hB(t);this.firebaseDependencies={app:t,appConfig:o,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pB(e){try{e.swRegistration=await navigator.serviceWorker.register(BV,{scope:FV}),e.swRegistration.update().catch(()=>{})}catch(t){throw qn.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mB(e,t){if(!t&&!e.swRegistration&&await pB(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw qn.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gB(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=hT)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vT(e,t){if(!navigator)throw qn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw qn.create("permission-blocked");return await gB(e,t==null?void 0:t.vapidKey),await mB(e,t==null?void 0:t.serviceWorkerRegistration),iB(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vB(e,t,n){const i=bB(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[fT],message_name:n[UV],message_time:n[jV],message_device_time:Math.floor(Date.now()/1e3)})}function bB(e){switch(e){case Tc.NOTIFICATION_CLICKED:return"notification_open";case Tc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _B(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Tc.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(D0(n)):e.onMessageHandler.next(D0(n)));const i=n.data;uB(i)&&i[HV]==="1"&&await vB(e,n.messageType,i)}const N0="@firebase/messaging",V0="0.12.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB=e=>{const t=new fB(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>_B(t,n)),t},wB=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:i=>vT(t,i)}};function xB(){fo(new qi("messaging",yB,"PUBLIC")),fo(new qi("messaging-internal",wB,"PRIVATE")),ki(N0,V0),ki(N0,V0,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EB(){try{await Dx()}catch{return!1}return typeof window<"u"&&Mx()&&m4()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(e,t){if(!navigator)throw qn.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(e=Um()){return EB().then(t=>{if(!t)throw qn.create("unsupported-browser")},t=>{throw qn.create("indexed-db-unsupported")}),Ha(on(e),"messaging").getImmediate()}async function IB(e,t){return e=on(e),vT(e,t)}function SB(e,t){return e=on(e),TB(e,t)}xB();class AB{constructor(){this.messaging=null,this.unsubscribeSnapshot=null,this.notifications=me([]),this.unreadCount=me(0)}async initialize(){try{this.messaging=kB(),await window.Notification.requestPermission()==="granted"?(console.log(" Permission de notification accorde"),await this.saveFCMToken(),this.setupMessageListener()):console.warn(" Permission de notification refuse")}catch(t){console.error(" Erreur lors de l'initialisation des notifications:",t)}}async saveFCMToken(){var t,n,i,o,s,a,c,u,f,p,m;try{if(!this.messaging){console.warn(" Messaging non initialis");return}const v=((t=ne.user)==null?void 0:t.email)||((n=vs.currentUser)==null?void 0:n.email),w=((i=ne.user)==null?void 0:i.firebaseUid)||((o=ne.user)==null?void 0:o.postgresId)||((s=vs.currentUser)==null?void 0:s.uid);if(!v||!w){console.warn(" Utilisateur non identifi (email ou ID manquant), impossible de sauvegarder le token");return}console.log(" Utilisateur:",v),console.log(" ID document utilis:",w);try{const E=Ta(so,"utilisateurs",w),I={email:v,postgresId:((a=ne.user)==null?void 0:a.postgresId)||null,firebaseUid:((c=ne.user)==null?void 0:c.firebaseUid)||w,role:((u=ne.user)==null?void 0:u.role)||"UTILISATEUR",statut:((f=ne.user)==null?void 0:f.statut)||"ACTIF",derniereConnexion:new Date().toISOString(),date_deblocage_automatique:null,tentatives_connexion:0,date_derniere_modification:Ye.now(),lastTokenUpdate:Ye.now()};await c0(E,I,{merge:!0}),console.log(" Document utilisateur mis  jour dans la collection utilisateurs avec tous les champs")}catch(E){console.error(" Erreur lors de la mise  jour du document utilisateur:",E)}console.log(" Tentative d'obtention du FCM token...");try{const E=await IB(this.messaging,{vapidKey:"BMjmtEyox-Cq7673l2i68KbFeQQNRF6trQeuN4tfYHvwMBFbPoMtMgUL2FdX4MDd0XLm-PdCQLM-mZunRByy9tI"});if(E){console.log(" FCM Token obtenu:",E);const I=Ta(so,"utilisateurs",w);await c0(I,{fcmToken:E,lastTokenUpdate:Ye.now(),email:v,firebaseUid:((p=ne.user)==null?void 0:p.firebaseUid)||null,postgresId:((m=ne.user)==null?void 0:m.postgresId)||null},{merge:!0}),console.log(" FCM Token sauvegard dans le document utilisateur:",w)}else console.warn(" Impossible d'obtenir le FCM token"),console.warn(" Cela peut tre normal en dveloppement local (localhost)")}catch(E){console.warn(" Erreur lors de l'obtention du FCM token (normal en localhost):",E.message||E),console.warn(" L'email est quand mme sauvegard, donc les notifications Firestore fonctionneront.")}}catch(v){console.error(" Erreur globale dans saveFCMToken:",v.code||v.message)}}setupMessageListener(){this.messaging&&SB(this.messaging,t=>{console.log(" Message FCM reu en premier plan:",t),t.notification?(console.log(" Affichage notification locale:",t.notification.title),new window.Notification(t.notification.title||"Nouvelle notification",{body:t.notification.body,icon:"/assets/icon/favicon.png"})):console.log(" Message FCM reu sans contenu de notification"),this.loadNotifications()})}async loadNotifications(){var t,n,i;try{const o=((t=ne.user)==null?void 0:t.firebaseUid)||((n=ne.user)==null?void 0:n.postgresId)||((i=vs.currentUser)==null?void 0:i.uid);if(!o){console.warn(" Utilisateur non identifi, impossible de charger les notifications"),this.notifications.value=[],this.unreadCount.value=0;return}this.unsubscribeSnapshot&&this.unsubscribeSnapshot(),console.log(" Chargement des notifications pour:",o);const s=wc(so,"notifications"),a=Th(s,rE("userId","==",o));console.log(" coute des changements Firestore active pour les notifications..."),this.unsubscribeSnapshot=dE(a,c=>{console.log(` Changement dtect dans Firestore (snapshot size: ${c.size})`);const u=[];let f=0;c.forEach(p=>{const m=p.data();console.log(`   Notif ID: ${p.id}, lu: ${m.lu}, titre: ${m.titre}`);const v={id:p.id,userId:m.userId,signalementId:m.signalementId,titre:m.titre,message:m.message,type:m.type||"other",oldStatus:m.oldStatus,newStatus:m.newStatus,dateCreation:m.dateCreation,lu:m.lu||!1};u.push(v),v.lu||f++}),u.sort((p,m)=>{var E,I,R,D;const v=((I=(E=p.dateCreation)==null?void 0:E.toDate)==null?void 0:I.call(E))||new Date(p.dateCreation);return(((D=(R=m.dateCreation)==null?void 0:R.toDate)==null?void 0:D.call(R))||new Date(m.dateCreation)).getTime()-v.getTime()}),this.notifications.value=u,this.unreadCount.value=f,console.log(` ${u.length} notifications charges (${f} non lues)`)},c=>{var u;console.error(" Erreur lors de l'coute des notifications:",c),c.code==="failed-precondition"&&((u=c.message)!=null&&u.includes("index"))&&(console.warn(" Index Firestore manquant"),console.warn(" Cliquez sur le lien dans l'erreur pour crer l'index automatiquement"),console.warn(" Ou crez l'index manuellement dans Firebase Console"),console.warn(" En attendant, les notifications fonctionnent sans tri par date"))})}catch(o){console.error(" Erreur lors du chargement des notifications:",o)}}async markAsRead(t){try{const n=Ta(so,"notifications",t);await Yp(n,{lu:!0}),console.log(` Notification ${t} marque comme lue`)}catch(n){console.error(" Erreur lors du marquage de la notification:",n)}}async markAllAsRead(){try{const t=this.notifications.value.filter(n=>!n.lu);for(const n of t)await this.markAsRead(n.id);console.log(` ${t.length} notifications marques comme lues`)}catch(t){console.error(" Erreur lors du marquage de toutes les notifications:",t)}}cleanup(){this.unsubscribeSnapshot&&(this.unsubscribeSnapshot(),this.unsubscribeSnapshot=null),this.notifications.value=[],this.unreadCount.value=0}async retryTokenSave(){(vs.currentUser||ne.user)&&this.messaging&&await this.saveFCMToken()}}const Nn=new AB,CB={class:"flex w-full bg-white/90 backdrop-blur-xl rounded-[28px] shadow-2xl shadow-black/5 border border-white/50 overflow-hidden h-full items-center px-2"},PB={class:"relative"},RB={class:"relative"},LB=fn({__name:"TabsPage",setup(e){return(t,n)=>(Bt(),Fn(et($c),null,{default:ue(()=>[At(et(A$),null,{default:ue(()=>[At(et(xx)),At(et(C$),{slot:"bottom",class:"border-t-0 h-20 bg-transparent px-4 pb-4"},{default:ue(()=>[Z("div",CB,[At(et(_f),{tab:"map",href:"/tabs/map",class:"bg-transparent"},{default:ue(()=>[At(et(ge),{icon:et(G$)},null,8,["icon"]),n[0]||(n[0]=Z("span",{class:"text-[10px] font-black uppercase tracking-tighter mt-1"},"Carte",-1))]),_:1}),At(et(_f),{tab:"list",href:"/tabs/list",class:"bg-transparent"},{default:ue(()=>[Z("div",PB,[At(et(ge),{icon:et(z$)},null,8,["icon"]),et(ne).signalements.length>0?(Bt(),Fn(et(Tp),{key:0,color:"primary",class:"custom-badge-new"},{default:ue(()=>[ri(ke(et(ne).signalements.length),1)]),_:1})):Ze("",!0)]),n[1]||(n[1]=Z("span",{class:"text-[10px] font-black uppercase tracking-tighter mt-1"},"Travaux",-1))]),_:1}),At(et(_f),{tab:"notifications",href:"/tabs/notifications",class:"bg-transparent"},{default:ue(()=>[Z("div",RB,[At(et(ge),{icon:et(Z$)},null,8,["icon"]),et(Nn).unreadCount.value>0?(Bt(),Fn(et(Tp),{key:0,color:"danger",class:"custom-badge-new"},{default:ue(()=>[ri(ke(et(Nn).unreadCount.value),1)]),_:1})):Ze("",!0)]),n[2]||(n[2]=Z("span",{class:"text-[10px] font-black uppercase tracking-tighter mt-1"},"Notifications",-1))]),_:1})])]),_:1})]),_:1})]),_:1}))}});const Ug=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},OB=Ug(LB,[["__scopeId","data-v-5fa321f0"]]);/*! Capacitor: https://capacitorjs.com/ - MIT License */var za;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(za||(za={}));class Aa extends Error{constructor(t,n,i){super(t),this.message=t,this.code=n,this.data=i}}const $B=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},MB=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},i=n.Plugins=n.Plugins||{},o=()=>t!==null?t.name:$B(e),s=()=>o()!=="web",a=m=>{const v=f.get(m);return!!(v!=null&&v.platforms.has(o())||c(m))},c=m=>{var v;return(v=n.PluginHeaders)===null||v===void 0?void 0:v.find(w=>w.name===m)},u=m=>e.console.error(m),f=new Map,p=(m,v={})=>{const w=f.get(m);if(w)return console.warn(`Capacitor plugin "${m}" already registered. Cannot register plugins twice.`),w.proxy;const E=o(),I=c(m);let R;const D=async()=>(!R&&E in v?R=typeof v[E]=="function"?R=await v[E]():R=v[E]:t!==null&&!R&&"web"in v&&(R=typeof v.web=="function"?R=await v.web():R=v.web),R),F=(k,T)=>{var O,A;if(I){const $=I==null?void 0:I.methods.find(P=>T===P.name);if($)return $.rtype==="promise"?P=>n.nativePromise(m,T.toString(),P):(P,Ct)=>n.nativeCallback(m,T.toString(),P,Ct);if(k)return(O=k[T])===null||O===void 0?void 0:O.bind(k)}else{if(k)return(A=k[T])===null||A===void 0?void 0:A.bind(k);throw new Aa(`"${m}" plugin is not implemented on ${E}`,za.Unimplemented)}},z=k=>{let T;const O=(...A)=>{const $=D().then(P=>{const Ct=F(P,k);if(Ct){const Gt=Ct(...A);return T=Gt==null?void 0:Gt.remove,Gt}else throw new Aa(`"${m}.${k}()" is not implemented on ${E}`,za.Unimplemented)});return k==="addListener"&&($.remove=async()=>T()),$};return O.toString=()=>`${k.toString()}() { [capacitor code] }`,Object.defineProperty(O,"name",{value:k,writable:!1,configurable:!1}),O},B=z("addListener"),U=z("removeListener"),H=(k,T)=>{const O=B({eventName:k},T),A=async()=>{const P=await O;U({eventName:k,callbackId:P},T)},$=new Promise(P=>O.then(()=>P({remove:A})));return $.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await A()},$},C=new Proxy({},{get(k,T){switch(T){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return I?H:B;case"removeListener":return U;default:return z(T)}}});return i[m]=C,f.set(m,{name:m,proxy:C,platforms:new Set([...Object.keys(v),...I?[E]:[]])}),C};return n.convertFileSrc||(n.convertFileSrc=m=>m),n.getPlatform=o,n.handleError=u,n.isNativePlatform=s,n.isPluginAvailable=a,n.registerPlugin=p,n.Exception=Aa,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},DB=e=>e.Capacitor=MB(e),em=DB(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Lh=em.registerPlugin;class Oh{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let i=!1;this.listeners[t]||(this.listeners[t]=[],i=!0),this.listeners[t].push(n);const s=this.windowListeners[t];s&&!s.registered&&this.addWindowListener(s),i&&this.sendRetainedArgumentsForEvent(t);const a=async()=>this.removeListener(t,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,i){const o=this.listeners[t];if(!o){if(i){let s=this.retainedEventArguments[t];s||(s=[]),s.push(n),this.retainedEventArguments[t]=s}return}o.forEach(s=>s(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:i=>{this.notifyListeners(n,i)}}}unimplemented(t="not implemented"){return new em.Exception(t,za.Unimplemented)}unavailable(t="not available"){return new em.Exception(t,za.Unavailable)}async removeListener(t,n){const i=this.listeners[t];if(!i)return;const o=i.indexOf(n);this.listeners[t].splice(o,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(i=>{this.notifyListeners(t,i)}))}}const B0=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),F0=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class NB extends Oh{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(i=>{if(i.length<=0)return;let[o,s]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=F0(o).trim(),s=F0(s).trim(),n[o]=s}),n}async setCookie(t){try{const n=B0(t.key),i=B0(t.value),o=`; expires=${(t.expires||"").replace("expires=","")}`,s=(t.path||"/").replace("path=",""),a=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${i||""}${o}; path=${s}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Lh("CapacitorCookies",{web:()=>new NB});const VB=async e=>new Promise((t,n)=>{const i=new FileReader;i.onload=()=>{const o=i.result;t(o.indexOf(",")>=0?o.split(",")[1]:o)},i.onerror=o=>n(o),i.readAsDataURL(e)}),BB=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(o=>o.toLocaleLowerCase()).reduce((o,s,a)=>(o[s]=e[t[a]],o),{})},FB=(e,t=!0)=>e?Object.entries(e).reduce((i,o)=>{const[s,a]=o;let c,u;return Array.isArray(a)?(u="",a.forEach(f=>{c=t?encodeURIComponent(f):f,u+=`${s}=${c}&`}),u.slice(0,-1)):(c=t?encodeURIComponent(a):a,u=`${s}=${c}`),`${i}&${u}`},"").substr(1):null,zB=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),o=BB(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(o.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[a,c]of Object.entries(e.data||{}))s.set(a,c);n.body=s.toString()}else if(o.includes("multipart/form-data")||e.data instanceof FormData){const s=new FormData;if(e.data instanceof FormData)e.data.forEach((c,u)=>{s.append(u,c)});else for(const c of Object.keys(e.data))s.append(c,e.data[c]);n.body=s;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(o.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class UB extends Oh{async request(t){const n=zB(t,t.webFetchExtra),i=FB(t.params,t.shouldEncodeUrlParams),o=i?`${t.url}?${i}`:t.url,s=await fetch(o,n),a=s.headers.get("content-type")||"";let{responseType:c="text"}=s.ok?t:{};a.includes("application/json")&&(c="json");let u,f;switch(c){case"arraybuffer":case"blob":f=await s.blob(),u=await VB(f);break;case"json":u=await s.json();break;case"document":case"text":default:u=await s.text()}const p={};return s.headers.forEach((m,v)=>{p[v]=m}),{data:u,headers:p,status:s.status,url:s.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Lh("CapacitorHttp",{web:()=>new UB});var z0;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(z0||(z0={}));var U0;(function(e){e.StatusBar="StatusBar",e.NavigationBar="NavigationBar"})(U0||(U0={}));class jB extends Oh{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Lh("SystemBars",{web:()=>new jB});var _s;(function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"})(_s||(_s={}));var Xl;(function(e){e.Rear="REAR",e.Front="FRONT"})(Xl||(Xl={}));var nm;(function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"})(nm||(nm={}));class HB extends Oh{async getPhoto(t){return new Promise(async(n,i)=>{if(t.webUseInput||t.source===_s.Photos)this.fileInputExperience(t,n,i);else if(t.source===_s.Prompt){let o=document.querySelector("pwa-action-sheet");o||(o=document.createElement("pwa-action-sheet"),document.body.appendChild(o)),o.header=t.promptLabelHeader||"Photo",o.cancelable=!1,o.options=[{title:t.promptLabelPhoto||"From Photos"},{title:t.promptLabelPicture||"Take Picture"}],o.addEventListener("onSelection",async s=>{s.detail===0?this.fileInputExperience(t,n,i):this.cameraExperience(t,n,i)})}else this.cameraExperience(t,n,i)})}async pickImages(t){return new Promise(async(n,i)=>{this.multipleFileInputExperience(n,i)})}async cameraExperience(t,n,i){if(customElements.get("pwa-camera-modal")){const o=document.createElement("pwa-camera-modal");o.facingMode=t.direction===Xl.Front?"user":"environment",document.body.appendChild(o);try{await o.componentOnReady(),o.addEventListener("onPhoto",async s=>{const a=s.detail;a===null?i(new Aa("User cancelled photos app")):a instanceof Error?i(a):n(await this._getCameraPhoto(a,t)),o.dismiss(),document.body.removeChild(o)}),o.present()}catch{this.fileInputExperience(t,n,i)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(t,n,i)}fileInputExperience(t,n,i){let o=document.querySelector("#_capacitor-camera-input");const s=()=>{var a;(a=o.parentNode)===null||a===void 0||a.removeChild(o)};o||(o=document.createElement("input"),o.id="_capacitor-camera-input",o.type="file",o.hidden=!0,document.body.appendChild(o),o.addEventListener("change",a=>{const c=o.files[0];let u="jpeg";if(c.type==="image/png"?u="png":c.type==="image/gif"&&(u="gif"),t.resultType==="dataUrl"||t.resultType==="base64"){const f=new FileReader;f.addEventListener("load",()=>{if(t.resultType==="dataUrl")n({dataUrl:f.result,format:u});else if(t.resultType==="base64"){const p=f.result.split(",")[1];n({base64String:p,format:u})}s()}),f.readAsDataURL(c)}else n({webPath:URL.createObjectURL(c),format:u}),s()}),o.addEventListener("cancel",a=>{i(new Aa("User cancelled photos app")),s()})),o.accept="image/*",o.capture=!0,t.source===_s.Photos||t.source===_s.Prompt?o.removeAttribute("capture"):t.direction===Xl.Front?o.capture="user":t.direction===Xl.Rear&&(o.capture="environment"),o.click()}multipleFileInputExperience(t,n){let i=document.querySelector("#_capacitor-camera-input-multiple");const o=()=>{var s;(s=i.parentNode)===null||s===void 0||s.removeChild(i)};i||(i=document.createElement("input"),i.id="_capacitor-camera-input-multiple",i.type="file",i.hidden=!0,i.multiple=!0,document.body.appendChild(i),i.addEventListener("change",s=>{const a=[];for(let c=0;c<i.files.length;c++){const u=i.files[c];let f="jpeg";u.type==="image/png"?f="png":u.type==="image/gif"&&(f="gif"),a.push({webPath:URL.createObjectURL(u),format:f})}t({photos:a}),o()}),i.addEventListener("cancel",s=>{n(new Aa("User cancelled photos app")),o()})),i.accept="image/*",i.click()}_getCameraPhoto(t,n){return new Promise((i,o)=>{const s=new FileReader,a=t.type.split("/")[1];n.resultType==="uri"?i({webPath:URL.createObjectURL(t),format:a,saved:!1}):(s.readAsDataURL(t),s.onloadend=()=>{const c=s.result;n.resultType==="dataUrl"?i({dataUrl:c,format:a,saved:!1}):i({base64String:c.split(",")[1],format:a,saved:!1})},s.onerror=c=>{o(c)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const qB=Lh("Camera",{web:()=>new HB});var WB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},im={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,i){i(t)})(WB,function(n){var i="1.9.4";function o(r){var l,h,g,_;for(h=1,g=arguments.length;h<g;h++){_=arguments[h];for(l in _)r[l]=_[l]}return r}var s=Object.create||function(){function r(){}return function(l){return r.prototype=l,new r}}();function a(r,l){var h=Array.prototype.slice;if(r.bind)return r.bind.apply(r,h.call(arguments,1));var g=h.call(arguments,2);return function(){return r.apply(l,g.length?g.concat(h.call(arguments)):arguments)}}var c=0;function u(r){return"_leaflet_id"in r||(r._leaflet_id=++c),r._leaflet_id}function f(r,l,h){var g,_,x,V;return V=function(){g=!1,_&&(x.apply(h,_),_=!1)},x=function(){g?_=arguments:(r.apply(h,arguments),setTimeout(V,l),g=!0)},x}function p(r,l,h){var g=l[1],_=l[0],x=g-_;return r===g&&h?r:((r-_)%x+x)%x+_}function m(){return!1}function v(r,l){if(l===!1)return r;var h=Math.pow(10,l===void 0?6:l);return Math.round(r*h)/h}function w(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function E(r){return w(r).split(/\s+/)}function I(r,l){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?s(r.options):{});for(var h in l)r.options[h]=l[h];return r.options}function R(r,l,h){var g=[];for(var _ in r)g.push(encodeURIComponent(h?_.toUpperCase():_)+"="+encodeURIComponent(r[_]));return(!l||l.indexOf("?")===-1?"?":"&")+g.join("&")}var D=/\{ *([\w_ -]+) *\}/g;function F(r,l){return r.replace(D,function(h,g){var _=l[g];if(_===void 0)throw new Error("No value provided for variable "+h);return typeof _=="function"&&(_=_(l)),_})}var z=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function B(r,l){for(var h=0;h<r.length;h++)if(r[h]===l)return h;return-1}var U="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function H(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var C=0;function k(r){var l=+new Date,h=Math.max(0,16-(l-C));return C=l+h,window.setTimeout(r,h)}var T=window.requestAnimationFrame||H("RequestAnimationFrame")||k,O=window.cancelAnimationFrame||H("CancelAnimationFrame")||H("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function A(r,l,h){if(h&&T===k)r.call(l);else return T.call(window,a(r,l))}function $(r){r&&O.call(window,r)}var P={__proto__:null,extend:o,create:s,bind:a,get lastId(){return c},stamp:u,throttle:f,wrapNum:p,falseFn:m,formatNum:v,trim:w,splitWords:E,setOptions:I,getParamString:R,template:F,isArray:z,indexOf:B,emptyImageUrl:U,requestFn:T,cancelFn:O,requestAnimFrame:A,cancelAnimFrame:$};function Ct(){}Ct.extend=function(r){var l=function(){I(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,g=s(h);g.constructor=l,l.prototype=g;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(l[_]=this[_]);return r.statics&&o(l,r.statics),r.includes&&(Gt(r.includes),o.apply(null,[g].concat(r.includes))),o(g,r),delete g.statics,delete g.includes,g.options&&(g.options=h.options?s(h.options):{},o(g.options,r.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var x=0,V=g._initHooks.length;x<V;x++)g._initHooks[x].call(this)}},l},Ct.include=function(r){var l=this.prototype.options;return o(this.prototype,r),r.options&&(this.prototype.options=l,this.mergeOptions(r.options)),this},Ct.mergeOptions=function(r){return o(this.prototype.options,r),this},Ct.addInitHook=function(r){var l=Array.prototype.slice.call(arguments,1),h=typeof r=="function"?r:function(){this[r].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function Gt(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=z(r)?r:[r];for(var l=0;l<r.length;l++)r[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Vt={on:function(r,l,h){if(typeof r=="object")for(var g in r)this._on(g,r[g],l);else{r=E(r);for(var _=0,x=r.length;_<x;_++)this._on(r[_],l,h)}return this},off:function(r,l,h){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var g in r)this._off(g,r[g],l);else{r=E(r);for(var _=arguments.length===1,x=0,V=r.length;x<V;x++)_?this._off(r[x]):this._off(r[x],l,h)}return this},_on:function(r,l,h,g){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(r,l,h)===!1){h===this&&(h=void 0);var _={fn:l,ctx:h};g&&(_.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(_)}},_off:function(r,l,h){var g,_,x;if(this._events&&(g=this._events[r],!!g)){if(arguments.length===1){if(this._firingCount)for(_=0,x=g.length;_<x;_++)g[_].fn=m;delete this._events[r];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var V=this._listens(r,l,h);if(V!==!1){var q=g[V];this._firingCount&&(q.fn=m,this._events[r]=g=g.slice()),g.splice(V,1)}}},fire:function(r,l,h){if(!this.listens(r,h))return this;var g=o({},l,{type:r,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var _=this._events[r];if(_){this._firingCount=this._firingCount+1||1;for(var x=0,V=_.length;x<V;x++){var q=_[x],Y=q.fn;q.once&&this.off(r,Y,q.ctx),Y.call(q.ctx||this,g)}this._firingCount--}}return h&&this._propagateEvent(g),this},listens:function(r,l,h,g){typeof r!="string"&&console.warn('"string" type argument expected');var _=l;typeof l!="function"&&(g=!!l,_=void 0,h=void 0);var x=this._events&&this._events[r];if(x&&x.length&&this._listens(r,_,h)!==!1)return!0;if(g){for(var V in this._eventParents)if(this._eventParents[V].listens(r,l,h,g))return!0}return!1},_listens:function(r,l,h){if(!this._events)return!1;var g=this._events[r]||[];if(!l)return!!g.length;h===this&&(h=void 0);for(var _=0,x=g.length;_<x;_++)if(g[_].fn===l&&g[_].ctx===h)return _;return!1},once:function(r,l,h){if(typeof r=="object")for(var g in r)this._on(g,r[g],l,!0);else{r=E(r);for(var _=0,x=r.length;_<x;_++)this._on(r[_],l,h,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[u(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[u(r)],this},_propagateEvent:function(r){for(var l in this._eventParents)this._eventParents[l].fire(r.type,o({layer:r.target,propagatedFrom:r.target},r),!0)}};Vt.addEventListener=Vt.on,Vt.removeEventListener=Vt.clearAllEventListeners=Vt.off,Vt.addOneTimeEventListener=Vt.once,Vt.fireEvent=Vt.fire,Vt.hasEventListeners=Vt.listens;var wt=Ct.extend(Vt);function tt(r,l,h){this.x=h?Math.round(r):r,this.y=h?Math.round(l):l}var nt=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};tt.prototype={clone:function(){return new tt(this.x,this.y)},add:function(r){return this.clone()._add(G(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(G(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new tt(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new tt(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=nt(this.x),this.y=nt(this.y),this},distanceTo:function(r){r=G(r);var l=r.x-this.x,h=r.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(r){return r=G(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=G(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function G(r,l,h){return r instanceof tt?r:z(r)?new tt(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new tt(r.x,r.y):new tt(r,l,h)}function ut(r,l){if(r)for(var h=l?[r,l]:r,g=0,_=h.length;g<_;g++)this.extend(h[g])}ut.prototype={extend:function(r){var l,h;if(!r)return this;if(r instanceof tt||typeof r[0]=="number"||"x"in r)l=h=G(r);else if(r=St(r),l=r.min,h=r.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(r){return G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return G(this.min.x,this.max.y)},getTopRight:function(){return G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var l,h;return typeof r[0]=="number"||r instanceof tt?r=G(r):r=St(r),r instanceof ut?(l=r.min,h=r.max):l=h=r,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(r){r=St(r);var l=this.min,h=this.max,g=r.min,_=r.max,x=_.x>=l.x&&g.x<=h.x,V=_.y>=l.y&&g.y<=h.y;return x&&V},overlaps:function(r){r=St(r);var l=this.min,h=this.max,g=r.min,_=r.max,x=_.x>l.x&&g.x<h.x,V=_.y>l.y&&g.y<h.y;return x&&V},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var l=this.min,h=this.max,g=Math.abs(l.x-h.x)*r,_=Math.abs(l.y-h.y)*r;return St(G(l.x-g,l.y-_),G(h.x+g,h.y+_))},equals:function(r){return r?(r=St(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function St(r,l){return!r||r instanceof ut?r:new ut(r,l)}function Dt(r,l){if(r)for(var h=l?[r,l]:r,g=0,_=h.length;g<_;g++)this.extend(h[g])}Dt.prototype={extend:function(r){var l=this._southWest,h=this._northEast,g,_;if(r instanceof Rt)g=r,_=r;else if(r instanceof Dt){if(g=r._southWest,_=r._northEast,!g||!_)return this}else return r?this.extend(yt(r)||Ot(r)):this;return!l&&!h?(this._southWest=new Rt(g.lat,g.lng),this._northEast=new Rt(_.lat,_.lng)):(l.lat=Math.min(g.lat,l.lat),l.lng=Math.min(g.lng,l.lng),h.lat=Math.max(_.lat,h.lat),h.lng=Math.max(_.lng,h.lng)),this},pad:function(r){var l=this._southWest,h=this._northEast,g=Math.abs(l.lat-h.lat)*r,_=Math.abs(l.lng-h.lng)*r;return new Dt(new Rt(l.lat-g,l.lng-_),new Rt(h.lat+g,h.lng+_))},getCenter:function(){return new Rt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Rt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Rt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof Rt||"lat"in r?r=yt(r):r=Ot(r);var l=this._southWest,h=this._northEast,g,_;return r instanceof Dt?(g=r.getSouthWest(),_=r.getNorthEast()):g=_=r,g.lat>=l.lat&&_.lat<=h.lat&&g.lng>=l.lng&&_.lng<=h.lng},intersects:function(r){r=Ot(r);var l=this._southWest,h=this._northEast,g=r.getSouthWest(),_=r.getNorthEast(),x=_.lat>=l.lat&&g.lat<=h.lat,V=_.lng>=l.lng&&g.lng<=h.lng;return x&&V},overlaps:function(r){r=Ot(r);var l=this._southWest,h=this._northEast,g=r.getSouthWest(),_=r.getNorthEast(),x=_.lat>l.lat&&g.lat<h.lat,V=_.lng>l.lng&&g.lng<h.lng;return x&&V},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,l){return r?(r=Ot(r),this._southWest.equals(r.getSouthWest(),l)&&this._northEast.equals(r.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ot(r,l){return r instanceof Dt?r:new Dt(r,l)}function Rt(r,l,h){if(isNaN(r)||isNaN(l))throw new Error("Invalid LatLng object: ("+r+", "+l+")");this.lat=+r,this.lng=+l,h!==void 0&&(this.alt=+h)}Rt.prototype={equals:function(r,l){if(!r)return!1;r=yt(r);var h=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return h<=(l===void 0?1e-9:l)},toString:function(r){return"LatLng("+v(this.lat,r)+", "+v(this.lng,r)+")"},distanceTo:function(r){return mt.distance(this,yt(r))},wrap:function(){return mt.wrapLatLng(this)},toBounds:function(r){var l=180*r/40075017,h=l/Math.cos(Math.PI/180*this.lat);return Ot([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new Rt(this.lat,this.lng,this.alt)}};function yt(r,l,h){return r instanceof Rt?r:z(r)&&typeof r[0]!="object"?r.length===3?new Rt(r[0],r[1],r[2]):r.length===2?new Rt(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new Rt(r.lat,"lng"in r?r.lng:r.lon,r.alt):l===void 0?null:new Rt(r,l,h)}var Q={latLngToPoint:function(r,l){var h=this.projection.project(r),g=this.scale(l);return this.transformation._transform(h,g)},pointToLatLng:function(r,l){var h=this.scale(l),g=this.transformation.untransform(r,h);return this.projection.unproject(g)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(r),g=this.transformation.transform(l.min,h),_=this.transformation.transform(l.max,h);return new ut(g,_)},infinite:!1,wrapLatLng:function(r){var l=this.wrapLng?p(r.lng,this.wrapLng,!0):r.lng,h=this.wrapLat?p(r.lat,this.wrapLat,!0):r.lat,g=r.alt;return new Rt(h,l,g)},wrapLatLngBounds:function(r){var l=r.getCenter(),h=this.wrapLatLng(l),g=l.lat-h.lat,_=l.lng-h.lng;if(g===0&&_===0)return r;var x=r.getSouthWest(),V=r.getNorthEast(),q=new Rt(x.lat-g,x.lng-_),Y=new Rt(V.lat-g,V.lng-_);return new Dt(q,Y)}},mt=o({},Q,{wrapLng:[-180,180],R:6371e3,distance:function(r,l){var h=Math.PI/180,g=r.lat*h,_=l.lat*h,x=Math.sin((l.lat-r.lat)*h/2),V=Math.sin((l.lng-r.lng)*h/2),q=x*x+Math.cos(g)*Math.cos(_)*V*V,Y=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*Y}}),vt=6378137,Tt={R:vt,MAX_LATITUDE:85.0511287798,project:function(r){var l=Math.PI/180,h=this.MAX_LATITUDE,g=Math.max(Math.min(h,r.lat),-h),_=Math.sin(g*l);return new tt(this.R*r.lng*l,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(r){var l=180/Math.PI;return new Rt((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*l,r.x*l/this.R)},bounds:function(){var r=vt*Math.PI;return new ut([-r,-r],[r,r])}()};function zt(r,l,h,g){if(z(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=l,this._c=h,this._d=g}zt.prototype={transform:function(r,l){return this._transform(r.clone(),l)},_transform:function(r,l){return l=l||1,r.x=l*(this._a*r.x+this._b),r.y=l*(this._c*r.y+this._d),r},untransform:function(r,l){return l=l||1,new tt((r.x/l-this._b)/this._a,(r.y/l-this._d)/this._c)}};function oe(r,l,h,g){return new zt(r,l,h,g)}var M=o({},mt,{code:"EPSG:3857",projection:Tt,transformation:function(){var r=.5/(Math.PI*Tt.R);return oe(r,.5,-r,.5)}()}),N=o({},M,{code:"EPSG:900913"});function W(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function ot(r,l){var h="",g,_,x,V,q,Y;for(g=0,x=r.length;g<x;g++){for(q=r[g],_=0,V=q.length;_<V;_++)Y=q[_],h+=(_?"L":"M")+Y.x+" "+Y.y;h+=l?It.svg?"z":"x":""}return h||"M0 0"}var J=document.documentElement.style,rt="ActiveXObject"in window,gt=rt&&!document.addEventListener,ft="msLaunchUri"in navigator&&!("documentMode"in document),ht=mn("webkit"),at=mn("android"),Lt=mn("android 2")||mn("android 3"),bt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),kt=at&&mn("Google")&&bt<537&&!("AudioNode"in window),Mt=!!window.opera,$t=!ft&&mn("chrome"),jt=mn("gecko")&&!ht&&!Mt&&!rt,te=!$t&&mn("safari"),We=mn("phantom"),xe="OTransition"in J,Ge=navigator.platform.indexOf("Win")===0,Ee=rt&&"transition"in J,Ne="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Lt,Tn="MozPerspective"in J,Ae=!window.L_DISABLE_3D&&(Ee||Ne||Tn)&&!xe&&!We,rn=typeof orientation<"u"||mn("mobile"),sr=rn&&ht,Ki=rn&&Ne,Gr=!window.PointerEvent&&window.MSPointerEvent,Kr=!!(window.PointerEvent||Gr),Zi="ontouchstart"in window||!!window.TouchEvent,Zr=!window.L_NO_TOUCH&&(Zi||Kr),Yr=rn&&Mt,Si=rn&&jt,Bs=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ar=function(){var r=!1;try{var l=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",m,l),window.removeEventListener("testPassiveEventSupport",m,l)}catch{}return r}(),Fs=function(){return!!document.createElement("canvas").getContext}(),Ai=!!(document.createElementNS&&W("svg").createSVGRect),zs=!!Ai&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ve=!Ai&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var l=r.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),Xr=navigator.platform.indexOf("Mac")===0,go=navigator.platform.indexOf("Linux")===0;function mn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var It={ie:rt,ielt9:gt,edge:ft,webkit:ht,android:at,android23:Lt,androidStock:kt,opera:Mt,chrome:$t,gecko:jt,safari:te,phantom:We,opera12:xe,win:Ge,ie3d:Ee,webkit3d:Ne,gecko3d:Tn,any3d:Ae,mobile:rn,mobileWebkit:sr,mobileWebkit3d:Ki,msPointer:Gr,pointer:Kr,touch:Zr,touchNative:Zi,mobileOpera:Yr,mobileGecko:Si,retina:Bs,passiveEvents:ar,canvas:Fs,svg:Ai,vml:Ve,inlineSvg:zs,mac:Xr,linux:go},Qr=It.msPointer?"MSPointerDown":"pointerdown",mi=It.msPointer?"MSPointerMove":"pointermove",kn=It.msPointer?"MSPointerUp":"pointerup",Us=It.msPointer?"MSPointerCancel":"pointercancel",Yi={touchstart:Qr,touchmove:mi,touchend:kn,touchcancel:Us},Jr={touchstart:Qa,touchmove:Xi,touchend:Xi,touchcancel:Xi},ai={},vo=!1;function gi(r,l,h){return l==="touchstart"&&Hs(),Jr[l]?(h=Jr[l].bind(this,h),r.addEventListener(Yi[l],h,!1),h):(console.warn("wrong event specified:",l),m)}function lr(r,l,h){if(!Yi[l]){console.warn("wrong event specified:",l);return}r.removeEventListener(Yi[l],h,!1)}function js(r){ai[r.pointerId]=r}function ts(r){ai[r.pointerId]&&(ai[r.pointerId]=r)}function cr(r){delete ai[r.pointerId]}function Hs(){vo||(document.addEventListener(Qr,js,!0),document.addEventListener(mi,ts,!0),document.addEventListener(kn,cr,!0),document.addEventListener(Us,cr,!0),vo=!0)}function Xi(r,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in ai)l.touches.push(ai[h]);l.changedTouches=[l],r(l)}}function Qa(r,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&an(l),Xi(r,l)}function bo(r){var l={},h,g;for(g in r)h=r[g],l[g]=h&&h.bind?h.bind(r):h;return r=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Ja=200;function qs(r,l){r.addEventListener("dblclick",l);var h=0,g;function _(x){if(x.detail!==1){g=x.detail;return}if(!(x.pointerType==="mouse"||x.sourceCapabilities&&!x.sourceCapabilities.firesTouchEvents)){var V=hr(x);if(!(V.some(function(Y){return Y instanceof HTMLLabelElement&&Y.attributes.for})&&!V.some(function(Y){return Y instanceof HTMLInputElement||Y instanceof HTMLSelectElement}))){var q=Date.now();q-h<=Ja?(g++,g===2&&l(bo(x))):g=1,h=q}}}return r.addEventListener("click",_),{dblclick:l,simDblclick:_}}function K(r,l){r.removeEventListener("dblclick",l.dblclick),r.removeEventListener("click",l.simDblclick)}var dt=wo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),_t=wo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),fe=_t==="webkitTransition"||_t==="OTransition"?_t+"End":"transitionend";function Re(r){return typeof r=="string"?document.getElementById(r):r}function Qe(r,l){var h=r.style[l]||r.currentStyle&&r.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(r,null);h=g?g[l]:null}return h==="auto"?null:h}function Xt(r,l,h){var g=document.createElement(r);return g.className=l||"",h&&h.appendChild(g),g}function Ie(r){var l=r.parentNode;l&&l.removeChild(r)}function ur(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function _o(r){var l=r.parentNode;l&&l.lastChild!==r&&l.appendChild(r)}function yo(r){var l=r.parentNode;l&&l.firstChild!==r&&l.insertBefore(r,l.firstChild)}function tl(r,l){if(r.classList!==void 0)return r.classList.contains(l);var h=Gs(r);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function Jt(r,l){if(r.classList!==void 0)for(var h=E(l),g=0,_=h.length;g<_;g++)r.classList.add(h[g]);else if(!tl(r,l)){var x=Gs(r);Ws(r,(x?x+" ":"")+l)}}function Be(r,l){r.classList!==void 0?r.classList.remove(l):Ws(r,w((" "+Gs(r)+" ").replace(" "+l+" "," ")))}function Ws(r,l){r.className.baseVal===void 0?r.className=l:r.className.baseVal=l}function Gs(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function sn(r,l){"opacity"in r.style?r.style.opacity=l:"filter"in r.style&&Ci(r,l)}function Ci(r,l){var h=!1,g="DXImageTransform.Microsoft.Alpha";try{h=r.filters.item(g)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):r.style.filter+=" progid:"+g+"(opacity="+l+")"}function wo(r){for(var l=document.documentElement.style,h=0;h<r.length;h++)if(r[h]in l)return r[h];return!1}function vi(r,l,h){var g=l||new tt(0,0);r.style[dt]=(It.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(h?" scale("+h+")":"")}function Ue(r,l){r._leaflet_pos=l,It.any3d?vi(r,l):(r.style.left=l.x+"px",r.style.top=l.y+"px")}function ce(r){return r._leaflet_pos||new tt(0,0)}var Qi,Pi,xo;if("onselectstart"in document)Qi=function(){Wt(window,"selectstart",an)},Pi=function(){Te(window,"selectstart",an)};else{var es=wo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qi=function(){if(es){var r=document.documentElement.style;xo=r[es],r[es]="none"}},Pi=function(){es&&(document.documentElement.style[es]=xo,xo=void 0)}}function Ks(){Wt(window,"dragstart",an)}function el(){Te(window,"dragstart",an)}var Zs,nl;function il(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Ji(),Zs=r,nl=r.style.outlineStyle,r.style.outlineStyle="none",Wt(window,"keydown",Ji))}function Ji(){Zs&&(Zs.style.outlineStyle=nl,Zs=void 0,nl=void 0,Te(window,"keydown",Ji))}function Ri(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Ys(r){var l=r.getBoundingClientRect();return{x:l.width/r.offsetWidth||1,y:l.height/r.offsetHeight||1,boundingClientRect:l}}var Wc={__proto__:null,TRANSFORM:dt,TRANSITION:_t,TRANSITION_END:fe,get:Re,getStyle:Qe,create:Xt,remove:Ie,empty:ur,toFront:_o,toBack:yo,hasClass:tl,addClass:Jt,removeClass:Be,setClass:Ws,getClass:Gs,setOpacity:sn,testProp:wo,setTransform:vi,setPosition:Ue,getPosition:ce,get disableTextSelection(){return Qi},get enableTextSelection(){return Pi},disableImageDrag:Ks,enableImageDrag:el,preventOutline:il,restoreOutline:Ji,getSizedParentNode:Ri,getScale:Ys};function Wt(r,l,h,g){if(l&&typeof l=="object")for(var _ in l)bi(r,_,l[_],h);else{l=E(l);for(var x=0,V=l.length;x<V;x++)bi(r,l[x],h,g)}return this}var In="_leaflet_events";function Te(r,l,h,g){if(arguments.length===1)Gc(r),delete r[In];else if(l&&typeof l=="object")for(var _ in l)rl(r,_,l[_],h);else if(l=E(l),arguments.length===2)Gc(r,function(q){return B(l,q)!==-1});else for(var x=0,V=l.length;x<V;x++)rl(r,l[x],h,g);return this}function Gc(r,l){for(var h in r[In]){var g=h.split(/\d/)[0];(!l||l(g))&&rl(r,g,null,null,h)}}var ol={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function bi(r,l,h,g){var _=l+u(h)+(g?"_"+u(g):"");if(r[In]&&r[In][_])return this;var x=function(q){return h.call(g||r,q||window.event)},V=x;!It.touchNative&&It.pointer&&l.indexOf("touch")===0?x=gi(r,l,x):It.touch&&l==="dblclick"?x=qs(r,x):"addEventListener"in r?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?r.addEventListener(ol[l]||l,x,It.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(x=function(q){q=q||window.event,ll(r,q)&&V(q)},r.addEventListener(ol[l],x,!1)):r.addEventListener(l,V,!1):r.attachEvent("on"+l,x),r[In]=r[In]||{},r[In][_]=x}function rl(r,l,h,g,_){_=_||l+u(h)+(g?"_"+u(g):"");var x=r[In]&&r[In][_];if(!x)return this;!It.touchNative&&It.pointer&&l.indexOf("touch")===0?lr(r,l,x):It.touch&&l==="dblclick"?K(r,x):"removeEventListener"in r?r.removeEventListener(ol[l]||l,x,!1):r.detachEvent("on"+l,x),r[In][_]=null}function Eo(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function dr(r){return bi(r,"wheel",Eo),this}function to(r){return Wt(r,"mousedown touchstart dblclick contextmenu",Eo),r._leaflet_disable_click=!0,this}function an(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function li(r){return an(r),Eo(r),this}function hr(r){if(r.composedPath)return r.composedPath();for(var l=[],h=r.target;h;)l.push(h),h=h.parentNode;return l}function sl(r,l){if(!l)return new tt(r.clientX,r.clientY);var h=Ys(l),g=h.boundingClientRect;return new tt((r.clientX-g.left)/h.x-l.clientLeft,(r.clientY-g.top)/h.y-l.clientTop)}var al=It.linux&&It.chrome?window.devicePixelRatio:It.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Le(r){return It.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/al:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function ll(r,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==r;)h=h.parentNode}catch{return!1}return h!==r}var Dh={__proto__:null,on:Wt,off:Te,stopPropagation:Eo,disableScrollPropagation:dr,disableClickPropagation:to,preventDefault:an,stop:li,getPropagationPath:hr,getMousePosition:sl,getWheelDelta:Le,isExternalTarget:ll,addListener:Wt,removeListener:Te},cl=wt.extend({run:function(r,l,h,g){this.stop(),this._el=r,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=ce(r),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=A(this._animate,this),this._step()},_step:function(r){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),r):(this._runFrame(1),this._complete())},_runFrame:function(r,l){var h=this._startPos.add(this._offset.multiplyBy(r));l&&h._round(),Ue(this._el,h),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),ie=wt.extend({options:{crs:M,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,l){l=I(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(yt(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=_t&&It.any3d&&!It.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Wt(this._proxy,fe,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),r=this._limitCenter(yt(r),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=o({animate:h.animate},h.zoom),h.pan=o({animate:h.animate,duration:h.duration},h.pan));var g=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,l,h.zoom):this._tryAnimatedPan(r,h.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(r,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(r,l){return this._loaded?this.setView(this.getCenter(),r,{zoom:l}):(this._zoom=r,this)},zoomIn:function(r,l){return r=r||(It.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,l)},zoomOut:function(r,l){return r=r||(It.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,l)},setZoomAround:function(r,l,h){var g=this.getZoomScale(l),_=this.getSize().divideBy(2),x=r instanceof tt?r:this.latLngToContainerPoint(r),V=x.subtract(_).multiplyBy(1-1/g),q=this.containerPointToLatLng(_.add(V));return this.setView(q,l,{zoom:h})},_getBoundsCenterZoom:function(r,l){l=l||{},r=r.getBounds?r.getBounds():Ot(r);var h=G(l.paddingTopLeft||l.padding||[0,0]),g=G(l.paddingBottomRight||l.padding||[0,0]),_=this.getBoundsZoom(r,!1,h.add(g));if(_=typeof l.maxZoom=="number"?Math.min(l.maxZoom,_):_,_===1/0)return{center:r.getCenter(),zoom:_};var x=g.subtract(h).divideBy(2),V=this.project(r.getSouthWest(),_),q=this.project(r.getNorthEast(),_),Y=this.unproject(V.add(q).divideBy(2).add(x),_);return{center:Y,zoom:_}},fitBounds:function(r,l){if(r=Ot(r),!r.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(r,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,l){return this.setView(r,this._zoom,{pan:l})},panBy:function(r,l){if(r=G(r).round(),l=l||{},!r.x&&!r.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new cl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Jt(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,l,h){if(h=h||{},h.animate===!1||!It.any3d)return this.setView(r,l,h);this._stop();var g=this.project(this.getCenter()),_=this.project(r),x=this.getSize(),V=this._zoom;r=yt(r),l=l===void 0?V:l;var q=Math.max(x.x,x.y),Y=q*this.getZoomScale(V,l),lt=_.distanceTo(g)||1,xt=1.42,Ft=xt*xt;function ee(ln){var du=ln?-1:1,ok=ln?Y:q,rk=Y*Y-q*q+du*Ft*Ft*lt*lt,sk=2*ok*Ft*lt,zh=rk/sk,mv=Math.sqrt(zh*zh+1)-zh,ak=mv<1e-9?-18:Math.log(mv);return ak}function Gn(ln){return(Math.exp(ln)-Math.exp(-ln))/2}function wn(ln){return(Math.exp(ln)+Math.exp(-ln))/2}function wi(ln){return Gn(ln)/wn(ln)}var ei=ee(0);function ra(ln){return q*(wn(ei)/wn(ei+xt*ln))}function tk(ln){return q*(wn(ei)*wi(ei+xt*ln)-Gn(ei))/Ft}function ek(ln){return 1-Math.pow(1-ln,1.5)}var nk=Date.now(),fv=(ee(1)-ei)/xt,ik=h.duration?1e3*h.duration:1e3*fv*.8;function pv(){var ln=(Date.now()-nk)/ik,du=ek(ln)*fv;ln<=1?(this._flyToFrame=A(pv,this),this._move(this.unproject(g.add(_.subtract(g).multiplyBy(tk(du)/lt)),V),this.getScaleZoom(q/ra(du),V),{flyTo:!0})):this._move(r,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),pv.call(this),this},flyToBounds:function(r,l){var h=this._getBoundsCenterZoom(r,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(r){return r=Ot(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var l=this.options.minZoom;return this.options.minZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var l=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,l){this._enforcingBounds=!0;var h=this.getCenter(),g=this._limitCenter(h,this._zoom,Ot(r));return h.equals(g)||this.panTo(g,l),this._enforcingBounds=!1,this},panInside:function(r,l){l=l||{};var h=G(l.paddingTopLeft||l.padding||[0,0]),g=G(l.paddingBottomRight||l.padding||[0,0]),_=this.project(this.getCenter()),x=this.project(r),V=this.getPixelBounds(),q=St([V.min.add(h),V.max.subtract(g)]),Y=q.getSize();if(!q.contains(x)){this._enforcingBounds=!0;var lt=x.subtract(q.getCenter()),xt=q.extend(x).getSize().subtract(Y);_.x+=lt.x<0?-xt.x:xt.x,_.y+=lt.y<0?-xt.y:xt.y,this.panTo(this.unproject(_),l),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=o({animate:!1,pan:!0},r===!0?{animate:!0}:r);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),g=l.divideBy(2).round(),_=h.divideBy(2).round(),x=g.subtract(_);return!x.x&&!x.y?this:(r.animate&&r.pan?this.panBy(x):(r.pan&&this._rawPanBy(x),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=o({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),h=a(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,r):navigator.geolocation.getCurrentPosition(l,h,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var l=r.code,h=r.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var l=r.coords.latitude,h=r.coords.longitude,g=new Rt(l,h),_=g.toBounds(r.coords.accuracy*2),x=this._locateOptions;if(x.setView){var V=this.getBoundsZoom(_);this.setView(g,x.maxZoom?Math.min(V,x.maxZoom):V)}var q={latlng:g,bounds:_,timestamp:r.timestamp};for(var Y in r.coords)typeof r.coords[Y]=="number"&&(q[Y]=r.coords[Y]);this.fire("locationfound",q)}},addHandler:function(r,l){if(!l)return this;var h=this[r]=new l(this);return this._handlers.push(h),this.options[r]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ie(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Ie(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,l){var h="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),g=Xt("div",h,l||this._mapPane);return r&&(this._panes[r]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),l=this.unproject(r.getBottomLeft()),h=this.unproject(r.getTopRight());return new Dt(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,l,h){r=Ot(r),h=G(h||[0,0]);var g=this.getZoom()||0,_=this.getMinZoom(),x=this.getMaxZoom(),V=r.getNorthWest(),q=r.getSouthEast(),Y=this.getSize().subtract(h),lt=St(this.project(q,g),this.project(V,g)).getSize(),xt=It.any3d?this.options.zoomSnap:1,Ft=Y.x/lt.x,ee=Y.y/lt.y,Gn=l?Math.max(Ft,ee):Math.min(Ft,ee);return g=this.getScaleZoom(Gn,g),xt&&(g=Math.round(g/(xt/100))*(xt/100),g=l?Math.ceil(g/xt)*xt:Math.floor(g/xt)*xt),Math.max(_,Math.min(x,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new tt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,l){var h=this._getTopLeftPoint(r,l);return new ut(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(r)/h.scale(l)},getScaleZoom:function(r,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var g=h.zoom(r*h.scale(l));return isNaN(g)?1/0:g},project:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(yt(r),l)},unproject:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(G(r),l)},layerPointToLatLng:function(r){var l=G(r).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(r){var l=this.project(yt(r))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(yt(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(Ot(r))},distance:function(r,l){return this.options.crs.distance(yt(r),yt(l))},containerPointToLayerPoint:function(r){return G(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return G(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var l=this.containerPointToLayerPoint(G(r));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(yt(r)))},mouseEventToContainerPoint:function(r){return sl(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var l=this._container=Re(r);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Wt(l,"scroll",this._onScroll,this),this._containerId=u(l)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&It.any3d,Jt(r,"leaflet-container"+(It.touch?" leaflet-touch":"")+(It.retina?" leaflet-retina":"")+(It.ielt9?" leaflet-oldie":"")+(It.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Qe(r,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ue(this._mapPane,new tt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Jt(r.markerPane,"leaflet-zoom-hide"),Jt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,l,h){Ue(this._mapPane,new tt(0,0));var g=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var _=this._zoom!==l;this._moveStart(_,h)._move(r,l)._moveEnd(_),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(r,l){return r&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(r,l,h,g){l===void 0&&(l=this._zoom);var _=this._zoom!==l;return this._zoom=l,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),g?h&&h.pinch&&this.fire("zoom",h):((_||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Ue(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[u(this._container)]=this;var l=r?Te:Wt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),It.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=A(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,l){for(var h=[],g,_=l==="mouseout"||l==="mouseover",x=r.target||r.srcElement,V=!1;x;){if(g=this._targets[u(x)],g&&(l==="click"||l==="preclick")&&this._draggableMoved(g)){V=!0;break}if(g&&g.listens(l,!0)&&(_&&!ll(x,r)||(h.push(g),_))||x===this._container)break;x=x.parentNode}return!h.length&&!V&&!_&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var l=r.target||r.srcElement;if(!(!this._loaded||l._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(l))){var h=r.type;h==="mousedown"&&il(l),this._fireDOMEvent(r,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,l,h){if(r.type==="click"){var g=o({},r);g.type="preclick",this._fireDOMEvent(g,g.type,h)}var _=this._findEventTargets(r,l);if(h){for(var x=[],V=0;V<h.length;V++)h[V].listens(l,!0)&&x.push(h[V]);_=x.concat(_)}if(_.length){l==="contextmenu"&&an(r);var q=_[0],Y={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var lt=q.getLatLng&&(!q._radius||q._radius<=10);Y.containerPoint=lt?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(r),Y.layerPoint=this.containerPointToLayerPoint(Y.containerPoint),Y.latlng=lt?q.getLatLng():this.layerPointToLatLng(Y.layerPoint)}for(V=0;V<_.length;V++)if(_[V].fire(l,Y,!0),Y.originalEvent._stopped||_[V].options.bubblingMouseEvents===!1&&B(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,l=this._handlers.length;r<l;r++)this._handlers[r].disable()},whenReady:function(r,l){return this._loaded?r.call(l||this,{target:this}):this.on("load",r,l),this},_getMapPanePos:function(){return ce(this._mapPane)||new tt(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,l){var h=r&&l!==void 0?this._getNewPixelOrigin(r,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,l){var h=this.getSize()._divideBy(2);return this.project(r,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,l,h){var g=this._getNewPixelOrigin(h,l);return this.project(r,l)._subtract(g)},_latLngBoundsToNewLayerBounds:function(r,l,h){var g=this._getNewPixelOrigin(h,l);return St([this.project(r.getSouthWest(),l)._subtract(g),this.project(r.getNorthWest(),l)._subtract(g),this.project(r.getSouthEast(),l)._subtract(g),this.project(r.getNorthEast(),l)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,l,h){if(!h)return r;var g=this.project(r,l),_=this.getSize().divideBy(2),x=new ut(g.subtract(_),g.add(_)),V=this._getBoundsOffset(x,h,l);return Math.abs(V.x)<=1&&Math.abs(V.y)<=1?r:this.unproject(g.add(V),l)},_limitOffset:function(r,l){if(!l)return r;var h=this.getPixelBounds(),g=new ut(h.min.add(r),h.max.add(r));return r.add(this._getBoundsOffset(g,l))},_getBoundsOffset:function(r,l,h){var g=St(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),_=g.min.subtract(r.min),x=g.max.subtract(r.max),V=this._rebound(_.x,-x.x),q=this._rebound(_.y,-x.y);return new tt(V,q)},_rebound:function(r,l){return r+l>0?Math.round(r-l)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(l))},_limitZoom:function(r){var l=this.getMinZoom(),h=this.getMaxZoom(),g=It.any3d?this.options.zoomSnap:1;return g&&(r=Math.round(r/g)*g),Math.max(l,Math.min(h,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Be(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,l){var h=this._getCenterOffset(r)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var r=this._proxy=Xt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(l){var h=dt,g=this._proxy.style[h];vi(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),g===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ie(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),l=this.getZoom();vi(this._proxy,this.project(r,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(l),_=this._getCenterOffset(r)._divideBy(1-1/g);return h.animate!==!0&&!this.getSize().contains(_)?!1:(A(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(r,l,!0)},this),!0)},_animateZoom:function(r,l,h,g){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=l,Jt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:l,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Be(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Kc(r,l){return new ie(r,l)}var On=Ct.extend({options:{position:"topright"},initialize:function(r){I(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var l=this._map;return l&&l.removeControl(this),this.options.position=r,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var l=this._container=this.onAdd(r),h=this.getPosition(),g=r._controlCorners[h];return Jt(l,"leaflet-control"),h.indexOf("bottom")!==-1?g.insertBefore(l,g.firstChild):g.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ie(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),fr=function(r){return new On(r)};ie.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},l="leaflet-",h=this._controlContainer=Xt("div",l+"control-container",this._container);function g(_,x){var V=l+_+" "+l+x;r[_+x]=Xt("div",V,h)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Ie(this._controlCorners[r]);Ie(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var _i=On.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,l,h,g){return h<g?-1:g<h?1:0}},initialize:function(r,l,h){I(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in r)this._addLayer(r[g],g);for(g in l)this._addLayer(l[g],g,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return On.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,l){return this._addLayer(r,l),this._map?this._update():this},addOverlay:function(r,l){return this._addLayer(r,l,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var l=this._getLayer(u(r));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Jt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Jt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Be(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Be(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",l=this._container=Xt("div",r),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),to(l),dr(l);var g=this._section=Xt("section",r+"-list");h&&(this._map.on("click",this.collapse,this),Wt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=Xt("a",r+"-toggle",l);_.href="#",_.title="Layers",_.setAttribute("role","button"),Wt(_,{keydown:function(x){x.keyCode===13&&this._expandSafely()},click:function(x){an(x),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=Xt("div",r+"-base",g),this._separator=Xt("div",r+"-separator",g),this._overlaysList=Xt("div",r+"-overlays",g),l.appendChild(g)},_getLayer:function(r){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&u(this._layers[l].layer)===r)return this._layers[l]},_addLayer:function(r,l,h){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(a(function(g,_){return this.options.sortFunction(g.layer,_.layer,g.name,_.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ur(this._baseLayersList),ur(this._overlaysList),this._layerControlInputs=[];var r,l,h,g,_=0;for(h=0;h<this._layers.length;h++)g=this._layers[h],this._addItem(g),l=l||g.overlay,r=r||!g.overlay,_+=g.overlay?0:1;return this.options.hideSingleBase&&(r=r&&_>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=l&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var l=this._getLayer(u(r.target)),h=l.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(r,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(l?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=h,g.firstChild},_addItem:function(r){var l=document.createElement("label"),h=this._map.hasLayer(r.layer),g;r.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=h):g=this._createRadioElement("leaflet-base-layers_"+u(this),h),this._layerControlInputs.push(g),g.layerId=u(r.layer),Wt(g,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+r.name;var x=document.createElement("span");l.appendChild(x),x.appendChild(g),x.appendChild(_);var V=r.overlay?this._overlaysList:this._baseLayersList;return V.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,l,h,g=[],_=[];this._handlingClick=!0;for(var x=r.length-1;x>=0;x--)l=r[x],h=this._getLayer(l.layerId).layer,l.checked?g.push(h):l.checked||_.push(h);for(x=0;x<_.length;x++)this._map.hasLayer(_[x])&&this._map.removeLayer(_[x]);for(x=0;x<g.length;x++)this._map.hasLayer(g[x])||this._map.addLayer(g[x]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,l,h,g=this._map.getZoom(),_=r.length-1;_>=0;_--)l=r[_],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&g<h.options.minZoom||h.options.maxZoom!==void 0&&g>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Wt(r,"click",an),this.expand();var l=this;setTimeout(function(){Te(r,"click",an),l._preventClick=!1})}}),Zc=function(r,l,h){return new _i(r,l,h)},ul=On.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var l="leaflet-control-zoom",h=Xt("div",l+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,l,h,g,_){var x=Xt("a",h,g);return x.innerHTML=r,x.href="#",x.title=l,x.setAttribute("role","button"),x.setAttribute("aria-label",l),to(x),Wt(x,"click",li),Wt(x,"click",_,this),Wt(x,"click",this._refocusOnMap,this),x},_updateDisabled:function(){var r=this._map,l="leaflet-disabled";Be(this._zoomInButton,l),Be(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Jt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Jt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});ie.mergeOptions({zoomControl:!0}),ie.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ul,this.addControl(this.zoomControl))});var ns=function(r){return new ul(r)},dl=On.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var l="leaflet-control-scale",h=Xt("div",l),g=this.options;return this._addScales(g,l+"-line",h),r.on(g.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),h},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,l,h){r.metric&&(this._mScale=Xt("div",l,h)),r.imperial&&(this._iScale=Xt("div",l,h))},_update:function(){var r=this._map,l=r.getSize().y/2,h=r.distance(r.containerPointToLatLng([0,l]),r.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var l=this._getRoundNum(r),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/r)},_updateImperial:function(r){var l=r*3.2808399,h,g,_;l>5280?(h=l/5280,g=this._getRoundNum(h),this._updateScale(this._iScale,g+" mi",g/h)):(_=this._getRoundNum(l),this._updateScale(this._iScale,_+" ft",_/l))},_updateScale:function(r,l,h){r.style.width=Math.round(this.options.maxWidth*h)+"px",r.innerHTML=l},_getRoundNum:function(r){var l=Math.pow(10,(Math.floor(r)+"").length-1),h=r/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),hl=function(r){return new dl(r)},Xs='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Qs=On.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(It.inlineSvg?Xs+" ":"")+"Leaflet</a>"},initialize:function(r){I(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Xt("div","leaflet-control-attribution"),to(this._container);for(var l in r._layers)r._layers[l].getAttribution&&this.addAttribution(r._layers[l].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var l in this._attributions)this._attributions[l]&&r.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),r.length&&h.push(r.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});ie.mergeOptions({attributionControl:!0}),ie.addInitHook(function(){this.options.attributionControl&&new Qs().addTo(this)});var Js=function(r){return new Qs(r)};On.Layers=_i,On.Zoom=ul,On.Scale=dl,On.Attribution=Qs,fr.layers=Zc,fr.zoom=ns,fr.scale=hl,fr.attribution=Js;var yi=Ct.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});yi.addTo=function(r,l){return r.addHandler(l,this),this};var Yc={Events:Vt},pr=It.touch?"touchstart mousedown":"mousedown",Li=wt.extend({options:{clickTolerance:3},initialize:function(r,l,h,g){I(this,g),this._element=r,this._dragStartTarget=l||r,this._preventOutline=h},enable:function(){this._enabled||(Wt(this._dragStartTarget,pr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Li._dragging===this&&this.finishDrag(!0),Te(this._dragStartTarget,pr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!tl(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Li._dragging===this&&this.finishDrag();return}if(!(Li._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Li._dragging=this,this._preventOutline&&il(this._element),Ks(),Qi(),!this._moving)){this.fire("down");var l=r.touches?r.touches[0]:r,h=Ri(this._element);this._startPoint=new tt(l.clientX,l.clientY),this._startPos=ce(this._element),this._parentScale=Ys(h);var g=r.type==="mousedown";Wt(document,g?"mousemove":"touchmove",this._onMove,this),Wt(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var l=r.touches&&r.touches.length===1?r.touches[0]:r,h=new tt(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,an(r),this._moved||(this.fire("dragstart"),this._moved=!0,Jt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Jt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Ue(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Be(document.body,"leaflet-dragging"),this._lastTarget&&(Be(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Te(document,"mousemove touchmove",this._onMove,this),Te(document,"mouseup touchend touchcancel",this._onUp,this),el(),Pi();var l=this._moved&&this._moving;this._moving=!1,Li._dragging=!1,l&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function fl(r,l,h){var g,_=[1,4,2,8],x,V,q,Y,lt,xt,Ft,ee;for(x=0,xt=r.length;x<xt;x++)r[x]._code=Je(r[x],l);for(q=0;q<4;q++){for(Ft=_[q],g=[],x=0,xt=r.length,V=xt-1;x<xt;V=x++)Y=r[x],lt=r[V],Y._code&Ft?lt._code&Ft||(ee=ko(lt,Y,Ft,l,h),ee._code=Je(ee,l),g.push(ee)):(lt._code&Ft&&(ee=ko(lt,Y,Ft,l,h),ee._code=Je(ee,l),g.push(ee)),g.push(Y));r=g}return r}function ta(r,l){var h,g,_,x,V,q,Y,lt,xt;if(!r||r.length===0)throw new Error("latlngs not passed");gn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Ft=yt([0,0]),ee=Ot(r),Gn=ee.getNorthWest().distanceTo(ee.getSouthWest())*ee.getNorthEast().distanceTo(ee.getNorthWest());Gn<1700&&(Ft=is(r));var wn=r.length,wi=[];for(h=0;h<wn;h++){var ei=yt(r[h]);wi.push(l.project(yt([ei.lat-Ft.lat,ei.lng-Ft.lng])))}for(q=Y=lt=0,h=0,g=wn-1;h<wn;g=h++)_=wi[h],x=wi[g],V=_.y*x.x-x.y*_.x,Y+=(_.x+x.x)*V,lt+=(_.y+x.y)*V,q+=V*3;q===0?xt=wi[0]:xt=[Y/q,lt/q];var ra=l.unproject(G(xt));return yt([ra.lat+Ft.lat,ra.lng+Ft.lng])}function is(r){for(var l=0,h=0,g=0,_=0;_<r.length;_++){var x=yt(r[_]);l+=x.lat,h+=x.lng,g++}return yt([l/g,h/g])}var Xc={__proto__:null,clipPolygon:fl,polygonCenter:ta,centroid:is};function os(r,l){if(!l||!r.length)return r.slice();var h=l*l;return r=Jc(r,h),r=To(r,h),r}function pl(r,l,h){return Math.sqrt(mr(r,l,h,!0))}function Qc(r,l,h){return mr(r,l,h)}function To(r,l){var h=r.length,g=typeof Uint8Array!=void 0+""?Uint8Array:Array,_=new g(h);_[0]=_[h-1]=1,ea(r,_,l,0,h-1);var x,V=[];for(x=0;x<h;x++)_[x]&&V.push(r[x]);return V}function ea(r,l,h,g,_){var x=0,V,q,Y;for(q=g+1;q<=_-1;q++)Y=mr(r[q],r[g],r[_],!0),Y>x&&(V=q,x=Y);x>h&&(l[V]=1,ea(r,l,h,g,V),ea(r,l,h,V,_))}function Jc(r,l){for(var h=[r[0]],g=1,_=0,x=r.length;g<x;g++)tu(r[g],r[_])>l&&(h.push(r[g]),_=g);return _<x-1&&h.push(r[x-1]),h}var ml;function gl(r,l,h,g,_){var x=g?ml:Je(r,h),V=Je(l,h),q,Y,lt;for(ml=V;;){if(!(x|V))return[r,l];if(x&V)return!1;q=x||V,Y=ko(r,l,q,h,_),lt=Je(Y,h),q===x?(r=Y,x=lt):(l=Y,V=lt)}}function ko(r,l,h,g,_){var x=l.x-r.x,V=l.y-r.y,q=g.min,Y=g.max,lt,xt;return h&8?(lt=r.x+x*(Y.y-r.y)/V,xt=Y.y):h&4?(lt=r.x+x*(q.y-r.y)/V,xt=q.y):h&2?(lt=Y.x,xt=r.y+V*(Y.x-r.x)/x):h&1&&(lt=q.x,xt=r.y+V*(q.x-r.x)/x),new tt(lt,xt,_)}function Je(r,l){var h=0;return r.x<l.min.x?h|=1:r.x>l.max.x&&(h|=2),r.y<l.min.y?h|=4:r.y>l.max.y&&(h|=8),h}function tu(r,l){var h=l.x-r.x,g=l.y-r.y;return h*h+g*g}function mr(r,l,h,g){var _=l.x,x=l.y,V=h.x-_,q=h.y-x,Y=V*V+q*q,lt;return Y>0&&(lt=((r.x-_)*V+(r.y-x)*q)/Y,lt>1?(_=h.x,x=h.y):lt>0&&(_+=V*lt,x+=q*lt)),V=r.x-_,q=r.y-x,g?V*V+q*q:new tt(_,x)}function gn(r){return!z(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function d(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),gn(r)}function b(r,l){var h,g,_,x,V,q,Y,lt;if(!r||r.length===0)throw new Error("latlngs not passed");gn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var xt=yt([0,0]),Ft=Ot(r),ee=Ft.getNorthWest().distanceTo(Ft.getSouthWest())*Ft.getNorthEast().distanceTo(Ft.getNorthWest());ee<1700&&(xt=is(r));var Gn=r.length,wn=[];for(h=0;h<Gn;h++){var wi=yt(r[h]);wn.push(l.project(yt([wi.lat-xt.lat,wi.lng-xt.lng])))}for(h=0,g=0;h<Gn-1;h++)g+=wn[h].distanceTo(wn[h+1])/2;if(g===0)lt=wn[0];else for(h=0,x=0;h<Gn-1;h++)if(V=wn[h],q=wn[h+1],_=V.distanceTo(q),x+=_,x>g){Y=(x-g)/_,lt=[q.x-Y*(q.x-V.x),q.y-Y*(q.y-V.y)];break}var ei=l.unproject(G(lt));return yt([ei.lat+xt.lat,ei.lng+xt.lng])}var y={__proto__:null,simplify:os,pointToSegmentDistance:pl,closestPointOnSegment:Qc,clipSegment:gl,_getEdgeIntersection:ko,_getBitCode:Je,_sqClosestPointOnSegment:mr,isFlat:gn,_flat:d,polylineCenter:b},S={project:function(r){return new tt(r.lng,r.lat)},unproject:function(r){return new Rt(r.y,r.x)},bounds:new ut([-180,-90],[180,90])},j={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ut([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var l=Math.PI/180,h=this.R,g=r.lat*l,_=this.R_MINOR/h,x=Math.sqrt(1-_*_),V=x*Math.sin(g),q=Math.tan(Math.PI/4-g/2)/Math.pow((1-V)/(1+V),x/2);return g=-h*Math.log(Math.max(q,1e-10)),new tt(r.lng*l*h,g)},unproject:function(r){for(var l=180/Math.PI,h=this.R,g=this.R_MINOR/h,_=Math.sqrt(1-g*g),x=Math.exp(-r.y/h),V=Math.PI/2-2*Math.atan(x),q=0,Y=.1,lt;q<15&&Math.abs(Y)>1e-7;q++)lt=_*Math.sin(V),lt=Math.pow((1-lt)/(1+lt),_/2),Y=Math.PI/2-2*Math.atan(x*lt)-V,V+=Y;return new Rt(V*l,r.x*l/h)}},X={__proto__:null,LonLat:S,Mercator:j,SphericalMercator:Tt},pt=o({},mt,{code:"EPSG:3395",projection:j,transformation:function(){var r=.5/(Math.PI*j.R);return oe(r,.5,-r,.5)}()}),be=o({},mt,{code:"EPSG:4326",projection:S,transformation:oe(1/180,1,-1/180,.5)}),vn=o({},Q,{projection:S,transformation:oe(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,l){var h=l.lng-r.lng,g=l.lat-r.lat;return Math.sqrt(h*h+g*g)},infinite:!0});Q.Earth=mt,Q.EPSG3395=pt,Q.EPSG3857=M,Q.EPSG900913=N,Q.EPSG4326=be,Q.Simple=vn;var Kt=wt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[u(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[u(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var l=r.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});ie.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var l=u(r);return this._layers[l]?this:(this._layers[l]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var l=u(r);return this._layers[l]?(this._loaded&&r.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return u(r)in this._layers},eachLayer:function(r,l){for(var h in this._layers)r.call(l,this._layers[h]);return this},_addLayers:function(r){r=r?z(r)?r:[r]:[];for(var l=0,h=r.length;l<h;l++)this.addLayer(r[l])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[u(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var l=u(r);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,l=-1/0,h=this._getZoomSpan();for(var g in this._zoomBoundLayers){var _=this._zoomBoundLayers[g].options;r=_.minZoom===void 0?r:Math.min(r,_.minZoom),l=_.maxZoom===void 0?l:Math.max(l,_.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=r===1/0?void 0:r,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var je=Kt.extend({initialize:function(r,l){I(this,l),this._layers={};var h,g;if(r)for(h=0,g=r.length;h<g;h++)this.addLayer(r[h])},addLayer:function(r){var l=this.getLayerId(r);return this._layers[l]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var l=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(r){var l=typeof r=="number"?r:this.getLayerId(r);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var l=Array.prototype.slice.call(arguments,1),h,g;for(h in this._layers)g=this._layers[h],g[r]&&g[r].apply(g,l);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,l){for(var h in this._layers)r.call(l,this._layers[h]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return u(r)}}),yn=function(r,l){return new je(r,l)},$n=je.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),je.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),je.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Dt;for(var l in this._layers){var h=this._layers[l];r.extend(h.getBounds?h.getBounds():h.getLatLng())}return r}}),ci=function(r,l){return new $n(r,l)},Oi=Ct.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){I(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,l){var h=this._getIconUrl(r);if(!h){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(g,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(r,l){var h=this.options,g=h[l+"Size"];typeof g=="number"&&(g=[g,g]);var _=G(g),x=G(l==="shadow"&&h.shadowAnchor||h.iconAnchor||_&&_.divideBy(2,!0));r.className="leaflet-marker-"+l+" "+(h.className||""),x&&(r.style.marginLeft=-x.x+"px",r.style.marginTop=-x.y+"px"),_&&(r.style.width=_.x+"px",r.style.height=_.y+"px")},_createImg:function(r,l){return l=l||document.createElement("img"),l.src=r,l},_getIconUrl:function(r){return It.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function vl(r){return new Oi(r)}var bl=Oi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof bl.imagePath!="string"&&(bl.imagePath=this._detectIconPath()),(this.options.imagePath||bl.imagePath)+Oi.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var l=function(h,g,_){var x=g.exec(h);return x&&x[_]};return r=l(r,/^url\((['"])?(.+)\1\)$/,2),r&&l(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Xt("div","leaflet-default-icon-path",document.body),l=Qe(r,"background-image")||Qe(r,"backgroundImage");if(document.body.removeChild(r),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Kg=yi.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Li(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Jt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Be(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var l=this._marker,h=l._map,g=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,x=ce(l._icon),V=h.getPixelBounds(),q=h.getPixelOrigin(),Y=St(V.min._subtract(q).add(_),V.max._subtract(q).subtract(_));if(!Y.contains(x)){var lt=G((Math.max(Y.max.x,x.x)-Y.max.x)/(V.max.x-Y.max.x)-(Math.min(Y.min.x,x.x)-Y.min.x)/(V.min.x-Y.min.x),(Math.max(Y.max.y,x.y)-Y.max.y)/(V.max.y-Y.max.y)-(Math.min(Y.min.y,x.y)-Y.min.y)/(V.min.y-Y.min.y)).multiplyBy(g);h.panBy(lt,{animate:!1}),this._draggable._newPos._add(lt),this._draggable._startPos._add(lt),Ue(l._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=A(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=A(this._adjustPan.bind(this,r)))},_onDrag:function(r){var l=this._marker,h=l._shadow,g=ce(l._icon),_=l._map.layerPointToLatLng(g);h&&Ue(h,g),l._latlng=_,r.latlng=_,r.oldLatLng=this._oldLatLng,l.fire("move",r).fire("drag",r)},_onDragEnd:function(r){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),eu=Kt.extend({options:{icon:new bl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,l){I(this,l),this._latlng=yt(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var l=this._latlng;return this._latlng=yt(r),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=r.icon.createIcon(this._icon),g=!1;h!==this._icon&&(this._icon&&this._removeIcon(),g=!0,r.title&&(h.title=r.title),h.tagName==="IMG"&&(h.alt=r.alt||"")),Jt(h,l),r.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Wt(h,"focus",this._panOnFocus,this);var _=r.icon.createShadow(this._shadow),x=!1;_!==this._shadow&&(this._removeShadow(),x=!0),_&&(Jt(_,l),_.alt=""),this._shadow=_,r.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&x&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(this._icon,"focus",this._panOnFocus,this),Ie(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ie(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Ue(this._icon,r),this._shadow&&Ue(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Jt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Kg)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Kg(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&sn(this._icon,r),this._shadow&&sn(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var l=this.options.icon.options,h=l.iconSize?G(l.iconSize):G(0,0),g=l.iconAnchor?G(l.iconAnchor):G(0,0);r.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:h.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function DT(r,l){return new eu(r,l)}var gr=Kt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return I(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),nu=gr.extend({options:{fill:!0,radius:10},initialize:function(r,l){I(this,l),this._latlng=yt(r),this._radius=this.options.radius},setLatLng:function(r){var l=this._latlng;return this._latlng=yt(r),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var l=r&&r.radius||this._radius;return gr.prototype.setStyle.call(this,r),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,l=this._radiusY||r,h=this._clickTolerance(),g=[r+h,l+h];this._pxBounds=new ut(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function NT(r,l){return new nu(r,l)}var Nh=nu.extend({initialize:function(r,l,h){if(typeof l=="number"&&(l=o({},h,{radius:l})),I(this,l),this._latlng=yt(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Dt(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:gr.prototype.setStyle,_project:function(){var r=this._latlng.lng,l=this._latlng.lat,h=this._map,g=h.options.crs;if(g.distance===mt.distance){var _=Math.PI/180,x=this._mRadius/mt.R/_,V=h.project([l+x,r]),q=h.project([l-x,r]),Y=V.add(q).divideBy(2),lt=h.unproject(Y).lat,xt=Math.acos((Math.cos(x*_)-Math.sin(l*_)*Math.sin(lt*_))/(Math.cos(l*_)*Math.cos(lt*_)))/_;(isNaN(xt)||xt===0)&&(xt=x/Math.cos(Math.PI/180*l)),this._point=Y.subtract(h.getPixelOrigin()),this._radius=isNaN(xt)?0:Y.x-h.project([lt,r-xt]).x,this._radiusY=Y.y-V.y}else{var Ft=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Ft).x}this._updateBounds()}});function VT(r,l,h){return new Nh(r,l,h)}var Io=gr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,l){I(this,l),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var l=1/0,h=null,g=mr,_,x,V=0,q=this._parts.length;V<q;V++)for(var Y=this._parts[V],lt=1,xt=Y.length;lt<xt;lt++){_=Y[lt-1],x=Y[lt];var Ft=g(r,_,x,!0);Ft<l&&(l=Ft,h=g(r,_,x))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return b(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,l){return l=l||this._defaultShape(),r=yt(r),l.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Dt,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return gn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var l=[],h=gn(r),g=0,_=r.length;g<_;g++)h?(l[g]=yt(r[g]),this._bounds.extend(l[g])):l[g]=this._convertLatLngs(r[g]);return l},_project:function(){var r=new ut;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),l=new tt(r,r);this._rawPxBounds&&(this._pxBounds=new ut([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(r,l,h){var g=r[0]instanceof Rt,_=r.length,x,V;if(g){for(V=[],x=0;x<_;x++)V[x]=this._map.latLngToLayerPoint(r[x]),h.extend(V[x]);l.push(V)}else for(x=0;x<_;x++)this._projectLatlngs(r[x],l,h)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,g,_,x,V,q,Y;for(h=0,_=0,x=this._rings.length;h<x;h++)for(Y=this._rings[h],g=0,V=Y.length;g<V-1;g++)q=gl(Y[g],Y[g+1],r,g,!0),q&&(l[_]=l[_]||[],l[_].push(q[0]),(q[1]!==Y[g+1]||g===V-2)&&(l[_].push(q[1]),_++))}},_simplifyPoints:function(){for(var r=this._parts,l=this.options.smoothFactor,h=0,g=r.length;h<g;h++)r[h]=os(r[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,l){var h,g,_,x,V,q,Y=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(h=0,x=this._parts.length;h<x;h++)for(q=this._parts[h],g=0,V=q.length,_=V-1;g<V;_=g++)if(!(!l&&g===0)&&pl(r,q[_],q[g])<=Y)return!0;return!1}});function BT(r,l){return new Io(r,l)}Io._flat=d;var na=Io.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ta(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var l=Io.prototype._convertLatLngs.call(this,r),h=l.length;return h>=2&&l[0]instanceof Rt&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(r){Io.prototype._setLatLngs.call(this,r),gn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return gn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,l=this.options.weight,h=new tt(l,l);if(r=new ut(r.min.subtract(h),r.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,_=this._rings.length,x;g<_;g++)x=fl(this._rings[g],r,!0),x.length&&this._parts.push(x)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var l=!1,h,g,_,x,V,q,Y,lt;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(x=0,Y=this._parts.length;x<Y;x++)for(h=this._parts[x],V=0,lt=h.length,q=lt-1;V<lt;q=V++)g=h[V],_=h[q],g.y>r.y!=_.y>r.y&&r.x<(_.x-g.x)*(r.y-g.y)/(_.y-g.y)+g.x&&(l=!l);return l||Io.prototype._containsPoint.call(this,r,!0)}});function FT(r,l){return new na(r,l)}var So=$n.extend({initialize:function(r,l){I(this,l),this._layers={},r&&this.addData(r)},addData:function(r){var l=z(r)?r:r.features,h,g,_;if(l){for(h=0,g=l.length;h<g;h++)_=l[h],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var x=this.options;if(x.filter&&!x.filter(r))return this;var V=iu(r,x);return V?(V.feature=su(r),V.defaultOptions=V.options,this.resetStyle(V),x.onEachFeature&&x.onEachFeature(r,V),this.addLayer(V)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=o({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(l){this._setLayerStyle(l,r)},this)},_setLayerStyle:function(r,l){r.setStyle&&(typeof l=="function"&&(l=l(r.feature)),r.setStyle(l))}});function iu(r,l){var h=r.type==="Feature"?r.geometry:r,g=h?h.coordinates:null,_=[],x=l&&l.pointToLayer,V=l&&l.coordsToLatLng||Vh,q,Y,lt,xt;if(!g&&!h)return null;switch(h.type){case"Point":return q=V(g),Zg(x,r,q,l);case"MultiPoint":for(lt=0,xt=g.length;lt<xt;lt++)q=V(g[lt]),_.push(Zg(x,r,q,l));return new $n(_);case"LineString":case"MultiLineString":return Y=ou(g,h.type==="LineString"?0:1,V),new Io(Y,l);case"Polygon":case"MultiPolygon":return Y=ou(g,h.type==="Polygon"?1:2,V),new na(Y,l);case"GeometryCollection":for(lt=0,xt=h.geometries.length;lt<xt;lt++){var Ft=iu({geometry:h.geometries[lt],type:"Feature",properties:r.properties},l);Ft&&_.push(Ft)}return new $n(_);case"FeatureCollection":for(lt=0,xt=h.features.length;lt<xt;lt++){var ee=iu(h.features[lt],l);ee&&_.push(ee)}return new $n(_);default:throw new Error("Invalid GeoJSON object.")}}function Zg(r,l,h,g){return r?r(l,h):new eu(h,g&&g.markersInheritOptions&&g)}function Vh(r){return new Rt(r[1],r[0],r[2])}function ou(r,l,h){for(var g=[],_=0,x=r.length,V;_<x;_++)V=l?ou(r[_],l-1,h):(h||Vh)(r[_]),g.push(V);return g}function Bh(r,l){return r=yt(r),r.alt!==void 0?[v(r.lng,l),v(r.lat,l),v(r.alt,l)]:[v(r.lng,l),v(r.lat,l)]}function ru(r,l,h,g){for(var _=[],x=0,V=r.length;x<V;x++)_.push(l?ru(r[x],gn(r[x])?0:l-1,h,g):Bh(r[x],g));return!l&&h&&_.length>0&&_.push(_[0].slice()),_}function ia(r,l){return r.feature?o({},r.feature,{geometry:l}):su(l)}function su(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Fh={toGeoJSON:function(r){return ia(this,{type:"Point",coordinates:Bh(this.getLatLng(),r)})}};eu.include(Fh),Nh.include(Fh),nu.include(Fh),Io.include({toGeoJSON:function(r){var l=!gn(this._latlngs),h=ru(this._latlngs,l?1:0,!1,r);return ia(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),na.include({toGeoJSON:function(r){var l=!gn(this._latlngs),h=l&&!gn(this._latlngs[0]),g=ru(this._latlngs,h?2:l?1:0,!0,r);return l||(g=[g]),ia(this,{type:(h?"Multi":"")+"Polygon",coordinates:g})}}),je.include({toMultiPoint:function(r){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(r).geometry.coordinates)}),ia(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(r){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(r);var h=l==="GeometryCollection",g=[];return this.eachLayer(function(_){if(_.toGeoJSON){var x=_.toGeoJSON(r);if(h)g.push(x.geometry);else{var V=su(x);V.type==="FeatureCollection"?g.push.apply(g,V.features):g.push(V)}}}),h?ia(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function Yg(r,l){return new So(r,l)}var zT=Yg,au=Kt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,l,h){this._url=r,this._bounds=Ot(l),I(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Jt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ie(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&_o(this._image),this},bringToBack:function(){return this._map&&yo(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=Ot(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",l=this._image=r?this._url:Xt("img");if(Jt(l,"leaflet-image-layer"),this._zoomAnimated&&Jt(l,"leaflet-zoom-animated"),this.options.className&&Jt(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(r){var l=this._map.getZoomScale(r.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;vi(this._image,h,l)},_reset:function(){var r=this._image,l=new ut(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();Ue(r,l.min),r.style.width=h.x+"px",r.style.height=h.y+"px"},_updateOpacity:function(){sn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),UT=function(r,l,h){return new au(r,l,h)},Xg=au.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",l=this._image=r?this._url:Xt("video");if(Jt(l,"leaflet-image-layer"),this._zoomAnimated&&Jt(l,"leaflet-zoom-animated"),this.options.className&&Jt(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onloadeddata=a(this.fire,this,"load"),r){for(var h=l.getElementsByTagName("source"),g=[],_=0;_<h.length;_++)g.push(h[_].src);this._url=h.length>0?g:[l.src];return}z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var x=0;x<this._url.length;x++){var V=Xt("source");V.src=this._url[x],l.appendChild(V)}}});function jT(r,l,h){return new Xg(r,l,h)}var Qg=au.extend({_initImage:function(){var r=this._image=this._url;Jt(r,"leaflet-image-layer"),this._zoomAnimated&&Jt(r,"leaflet-zoom-animated"),this.options.className&&Jt(r,this.options.className),r.onselectstart=m,r.onmousemove=m}});function HT(r,l,h){return new Qg(r,l,h)}var eo=Kt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,l){r&&(r instanceof Rt||z(r))?(this._latlng=yt(r),I(this,l)):(I(this,r),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&sn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&sn(this._container,1),this.bringToFront(),this.options.interactive&&(Jt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(sn(this._container,0),this._removeTimeout=setTimeout(a(Ie,void 0,this._container),200)):Ie(this._container),this.options.interactive&&(Be(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=yt(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&_o(this._container),this},bringToBack:function(){return this._map&&yo(this._container),this},_prepareOpen:function(r){var l=this._source;if(!l._map)return!1;if(l instanceof $n){l=null;var h=this._source._layers;for(var g in h)if(h[g]._map){l=h[g];break}if(!l)return!1;this._source=l}if(!r)if(l.getCenter)r=l.getCenter();else if(l.getLatLng)r=l.getLatLng();else if(l.getBounds)r=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")r.innerHTML=l;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),l=G(this.options.offset),h=this._getAnchor();this._zoomAnimated?Ue(this._container,r.add(h)):l=l.add(r).add(h);var g=this._containerBottom=-l.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=g+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});ie.include({_initOverlay:function(r,l,h,g){var _=l;return _ instanceof r||(_=new r(g).setContent(l)),h&&_.setLatLng(h),_}}),Kt.include({_initOverlay:function(r,l,h,g){var _=h;return _ instanceof r?(I(_,g),_._source=this):(_=l&&!g?l:new r(g,this),_.setContent(h)),_}});var lu=eo.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,eo.prototype.openOn.call(this,r)},onAdd:function(r){eo.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof gr||this._source.on("preclick",Eo))},onRemove:function(r){eo.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof gr||this._source.off("preclick",Eo))},getEvents:function(){var r=eo.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",l=this._container=Xt("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Xt("div",r+"-content-wrapper",l);if(this._contentNode=Xt("div",r+"-content",h),to(l),dr(this._contentNode),Wt(l,"contextmenu",Eo),this._tipContainer=Xt("div",r+"-tip-container",l),this._tip=Xt("div",r+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=Xt("a",r+"-close-button",l);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',Wt(g,"click",function(_){an(_),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,l=r.style;l.width="",l.whiteSpace="nowrap";var h=r.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var g=r.offsetHeight,_=this.options.maxHeight,x="leaflet-popup-scrolled";_&&g>_?(l.height=_+"px",Jt(r,x)):Be(r,x),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),h=this._getAnchor();Ue(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,l=parseInt(Qe(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,g=this._containerWidth,_=new tt(this._containerLeft,-h-this._containerBottom);_._add(ce(this._container));var x=r.layerPointToContainerPoint(_),V=G(this.options.autoPanPadding),q=G(this.options.autoPanPaddingTopLeft||V),Y=G(this.options.autoPanPaddingBottomRight||V),lt=r.getSize(),xt=0,Ft=0;x.x+g+Y.x>lt.x&&(xt=x.x+g-lt.x+Y.x),x.x-xt-q.x<0&&(xt=x.x-q.x),x.y+h+Y.y>lt.y&&(Ft=x.y+h-lt.y+Y.y),x.y-Ft-q.y<0&&(Ft=x.y-q.y),(xt||Ft)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([xt,Ft]))}},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),qT=function(r,l){return new lu(r,l)};ie.mergeOptions({closePopupOnClick:!0}),ie.include({openPopup:function(r,l,h){return this._initOverlay(lu,r,l,h).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Kt.include({bindPopup:function(r,l){return this._popup=this._initOverlay(lu,this._popup,r,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof $n||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){li(r);var l=r.layer||r.target;if(this._popup._source===l&&!(l instanceof gr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=l,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var cu=eo.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){eo.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){eo.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=eo.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",l=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Xt("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var l,h,g=this._map,_=this._container,x=g.latLngToContainerPoint(g.getCenter()),V=g.layerPointToContainerPoint(r),q=this.options.direction,Y=_.offsetWidth,lt=_.offsetHeight,xt=G(this.options.offset),Ft=this._getAnchor();q==="top"?(l=Y/2,h=lt):q==="bottom"?(l=Y/2,h=0):q==="center"?(l=Y/2,h=lt/2):q==="right"?(l=0,h=lt/2):q==="left"?(l=Y,h=lt/2):V.x<x.x?(q="right",l=0,h=lt/2):(q="left",l=Y+(xt.x+Ft.x)*2,h=lt/2),r=r.subtract(G(l,h,!0)).add(xt).add(Ft),Be(_,"leaflet-tooltip-right"),Be(_,"leaflet-tooltip-left"),Be(_,"leaflet-tooltip-top"),Be(_,"leaflet-tooltip-bottom"),Jt(_,"leaflet-tooltip-"+q),Ue(_,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&sn(this._container,r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(l)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),WT=function(r,l){return new cu(r,l)};ie.include({openTooltip:function(r,l,h){return this._initOverlay(cu,r,l,h).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Kt.include({bindTooltip:function(r,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(cu,this._tooltip,r,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var l=r?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof $n||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&(Wt(l,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Wt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var l=r.latlng,h,g;this._tooltip.options.sticky&&r.originalEvent&&(h=this._map.mouseEventToContainerPoint(r.originalEvent),g=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(l)}});var Jg=Oi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var l=r&&r.tagName==="DIV"?r:document.createElement("div"),h=this.options;if(h.html instanceof Element?(ur(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var g=G(h.bgPos);l.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function GT(r){return new Jg(r)}Oi.Default=bl;var _l=Kt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:It.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){I(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Ie(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(_o(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(yo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof tt?r:new tt(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var l=this.getPane().children,h=-r(-1/0,1/0),g=0,_=l.length,x;g<_;g++)x=l[g].style.zIndex,l[g]!==this._container&&x&&(h=r(h,+x));isFinite(h)&&(this.options.zIndex=h+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!It.ielt9){sn(this._container,this.options.opacity);var r=+new Date,l=!1,h=!1;for(var g in this._tiles){var _=this._tiles[g];if(!(!_.current||!_.loaded)){var x=Math.min(1,(r-_.loaded)/200);sn(_.el,x),x<1?l=!0:(_.active?h=!0:this._onOpaqueTile(_),_.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&($(this._fadeFrame),this._fadeFrame=A(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Xt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,l=this.options.maxZoom;if(r!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===r?(this._levels[h].el.style.zIndex=l-Math.abs(r-h),this._onUpdateLevel(h)):(Ie(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var g=this._levels[r],_=this._map;return g||(g=this._levels[r]={},g.el=Xt("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=l,g.origin=_.project(_.unproject(_.getPixelOrigin()),r).round(),g.zoom=r,this._setZoomTransform(g,_.getCenter(),_.getZoom()),m(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var r,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)l=this._tiles[r],l.retain=l.current;for(r in this._tiles)if(l=this._tiles[r],l.current&&!l.active){var g=l.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var l in this._tiles)this._tiles[l].coords.z===r&&this._removeTile(l)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Ie(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,l,h,g){var _=Math.floor(r/2),x=Math.floor(l/2),V=h-1,q=new tt(+_,+x);q.z=+V;var Y=this._tileCoordsToKey(q),lt=this._tiles[Y];return lt&&lt.active?(lt.retain=!0,!0):(lt&&lt.loaded&&(lt.retain=!0),V>g?this._retainParent(_,x,V,g):!1)},_retainChildren:function(r,l,h,g){for(var _=2*r;_<2*r+2;_++)for(var x=2*l;x<2*l+2;x++){var V=new tt(_,x);V.z=h+1;var q=this._tileCoordsToKey(V),Y=this._tiles[q];if(Y&&Y.active){Y.retain=!0;continue}else Y&&Y.loaded&&(Y.retain=!0);h+1<g&&this._retainChildren(_,x,h+1,g)}},_resetView:function(r){var l=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var l=this.options;return l.minNativeZoom!==void 0&&r<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<r?l.maxNativeZoom:r},_setView:function(r,l,h,g){var _=Math.round(l);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var x=this.options.updateWhenZooming&&_!==this._tileZoom;(!g||x)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(r),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(r,l)},_setZoomTransforms:function(r,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],r,l)},_setZoomTransform:function(r,l,h){var g=this._map.getZoomScale(h,r.zoom),_=r.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(l,h)).round();It.any3d?vi(r.el,_,g):Ue(r.el,_)},_resetGrid:function(){var r=this._map,l=r.options.crs,h=this._tileSize=this.getTileSize(),g=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,l.wrapLng[0]],g).x/h.x),Math.ceil(r.project([0,l.wrapLng[1]],g).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([l.wrapLat[0],0],g).y/h.x),Math.ceil(r.project([l.wrapLat[1],0],g).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),g=l.getZoomScale(h,this._tileZoom),_=l.project(r,this._tileZoom).floor(),x=l.getSize().divideBy(g*2);return new ut(_.subtract(x),_.add(x))},_update:function(r){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(r===void 0&&(r=l.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(r),_=this._pxBoundsToTileRange(g),x=_.getCenter(),V=[],q=this.options.keepBuffer,Y=new ut(_.getBottomLeft().subtract([q,-q]),_.getTopRight().add([q,-q]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var lt in this._tiles){var xt=this._tiles[lt].coords;(xt.z!==this._tileZoom||!Y.contains(new tt(xt.x,xt.y)))&&(this._tiles[lt].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(r,h);return}for(var Ft=_.min.y;Ft<=_.max.y;Ft++)for(var ee=_.min.x;ee<=_.max.x;ee++){var Gn=new tt(ee,Ft);if(Gn.z=this._tileZoom,!!this._isValidTile(Gn)){var wn=this._tiles[this._tileCoordsToKey(Gn)];wn?wn.current=!0:V.push(Gn)}}if(V.sort(function(ei,ra){return ei.distanceTo(x)-ra.distanceTo(x)}),V.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var wi=document.createDocumentFragment();for(ee=0;ee<V.length;ee++)this._addTile(V[ee],wi);this._level.el.appendChild(wi)}}}},_isValidTile:function(r){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(r.x<h.min.x||r.x>h.max.x)||!l.wrapLat&&(r.y<h.min.y||r.y>h.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(r);return Ot(this.options.bounds).overlaps(g)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var l=this._map,h=this.getTileSize(),g=r.scaleBy(h),_=g.add(h),x=l.unproject(g,r.z),V=l.unproject(_,r.z);return[x,V]},_tileCoordsToBounds:function(r){var l=this._tileCoordsToNwSe(r),h=new Dt(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var l=r.split(":"),h=new tt(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(r){var l=this._tiles[r];l&&(Ie(l.el),delete this._tiles[r],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Jt(r,"leaflet-tile");var l=this.getTileSize();r.style.width=l.x+"px",r.style.height=l.y+"px",r.onselectstart=m,r.onmousemove=m,It.ielt9&&this.options.opacity<1&&sn(r,this.options.opacity)},_addTile:function(r,l){var h=this._getTilePos(r),g=this._tileCoordsToKey(r),_=this.createTile(this._wrapCoords(r),a(this._tileReady,this,r));this._initTile(_),this.createTile.length<2&&A(a(this._tileReady,this,r,null,_)),Ue(_,h),this._tiles[g]={el:_,coords:r,current:!0},l.appendChild(_),this.fire("tileloadstart",{tile:_,coords:r})},_tileReady:function(r,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:r});var g=this._tileCoordsToKey(r);h=this._tiles[g],h&&(h.loaded=+new Date,this._map._fadeAnimated?(sn(h.el,0),$(this._fadeFrame),this._fadeFrame=A(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(Jt(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),It.ielt9||!this._map._fadeAnimated?A(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var l=new tt(this._wrapX?p(r.x,this._wrapX):r.x,this._wrapY?p(r.y,this._wrapY):r.y);return l.z=r.z,l},_pxBoundsToTileRange:function(r){var l=this.getTileSize();return new ut(r.min.unscaleBy(l).floor(),r.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function KT(r){return new _l(r)}var oa=_l.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,l){this._url=r,l=I(this,l),l.detectRetina&&It.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,l){return this._url===r&&l===void 0&&(l=!0),this._url=r,l||this.redraw(),this},createTile:function(r,l){var h=document.createElement("img");return Wt(h,"load",a(this._tileOnLoad,this,l,h)),Wt(h,"error",a(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(r),h},getTileUrl:function(r){var l={r:It.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-r.y;this.options.tms&&(l.y=h),l["-y"]=h}return F(this._url,o(l,this.options))},_tileOnLoad:function(r,l){It.ielt9?setTimeout(a(r,this,null,l),0):r(null,l)},_tileOnError:function(r,l,h){var g=this.options.errorTileUrl;g&&l.getAttribute("src")!==g&&(l.src=g),r(h,l)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,g=this.options.zoomOffset;return h&&(r=l-r),r+g},_getSubdomain:function(r){var l=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var r,l;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(l=this._tiles[r].el,l.onload=m,l.onerror=m,!l.complete)){l.src=U;var h=this._tiles[r].coords;Ie(l),delete this._tiles[r],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(r){var l=this._tiles[r];if(l)return l.el.setAttribute("src",U),_l.prototype._removeTile.call(this,r)},_tileReady:function(r,l,h){if(!(!this._map||h&&h.getAttribute("src")===U))return _l.prototype._tileReady.call(this,r,l,h)}});function tv(r,l){return new oa(r,l)}var ev=oa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,l){this._url=r;var h=o({},this.defaultWmsParams);for(var g in l)g in this.options||(h[g]=l[g]);l=I(this,l);var _=l.detectRetina&&It.retina?2:1,x=this.getTileSize();h.width=x.x*_,h.height=x.y*_,this.wmsParams=h},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,oa.prototype.onAdd.call(this,r)},getTileUrl:function(r){var l=this._tileCoordsToNwSe(r),h=this._crs,g=St(h.project(l[0]),h.project(l[1])),_=g.min,x=g.max,V=(this._wmsVersion>=1.3&&this._crs===be?[_.y,_.x,x.y,x.x]:[_.x,_.y,x.x,x.y]).join(","),q=oa.prototype.getTileUrl.call(this,r);return q+R(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+V},setParams:function(r,l){return o(this.wmsParams,r),l||this.redraw(),this}});function ZT(r,l){return new ev(r,l)}oa.WMS=ev,tv.wms=ZT;var Ao=Kt.extend({options:{padding:.1},initialize:function(r){I(this,r),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Jt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,l){var h=this._map.getZoomScale(l,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,l),x=g.multiplyBy(-h).add(_).subtract(this._map._getNewPixelOrigin(r,l));It.any3d?vi(this._container,x,h):Ue(this._container,x)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-r)).round();this._bounds=new ut(h,h.add(l.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),nv=Ao.extend({options:{tolerance:0},getEvents:function(){var r=Ao.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ao.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Wt(r,"mousemove",this._onMouseMove,this),Wt(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Wt(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,Ie(this._container),Te(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var l in this._layers)r=this._layers[l],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ao.prototype._update.call(this);var r=this._bounds,l=this._container,h=r.getSize(),g=It.retina?2:1;Ue(l,r.min),l.width=g*h.x,l.height=g*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",It.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Ao.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[u(r)]=r;var l=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var l=r._order,h=l.next,g=l.prev;h?h.prev=g:this._drawLast=g,g?g.next=h:this._drawFirst=h,delete r._order,delete this._layers[u(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var l=r.options.dashArray.split(/[, ]+/),h=[],g,_;for(_=0;_<l.length;_++){if(g=Number(l[_]),isNaN(g))return;h.push(g)}r.options._dashArray=h}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||A(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var l=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ut,this._redrawBounds.extend(r._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(r._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var l=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)r=g.layer,(!l||r._pxBounds&&r._pxBounds.intersects(l))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,l){if(this._drawing){var h,g,_,x,V=r._parts,q=V.length,Y=this._ctx;if(q){for(Y.beginPath(),h=0;h<q;h++){for(g=0,_=V[h].length;g<_;g++)x=V[h][g],Y[g?"lineTo":"moveTo"](x.x,x.y);l&&Y.closePath()}this._fillStroke(Y,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var l=r._point,h=this._ctx,g=Math.max(Math.round(r._radius),1),_=(Math.max(Math.round(r._radiusY),1)||g)/g;_!==1&&(h.save(),h.scale(1,_)),h.beginPath(),h.arc(l.x,l.y/_,g,0,Math.PI*2,!1),_!==1&&h.restore(),this._fillStroke(h,r)}},_fillStroke:function(r,l){var h=l.options;h.fill&&(r.globalAlpha=h.fillOpacity,r.fillStyle=h.fillColor||h.color,r.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(r.setLineDash&&r.setLineDash(l.options&&l.options._dashArray||[]),r.globalAlpha=h.opacity,r.lineWidth=h.weight,r.strokeStyle=h.color,r.lineCap=h.lineCap,r.lineJoin=h.lineJoin,r.stroke())},_onClick:function(r){for(var l=this._map.mouseEventToLayerPoint(r),h,g,_=this._drawFirst;_;_=_.next)h=_.layer,h.options.interactive&&h._containsPoint(l)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(h))&&(g=h);this._fireEvent(g?[g]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,l)}},_handleMouseOut:function(r){var l=this._hoveredLayer;l&&(Be(this._container,"leaflet-interactive"),this._fireEvent([l],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,l){if(!this._mouseHoverThrottled){for(var h,g,_=this._drawFirst;_;_=_.next)h=_.layer,h.options.interactive&&h._containsPoint(l)&&(g=h);g!==this._hoveredLayer&&(this._handleMouseOut(r),g&&(Jt(this._container,"leaflet-interactive"),this._fireEvent([g],r,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,l,h){this._map._fireDOMEvent(l,h||l.type,r)},_bringToFront:function(r){var l=r._order;if(l){var h=l.next,g=l.prev;if(h)h.prev=g;else return;g?g.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(r)}},_bringToBack:function(r){var l=r._order;if(l){var h=l.next,g=l.prev;if(g)g.next=h;else return;h?h.prev=g:g&&(this._drawLast=g),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(r)}}});function iv(r){return It.canvas?new nv(r):null}var yl=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),YT={_initContainer:function(){this._container=Xt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ao.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var l=r._container=yl("shape");Jt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",r._path=yl("path"),l.appendChild(r._path),this._updateStyle(r),this._layers[u(r)]=r},_addPath:function(r){var l=r._container;this._container.appendChild(l),r.options.interactive&&r.addInteractiveTarget(l)},_removePath:function(r){var l=r._container;Ie(l),r.removeInteractiveTarget(l),delete this._layers[u(r)]},_updateStyle:function(r){var l=r._stroke,h=r._fill,g=r.options,_=r._container;_.stroked=!!g.stroke,_.filled=!!g.fill,g.stroke?(l||(l=r._stroke=yl("stroke")),_.appendChild(l),l.weight=g.weight+"px",l.color=g.color,l.opacity=g.opacity,g.dashArray?l.dashStyle=z(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=g.lineCap.replace("butt","flat"),l.joinstyle=g.lineJoin):l&&(_.removeChild(l),r._stroke=null),g.fill?(h||(h=r._fill=yl("fill")),_.appendChild(h),h.color=g.fillColor||g.color,h.opacity=g.fillOpacity):h&&(_.removeChild(h),r._fill=null)},_updateCircle:function(r){var l=r._point.round(),h=Math.round(r._radius),g=Math.round(r._radiusY||h);this._setPath(r,r._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+g+" 0,"+65535*360)},_setPath:function(r,l){r._path.v=l},_bringToFront:function(r){_o(r._container)},_bringToBack:function(r){yo(r._container)}},uu=It.vml?yl:W,wl=Ao.extend({_initContainer:function(){this._container=uu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=uu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ie(this._container),Te(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ao.prototype._update.call(this);var r=this._bounds,l=r.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),Ue(h,r.min),h.setAttribute("viewBox",[r.min.x,r.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(r){var l=r._path=uu("path");r.options.className&&Jt(l,r.options.className),r.options.interactive&&Jt(l,"leaflet-interactive"),this._updateStyle(r),this._layers[u(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Ie(r._path),r.removeInteractiveTarget(r._path),delete this._layers[u(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var l=r._path,h=r.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(r,l){this._setPath(r,ot(r._parts,l))},_updateCircle:function(r){var l=r._point,h=Math.max(Math.round(r._radius),1),g=Math.max(Math.round(r._radiusY),1)||h,_="a"+h+","+g+" 0 1,0 ",x=r._empty()?"M0 0":"M"+(l.x-h)+","+l.y+_+h*2+",0 "+_+-h*2+",0 ";this._setPath(r,x)},_setPath:function(r,l){r._path.setAttribute("d",l)},_bringToFront:function(r){_o(r._path)},_bringToBack:function(r){yo(r._path)}});It.vml&&wl.include(YT);function ov(r){return It.svg||It.vml?new wl(r):null}ie.include({getRenderer:function(r){var l=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var l=this._paneRenderers[r];return l===void 0&&(l=this._createRenderer({pane:r}),this._paneRenderers[r]=l),l},_createRenderer:function(r){return this.options.preferCanvas&&iv(r)||ov(r)}});var rv=na.extend({initialize:function(r,l){na.prototype.initialize.call(this,this._boundsToLatLngs(r),l)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=Ot(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function XT(r,l){return new rv(r,l)}wl.create=uu,wl.pointsToPath=ot,So.geometryToLayer=iu,So.coordsToLatLng=Vh,So.coordsToLatLngs=ou,So.latLngToCoords=Bh,So.latLngsToCoords=ru,So.getFeature=ia,So.asFeature=su,ie.mergeOptions({boxZoom:!0});var sv=yi.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Wt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ie(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Qi(),Ks(),this._startPoint=this._map.mouseEventToContainerPoint(r),Wt(document,{contextmenu:li,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Xt("div","leaflet-zoom-box",this._container),Jt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var l=new ut(this._point,this._startPoint),h=l.getSize();Ue(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Ie(this._box),Be(this._container,"leaflet-crosshair")),Pi(),el(),Te(document,{contextmenu:li,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new Dt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ie.addInitHook("addHandler","boxZoom",sv),ie.mergeOptions({doubleClickZoom:!0});var av=yi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var l=this._map,h=l.getZoom(),g=l.options.zoomDelta,_=r.originalEvent.shiftKey?h-g:h+g;l.options.doubleClickZoom==="center"?l.setZoom(_):l.setZoomAround(r.containerPoint,_)}});ie.addInitHook("addHandler","doubleClickZoom",av),ie.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var lv=yi.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Li(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Jt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Be(this._map._container,"leaflet-grab"),Be(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=Ot(this._map.options.maxBounds);this._offsetLimit=St(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,l){return r-(r-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;r.x<l.min.x&&(r.x=this._viscousLimit(r.x,l.min.x)),r.y<l.min.y&&(r.y=this._viscousLimit(r.y,l.min.y)),r.x>l.max.x&&(r.x=this._viscousLimit(r.x,l.max.x)),r.y>l.max.y&&(r.y=this._viscousLimit(r.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,l=Math.round(r/2),h=this._initialWorldOffset,g=this._draggable._newPos.x,_=(g-l+h)%r+l-h,x=(g+l+h)%r-l-h,V=Math.abs(_+h)<Math.abs(x+h)?_:x;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=V},_onDragEnd:function(r){var l=this._map,h=l.options,g=!h.inertia||r.noInertia||this._times.length<2;if(l.fire("dragend",r),g)l.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),x=(this._lastTime-this._times[0])/1e3,V=h.easeLinearity,q=_.multiplyBy(V/x),Y=q.distanceTo([0,0]),lt=Math.min(h.inertiaMaxSpeed,Y),xt=q.multiplyBy(lt/Y),Ft=lt/(h.inertiaDeceleration*V),ee=xt.multiplyBy(-Ft/2).round();!ee.x&&!ee.y?l.fire("moveend"):(ee=l._limitOffset(ee,l.options.maxBounds),A(function(){l.panBy(ee,{duration:Ft,easeLinearity:V,noMoveStart:!0,animate:!0})}))}}});ie.addInitHook("addHandler","dragging",lv),ie.mergeOptions({keyboard:!0,keyboardPanDelta:80});var cv=yi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Wt(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Te(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,l=document.documentElement,h=r.scrollTop||l.scrollTop,g=r.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(g,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var l=this._panKeys={},h=this.keyCodes,g,_;for(g=0,_=h.left.length;g<_;g++)l[h.left[g]]=[-1*r,0];for(g=0,_=h.right.length;g<_;g++)l[h.right[g]]=[r,0];for(g=0,_=h.down.length;g<_;g++)l[h.down[g]]=[0,r];for(g=0,_=h.up.length;g<_;g++)l[h.up[g]]=[0,-1*r]},_setZoomDelta:function(r){var l=this._zoomKeys={},h=this.keyCodes,g,_;for(g=0,_=h.zoomIn.length;g<_;g++)l[h.zoomIn[g]]=r;for(g=0,_=h.zoomOut.length;g<_;g++)l[h.zoomOut[g]]=-r},_addHooks:function(){Wt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var l=r.keyCode,h=this._map,g;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(g=this._panKeys[l],r.shiftKey&&(g=G(g).multiplyBy(3)),h.options.maxBounds&&(g=h._limitOffset(G(g),h.options.maxBounds)),h.options.worldCopyJump){var _=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(g)));h.panTo(_)}else h.panBy(g)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;li(r)}}});ie.addInitHook("addHandler","keyboard",cv),ie.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var uv=yi.extend({addHooks:function(){Wt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var l=Le(r),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var g=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),g),li(r)},_performZoom:function(){var r=this._map,l=r.getZoom(),h=this._map.options.zoomSnap||0;r._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,x=h?Math.ceil(_/h)*h:_,V=r._limitZoom(l+(this._delta>0?x:-x))-l;this._delta=0,this._startTime=null,V&&(r.options.scrollWheelZoom==="center"?r.setZoom(l+V):r.setZoomAround(this._lastMousePos,l+V))}});ie.addInitHook("addHandler","scrollWheelZoom",uv);var QT=600;ie.mergeOptions({tapHold:It.touchNative&&It.safari&&It.mobile,tapTolerance:15});var dv=yi.extend({addHooks:function(){Wt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var l=r.touches[0];this._startPos=this._newPos=new tt(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(Wt(document,"touchend",an),Wt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),QT),Wt(document,"touchend touchcancel contextmenu",this._cancel,this),Wt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Te(document,"touchend",an),Te(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)},_onMove:function(r){var l=r.touches[0];this._newPos=new tt(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,l){var h=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});ie.addInitHook("addHandler","tapHold",dv),ie.mergeOptions({touchZoom:It.touch,bounceAtZoomLimits:!0});var hv=yi.extend({addHooks:function(){Jt(this._map._container,"leaflet-touch-zoom"),Wt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Be(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var l=this._map;if(!(!r.touches||r.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(r.touches[0]),g=l.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(g)._divideBy(2))),this._startDist=h.distanceTo(g),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Wt(document,"touchmove",this._onTouchMove,this),Wt(document,"touchend touchcancel",this._onTouchEnd,this),an(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(r.touches[0]),g=l.mouseEventToContainerPoint(r.touches[1]),_=h.distanceTo(g)/this._startDist;if(this._zoom=l.getScaleZoom(_,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&_<1||this._zoom>l.getMaxZoom()&&_>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var x=h._add(g)._divideBy(2)._subtract(this._centerPoint);if(_===1&&x.x===0&&x.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(x),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var V=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=A(V,this,!0),an(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ie.addInitHook("addHandler","touchZoom",hv),ie.BoxZoom=sv,ie.DoubleClickZoom=av,ie.Drag=lv,ie.Keyboard=cv,ie.ScrollWheelZoom=uv,ie.TapHold=dv,ie.TouchZoom=hv,n.Bounds=ut,n.Browser=It,n.CRS=Q,n.Canvas=nv,n.Circle=Nh,n.CircleMarker=nu,n.Class=Ct,n.Control=On,n.DivIcon=Jg,n.DivOverlay=eo,n.DomEvent=Dh,n.DomUtil=Wc,n.Draggable=Li,n.Evented=wt,n.FeatureGroup=$n,n.GeoJSON=So,n.GridLayer=_l,n.Handler=yi,n.Icon=Oi,n.ImageOverlay=au,n.LatLng=Rt,n.LatLngBounds=Dt,n.Layer=Kt,n.LayerGroup=je,n.LineUtil=y,n.Map=ie,n.Marker=eu,n.Mixin=Yc,n.Path=gr,n.Point=tt,n.PolyUtil=Xc,n.Polygon=na,n.Polyline=Io,n.Popup=lu,n.PosAnimation=cl,n.Projection=X,n.Rectangle=rv,n.Renderer=Ao,n.SVG=wl,n.SVGOverlay=Qg,n.TileLayer=oa,n.Tooltip=cu,n.Transformation=zt,n.Util=P,n.VideoOverlay=Xg,n.bind=a,n.bounds=St,n.canvas=iv,n.circle=VT,n.circleMarker=NT,n.control=fr,n.divIcon=GT,n.extend=o,n.featureGroup=ci,n.geoJSON=Yg,n.geoJson=zT,n.gridLayer=KT,n.icon=vl,n.imageOverlay=UT,n.latLng=yt,n.latLngBounds=Ot,n.layerGroup=yn,n.map=Kc,n.marker=DT,n.point=G,n.polygon=FT,n.polyline=BT,n.popup=qT,n.rectangle=XT,n.setOptions=I,n.stamp=u,n.svg=ov,n.svgOverlay=HT,n.tileLayer=tv,n.tooltip=WT,n.transformation=oe,n.version=i,n.videoOverlay=jT;var JT=window.L;n.noConflict=function(){return window.L=JT,this},window.L=n})})(im,im.exports);var Oo=im.exports;const GB={class:"absolute top-0 left-0 right-0 p-4 z-20 flex flex-col gap-3"},KB={class:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/50 p-4 flex items-center justify-between"},ZB={class:"flex items-center gap-3"},YB={class:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/30"},XB={class:"flex items-center gap-1.5"},QB={key:0,class:"flex items-center gap-1"},JB={class:"text-[10px] font-bold text-slate-500 truncate max-w-[120px]"},tF={key:1,class:"flex items-center gap-1"},eF={class:"flex gap-2"},nF={class:"flex gap-2 overflow-x-auto no-scrollbar pb-2"},iF={class:"bg-white/80 backdrop-blur-md px-5 py-2.5 rounded-full shadow-lg border border-white/50 whitespace-nowrap flex items-center gap-2"},oF={class:"text-xs font-bold text-slate-700 uppercase tracking-wider"},rF={key:0,class:"fixed inset-0 z-[9999] flex items-end justify-center bg-black/60 backdrop-blur-md transition-all duration-300"},sF={class:"w-full bg-white rounded-t-[40px] shadow-2xl flex flex-col max-h-[95vh] animate-slide-up overflow-hidden pb-safe"},aF={class:"px-6 pb-4 flex items-center justify-between border-b border-slate-50"},lF={class:"text-xs font-medium text-slate-400"},cF={class:"p-6 space-y-6 overflow-y-auto flex-1 no-scrollbar"},uF={class:"grid grid-cols-3 gap-3"},dF=["onClick"],hF=["d"],fF={key:0,class:"absolute -top-1 -right-1 w-5 h-5 bg-blue-600 rounded-full flex items-center justify-center shadow-lg border-2 border-white"},pF={class:"flex justify-between items-center mb-3"},mF={key:0,class:"text-[10px] font-bold text-slate-400"},gF={class:"grid grid-cols-3 gap-3"},vF=["src"],bF=["onClick"],_F={class:"p-6 bg-white border-t border-slate-50 flex gap-4"},yF=["disabled"],wF={key:0,class:"animate-spin mr-3"},xF={key:1,class:"mr-2"},EF={class:"w-full max-w-sm space-y-3 animate-slide-up"},TF={class:"bg-white rounded-3xl overflow-hidden shadow-2xl"},kF={class:"w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center text-blue-600"},IF={class:"w-10 h-10 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600"},SF=fn({__name:"MapView",setup(e){const t=eh(),n=me(!1),i=me(!1),o=me(null),s=me(""),a=me([]),c=me(null),u=me(null),f=me([]),p=me(!1),m=me(!1),v=me(!1),w=me(""),E=me("success"),I=me(null);let R=null;const D=new Map;let F=null;const z=ti(()=>n.value&&ne.user?ne.signalements.filter(nt=>{var G,ut;return nt.firebase_uid_utilisateur&&nt.firebase_uid_utilisateur===((G=ne.user)==null?void 0:G.firebaseUid)||!nt.firebase_uid_utilisateur&&nt.email===((ut=ne.user)==null?void 0:ut.email)}):ne.signalements),B=()=>{var nt;(nt=c.value)==null||nt.click()},U=nt=>{const G=nt.target;if(!G.files)return;Array.from(G.files).forEach(St=>{const Dt=new FileReader;Dt.onload=async Ot=>{var Rt;if((Rt=Ot.target)!=null&&Rt.result){const yt=await k(Ot.target.result);a.value.push(yt)}},Dt.readAsDataURL(St)}),G.value=""},H=async()=>{console.log("Tentative de prise de photo...");try{const nt=await qB.getPhoto({quality:60,allowEditing:!1,resultType:nm.Base64,source:_s.Camera});if(nt.base64String){const ut=`data:${nt.format==="png"?"image/png":"image/jpeg"};base64,${nt.base64String}`,St=await k(ut);a.value.push(St)}}catch(nt){console.error("Erreur Camera:",nt)}},C=nt=>{a.value.splice(nt,1)},k=(nt,G=800,ut=800,St=.6)=>new Promise(Dt=>{const Ot=new Image;Ot.src=nt,Ot.onload=()=>{let Rt=Ot.width,yt=Ot.height;Rt>yt?Rt>G&&(yt*=G/Rt,Rt=G):yt>ut&&(Rt*=ut/yt,yt=ut);const Q=document.createElement("canvas");Q.width=Rt,Q.height=yt;const mt=Q.getContext("2d");mt==null||mt.drawImage(Ot,0,0,Rt,yt),Dt(Q.toDataURL("image/jpeg",St))}}),T=async()=>{Yl(null),localStorage.removeItem("app_user"),n.value=!1,Nn.cleanup();try{await vs.signOut(),t.replace("/login")}catch(nt){console.warn(" Erreur lors de la dconnexion Firebase Auth:",nt)}},O=()=>{if(R)return;const nt={lat:-18.8792,lng:47.5079};R=Oo.map("map",{zoomControl:!1,attributionControl:!1}).setView([nt.lat,nt.lng],13),Oo.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(R),R.on("click",ut=>{ne.user?o.value={lat:ut.latlng.lat,lng:ut.latlng.lng}:t.push("/login")});const G=Oo.icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41]});Oo.Marker.prototype.options.icon=G,setTimeout(()=>R==null?void 0:R.invalidateSize(),500)},A=async()=>{var nt;if(!(!o.value||!ne.user)){if(!u.value){alert("Veuillez slectionner un type de signalement");return}p.value=!0;try{const G=a.value.map(Ot=>({url:String(Ot)})),ut={latitude:Number(o.value.lat),longitude:Number(o.value.lng),description:String(s.value||""),galerie:G,firebase_uid_utilisateur:ne.user.firebaseUid||null,email_utilisateur:String(ne.user.email),id_type_signalement:Number(u.value),statut:"nouveau",dateSignalement:new Date().toISOString(),createdAt:P6()};console.log("Envoi du signalement avec",G.length,"photos");const St=await C6(wc(so,"signalements"),ut);console.log("Signalement ajout avec ID:",St.id);const Dt=o.value;o.value=null,s.value="",a.value=[],u.value=null,w.value="Signalement envoy avec succs !",E.value="success",v.value=!0}catch(G){console.error("Erreur lors de l'envoi:",G),E.value="danger",(nt=G.message)!=null&&nt.includes("too large")?w.value="Erreur : Le signalement est trop lourd.":w.value="Erreur lors de l'envoi du signalement",v.value=!0}finally{p.value=!1}}},$=()=>{if(R){if(m.value){const nt={lat:-18.8792,lng:47.5079};R.setView([nt.lat,nt.lng],13),F&&(R.removeLayer(F),F=null),m.value=!1;return}"geolocation"in navigator?(m.value=!0,navigator.geolocation.getCurrentPosition(nt=>{const{latitude:G,longitude:ut}=nt.coords;R==null||R.setView([G,ut],16),F&&(R==null||R.removeLayer(F)),F=Oo.layerGroup().addTo(R),Oo.circle([G,ut],{color:"#3b82f6",fillColor:"#3b82f6",fillOpacity:.15,radius:100,weight:1}).addTo(F),Oo.circleMarker([G,ut],{radius:8,fillColor:"#3b82f6",color:"#fff",weight:3,opacity:1,fillOpacity:1}).addTo(F)},nt=>{m.value=!1,console.error("Erreur de golocalisation:",nt);let G="Impossible de vous localiser";nt.code===nt.PERMISSION_DENIED&&(G="Permission de golocalisation refuse"),alert(G)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})):alert("La golocalisation n'est pas supporte par votre appareil")}},P=nt=>{const G=String(nt||"").toLowerCase();return G.includes("nouveau")?"#3b82f6":G.includes("cours")?"#f59e0b":G.includes("termin")?"#10b981":"#64748b"},Ct=nt=>nt==="#3b82f6"?"#1d4ed8":nt==="#f59e0b"?"#b45309":nt==="#10b981"?"#047857":"#334155",Gt=(nt,G=!1)=>{const ut=String(nt.statut||"nouveau").toLowerCase(),St=nt.type_couleur||P(ut);let Dt="";nt.type_icone_path?Dt=`
      <g transform="translate(7.5, 5.5) scale(0.4)">
        <path d="${nt.type_icone_path}" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
      </g>
    `:ut.includes("nouveau")?Dt='<g transform="translate(7.5, 5.5) scale(0.4)"><path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/></g>':ut.includes("cours")?Dt='<g transform="translate(7.5, 5.5) scale(0.4)"><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/><circle cx="12" cy="12" r="3" stroke="white" stroke-width="3" fill="none"/></g>':Dt='<g transform="translate(7.5, 5.5) scale(0.4)"><path d="M5 13l4 4L19 7" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" fill="none"/></g>';let Ot="",Rt="white",yt="1.5";return ut.includes("termin")?(Rt="#10b981",yt="2.5",Ot=`
      <div class="absolute -top-1 -right-1 w-4 h-4 bg-emerald-500 rounded-full border-2 border-white flex items-center justify-center shadow-lg z-10">
        <svg class="w-2.5 h-2.5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M5 13l4 4L19 7" />
        </svg>
      </div>
    `):ut.includes("cours")?(Rt="#f59e0b",yt="2.5",Ot=`
      <div class="absolute -top-1 -right-1 w-4 h-4 bg-amber-500 rounded-full border-2 border-white flex items-center justify-center shadow-lg z-10">
        <svg class="w-2.5 h-2.5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
        </svg>
      </div>
    `):Ot=`
      <div class="absolute -top-1 -right-1 w-4 h-4 bg-blue-500 rounded-full border-2 border-white flex items-center justify-center shadow-lg z-10">
        <div class="w-1 h-1 bg-white rounded-full"></div>
      </div>
    `,Oo.divIcon({className:`custom-div-icon ${G?"marker-selected":""}`,html:`
      <div class="marker-container relative flex items-center justify-center">
        ${G?`<div class="ping-animation absolute w-10 h-10 rounded-full opacity-20 animate-ping" style="background-color: ${St}"></div>`:""}
        ${Ot}
        <svg class="pin-svg relative w-8 h-8 drop-shadow-2xl transition-all duration-300" viewBox="0 0 24 24" fill="none">
          <defs>
            <linearGradient id="grad-${St.replace("#","")}" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:${St};stop-opacity:1" />
              <stop offset="100%" style="stop-color:${Ct(St)};stop-opacity:1" />
            </linearGradient>
          </defs>
          <path d="M12 21C15.5 17.4 19 14.1764 19 10.2C19 6.22355 15.866 3 12 3C8.13401 3 5 6.22355 5 10.2C5 14.1764 8.5 17.4 12 21Z" 
                fill="url(#grad-${St.replace("#","")})" 
                stroke="${Rt}" 
                stroke-width="${yt}"/>
          ${Dt}
        </svg>
      </div>
    `,iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]})},Vt=nt=>{if(!nt)return"";try{const G=new Date(nt);return new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"short"}).format(G)}catch{return""}},wt=()=>{R&&(D.forEach(nt=>nt.remove()),D.clear(),z.value.forEach(nt=>{if(nt.latitude&&nt.longitude){const G=Oo.marker([nt.latitude,nt.longitude],{icon:Gt(nt,I.value===nt.id)}).on("click",()=>{I.value=nt.id;const ut=R.project([nt.latitude,nt.longitude],16);ut.y-=150;const St=R.unproject(ut,16);R==null||R.flyTo(St,16,{duration:1})}).addTo(R).bindPopup(`
        <div class="popup-container p-0 overflow-hidden font-sans">
          <!-- Image Header -->
          <div class="relative h-32 w-full bg-slate-100 overflow-hidden">
            ${nt.galerie&&nt.galerie.length>0?`<img src="${nt.galerie[0].url}" class="w-full h-full object-cover">`:`<div class="w-full h-full flex flex-col items-center justify-center text-slate-300">
                   <ion-icon name="image-outline" class="text-3xl mb-1"></ion-icon>
                   <span class="text-[9px] font-black uppercase tracking-widest">Pas d'image</span>
                 </div>`}
            <div class="absolute top-2 left-2 px-2.5 py-1 rounded-full text-[9px] font-black uppercase tracking-widest text-white shadow-lg" 
                 style="background-color: ${P(nt.statut)}">
              ${nt.statut}
            </div>
            ${nt.galerie&&nt.galerie.length>1?`<div class="absolute bottom-2 right-2 px-2 py-1 rounded-lg bg-black/60 backdrop-blur-md text-white text-[9px] font-black">+${nt.galerie.length-1} photos</div>`:""}
          </div>

          <!-- Content -->
          <div class="p-4 space-y-3">
            <div class="flex items-center justify-between">
              <span class="text-[9px] font-black text-blue-600 uppercase tracking-widest">${nt.type_nom||"Signalement"}</span>
              <span class="text-[9px] font-bold text-slate-400 uppercase tracking-tight">${Vt(nt.dateSignalement)}</span>
            </div>

            <h3 class="font-bold text-slate-800 text-sm leading-snug line-clamp-2">${nt.description||"Sans description"}</h3>
            
            ${nt.surface_m2||nt.budget?`
              <div class="flex gap-2 pt-3 border-t border-slate-50">
                ${nt.surface_m2?`
                  <div class="flex-1 bg-slate-50 p-2 rounded-xl border border-slate-100">
                    <span class="text-[7px] font-black text-slate-400 uppercase block leading-none mb-1">Surface</span>
                    <span class="text-[10px] font-bold text-slate-700">${nt.surface_m2} m</span>
                  </div>
                `:""}
                ${nt.budget?`
                  <div class="flex-1 bg-emerald-50 p-2 rounded-xl border border-emerald-100">
                    <span class="text-[7px] font-black text-emerald-400 uppercase block leading-none mb-1">Budget</span>
                    <span class="text-[10px] font-bold text-emerald-700">${new Intl.NumberFormat("fr-FR",{style:"currency",currency:"MGA",maximumFractionDigits:0}).format(nt.budget)}</span>
                  </div>
                `:""}
              </div>
            `:""}

            ${nt.entreprise?`
              <div class="bg-blue-50 p-2.5 rounded-xl border border-blue-100 flex items-center gap-2">
                <div class="w-6 h-6 rounded-lg bg-blue-600 flex items-center justify-center text-white">
                  <ion-icon name="business-outline" class="text-[12px]"></ion-icon>
                </div>
                <div>
                  <span class="text-[7px] font-black text-blue-400 uppercase block leading-none">Entreprise</span>
                  <span class="text-[10px] font-bold text-blue-700 truncate block max-w-[160px]">${nt.entreprise}</span>
                </div>
              </div>
            `:""}
          </div>
        </div>
      `,{className:"custom-leaflet-popup",maxWidth:280});D.set(nt.id,G)}}))};qo(()=>I.value,()=>{wt()}),qo(()=>ne.signalements,()=>{wt()},{deep:!0}),qo(()=>n.value,()=>{wt()});const tt=async()=>{try{const nt=Th(wc(so,"types_signalement")),G=await uE(nt);f.value=G.docs.map(ut=>({...ut.data()})).sort((ut,St)=>ut.id-St.id)}catch(nt){console.error("Erreur lors de la rcupration des types:",nt)}};return Ua(()=>{setTimeout(()=>{O(),wt(),tt()},100)}),(nt,G)=>(Bt(),Fn(et($c),null,{default:ue(()=>[At(et(nh),{fullscreen:!0,class:"ion-no-padding"},{default:ue(()=>[G[16]||(G[16]=Z("div",{id:"map",class:"absolute inset-0 z-0 h-full w-full"},null,-1)),G[17]||(G[17]=Z("div",{class:"absolute inset-0 pointer-events-none bg-gradient-to-b from-black/10 via-transparent to-black/30 z-10"},null,-1)),Z("div",GB,[Z("div",KB,[Z("div",ZB,[Z("div",YB,[At(et(ge),{icon:et(Bm),class:"text-white text-xl"},null,8,["icon"])]),Z("div",null,[G[13]||(G[13]=Z("h1",{class:"text-lg font-black text-slate-800 tracking-tight leading-none mb-1"},"Lalana",-1)),Z("div",XB,[et(ne).user?(Bt(),le("span",QB,[G[11]||(G[11]=Z("span",{class:"w-1.5 h-1.5 rounded-full bg-emerald-500"},null,-1)),Z("p",JB,ke(et(ne).user.email),1)])):(Bt(),le("span",tF,[...G[12]||(G[12]=[Z("span",{class:"w-1.5 h-1.5 rounded-full bg-slate-300"},null,-1),Z("p",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest"},"Visiteur",-1)])]))])])]),Z("div",eF,[Z("button",{onClick:$,class:Vn([m.value?"bg-blue-600 text-white shadow-blue-500/40":"bg-slate-50 text-slate-500 shadow-sm border border-slate-100","w-10 h-10 rounded-xl flex items-center justify-center active:scale-95 transition-all"])},[At(et(ge),{icon:et(U$),class:Vn([m.value?"text-white":"text-slate-500","text-xl"])},null,8,["icon","class"])],2),et(ne).user?(Bt(),le("button",{key:1,onClick:T,class:"bg-slate-50 p-2.5 rounded-xl text-slate-400 hover:text-red-500 hover:bg-red-50 transition-all active:scale-95 border border-slate-100"},[At(et(ge),{icon:et(q$),class:"text-xl"},null,8,["icon"])])):(Bt(),le("button",{key:0,onClick:G[0]||(G[0]=ut=>et(t).push("/login")),class:"bg-blue-600 px-4 py-2.5 rounded-xl text-white text-xs font-black shadow-lg shadow-blue-500/20 active:scale-95 transition-all"}," Se connecter "))])]),Z("div",nF,[et(ne).user?(Bt(),le("button",{key:0,onClick:G[1]||(G[1]=ut=>n.value=!n.value),class:Vn([n.value?"bg-blue-600 text-white border-blue-500 shadow-blue-500/30":"bg-white/80 text-slate-700 border-white/50","backdrop-blur-md px-5 py-2.5 rounded-full shadow-lg border whitespace-nowrap flex items-center gap-2 font-bold text-xs transition-all active:scale-95"])},[At(et(ge),{icon:et(Ap),class:"text-sm"},null,8,["icon"]),G[14]||(G[14]=ri(" Mes signalements ",-1))],2)):Ze("",!0),Z("div",iF,[G[15]||(G[15]=Z("span",{class:"relative flex h-2 w-2"},[Z("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),Z("span",{class:"relative inline-flex rounded-full h-2 w-2 bg-blue-500"})],-1)),Z("span",oF,ke(z.value.length)+" Signalements",1)])])]),At(et($$),{"is-open":v.value,message:w.value,duration:3e3,color:E.value,position:"top",onDidDismiss:G[2]||(G[2]=ut=>v.value=!1),class:"custom-toast"},null,8,["is-open","message","color"])]),_:1}),o.value?(Bt(),le("div",rF,[Z("div",sF,[G[23]||(G[23]=Z("div",{class:"w-full flex justify-center pt-4 pb-2"},[Z("div",{class:"w-12 h-1.5 bg-slate-200 rounded-full"})],-1)),Z("div",aF,[Z("div",null,[G[18]||(G[18]=Z("h3",{class:"text-xl font-black text-slate-800"},"Nouveau signalement",-1)),Z("p",lF,"Position : "+ke(o.value.lat.toFixed(4))+", "+ke(o.value.lng.toFixed(4)),1)]),Z("button",{onClick:G[3]||(G[3]=ut=>o.value=null),class:"w-10 h-10 bg-slate-50 rounded-full flex items-center justify-center text-slate-400 active:scale-90 transition-all"},[At(et(ge),{icon:et(Sp),class:"text-2xl"},null,8,["icon"])])]),Z("div",cF,[Z("div",null,[G[19]||(G[19]=Z("label",{class:"block text-xs font-black text-slate-800 uppercase tracking-wider mb-4"},"Quel est le problme ?",-1)),Z("div",uF,[(Bt(!0),le(An,null,Pa(f.value,ut=>(Bt(),le("div",{key:ut.id,onClick:St=>u.value=ut.id,class:Vn(["relative rounded-2xl p-4 flex flex-col items-center gap-2 transition-all border-2 group",u.value===ut.id?"border-blue-500 bg-blue-50 shadow-lg shadow-blue-500/10":"border-slate-100 bg-white hover:border-slate-200"])},[Z("div",{class:"w-12 h-12 rounded-xl flex items-center justify-center shadow-sm transition-transform group-active:scale-90",style:Es({backgroundColor:ut.couleur+(u.value===ut.id?"30":"15")})},[(Bt(),le("svg",{viewBox:"0 0 24 24",class:"w-7 h-7",style:Es({fill:ut.couleur})},[Z("path",{d:ut.icone_path},null,8,hF)],4))],4),Z("span",{class:Vn(["text-[10px] font-black text-center leading-tight uppercase tracking-tight",u.value===ut.id?"text-blue-700":"text-slate-500"])},ke(ut.nom),3),u.value===ut.id?(Bt(),le("div",fF,[At(et(ge),{icon:et(Sx),class:"text-white text-[10px]"},null,8,["icon"])])):Ze("",!0)],10,dF))),128))])]),Z("div",null,[G[20]||(G[20]=Z("label",{class:"block text-xs font-black text-slate-800 uppercase tracking-wider mb-3"},"Description (Optionnel)",-1)),Zu(Z("textarea",{"onUpdate:modelValue":G[4]||(G[4]=ut=>s.value=ut),rows:"3",placeholder:"Ex: Nid de poule profond, clairage en panne...",class:"w-full px-5 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all text-sm font-medium text-slate-700 resize-none"},null,512),[[Xf,s.value]])]),Z("div",null,[Z("div",pF,[G[21]||(G[21]=Z("label",{class:"block text-xs font-black text-slate-800 uppercase tracking-wider"},"Preuve photo",-1)),a.value.length>0?(Bt(),le("span",mF,ke(a.value.length)+"/5",1)):Ze("",!0)]),Z("div",gF,[(Bt(!0),le(An,null,Pa(a.value,(ut,St)=>(Bt(),le("div",{key:St,class:"relative aspect-square rounded-2xl overflow-hidden group border border-slate-100 shadow-sm animate-in zoom-in duration-200"},[Z("img",{src:ut,class:"w-full h-full object-cover"},null,8,vF),Z("button",{onClick:Dt=>C(St),class:"absolute top-1.5 right-1.5 z-10 bg-red-500 text-white w-7 h-7 rounded-full flex items-center justify-center shadow-lg active:scale-90 transition-transform"},[At(et(ge),{icon:et(Sp),class:"text-lg"},null,8,["icon"])],8,bF)]))),128)),a.value.length<5?(Bt(),le("div",{key:0,onClick:G[5]||(G[5]=ut=>i.value=!0),class:"aspect-square bg-blue-50 border-2 border-dashed border-blue-200 rounded-2xl flex flex-col items-center justify-center text-blue-600 cursor-pointer active:bg-blue-100 transition-colors"},[At(et(ge),{icon:et(Ip),class:"text-2xl mb-1"},null,8,["icon"]),G[22]||(G[22]=Z("span",{class:"text-[9px] font-black uppercase tracking-tighter"},"Ajouter",-1))])):Ze("",!0)])])]),Z("div",_F,[Z("button",{onClick:G[6]||(G[6]=ut=>o.value=null),class:"flex-1 py-4 bg-slate-50 text-slate-500 font-black rounded-2xl active:scale-95 transition-all text-sm uppercase tracking-wider"},"Annuler"),Z("button",{onClick:A,disabled:p.value||!u.value,class:Vn(["flex-[2] py-4 font-black rounded-2xl shadow-xl transition-all flex items-center justify-center text-sm uppercase tracking-widest",p.value||!u.value?"bg-slate-200 text-slate-400 shadow-none":"bg-blue-600 text-white shadow-blue-500/30 active:scale-95"])},[p.value?(Bt(),le("span",wF,[At(et(ge),{icon:et(Ax),class:"text-xl"},null,8,["icon"])])):(Bt(),le("span",xF,[At(et(ge),{icon:et(Y$)},null,8,["icon"])])),ri(" "+ke(p.value?"Envoi...":"Signaler"),1)],10,yF)])])])):Ze("",!0),i.value?(Bt(),le("div",{key:1,class:"fixed inset-0 z-[10000] flex items-end justify-center bg-black/60 backdrop-blur-sm px-4 pb-6 transition-all duration-300",onClick:G[10]||(G[10]=SS(ut=>i.value=!1,["self"]))},[Z("div",EF,[Z("div",TF,[Z("button",{onClick:G[7]||(G[7]=ut=>{H(),i.value=!1}),class:"w-full py-5 px-6 flex items-center gap-4 text-slate-700 active:bg-slate-50 border-b border-slate-50"},[Z("div",kF,[At(et(ge),{icon:et(Ip),class:"text-xl"},null,8,["icon"])]),G[24]||(G[24]=Z("span",{class:"font-bold text-sm"},"Prendre une photo",-1))]),Z("button",{onClick:G[8]||(G[8]=ut=>{B(),i.value=!1}),class:"w-full py-5 px-6 flex items-center gap-4 text-slate-700 active:bg-slate-50"},[Z("div",IF,[At(et(ge),{icon:et(F$),class:"text-xl"},null,8,["icon"])]),G[25]||(G[25]=Z("span",{class:"font-bold text-sm"},"Choisir dans la galerie",-1))])]),Z("button",{onClick:G[9]||(G[9]=ut=>i.value=!1),class:"w-full py-5 bg-white text-slate-500 font-black rounded-3xl shadow-xl active:scale-95 transition-all text-sm uppercase tracking-widest"}," Annuler ")])])):Ze("",!0),Z("input",{type:"file",ref_key:"fileInputRef",ref:c,multiple:"",accept:"image/*",class:"hidden",onChange:U},null,544)]),_:1}))}});const AF={key:0,class:"absolute inset-0 z-[100] bg-black/90 backdrop-blur-xl flex flex-col items-center justify-center p-4 animate-in fade-in duration-200"},CF=["src"],PF={class:"p-6 pb-32"},RF={class:"flex items-center justify-between mb-6 pt-4"},LF={class:"text-slate-500 text-sm mt-1 font-medium"},OF={class:"flex gap-2 overflow-x-auto no-scrollbar mb-8 pb-1"},$F=["onClick"],MF={key:0,class:"flex flex-col items-center justify-center py-20 text-center"},DF={class:"w-24 h-24 bg-slate-100 rounded-full flex items-center justify-center mb-4 grayscale opacity-50"},NF={key:1,class:"space-y-4"},VF={class:"flex justify-between items-start mb-3"},BF={class:"text-[10px] font-bold text-slate-300"},FF={class:"font-bold text-slate-800 text-base mb-2 line-clamp-2"},zF={key:0,class:"grid grid-cols-2 gap-2 mb-3"},UF={key:0,class:"bg-slate-50 p-2 rounded-lg border border-slate-100"},jF={class:"text-[10px] font-medium text-slate-600 truncate"},HF={key:1,class:"bg-slate-50 p-2 rounded-lg border border-slate-100"},qF={class:"text-[10px] font-medium text-slate-600"},WF={class:"flex items-center justify-between pt-3 border-t border-slate-50"},GF={class:"flex items-center gap-2"},KF={class:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center"},ZF={class:"text-xs font-medium text-slate-500 truncate max-w-[120px]"},YF={class:"flex gap-2"},XF=["onClick"],QF=["onClick"],JF=fn({__name:"ListView",setup(e){const t=eh(),n=me(!1),i=me("all"),o=me(null),s=[{id:"all",label:"Tous"},{id:"nouveau",label:"Nouveaux"},{id:"en cours",label:"En cours"},{id:"termine",label:"Termins"}],a=ti(()=>{let m=ne.signalements;return n.value&&ne.user&&(m=m.filter(v=>v.email===ne.user.email)),i.value!=="all"&&(m=m.filter(v=>{var E;const w=((E=v.statut)==null?void 0:E.toLowerCase())||"nouveau";return i.value==="termine"?w.includes("fini")||w.includes("termine"):w.includes(i.value)})),m}),c=()=>{n.value=!n.value},u=m=>{t.push("/tabs/map")},f=m=>{const v=(m==null?void 0:m.toLowerCase())||"nouveau";return v.includes("cours")?{bg:"#fff7ed",text:"#c2410c"}:v.includes("fini")||v.includes("termine")?{bg:"#f0fdf4",text:"#15803d"}:{bg:"#eff6ff",text:"#1d4ed8"}},p=m=>m?(m.toDate?m.toDate():new Date(m)).toLocaleDateString("fr-FR",{day:"numeric",month:"short"}):"";return(m,v)=>(Bt(),Fn(et($c),null,{default:ue(()=>[o.value?(Bt(),le("div",AF,[Z("button",{onClick:v[0]||(v[0]=w=>o.value=null),class:"absolute top-6 right-6 w-12 h-12 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center text-white transition-all"},[At(et(ge),{icon:et(Sp),class:"text-2xl"},null,8,["icon"])]),Z("img",{src:o.value,class:"max-w-full max-h-[80vh] rounded-2xl shadow-2xl object-contain"},null,8,CF)])):Ze("",!0),At(et(nh),{fullscreen:!0,class:"bg-slate-50"},{default:ue(()=>[Z("div",PF,[Z("div",RF,[Z("div",null,[v[1]||(v[1]=Z("h1",{class:"text-2xl font-bold text-slate-800 tracking-tight"},"Travaux",-1)),Z("p",LF,ke(a.value.length)+" signalement"+ke(a.value.length>1?"s":""),1)]),et(ne).user?(Bt(),le("button",{key:0,onClick:c,class:Vn(["p-3 rounded-2xl transition-all border shadow-sm flex items-center justify-center",n.value?"bg-blue-600 text-white border-blue-500 shadow-blue-500/30":"bg-white text-slate-400 border-slate-100"])},[At(et(ge),{icon:et(Ap),class:"text-xl"},null,8,["icon"])],2)):Ze("",!0)]),Z("div",OF,[(Bt(),le(An,null,Pa(s,w=>Z("button",{key:w.id,onClick:E=>i.value=w.id,class:Vn(["px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap transition-all border",i.value===w.id?"bg-slate-800 text-white border-slate-800 shadow-lg shadow-slate-200":"bg-white text-slate-500 border-slate-100"])},ke(w.label),11,$F)),64))]),a.value.length===0?(Bt(),le("div",MF,[Z("div",DF,[At(et(ge),{icon:et(V$),class:"text-4xl text-slate-400"},null,8,["icon"])]),v[2]||(v[2]=Z("h3",{class:"text-lg font-bold text-slate-700"},"Aucun travaux",-1)),v[3]||(v[3]=Z("p",{class:"text-slate-400 text-sm mt-2 max-w-[200px]"},"Il n'y a aucun signalement correspondant  vos critres.",-1))])):(Bt(),le("div",NF,[(Bt(!0),le(An,null,Pa(a.value,w=>(Bt(),le("div",{key:w.id,class:"bg-white rounded-2xl p-4 shadow-sm border border-slate-100 active:scale-[0.99] transition-transform"},[Z("div",VF,[Z("div",{class:"px-3 py-1 rounded-lg text-[10px] font-bold uppercase tracking-wider",style:Es({backgroundColor:f(w.statut).bg,color:f(w.statut).text})},ke(w.statut||"Nouveau"),5),Z("span",BF,ke(p(w.dateSignalement)),1)]),Z("h3",FF,ke(w.description||"Signalement sans description"),1),w.entreprise||w.budget||w.surface_m2?(Bt(),le("div",zF,[w.entreprise?(Bt(),le("div",UF,[v[4]||(v[4]=Z("p",{class:"text-[8px] font-bold text-slate-400 uppercase"},"Entreprise",-1)),Z("p",jF,ke(w.entreprise),1)])):Ze("",!0),w.surface_m2?(Bt(),le("div",HF,[v[5]||(v[5]=Z("p",{class:"text-[8px] font-bold text-slate-400 uppercase"},"Surface",-1)),Z("p",qF,ke(w.surface_m2)+" m",1)])):Ze("",!0)])):Ze("",!0),Z("div",WF,[Z("div",GF,[Z("div",KF,[At(et(ge),{icon:et(ne).user&&w.email===et(ne).user.email?et(Ap):et(B$),class:"text-[10px]"},null,8,["icon"])]),Z("span",ZF,ke(et(ne).user&&w.email===et(ne).user.email?"Moi":w.email),1)]),Z("div",YF,[w.galerie&&w.galerie.length>0?(Bt(),le("button",{key:0,onClick:E=>o.value=w.galerie[0].url,class:"text-slate-600 text-xs font-bold flex items-center gap-1 bg-slate-100 px-3 py-1.5 rounded-lg hover:bg-slate-200 transition-colors"},[At(et(ge),{icon:et(Ip)},null,8,["icon"]),v[6]||(v[6]=ri(" Photo ",-1))],8,XF)):Ze("",!0),Z("button",{onClick:E=>u(w),class:"text-blue-600 text-xs font-bold flex items-center gap-1 bg-blue-50 px-3 py-1.5 rounded-lg hover:bg-blue-100 transition-colors"},[At(et(ge),{icon:et(j$)},null,8,["icon"]),v[7]||(v[7]=ri(" Voir ",-1))],8,QF)])])]))),128))]))])]),_:1})]),_:1}))}}),tz={class:"px-4 py-2 flex gap-2 overflow-x-auto no-scrollbar bg-white border-b border-slate-100"},ez={key:0,class:"flex flex-col items-center justify-center h-full px-6 text-center"},nz={class:"bg-slate-100 p-6 rounded-full mb-4"},iz={class:"text-slate-500 max-w-[250px]"},oz={class:"w-full py-3 flex gap-4 items-start"},rz={class:"flex-1 min-w-0"},sz={class:"flex items-center justify-between gap-2 mb-1"},az={class:"text-[10px] font-medium text-slate-400 whitespace-nowrap"},lz={class:"flex items-center gap-2"},cz={class:"flex items-center gap-1"},uz={class:"text-[10px] font-bold text-slate-400 uppercase tracking-wider"},dz={key:0,class:"w-2.5 h-2.5 bg-blue-600 rounded-full mt-2 shrink-0"},hz={class:"flex flex-col items-center gap-1"},fz=fn({__name:"NotificationsView",setup(e){const t=eh(),n=me("all"),i=ti(()=>n.value==="unread"?Nn.notifications.value.filter(m=>!m.lu):Nn.notifications.value);Ua(async()=>{await Nn.loadNotifications()}),Fd(()=>{});const o=async m=>{m.lu||await Nn.markAsRead(m.id),t.push("/tabs/list")},s=async m=>{await Nn.markAsRead(m)},a=async()=>{await Nn.markAllAsRead()},c=m=>{if(!m)return Mu;switch(m.toLowerCase()){case"valid":case"rsolu":return M$;case"en cours":return X$;case"nouveau":return Mu;case"rejet":return N$;default:return Mu}},u=m=>{if(!m)return"bg-yellow-500";switch(m.toLowerCase()){case"valid":case"rsolu":return"bg-green-500";case"en cours":return"bg-blue-500";case"rejet":return"bg-red-500";default:return"bg-yellow-500"}},f=m=>{if(!m)return"bg-yellow-500";switch(m.toLowerCase()){case"valid":case"rsolu":return"bg-green-500";case"en cours":return"bg-blue-500";case"rejet":return"bg-red-500";default:return"bg-yellow-500"}},p=m=>{if(!m)return"";let v;m.toDate?v=m.toDate():m instanceof Date?v=m:v=new Date(m);const w=new Date,E=w.getTime()-v.getTime(),I=Math.floor(E/6e4),R=Math.floor(E/36e5),D=Math.floor(E/864e5);return I<1?" l'instant":I<60?`Il y a ${I} min`:R<24?`Il y a ${R}h`:D<7?`Il y a ${D}j`:v.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:v.getFullYear()!==w.getFullYear()?"numeric":void 0})};return(m,v)=>(Bt(),Fn(et($c),null,{default:ue(()=>[At(et(f$),null,{default:ue(()=>[At(et(y$),{class:"bg-gradient-to-r from-blue-600 to-blue-700"},{default:ue(()=>[At(et(_$),{class:"text-white font-bold"},{default:ue(()=>[...v[2]||(v[2]=[ri("Notifications",-1)])]),_:1}),et(Nn).unreadCount.value>0?(Bt(),Fn(et(h$),{key:0,slot:"end"},{default:ue(()=>[At(et(d$),{onClick:a,class:"text-white"},{default:ue(()=>[...v[3]||(v[3]=[ri(" Tout marquer comme lu ",-1)])]),_:1})]),_:1})):Ze("",!0)]),_:1})]),_:1}),At(et(nh),{class:"bg-slate-50"},{default:ue(()=>[Z("div",tz,[At(et(o_),{onClick:v[0]||(v[0]=w=>n.value="all"),outline:n.value!=="all",color:"primary",class:"m-0"},{default:ue(()=>[...v[4]||(v[4]=[ri("Tous",-1)])]),_:1},8,["outline"]),At(et(o_),{onClick:v[1]||(v[1]=w=>n.value="unread"),outline:n.value!=="unread",color:"primary",class:"m-0"},{default:ue(()=>[...v[5]||(v[5]=[ri("Non lus",-1)])]),_:1},8,["outline"])]),i.value.length===0?(Bt(),le("div",ez,[Z("div",nz,[At(et(ge),{icon:et(K$),class:"text-6xl text-slate-400"},null,8,["icon"])]),v[6]||(v[6]=Z("h2",{class:"text-xl font-bold text-slate-800 mb-2"},"Aucune notification",-1)),Z("p",iz,ke(n.value==="unread"?"Vous n'avez aucun message non lu.":"Vous serez notifi ici lorsque le statut de vos signalements changera."),1)])):(Bt(),Fn(et(b$),{key:1,class:"bg-transparent py-0"},{default:ue(()=>[(Bt(!0),le(An,null,Pa(i.value,w=>(Bt(),Fn(et(v$),{key:w.id},{default:ue(()=>[At(et(p$),{onClick:E=>o(w),class:Vn(["notification-item",{unread:!w.lu}]),lines:"none",button:""},{default:ue(()=>[Z("div",oz,[Z("div",{class:Vn(["p-3 rounded-2xl flex items-center justify-center shrink-0 shadow-sm",u(w.newStatus)])},[At(et(ge),{icon:c(w.newStatus),class:"text-2xl text-white"},null,8,["icon"])],2),Z("div",rz,[Z("div",sz,[Z("h3",{class:Vn(["font-bold truncate",w.lu?"text-slate-600":"text-slate-900"])},ke(w.titre),3),Z("span",az,ke(p(w.dateCreation)),1)]),Z("p",{class:Vn(["text-sm leading-snug line-clamp-2 mb-2",w.lu?"text-slate-500":"text-slate-700 font-medium"])},ke(w.message),3),Z("div",lz,[w.typeSignalement?(Bt(),Fn(et(Tp),{key:0,class:"rounded-lg bg-slate-100 text-slate-600 font-bold px-2 py-1 text-[10px]"},{default:ue(()=>[ri(ke(w.typeSignalement),1)]),_:2},1024)):Ze("",!0),Z("div",cz,[Z("div",{class:Vn(["w-2 h-2 rounded-full",f(w.newStatus)])},null,2),Z("span",uz,ke(w.newStatus),1)])])]),w.lu?Ze("",!0):(Bt(),le("div",dz))])]),_:2},1032,["onClick","class"]),At(et(g$),{side:"end"},{default:ue(()=>[w.lu?Ze("",!0):(Bt(),Fn(et(m$),{key:0,color:"primary",onClick:E=>s(w.id),class:"rounded-l-2xl"},{default:ue(()=>[Z("div",hz,[At(et(ge),{slot:"icon-only",icon:et(Sx),class:"text-2xl"},null,8,["icon"]),v[7]||(v[7]=Z("span",{class:"text-[10px]"},"Lu",-1))])]),_:1},8,["onClick"]))]),_:2},1024)]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1}))}});const pz=Ug(fz,[["__scopeId","data-v-4760e986"]]),mz={class:"relative z-10 min-h-full flex flex-col justify-center px-8 py-12"},gz={class:"sm:mx-auto sm:w-full sm:max-w-md"},vz={class:"w-24 h-24 bg-blue-600 rounded-[32px] shadow-2xl shadow-blue-500/40 flex items-center justify-center mx-auto mb-10 transform -rotate-6 animate-in fade-in zoom-in duration-700"},bz={class:"mt-12 sm:mx-auto sm:w-full sm:max-w-md"},_z={class:"bg-white/70 backdrop-blur-2xl py-10 px-8 shadow-[0_20px_50px_rgba(0,0,0,0.05)] rounded-[40px] border border-white/50 space-y-8"},yz={class:"space-y-6"},wz={class:"group"},xz={class:"relative flex items-center"},Ez={class:"absolute left-5 text-slate-400 transition-colors group-focus-within:text-blue-500"},Tz={class:"group"},kz={class:"relative flex items-center"},Iz={class:"absolute left-5 text-slate-400 transition-colors group-focus-within:text-blue-500"},Sz={key:0,class:"bg-red-50/80 backdrop-blur-sm border border-red-100 text-red-600 text-[13px] p-4.5 rounded-2xl flex items-center gap-3 animate-in fade-in slide-in-from-top-2 duration-300"},Az={class:"font-bold leading-snug"},Cz={class:"space-y-4 pt-2"},Pz=["disabled"],Rz=fn({__name:"LoginView",setup(e){const t=eh(),n=me(""),i=me(""),o=me(""),s=me(!1),a=()=>{t.back()},c=async()=>{if(!n.value||!i.value){o.value="Veuillez remplir tous les champs";return}s.value=!0,o.value="";try{const u=n.value.trim(),f=i.value.trim(),p=await l0(Ta(so,"configurations","max_tentatives_connexion")),m=p.exists()?parseInt(p.data().valeur):3,v=wc(so,"utilisateurs"),w=Th(v,rE("email","==",u)),E=await uE(w);if(E.empty){o.value="Email ou mot de passe incorrect",s.value=!1;return}const I=E.docs[0],R=I.ref,D=I.data();if(D.statut==="BLOQUE"){o.value="Votre compte est bloqu. Contactez un administrateur.",s.value=!1;return}const F=await l0(Ta(so,"configurations","duree_session_heures")),z=F.exists()?parseFloat(F.data().valeur):24;if(D.motDePasse===f){await Yp(R,{tentatives_connexion:0,derniereConnexion:new Date().toISOString()});const B=new Date(Date.now()+z*3600*1e3).toISOString(),U={email:D.email,role:D.role,statut:D.statut,postgresId:D.postgresId,firebaseUid:I.id,expiresAt:B};Yl(U),localStorage.setItem("app_user",JSON.stringify(U));try{await I3(vs,u,f)}catch(H){console.warn("Firebase Auth failed, continuing with session only:",H.message),await Nn.initialize(),await Nn.loadNotifications()}t.replace("/tabs/map")}else{const B=(D.tentatives_connexion||0)+1,U={tentatives_connexion:B};B>=m?(U.statut="BLOQUE",o.value="Compte bloqu aprs trop de tentatives."):o.value=`Mot de passe incorrect (${B}/${m})`,await Yp(R,U)}}catch(u){console.error("Login error:",u),o.value="Une erreur est survenue lors de la connexion"}finally{s.value=!1}};return(u,f)=>(Bt(),Fn(et($c),null,{default:ue(()=>[At(et(nh),{fullscreen:!0,class:"ion-no-padding"},{default:ue(()=>[f[8]||(f[8]=Z("div",{class:"fixed inset-0 z-0 overflow-hidden bg-slate-50"},[Z("div",{class:"absolute -top-[10%] -right-[10%] w-[70%] h-[40%] bg-blue-600/10 rounded-full blur-[120px] animate-pulse"}),Z("div",{class:"absolute top-[20%] -left-[10%] w-[60%] h-[50%] bg-indigo-500/5 rounded-full blur-[100px]"}),Z("div",{class:"absolute -bottom-[10%] right-[20%] w-[50%] h-[40%] bg-blue-400/10 rounded-full blur-[80px]"})],-1)),Z("div",mz,[Z("div",gz,[Z("div",vz,[At(et(ge),{icon:et(Bm),class:"text-5xl text-white"},null,8,["icon"])]),f[2]||(f[2]=Z("h2",{class:"text-center text-4xl font-black text-slate-900 tracking-tight mb-2"}," Lalana ",-1)),f[3]||(f[3]=Z("p",{class:"text-center text-sm text-slate-400 font-bold uppercase tracking-[0.2em]"}," Accs Agent ",-1))]),Z("div",bz,[Z("div",_z,[Z("div",yz,[Z("div",wz,[f[4]||(f[4]=Z("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 ml-1 transition-colors group-focus-within:text-blue-600"}," Identifiant Email ",-1)),Z("div",xz,[Z("div",Ez,[At(et(ge),{icon:et(W$),class:"text-xl"},null,8,["icon"])]),Zu(Z("input",{"onUpdate:modelValue":f[0]||(f[0]=p=>n.value=p),type:"email",placeholder:"votre@email.com",class:"w-full pl-14 pr-6 py-6 bg-slate-50/50 border-2 border-slate-100 rounded-[24px] focus:outline-none focus:ring-8 focus:ring-blue-500/5 focus:border-blue-500 focus:bg-white transition-all text-slate-700 placeholder:text-slate-300 font-bold shadow-sm text-base"},null,512),[[Xf,n.value]])])]),Z("div",Tz,[f[5]||(f[5]=Z("label",{class:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 ml-1 transition-colors group-focus-within:text-blue-600"}," Mot de passe ",-1)),Z("div",kz,[Z("div",Iz,[At(et(ge),{icon:et(H$),class:"text-xl"},null,8,["icon"])]),Zu(Z("input",{"onUpdate:modelValue":f[1]||(f[1]=p=>i.value=p),type:"password",placeholder:"",class:"w-full pl-14 pr-6 py-6 bg-slate-50/50 border-2 border-slate-100 rounded-[24px] focus:outline-none focus:ring-8 focus:ring-blue-500/5 focus:border-blue-500 focus:bg-white transition-all text-slate-700 placeholder:text-slate-300 font-bold shadow-sm text-base"},null,512),[[Xf,i.value]])])])]),o.value?(Bt(),le("div",Sz,[At(et(ge),{icon:et(Mu),class:"text-xl flex-shrink-0"},null,8,["icon"]),Z("p",Az,ke(o.value),1)])):Ze("",!0),Z("div",Cz,[Z("button",{onClick:c,disabled:s.value,class:"w-full py-5 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 text-white rounded-2xl font-black shadow-xl shadow-blue-500/30 transition-all transform active:scale-[0.97] flex items-center justify-center gap-3 uppercase tracking-widest text-xs"},[s.value?(Bt(),Fn(et(ge),{key:0,icon:et(Ax),class:"animate-spin text-xl"},null,8,["icon"])):Ze("",!0),Z("span",null,ke(s.value?"Connexion...":"Se connecter"),1)],8,Pz),Z("button",{onClick:a,class:"w-full py-4 text-slate-400 font-black hover:text-slate-600 transition-colors flex items-center justify-center gap-2 text-[11px] uppercase tracking-widest"},[At(et(ge),{icon:et(D$),class:"text-sm"},null,8,["icon"]),f[6]||(f[6]=Z("span",null,"Retour",-1))])])]),f[7]||(f[7]=Z("div",{class:"mt-12 text-center"},[Z("p",{class:"text-[10px] text-slate-400 leading-relaxed uppercase tracking-[0.2em] font-black"},[ri(" L'inscription se fait uniquement via le Manager"),Z("br"),ri("sur l'application Web ")])],-1))])])]),_:1})]),_:1}))}});const Lz=Ug(Rz,[["__scopeId","data-v-16406d0e"]]),Oz=[{path:"/",redirect:"/tabs/map"},{path:"/login",component:Lz},{path:"/tabs",component:OB,children:[{path:"",redirect:"/tabs/map"},{path:"map",component:SF},{path:"list",component:JF},{path:"notifications",component:pz}]}],bT=Q5({history:J5("/"),routes:Oz});var $z=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),_T=globalThis&&globalThis.__awaiter||function(e,t,n,i){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(p){try{f(i.next(p))}catch(m){a(m)}}function u(p){try{f(i.throw(p))}catch(m){a(m)}}function f(p){p.done?s(p.value):o(p.value).then(c,u)}f((i=i.apply(e,t||[])).next())})},yT=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,o,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(f){return function(p){return u([f,p])}}function u(f){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(n=0)),n;)try{if(i=1,o&&(s=f[0]&2?o.return:f[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,f[1])).done)return s;switch(o=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(p){f=[6,p],o=0}finally{i=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},j0=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,s;i<o;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))},Mz="ionicpwaelements",qu,wT,ui=!1,om=!1,or=function(e,t){return function(){}},Dz=function(e,t){return function(){}},Nz="{visibility:hidden}.hydrated{visibility:inherit}",H0={},Vz="http://www.w3.org/2000/svg",Bz="http://www.w3.org/1999/xhtml",Fz=function(e){return e!=null},jg=function(e){return e=typeof e,e==="object"||e==="function"};function xT(e){var t,n,i;return(i=(n=(t=e.head)===null||t===void 0?void 0:t.querySelector('meta[name="csp-nonce"]'))===null||n===void 0?void 0:n.getAttribute("content"))!==null&&i!==void 0?i:void 0}var zz=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=null,s=!1,a=!1,c=[],u=function(m){for(var v=0;v<m.length;v++)o=m[v],Array.isArray(o)?u(o):o!=null&&typeof o!="boolean"&&((s=typeof e!="function"&&!jg(o))&&(o=String(o)),s&&a?c[c.length-1].$text$+=o:c.push(s?rm(null,o):o),a=s)};if(u(n),t){var f=t.className||t.class;f&&(t.class=typeof f!="object"?f:Object.keys(f).filter(function(m){return f[m]}).join(" "))}var p=rm(e,null);return p.$attrs$=t,c.length>0&&(p.$children$=c),p},rm=function(e,t){var n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return n.$attrs$=null,n},Uz={},jz=function(e){return e&&e.$tag$===Uz},Hz=function(e,t){return e!=null&&!jg(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e},qz=function(e){return Wr(e).$hostElement$},J8=function(e,t,n){var i=qz(e);return{emit:function(o){return ET(i,t,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:o})}}},ET=function(e,t,n){var i=En.ce(t,n);return e.dispatchEvent(i),i},q0=new WeakMap,Wz=function(e,t,n){var i=Rd.get(e);m8&&n?(i=i||new CSSStyleSheet,typeof i=="string"?i=t:i.replaceSync(t)):i=t,Rd.set(e,i)},Gz=function(e,t,n,i){var o,s=TT(t),a=Rd.get(s);if(e=e.nodeType===11?e:Vi,a)if(typeof a=="string"){e=e.head||e;var c=q0.get(e),u=void 0;if(c||q0.set(e,c=new Set),!c.has(s)){{u=Vi.createElement("style"),u.innerHTML=a;var f=(o=En.$nonce$)!==null&&o!==void 0?o:xT(Vi);f!=null&&u.setAttribute("nonce",f),e.insertBefore(u,e.querySelector("link"))}c&&c.add(s)}}else e.adoptedStyleSheets.includes(a)||(e.adoptedStyleSheets=j0(j0([],e.adoptedStyleSheets,!0),[a],!1));return s},Kz=function(e){var t=e.$cmpMeta$,n=e.$hostElement$,i=t.$flags$,o=or("attachStyles",t.$tagName$),s=Gz(n.shadowRoot?n.shadowRoot:n.getRootNode(),t);i&10&&(n["s-sc"]=s,n.classList.add(s+"-h")),o()},TT=function(e,t){return"sc-"+e.$tagName$},W0=function(e,t,n,i,o,s){if(n!==i){var a=K0(e,t),c=t.toLowerCase();if(t==="class"){var u=e.classList,f=G0(n),p=G0(i);u.remove.apply(u,f.filter(function(E){return E&&!p.includes(E)})),u.add.apply(u,p.filter(function(E){return E&&!f.includes(E)}))}else if(t==="style"){for(var m in n)(!i||i[m]==null)&&(m.includes("-")?e.style.removeProperty(m):e.style[m]="");for(var m in i)(!n||i[m]!==n[m])&&(m.includes("-")?e.style.setProperty(m,i[m]):e.style[m]=i[m])}else if(t==="ref")i&&i(e);else if(!a&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):K0(Mh,c)?t=c.slice(2):t=c[2]+t.slice(3),n&&En.rel(e,t,n,!1),i&&En.ael(e,t,i,!1);else{var v=jg(i);if((a||v&&i!==null)&&!o)try{if(e.tagName.includes("-"))e[t]=i;else{var w=i??"";t==="list"?a=!1:(n==null||e[t]!=w)&&(e[t]=w)}}catch{}i==null||i===!1?(i!==!1||e.getAttribute(t)==="")&&e.removeAttribute(t):(!a||s&4||o)&&!v&&(i=i===!0?"":i,e.setAttribute(t,i))}}},Zz=/\s/,G0=function(e){return e?e.split(Zz):[]},kT=function(e,t,n,i){var o=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,s=e&&e.$attrs$||H0,a=t.$attrs$||H0;for(i in s)i in a||W0(o,i,s[i],void 0,n,t.$flags$);for(i in a)W0(o,i,s[i],a[i],n,t.$flags$)},Hg=function(e,t,n,i){var o=t.$children$[n],s=0,a,c;if(o.$text$!==null)a=o.$elm$=Vi.createTextNode(o.$text$);else{if(ui||(ui=o.$tag$==="svg"),a=o.$elm$=Vi.createElementNS(ui?Vz:Bz,o.$tag$),ui&&o.$tag$==="foreignObject"&&(ui=!1),kT(null,o,ui),Fz(qu)&&a["s-si"]!==qu&&a.classList.add(a["s-si"]=qu),o.$children$)for(s=0;s<o.$children$.length;++s)c=Hg(e,o,s),c&&a.appendChild(c);o.$tag$==="svg"?ui=!1:a.tagName==="foreignObject"&&(ui=!0)}return a},IT=function(e,t,n,i,o,s){var a=e,c;for(a.shadowRoot&&a.tagName===wT&&(a=a.shadowRoot);o<=s;++o)i[o]&&(c=Hg(null,n,o),c&&(i[o].$elm$=c,a.insertBefore(c,t)))},ST=function(e,t,n){for(var i=t;i<=n;++i){var o=e[i];if(o){var s=o.$elm$;AT(o),s&&s.remove()}}},Yz=function(e,t,n,i){for(var o=0,s=0,a=t.length-1,c=t[0],u=t[a],f=i.length-1,p=i[0],m=i[f],v;o<=a&&s<=f;)c==null?c=t[++o]:u==null?u=t[--a]:p==null?p=i[++s]:m==null?m=i[--f]:Cu(c,p)?(Ml(c,p),c=t[++o],p=i[++s]):Cu(u,m)?(Ml(u,m),u=t[--a],m=i[--f]):Cu(c,m)?(Ml(c,m),e.insertBefore(c.$elm$,u.$elm$.nextSibling),c=t[++o],m=i[--f]):Cu(u,p)?(Ml(u,p),e.insertBefore(u.$elm$,c.$elm$),u=t[--a],p=i[++s]):(v=Hg(t&&t[s],n,s),p=i[++s],v&&c.$elm$.parentNode.insertBefore(v,c.$elm$));o>a?IT(e,i[f+1]==null?null:i[f+1].$elm$,n,i,s,f):s>f&&ST(t,o,a)},Cu=function(e,t){return e.$tag$===t.$tag$},Ml=function(e,t){var n=t.$elm$=e.$elm$,i=e.$children$,o=t.$children$,s=t.$tag$,a=t.$text$;a===null?(ui=s==="svg"?!0:s==="foreignObject"?!1:ui,kT(e,t,ui),i!==null&&o!==null?Yz(n,i,t,o):o!==null?(e.$text$!==null&&(n.textContent=""),IT(n,null,t,o,0,o.length-1)):i!==null&&ST(i,0,i.length-1),ui&&s==="svg"&&(ui=!1)):e.$text$!==a&&(n.data=a)},AT=function(e){e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(AT)},Xz=function(e,t){var n=e.$hostElement$,i=e.$vnode$||rm(null,null),o=jz(t)?t:zz(null,null,t);wT=n.tagName,o.$tag$=null,o.$flags$|=4,e.$vnode$=o,o.$elm$=i.$elm$=n.shadowRoot||n,qu=n["s-sc"],Ml(i,o)},CT=function(e,t){t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(function(n){return e.$onRenderResolve$=n}))},$h=function(e,t){if(e.$flags$|=16,e.$flags$&4){e.$flags$|=512;return}CT(e,e.$ancestorComponent$);var n=function(){return Qz(e,t)};return v8(n)},Qz=function(e,t){var n=or("scheduleUpdate",e.$cmpMeta$.$tagName$),i=e.$lazyInstance$,o;return t&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map(function(s){var a=s[0],c=s[1];return qg(i,a,c)}),e.$queuedListeners$=void 0)),n(),Jz(o,function(){return e8(e,i,t)})},Jz=function(e,t){return t8(e)?e.then(t):t()},t8=function(e){return e instanceof Promise||e&&e.then&&typeof e.then=="function"},e8=function(e,t,n){return _T(void 0,void 0,void 0,function(){var i,o,s,a,c,u,f;return yT(this,function(p){return o=e.$hostElement$,s=or("update",e.$cmpMeta$.$tagName$),a=o["s-rc"],n&&Kz(e),c=or("render",e.$cmpMeta$.$tagName$),n8(e,t),a&&(a.map(function(m){return m()}),o["s-rc"]=void 0),c(),s(),u=(i=o["s-p"])!==null&&i!==void 0?i:[],f=function(){return i8(e)},u.length===0?f():(Promise.all(u).then(f),e.$flags$|=4,u.length=0),[2]})})},n8=function(e,t,n){try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,Xz(e,t)}catch(i){Di(i,e.$hostElement$)}return null},i8=function(e){e.$cmpMeta$.$tagName$;var t=e.$hostElement$,n=or(),i=e.$lazyInstance$,o=e.$ancestorComponent$;e.$flags$&64?n():(e.$flags$|=64,RT(t),qg(i,"componentDidLoad"),n(),e.$onReadyResolve$(t),o||PT()),e.$onInstanceResolve$(t),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),e.$flags$&512&&Gg(function(){return $h(e,!1)}),e.$flags$&=-517},t9=function(e){{var t=Wr(e),n=t.$hostElement$.isConnected;return n&&(t.$flags$&18)===2&&$h(t,!1),n}},PT=function(e){RT(Vi.documentElement),Gg(function(){return ET(Mh,"appload",{detail:{namespace:Mz}})})},qg=function(e,t,n){if(e&&e[t])try{return e[t](n)}catch(i){Di(i)}},RT=function(e){return e.classList.add("hydrated")},o8=function(e,t){return Wr(e).$instanceValues$.get(t)},r8=function(e,t,n,i){var o=Wr(e),s=o.$instanceValues$.get(t),a=o.$flags$,c=o.$lazyInstance$;n=Hz(n,i.$members$[t][0]);var u=Number.isNaN(s)&&Number.isNaN(n),f=n!==s&&!u;(!(a&8)||s===void 0)&&f&&(o.$instanceValues$.set(t,n),c&&(a&18)===2&&$h(o,!1))},LT=function(e,t,n){if(t.$members$){var i=Object.entries(t.$members$),o=e.prototype;if(i.map(function(a){var c=a[0],u=a[1][0];u&31||n&2&&u&32?Object.defineProperty(o,c,{get:function(){return o8(this,c)},set:function(f){r8(this,c,f,t)},configurable:!0,enumerable:!0}):n&1&&u&64&&Object.defineProperty(o,c,{value:function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];var m=Wr(this);return m.$onInstancePromise$.then(function(){var v;return(v=m.$lazyInstance$)[c].apply(v,f)})}})}),n&1){var s=new Map;o.attributeChangedCallback=function(a,c,u){var f=this;En.jmp(function(){var p=s.get(a);if(f.hasOwnProperty(p))u=f[p],delete f[p];else if(o.hasOwnProperty(p)&&typeof f[p]=="number"&&f[p]==u)return;f[p]=u===null&&typeof f[p]=="boolean"?!1:u})},e.observedAttributes=i.filter(function(a){a[0];var c=a[1];return c[0]&15}).map(function(a){var c=a[0],u=a[1],f=u[1]||c;return s.set(f,c),f})}}return e},s8=function(e,t,n,i,o){return _T(void 0,void 0,void 0,function(){var s,a,c,u,f,p,m;return yT(this,function(v){switch(v.label){case 0:return t.$flags$&32?[3,3]:(t.$flags$|=32,o=p8(n),o.then?(s=Dz(),[4,o]):[3,2]);case 1:o=v.sent(),s(),v.label=2;case 2:o.isProxied||(LT(o,n,2),o.isProxied=!0),a=or("createInstance",n.$tagName$),t.$flags$|=8;try{new o(t)}catch(w){Di(w)}t.$flags$&=-9,a(),o.style&&(c=o.style,u=TT(n),Rd.has(u)||(f=or("registerStyles",n.$tagName$),Wz(u,c,!!(n.$flags$&1)),f())),v.label=3;case 3:return p=t.$ancestorComponent$,m=function(){return $h(t,!0)},p&&p["s-rc"]?p["s-rc"].push(m):m(),[2]}})})},a8=function(e){if(!(En.$flags$&1)){var t=Wr(e),n=t.$cmpMeta$,i=or("connectedCallback",n.$tagName$);if(t.$flags$&1)OT(e,t,n.$listeners$);else{t.$flags$|=1;for(var o=e;o=o.parentNode||o.host;)if(o["s-p"]){CT(t,t.$ancestorComponent$=o);break}n.$members$&&Object.entries(n.$members$).map(function(s){var a=s[0],c=s[1][0];if(c&31&&e.hasOwnProperty(a)){var u=e[a];delete e[a],e[a]=u}}),s8(e,t,n)}i()}},l8=function(e){if(!(En.$flags$&1)){var t=Wr(e),n=t.$lazyInstance$;t.$rmListeners$&&(t.$rmListeners$.map(function(i){return i()}),t.$rmListeners$=void 0),qg(n,"disconnectedCallback")}},c8=function(e,t){t===void 0&&(t={});var n,i=or(),o=[],s=t.exclude||[],a=Mh.customElements,c=Vi.head,u=c.querySelector("meta[charset]"),f=Vi.createElement("style"),p=[],m,v=!0;Object.assign(En,t),En.$resourcesUrl$=new URL(t.resourcesUrl||"./",Vi.baseURI).href,e.map(function(E){E[1].map(function(I){var R={$flags$:I[0],$tagName$:I[1],$members$:I[2],$listeners$:I[3]};R.$members$=I[2],R.$listeners$=I[3];var D=R.$tagName$,F=function(z){$z(B,z);function B(U){var H=z.call(this,U)||this;return U=H,f8(U,R),R.$flags$&1&&U.attachShadow({mode:"open"}),H}return B.prototype.connectedCallback=function(){var U=this;m&&(clearTimeout(m),m=null),v?p.push(this):En.jmp(function(){return a8(U)})},B.prototype.disconnectedCallback=function(){var U=this;En.jmp(function(){return l8(U)})},B.prototype.componentOnReady=function(){return Wr(this).$onReadyPromise$},B}(HTMLElement);R.$lazyBundleId$=E[0],!s.includes(D)&&!a.get(D)&&(o.push(D),a.define(D,LT(F,R,1)))})});{f.innerHTML=o+Nz,f.setAttribute("data-styles","");var w=(n=En.$nonce$)!==null&&n!==void 0?n:xT(Vi);w!=null&&f.setAttribute("nonce",w),c.insertBefore(f,u?u.nextSibling:c.firstChild)}v=!1,p.length?p.map(function(E){return E.connectedCallback()}):En.jmp(function(){return m=setTimeout(PT,30)}),i()},OT=function(e,t,n,i){n&&n.map(function(o){var s=o[0],a=o[1],c=o[2],u=d8(e,s),f=u8(t,c),p=h8(s);En.ael(u,a,f,p),(t.$rmListeners$=t.$rmListeners$||[]).push(function(){return En.rel(u,a,f,p)})})},u8=function(e,t){return function(n){try{e.$flags$&256?e.$lazyInstance$[t](n):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,n])}catch(i){Di(i)}}},d8=function(e,t){return t&16?Vi.body:e},h8=function(e){return(e&2)!==0},Wg=new WeakMap,Wr=function(e){return Wg.get(e)},e9=function(e,t){return Wg.set(t.$lazyInstance$=e,t)},f8=function(e,t){var n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return n.$onInstancePromise$=new Promise(function(i){return n.$onInstanceResolve$=i}),n.$onReadyPromise$=new Promise(function(i){return n.$onReadyResolve$=i}),e["s-p"]=[],e["s-rc"]=[],OT(e,n,t.$listeners$),Wg.set(e,n)},K0=function(e,t){return t in e},Di=function(e,t){return(0,console.error)(e,t)},Nf=new Map,p8=function(e,t,n){var i=e.$tagName$.replace(/-/g,"_"),o=e.$lazyBundleId$,s=Nf.get(o);if(s)return s[i];if(!n||!BUILD.hotModuleReplacement){var a=function(c){return Nf.set(o,c),c[i]};switch(o){case"pwa-action-sheet":return Cn(()=>import("./pwa-action-sheet.entry-2855acef.js"),[]).then(a,Di);case"pwa-camera-modal":return Cn(()=>import("./pwa-camera-modal.entry-8db43b20.js"),[]).then(a,Di);case"pwa-toast":return Cn(()=>import("./pwa-toast.entry-853537b5.js"),[]).then(a,Di);case"pwa-camera-modal-instance":return Cn(()=>import("./pwa-camera-modal-instance.entry-d3019007.js"),[]).then(a,Di);case"pwa-camera":return Cn(()=>import("./pwa-camera.entry-48a153ec.js"),[]).then(a,Di)}}return Cn(()=>import("./".concat(o,".entry.js").concat("")),[]).then(function(c){return Nf.set(o,c),c[i]},Di)},Rd=new Map,Mh=typeof window<"u"?window:{},Vi=Mh.document||{head:{}},En={$flags$:0,$resourcesUrl$:"",jmp:function(e){return e()},raf:function(e){return requestAnimationFrame(e)},ael:function(e,t,n,i){return e.addEventListener(t,n,i)},rel:function(e,t,n,i){return e.removeEventListener(t,n,i)},ce:function(e,t){return new CustomEvent(e,t)}},$T=function(e){return Promise.resolve(e)},m8=function(){try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1}(),Z0=[],MT=[],g8=function(e,t){return function(n){e.push(n),om||(om=!0,t&&En.$flags$&4?Gg(sm):En.raf(sm))}},Y0=function(e){for(var t=0;t<e.length;t++)try{e[t](performance.now())}catch(n){Di(n)}e.length=0},sm=function(){Y0(Z0),Y0(MT),(om=Z0.length>0)&&En.raf(sm)},Gg=function(e){return $T().then(e)},v8=g8(MT,!0),b8=function(){return $T()},_8=function(e,t){return typeof window>"u"?Promise.resolve():b8().then(function(){return c8([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],t)})};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}})();_8();const y8=PS(K5).use(k$).use(bT);C3(vs,async e=>{e?(console.log(" Utilisateur connect, initialisation des notifications..."),await Nn.initialize(),await Nn.retryTokenSave(),await Nn.loadNotifications()):(console.log(" Utilisateur dconnect, nettoyage des notifications..."),Nn.cleanup())});bT.isReady().then(()=>{y8.mount("#app")});export{Uz as H,yR as K,Sw as a,Jo as b,nx as c,Wo as d,lc as e,vR as f,L8 as g,MA as h,sP as i,DA as j,mp as k,tn as l,Mi as m,w8 as n,kb as o,x8 as p,$8 as q,rc as r,O8 as s,zz as t,qz as u,e9 as v,Nr as w,J8 as x,t9 as y};
