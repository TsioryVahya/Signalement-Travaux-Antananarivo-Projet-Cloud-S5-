<div class="space-y-10 animate-fade-in">
  <!-- Header Section -->
  <header class="space-y-2">
    <div class="flex items-center justify-between">
      <div>
        <h1 class="text-3xl font-bold text-gray-900 tracking-tight">Vue d'ensemble du Projet</h1>
        <p class="text-gray-600 mt-2 font-medium">Indicateurs clés de performance et statistiques avancées</p>
      </div>
      <div class="flex items-center space-x-3">
        <a routerLink="/dashboard/signalements" 
           class="flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm font-bold text-sm">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16" />
          </svg>
          Voir tous les signalements
        </a>
        <span class="text-sm font-medium text-gray-500">Mise à jour :</span>
        <span class="px-3 py-1.5 bg-blue-50 text-blue-700 text-sm font-semibold rounded-lg border border-blue-100">
          {{ updateTime | date:'dd/MM/yyyy HH:mm' }}
        </span>
      </div>
    </div>
  </header>

  <!-- KPI Cards Grid - Design moderne et épuré -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
    <!-- Total Signalements -->
    <div class="group bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md hover:border-blue-300 transition-all duration-300 transform hover:-translate-y-0.5">
      <div class="flex items-start justify-between mb-4">
        <div class="p-2.5 bg-blue-50 rounded-lg">
          <svg class="h-6 w-6 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
            <path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"/>
          </svg>
        </div>
        <div class="text-right">
          <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold bg-blue-100 text-blue-800">
            +{{ stats.evolutionTotal }}%
          </span>
        </div>
      </div>
      <div>
        <p class="text-sm font-medium text-gray-500 uppercase tracking-wide mb-2">Total Signalements</p>
        <p class="text-2xl font-bold text-gray-900 mb-3">{{ stats.total | number }}</p>
        <div class="flex items-center text-sm text-gray-500">
          <svg class="h-4 w-4 mr-1.5 text-green-500" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
          </svg>
          <span>Évolution ce mois</span>
        </div>
      </div>
    </div>

    <!-- En Cours -->
    <div class="group bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md hover:border-amber-300 transition-all duration-300 transform hover:-translate-y-0.5">
      <div class="flex items-start justify-between mb-4">
        <div class="p-2.5 bg-amber-50 rounded-lg">
          <svg class="h-6 w-6 text-amber-600" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
          </svg>
        </div>
        <div class="text-right">
          <span class="text-xs font-semibold text-amber-700 bg-amber-50 px-2 py-1 rounded">{{ stats.avgCompletionTime }} jours</span>
        </div>
      </div>
      <div>
        <p class="text-sm font-medium text-gray-500 uppercase tracking-wide mb-2">En Cours</p>
        <p class="text-2xl font-bold text-gray-900 mb-3">{{ stats.enCours | number }}</p>
        <div class="w-full bg-gray-100 rounded-full h-1.5 mt-3">
          <div class="bg-gradient-to-r from-amber-500 to-amber-600 h-1.5 rounded-full transition-all duration-500" 
               [style.width.%]="(stats.enCours / stats.total) * 100"></div>
        </div>
        <div class="text-xs text-gray-500 mt-1.5 text-right">{{ (stats.enCours / stats.total * 100).toFixed(1) }}% du total</div>
      </div>
    </div>

    <!-- Terminés -->
    <div class="group bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md hover:border-emerald-300 transition-all duration-300 transform hover:-translate-y-0.5">
      <div class="flex items-start justify-between mb-4">
        <div class="p-2.5 bg-emerald-50 rounded-lg">
          <svg class="h-6 w-6 text-emerald-600" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
          </svg>
        </div>
        <div class="text-right">
          <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold bg-emerald-100 text-emerald-800">
            {{ (stats.termine / stats.total * 100).toFixed(1) }}%
          </span>
        </div>
      </div>
      <div>
        <p class="text-sm font-medium text-gray-500 uppercase tracking-wide mb-2">Terminés</p>
        <p class="text-2xl font-bold text-gray-900 mb-3">{{ stats.termine | number }}</p>
        <div class="flex items-center text-sm text-gray-500">
          <svg class="h-4 w-4 mr-1.5 text-emerald-500" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z" clip-rule="evenodd"/>
          </svg>
          <span>Taux d'achèvement</span>
        </div>
      </div>
    </div>

    <!-- Nouveaux -->
    <div class="group bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md hover:border-rose-300 transition-all duration-300 transform hover:-translate-y-0.5">
      <div class="flex items-start justify-between mb-4">
        <div class="p-2.5 bg-rose-50 rounded-lg">
          <svg class="h-6 w-6 text-rose-600" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z" clip-rule="evenodd"/>
          </svg>
        </div>
        <div class="text-right">
          <span class="text-xs font-semibold text-rose-700 bg-rose-50 px-2 py-1 rounded">{{ stats.nouveauLast24h }} dernières 24h</span>
        </div>
      </div>
      <div>
        <p class="text-sm font-medium text-gray-500 uppercase tracking-wide mb-2">Nouveaux</p>
        <p class="text-2xl font-bold text-gray-900 mb-3">{{ stats.nouveau | number }}</p>
        <div class="flex items-center text-sm text-gray-500">
          <svg class="h-4 w-4 mr-1.5 text-rose-500" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
          </svg>
          <span>À traiter rapidement</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Statistiques de délai de traitement -->
  <div class="grid grid-cols-1 xl:grid-cols-3 gap-8">
    <!-- Tableau de Récapitulation Actuel -->
    <div class="xl:col-span-2 bg-white p-8 rounded-xl shadow-sm border border-gray-200">
      <div class="flex items-center justify-between mb-8">
        <div>
          <h2 class="text-xl font-bold text-gray-900 tracking-tight">Récapitulation Globale</h2>
          <p class="text-gray-500 text-sm mt-1">Synthèse des indicateurs clés du projet routier</p>
        </div>
        <div class="p-2 bg-emerald-50 rounded-lg">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-emerald-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
          </svg>
        </div>
      </div>

      <div class="overflow-hidden rounded-xl border border-gray-100">
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th scope="col" class="px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-widest">Indicateur</th>
              <th scope="col" class="px-6 py-4 text-right text-xs font-bold text-gray-500 uppercase tracking-widest">Valeur</th>
              <th scope="col" class="px-6 py-4 text-center text-xs font-bold text-gray-500 uppercase tracking-widest">Progression</th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-100">
            <!-- Nb de points -->
            <tr class="hover:bg-gray-50/50 transition-colors">
              <td class="px-6 py-4 whitespace-nowrap">
                <div class="flex items-center">
                  <div class="w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center mr-3">
                    <svg class="w-4 h-4 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                  </div>
                  <span class="text-sm font-semibold text-gray-700">Nombre de points (Signalements)</span>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-right">
                <span class="text-sm font-bold text-gray-900">{{ recapData?.nb_points || 0 }} pts</span>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-center text-xs text-gray-400 italic">Localisations enregistrées</td>
            </tr>

            <!-- Total Surface -->
            <tr class="hover:bg-gray-50/50 transition-colors">
              <td class="px-6 py-4 whitespace-nowrap">
                <div class="flex items-center">
                  <div class="w-8 h-8 rounded-lg bg-amber-50 flex items-center justify-center mr-3">
                    <svg class="w-4 h-4 text-amber-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4" />
                    </svg>
                  </div>
                  <span class="text-sm font-semibold text-gray-700">Surface totale à traiter</span>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-right">
                <span class="text-sm font-bold text-gray-900">{{ recapData?.total_surface | number:'1.0-2' }} m²</span>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-center text-xs text-gray-400 italic">Étendue des travaux</td>
            </tr>

            <!-- Total Budget -->
            <tr class="hover:bg-gray-50/50 transition-colors">
              <td class="px-6 py-4 whitespace-nowrap">
                <div class="flex items-center">
                  <div class="w-8 h-8 rounded-lg bg-indigo-50 flex items-center justify-center mr-3">
                    <svg class="w-4 h-4 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <span class="text-sm font-semibold text-gray-700">Budget total estimé</span>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-right">
                <span class="text-sm font-bold text-gray-900 text-indigo-600">{{ recapData?.total_budget | currency:'Ar ':'symbol':'1.0-0' }}</span>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-center text-xs text-gray-400 italic">Investissement requis</td>
            </tr>

            <!-- Avancement % -->
            <tr class="hover:bg-gray-50/50 transition-colors">
              <td class="px-6 py-4 whitespace-nowrap">
                <div class="flex items-center">
                  <div class="w-8 h-8 rounded-lg bg-emerald-50 flex items-center justify-center mr-3">
                    <svg class="w-4 h-4 text-emerald-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                    </svg>
                  </div>
                  <span class="text-sm font-semibold text-gray-700">Avancement global</span>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-right">
                <span class="text-sm font-bold text-emerald-600">{{ recapData?.avancement_pourcentage || 0 }}%</span>
              </td>
              <td class="px-6 py-4 whitespace-nowrap">
                <div class="flex items-center justify-center">
                  <div class="w-24 bg-gray-100 rounded-full h-1.5">
                    <div class="h-1.5 rounded-full bg-emerald-500" 
                         [style.width.%]="recapData?.avancement_pourcentage || 0"></div>
                  </div>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Statistiques de délai de traitement -->
    <div class="bg-white p-8 rounded-xl shadow-sm border border-gray-200">
      <div class="flex items-center justify-between mb-8">
        <div>
          <h2 class="text-xl font-bold text-gray-900 tracking-tight">Délai Moyen</h2>
          <p class="text-gray-500 text-sm mt-1">Par statut (h)</p>
        </div>
        <div class="p-2 bg-blue-50 rounded-lg">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
        </div>
      </div>

      <div class="overflow-hidden rounded-xl border border-gray-100">
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th scope="col" class="px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase tracking-widest">Statut</th>
              <th scope="col" class="px-6 py-4 text-center text-xs font-bold text-gray-500 uppercase tracking-widest">Heures</th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-100">
            <tr *ngFor="let stat of avgTimeStats" class="hover:bg-blue-50/30 transition-colors">
              <td class="px-6 py-4 whitespace-nowrap">
                <div class="flex items-center">
                  <span class="w-2 h-2 rounded-full mr-2" 
                        [ngClass]="{
                          'bg-blue-500': stat.statut_nom === 'nouveau',
                          'bg-amber-500': stat.statut_nom === 'en cours',
                          'bg-emerald-500': stat.statut_nom === 'terminé'
                        }"></span>
                  <span class="text-xs font-semibold text-gray-900 capitalize">{{ stat.statut_nom }}</span>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-center">
                <span class="text-xs font-bold text-gray-900">{{ stat.avg_hours | number:'1.1-1' }}h</span>
              </td>
            </tr>
            <tr *ngIf="avgTimeStats.length === 0">
              <td colspan="2" class="px-6 py-4 text-center text-xs text-gray-500 italic">
                Aucune donnée
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Detailed Stats Grid -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
    <!-- Financials Card - Barres de progression améliorées -->
    <div class="group bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all duration-300">
      <div class="flex items-center justify-between mb-8">
        <h3 class="text-lg font-semibold text-gray-900 flex items-center">
          <svg class="h-5 w-5 mr-2.5 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
            <path d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"/>
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z" clip-rule="evenodd"/>
          </svg>
          Budget et Ressources
        </h3>
        <span class="text-sm font-medium text-gray-500">Aperçu</span>
      </div>
      
      <div class="space-y-8">
        <!-- Budget Progress -->
        <div class="space-y-4">
          <div class="flex justify-between items-center">
            <div>
              <span class="text-sm font-semibold text-gray-800">Budget Total Estimé</span>
              <p class="text-xs text-gray-500 mt-0.5">Allocation financière projet</p>
            </div>
            <span class="text-lg font-bold text-gray-900">{{ stats.totalBudget | currency:'Ar ':'symbol':'1.0-0' }}</span>
          </div>
          <div class="relative pt-1">
            <div class="flex justify-between text-sm font-medium text-gray-700 mb-2">
              <span>Utilisation</span>
              <span class="font-semibold">{{ (stats.usedBudget / stats.totalBudget * 100).toFixed(1) }}%</span>
            </div>
            <div class="w-full bg-gray-100 rounded-full h-2.5 overflow-hidden">
              <div class="h-2.5 rounded-full bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-600 transition-all duration-700 ease-out" 
                   [style.width.%]="(stats.usedBudget / stats.totalBudget * 100)"></div>
            </div>
            <div class="flex justify-between text-xs text-gray-500 mt-2">
              <span>0 Ar</span>
              <span class="font-medium">{{ stats.usedBudget | currency:'Ar ':'symbol':'1.0-0' }}</span>
            </div>
          </div>
        </div>

        <!-- Surface Progress -->
        <div class="space-y-4">
          <div class="flex justify-between items-center">
            <div>
              <span class="text-sm font-semibold text-gray-800">Surface Totale à Réparer</span>
              <p class="text-xs text-gray-500 mt-0.5">Zone couverte par les travaux</p>
            </div>
            <span class="text-lg font-bold text-gray-900">{{ stats.totalSurface | number }} m²</span>
          </div>
          <div class="relative pt-1">
            <div class="flex justify-between text-sm font-medium text-gray-700 mb-2">
              <span>Progression</span>
              <span class="font-semibold">{{ (stats.completedSurface / stats.totalSurface * 100).toFixed(1) }}%</span>
            </div>
            <div class="w-full bg-gray-100 rounded-full h-2.5 overflow-hidden">
              <div class="h-2.5 rounded-full bg-gradient-to-r from-emerald-400 via-emerald-500 to-emerald-600 transition-all duration-700 ease-out" 
                   [style.width.%]="(stats.completedSurface / stats.totalSurface * 100)"></div>
            </div>
            <div class="flex justify-between text-xs text-gray-500 mt-2">
              <span>0 m²</span>
              <span class="font-medium">{{ stats.completedSurface | number }} m²</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Status Breakdown Card - Lisibilité améliorée -->
    <div class="group bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all duration-300">
      <div class="flex items-center justify-between mb-8">
        <h3 class="text-lg font-semibold text-gray-900 flex items-center">
          <svg class="h-5 w-5 mr-2.5 text-indigo-600" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"/>
          </svg>
          État des Travaux
        </h3>
        <span class="text-sm font-medium text-gray-500">Répartition</span>
      </div>
      
      <div class="space-y-5">
        <!-- Status Item - Nouveaux -->
        <div class="group/item flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-blue-25 hover:from-blue-100 hover:to-blue-50 rounded-lg transition-all duration-300 hover:shadow-sm border border-blue-100 hover:border-blue-200 cursor-pointer">
          <div class="flex items-center">
            <div class="relative mr-3">
              <div class="w-3 h-3 bg-blue-500 rounded-full"></div>
              <div class="absolute inset-0 w-3 h-3 bg-blue-400 rounded-full opacity-75 animate-ping"></div>
            </div>
            <div>
              <span class="font-semibold text-gray-800 block">Nouveaux Signalements</span>
              <p class="text-xs text-gray-500 mt-0.5">À examiner en priorité</p>
            </div>
          </div>
          <div class="text-right">
            <span class="text-xl font-bold text-gray-900 block">{{ stats.nouveau }}</span>
            <p class="text-xs text-gray-500 mt-0.5">{{ stats.nouveauLast24h }} dernière journée</p>
          </div>
        </div>

        <!-- Status Item - En Cours -->
        <div class="group/item flex items-center justify-between p-4 bg-gradient-to-r from-amber-50 to-amber-25 hover:from-amber-100 hover:to-amber-50 rounded-lg transition-all duration-300 hover:shadow-sm border border-amber-100 hover:border-amber-200 cursor-pointer">
          <div class="flex items-center">
            <div class="w-3 h-3 bg-amber-500 rounded-full mr-3"></div>
            <div>
              <span class="font-semibold text-gray-800 block">En Cours de Réparation</span>
              <p class="text-xs text-gray-500 mt-0.5">Actuellement en intervention</p>
            </div>
          </div>
          <div class="text-right">
            <span class="text-xl font-bold text-gray-900 block">{{ stats.enCours }}</span>
            <p class="text-xs text-gray-500 mt-0.5">Moyenne: {{ stats.avgCompletionTime }} jours</p>
          </div>
        </div>

        <!-- Status Item - Terminés -->
        <div class="group/item flex items-center justify-between p-4 bg-gradient-to-r from-emerald-50 to-emerald-25 hover:from-emerald-100 hover:to-emerald-50 rounded-lg transition-all duration-300 hover:shadow-sm border border-emerald-100 hover:border-emerald-200 cursor-pointer">
          <div class="flex items-center">
            <div class="w-3 h-3 bg-emerald-500 rounded-full mr-3"></div>
            <div>
              <span class="font-semibold text-gray-800 block">Travaux Terminés</span>
              <p class="text-xs text-gray-500 mt-0.5">Validés et clôturés</p>
            </div>
          </div>
          <div class="text-right">
            <span class="text-xl font-bold text-gray-900 block">{{ stats.termine }}</span>
            <p class="text-xs text-gray-500 mt-0.5">{{ (stats.termine / stats.total * 100).toFixed(1) }}% du total</p>
          </div>
        </div>

        <!-- Status Summary -->
        <div class="mt-8 pt-6 border-t border-gray-200">
          <div class="flex items-center justify-between mb-3">
            <div class="text-sm font-semibold text-gray-800">Taux d'achèvement global</div>
            <div class="text-right">
              <div class="text-2xl font-bold text-gray-900">
                {{ ((stats.termine + stats.enCours * 0.5) / stats.total * 100).toFixed(1) }}%
              </div>
              <div class="text-xs text-gray-500">Progression totale</div>
            </div>
          </div>
          <div class="w-full bg-gray-100 rounded-full h-2.5 overflow-hidden">
            <div class="h-2.5 rounded-full bg-gradient-to-r from-blue-400 via-indigo-500 to-purple-600 transition-all duration-1000 ease-out" 
                 [style.width.%]="((stats.termine + stats.enCours * 0.5) / stats.total * 100)"></div>
          </div>
          <div class="flex justify-between text-xs text-gray-500 mt-2">
            <span>0%</span>
            <span>100%</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- CSS Animations améliorées -->
<style>
.animate-fade-in {
  animation: fadeIn 0.8s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.group:hover {
  transform: translateY(-2px);
}

.group\/item:hover {
  transform: translateX(4px);
}

/* Animations subtiles pour les survols */
.group:hover .group-hover\:shadow-md {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.group\/item:hover .group-hover\/item:shadow-sm {
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
}

/* Animation pour les barres de progression */
@keyframes progressFill {
  from {
    width: 0;
  }
  to {
    width: var(--progress-width);
  }
}

/* Classes utilitaires pour les dégradés */
.from-blue-25 {
  --tw-gradient-from: #eff6ff;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(239, 246, 255, 0));
}

.from-amber-25 {
  --tw-gradient-from: #fffbeb;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(255, 251, 235, 0));
}

.from-emerald-25 {
  --tw-gradient-from: #ecfdf5;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(236, 253, 245, 0));
}

.to-blue-25 {
  --tw-gradient-to: #eff6ff;
}

.to-amber-25 {
  --tw-gradient-to: #fffbeb;
}

.to-emerald-25 {
  --tw-gradient-to: #ecfdf5;
}
</style>